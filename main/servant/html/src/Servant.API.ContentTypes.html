<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE ConstraintKinds       #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DataKinds             #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DeriveDataTypeable    #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric         #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts      #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances     #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings     #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE PolyKinds             #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables   #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE TupleSections         #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies          #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators         #-}</span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances  #-}</span><span>
</span><span id="line-15"></span><span class="hs-pragma">{-# OPTIONS_HADDOCK not-home       #-}</span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span class="hs-comment">-- | A collection of basic Content-Types (also known as Internet Media</span><span>
</span><span id="line-18"></span><span class="hs-comment">-- Types, or MIME types). Additionally, this module provides classes that</span><span>
</span><span id="line-19"></span><span class="hs-comment">-- encapsulate how to serialize or deserialize values to or from</span><span>
</span><span id="line-20"></span><span class="hs-comment">-- a particular Content-Type.</span><span>
</span><span id="line-21"></span><span class="hs-comment">--</span><span>
</span><span id="line-22"></span><span class="hs-comment">-- Content-Types are used in `ReqBody` and the method combinators:</span><span>
</span><span id="line-23"></span><span class="hs-comment">--</span><span>
</span><span id="line-24"></span><span class="hs-comment">-- &gt;&gt;&gt; type MyEndpoint = ReqBody '[JSON, PlainText] Book :&gt; Put '[JSON, PlainText] Book</span><span>
</span><span id="line-25"></span><span class="hs-comment">--</span><span>
</span><span id="line-26"></span><span class="hs-comment">-- Meaning the endpoint accepts requests of Content-Type @application/json@</span><span>
</span><span id="line-27"></span><span class="hs-comment">-- or @text/plain;charset-utf8@, and returns data in either one of those</span><span>
</span><span id="line-28"></span><span class="hs-comment">-- formats (depending on the @Accept@ header).</span><span>
</span><span id="line-29"></span><span class="hs-comment">--</span><span>
</span><span id="line-30"></span><span class="hs-comment">-- If you would like to support Content-Types beyond those provided here,</span><span>
</span><span id="line-31"></span><span class="hs-comment">-- then:</span><span>
</span><span id="line-32"></span><span class="hs-comment">--</span><span>
</span><span id="line-33"></span><span class="hs-comment">--      (1) Declare a new data type with no constructors (e.g. @data HTML@).</span><span>
</span><span id="line-34"></span><span class="hs-comment">--      (2) Make an instance of it for `Accept`.</span><span>
</span><span id="line-35"></span><span class="hs-comment">--      (3) If you want to be able to serialize data *into* that</span><span>
</span><span id="line-36"></span><span class="hs-comment">--      Content-Type, make an instance of it for `MimeRender`.</span><span>
</span><span id="line-37"></span><span class="hs-comment">--      (4) If you want to be able to deserialize data *from* that</span><span>
</span><span id="line-38"></span><span class="hs-comment">--      Content-Type, make an instance of it for `MimeUnrender`.</span><span>
</span><span id="line-39"></span><span class="hs-comment">--</span><span>
</span><span id="line-40"></span><span class="hs-comment">-- Note that roles are reversed in @servant-server@ and @servant-client@:</span><span>
</span><span id="line-41"></span><span class="hs-comment">-- to be able to serve (or even typecheck) a @Get '[JSON, XML] MyData@,</span><span>
</span><span id="line-42"></span><span class="hs-comment">-- you'll need to have the appropriate `MimeRender` instances in scope,</span><span>
</span><span id="line-43"></span><span class="hs-comment">-- whereas to query that endpoint with @servant-client@, you'll need</span><span>
</span><span id="line-44"></span><span class="hs-comment">-- a `MimeUnrender` instance in scope.</span><span>
</span><span id="line-45"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Servant.API.ContentTypes</span><span>
</span><span id="line-46"></span><span>    </span><span class="hs-special">(</span><span>
</span><span id="line-47"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Provided Content-Types</span></span><span>
</span><span id="line-48"></span><span>      </span><span class="annot"><a href="Servant.API.ContentTypes.html#JSON"><span class="hs-identifier">JSON</span></a></span><span>
</span><span id="line-49"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#PlainText"><span class="hs-identifier">PlainText</span></a></span><span>
</span><span id="line-50"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#FormUrlEncoded"><span class="hs-identifier">FormUrlEncoded</span></a></span><span>
</span><span id="line-51"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#OctetStream"><span class="hs-identifier">OctetStream</span></a></span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Building your own Content-Type</span></span><span>
</span><span id="line-54"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#Accept"><span class="hs-identifier">Accept</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#MimeRender"><span class="hs-identifier">MimeRender</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#MimeUnrender"><span class="hs-identifier">MimeUnrender</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span>    </span><span class="annot"><span class="hs-comment">-- * NoContent</span></span><span>
</span><span id="line-59"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#NoContent"><span class="hs-identifier">NoContent</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Internal</span></span><span>
</span><span id="line-62"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#AcceptHeader"><span class="hs-identifier">AcceptHeader</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#AllCTRender"><span class="hs-identifier">AllCTRender</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-64"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#AllCTUnrender"><span class="hs-identifier">AllCTUnrender</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#AllMime"><span class="hs-identifier">AllMime</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#AllMimeRender"><span class="hs-identifier">AllMimeRender</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-67"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#AllMimeUnrender"><span class="hs-identifier">AllMimeUnrender</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#eitherDecodeLenient"><span class="hs-identifier">eitherDecodeLenient</span></a></span><span>
</span><span id="line-69"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#canHandleAcceptH"><span class="hs-identifier">canHandleAcceptH</span></a></span><span>
</span><span id="line-70"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Arrow</span></a></span><span>
</span><span id="line-73"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">left</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../base-compat-batteries/html/src"><span class="hs-identifier">Control.Monad.Compat</span></a></span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/deepseq-1.4.4.0/src"><span class="hs-identifier">Control.DeepSeq</span></a></span><span>
</span><span id="line-76"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/deepseq-1.4.4.0/src"><span class="hs-identifier">NFData</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier">Data.Aeson</span></a></span><span>
</span><span id="line-78"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier">FromJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier">ToJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier">encode</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier">Data.Aeson.Parser</span></a></span><span>
</span><span id="line-80"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier">value</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier">Data.Aeson.Types</span></a></span><span>
</span><span id="line-82"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier">parseEither</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../attoparsec/html/src"><span class="hs-identifier">Data.Attoparsec.ByteString.Char8</span></a></span><span>
</span><span id="line-84"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><a href="../../../../attoparsec/html/src"><span class="hs-identifier">endOfInput</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../attoparsec/html/src"><span class="hs-identifier">parseOnly</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../attoparsec/html/src"><span class="hs-identifier">skipSpace</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../attoparsec/html/src"><span class="hs-operator">(&lt;?&gt;)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">Data.ByteString</span></a></span><span>                  </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BS</span></span><span>
</span><span id="line-86"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">Data.ByteString.Lazy</span></a></span><span>
</span><span id="line-87"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">ByteString</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">fromStrict</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">toStrict</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">Data.ByteString.Lazy.Char8</span></a></span><span>       </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BC</span></span><span>
</span><span id="line-89"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.List.NonEmpty</span></a></span><span>               </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">NE</span></span><span>
</span><span id="line-90"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Maybe</span></a></span><span>
</span><span id="line-91"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">isJust</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../string-conversions/html/src"><span class="hs-identifier">Data.String.Conversions</span></a></span><span>
</span><span id="line-93"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><a href="../../../../string-conversions/html/src"><span class="hs-identifier">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Data.Text</span></a></span><span>                        </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TextS</span></span><span>
</span><span id="line-95"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Data.Text.Encoding</span></a></span><span>               </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TextS</span></span><span>
</span><span id="line-96"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Data.Text.Lazy</span></a></span><span>                   </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TextL</span></span><span>
</span><span id="line-97"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Data.Text.Lazy.Encoding</span></a></span><span>          </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TextL</span></span><span>
</span><span id="line-98"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Typeable</span></a></span><span>
</span><span id="line-99"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">GHC.Generics</span></a></span><span>
</span><span id="line-100"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">GHC.TypeLits</span></a></span><span>                     </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TL</span></span><span>
</span><span id="line-102"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../http-media/html/src"><span class="hs-identifier">Network.HTTP.Media</span></a></span><span>               </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span>
</span><span id="line-103"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Prelude</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../base-compat-batteries/html/src"><span class="hs-identifier">Prelude.Compat</span></a></span><span>
</span><span id="line-105"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../http-api-data/html/src"><span class="hs-identifier">Web.FormUrlEncoded</span></a></span><span>
</span><span id="line-106"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><a href="../../../../http-api-data/html/src"><span class="hs-identifier">FromForm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../http-api-data/html/src"><span class="hs-identifier">ToForm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../http-api-data/html/src"><span class="hs-identifier">urlDecodeAsForm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../http-api-data/html/src"><span class="hs-identifier">urlEncodeAsForm</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span class="hs-comment">-- * Provided content types</span><span>
</span><span id="line-109"></span><span class="hs-keyword">data</span><span> </span><span id="JSON"><span class="annot"><a href="Servant.API.ContentTypes.html#JSON"><span class="hs-identifier hs-var">JSON</span></a></span></span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span>
</span><span id="line-110"></span><span class="hs-keyword">data</span><span> </span><span id="PlainText"><span class="annot"><a href="Servant.API.ContentTypes.html#PlainText"><span class="hs-identifier hs-var">PlainText</span></a></span></span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span>
</span><span id="line-111"></span><span class="hs-keyword">data</span><span> </span><span id="FormUrlEncoded"><span class="annot"><a href="Servant.API.ContentTypes.html#FormUrlEncoded"><span class="hs-identifier hs-var">FormUrlEncoded</span></a></span></span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span>
</span><span id="line-112"></span><span class="hs-keyword">data</span><span> </span><span id="OctetStream"><span class="annot"><a href="Servant.API.ContentTypes.html#OctetStream"><span class="hs-identifier hs-var">OctetStream</span></a></span></span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span class="hs-comment">-- * Accept class</span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span class="hs-comment">-- | Instances of 'Accept' represent mimetypes. They are used for matching</span><span>
</span><span id="line-117"></span><span class="hs-comment">-- against the @Accept@ HTTP header of the request, and for setting the</span><span>
</span><span id="line-118"></span><span class="hs-comment">-- @Content-Type@ header of the response</span><span>
</span><span id="line-119"></span><span class="hs-comment">--</span><span>
</span><span id="line-120"></span><span class="hs-comment">-- Example:</span><span>
</span><span id="line-121"></span><span class="hs-comment">--</span><span>
</span><span id="line-122"></span><span class="hs-comment">-- &gt;&gt;&gt; import Network.HTTP.Media ((//), (/:))</span><span>
</span><span id="line-123"></span><span class="hs-comment">-- &gt;&gt;&gt; data HTML</span><span>
</span><span id="line-124"></span><span class="hs-comment">-- &gt;&gt;&gt; :{</span><span>
</span><span id="line-125"></span><span class="hs-comment">--instance Accept HTML where</span><span>
</span><span id="line-126"></span><span class="hs-comment">--    contentType _ = &quot;text&quot; // &quot;html&quot; /: (&quot;charset&quot;, &quot;utf-8&quot;)</span><span>
</span><span id="line-127"></span><span class="hs-comment">-- :}</span><span>
</span><span id="line-128"></span><span class="hs-comment">--</span><span>
</span><span id="line-129"></span><span class="hs-keyword">class</span><span> </span><span id="Accept"><span class="annot"><a href="Servant.API.ContentTypes.html#Accept"><span class="hs-identifier hs-var">Accept</span></a></span></span><span> </span><span id="local-6989586621679109326"><span class="annot"><a href="#local-6989586621679109326"><span class="hs-identifier hs-type">ctype</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-130"></span><span>    </span><span id="contentType"><span class="annot"><a href="Servant.API.ContentTypes.html#contentType"><span class="hs-identifier hs-type">contentType</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109326"><span class="hs-identifier hs-type">ctype</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../http-media/html/src"><span class="hs-identifier hs-type">M.MediaType</span></a></span><span>
</span><span id="line-131"></span><span>    </span><span id="local-6989586621679109159"><span class="annot"><a href="Servant.API.ContentTypes.html#contentType"><span class="hs-identifier hs-var hs-var">contentType</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NonEmpty MediaType -&gt; MediaType
forall a. NonEmpty a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">NE.head</span></a></span><span> </span><span class="annot"><span class="annottext">(NonEmpty MediaType -&gt; MediaType)
-&gt; (Proxy ctype -&gt; NonEmpty MediaType) -&gt; Proxy ctype -&gt; MediaType
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy ctype -&gt; NonEmpty MediaType
forall k (ctype :: k).
Accept ctype =&gt;
Proxy ctype -&gt; NonEmpty MediaType
</span><a href="Servant.API.ContentTypes.html#contentTypes"><span class="hs-identifier hs-var">contentTypes</span></a></span></span><span>
</span><span id="line-132"></span><span>
</span><span id="line-133"></span><span>    </span><span id="contentTypes"><span class="annot"><a href="Servant.API.ContentTypes.html#contentTypes"><span class="hs-identifier hs-type">contentTypes</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109326"><span class="hs-identifier hs-type">ctype</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">NE.NonEmpty</span></a></span><span> </span><span class="annot"><a href="../../../../http-media/html/src"><span class="hs-identifier hs-type">M.MediaType</span></a></span><span>
</span><span id="line-134"></span><span>    </span><span id="local-6989586621679109155"><span class="annot"><a href="Servant.API.ContentTypes.html#contentTypes"><span class="hs-identifier hs-var hs-var">contentTypes</span></a></span><span>  </span><span class="hs-glyph">=</span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MediaType -&gt; [MediaType] -&gt; NonEmpty MediaType
forall a. a -&gt; [a] -&gt; NonEmpty a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">NE.:|</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(MediaType -&gt; NonEmpty MediaType)
-&gt; (Proxy ctype -&gt; MediaType) -&gt; Proxy ctype -&gt; NonEmpty MediaType
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy ctype -&gt; MediaType
forall k (ctype :: k). Accept ctype =&gt; Proxy ctype -&gt; MediaType
</span><a href="Servant.API.ContentTypes.html#contentType"><span class="hs-identifier hs-var">contentType</span></a></span></span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span>    </span><span class="hs-pragma">{-# MINIMAL</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#contentType"><span class="hs-pragma hs-type">contentType</span></a></span><span> </span><span class="hs-pragma">|</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#contentTypes"><span class="hs-pragma hs-type">contentTypes</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span class="hs-comment">-- | @application/json@</span><span>
</span><span id="line-139"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679109152"><span class="annot"><a href="Servant.API.ContentTypes.html#Accept"><span class="hs-identifier hs-type">Accept</span></a></span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#JSON"><span class="hs-identifier hs-type">JSON</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-140"></span><span>    </span><span id="local-6989586621679109149"><span class="annot"><span class="annottext">contentTypes :: Proxy JSON -&gt; NonEmpty MediaType
</span><a href="#local-6989586621679109149"><span class="hs-identifier hs-var hs-var hs-var hs-var">contentTypes</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy JSON
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-141"></span><span>      </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;application&quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; MediaType
</span><a href="../../../../http-media/html/src"><span class="hs-operator hs-var">M.//</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;json&quot;</span></span><span> </span><span class="annot"><span class="annottext">MediaType -&gt; (ByteString, ByteString) -&gt; MediaType
</span><a href="../../../../http-media/html/src"><span class="hs-operator hs-var">M./:</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;charset&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;utf-8&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">MediaType -&gt; [MediaType] -&gt; NonEmpty MediaType
forall a. a -&gt; [a] -&gt; NonEmpty a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">NE.:|</span></a></span><span>
</span><span id="line-142"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;application&quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; MediaType
</span><a href="../../../../http-media/html/src"><span class="hs-operator hs-var">M.//</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;json&quot;</span></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-143"></span><span>
</span><span id="line-144"></span><span class="hs-comment">-- | @application/x-www-form-urlencoded@</span><span>
</span><span id="line-145"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679109144"><span class="annot"><a href="Servant.API.ContentTypes.html#Accept"><span class="hs-identifier hs-type">Accept</span></a></span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#FormUrlEncoded"><span class="hs-identifier hs-type">FormUrlEncoded</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-146"></span><span>    </span><span id="local-6989586621679109143"><span class="annot"><span class="annottext">contentType :: Proxy FormUrlEncoded -&gt; MediaType
</span><a href="#local-6989586621679109143"><span class="hs-identifier hs-var hs-var hs-var hs-var">contentType</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy FormUrlEncoded
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;application&quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; MediaType
</span><a href="../../../../http-media/html/src"><span class="hs-operator hs-var">M.//</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;x-www-form-urlencoded&quot;</span></span><span>
</span><span id="line-147"></span><span>
</span><span id="line-148"></span><span class="hs-comment">-- | @text/plain;charset=utf-8@</span><span>
</span><span id="line-149"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679109140"><span class="annot"><a href="Servant.API.ContentTypes.html#Accept"><span class="hs-identifier hs-type">Accept</span></a></span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#PlainText"><span class="hs-identifier hs-type">PlainText</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-150"></span><span>    </span><span id="local-6989586621679109139"><span class="annot"><span class="annottext">contentType :: Proxy PlainText -&gt; MediaType
</span><a href="#local-6989586621679109139"><span class="hs-identifier hs-var hs-var hs-var hs-var">contentType</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy PlainText
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;text&quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; MediaType
</span><a href="../../../../http-media/html/src"><span class="hs-operator hs-var">M.//</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;plain&quot;</span></span><span> </span><span class="annot"><span class="annottext">MediaType -&gt; (ByteString, ByteString) -&gt; MediaType
</span><a href="../../../../http-media/html/src"><span class="hs-operator hs-var">M./:</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;charset&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;utf-8&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-151"></span><span>
</span><span id="line-152"></span><span class="hs-comment">-- | @application/octet-stream@</span><span>
</span><span id="line-153"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679109136"><span class="annot"><a href="Servant.API.ContentTypes.html#Accept"><span class="hs-identifier hs-type">Accept</span></a></span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#OctetStream"><span class="hs-identifier hs-type">OctetStream</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-154"></span><span>    </span><span id="local-6989586621679109135"><span class="annot"><span class="annottext">contentType :: Proxy OctetStream -&gt; MediaType
</span><a href="#local-6989586621679109135"><span class="hs-identifier hs-var hs-var hs-var hs-var">contentType</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy OctetStream
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;application&quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; MediaType
</span><a href="../../../../http-media/html/src"><span class="hs-operator hs-var">M.//</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;octet-stream&quot;</span></span><span>
</span><span id="line-155"></span><span>
</span><span id="line-156"></span><span id="local-6989586621679109133"><span id="local-6989586621679109134"></span></span><span class="hs-keyword">newtype</span><span> </span><span id="AcceptHeader"><span class="annot"><a href="Servant.API.ContentTypes.html#AcceptHeader"><span class="hs-identifier hs-var">AcceptHeader</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="AcceptHeader"><span class="annot"><a href="Servant.API.ContentTypes.html#AcceptHeader"><span class="hs-identifier hs-var">AcceptHeader</span></a></span></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">BS.ByteString</span></a></span><span>
</span><span id="line-157"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679109128"><span id="local-6989586621679109130"><span class="annot"><span class="annottext">AcceptHeader -&gt; AcceptHeader -&gt; Bool
(AcceptHeader -&gt; AcceptHeader -&gt; Bool)
-&gt; (AcceptHeader -&gt; AcceptHeader -&gt; Bool) -&gt; Eq AcceptHeader
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: AcceptHeader -&gt; AcceptHeader -&gt; Bool
$c/= :: AcceptHeader -&gt; AcceptHeader -&gt; Bool
== :: AcceptHeader -&gt; AcceptHeader -&gt; Bool
$c== :: AcceptHeader -&gt; AcceptHeader -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679109121"><span id="local-6989586621679109123"><span id="local-6989586621679109125"><span class="annot"><span class="annottext">Int -&gt; AcceptHeader -&gt; ShowS
[AcceptHeader] -&gt; ShowS
AcceptHeader -&gt; String
(Int -&gt; AcceptHeader -&gt; ShowS)
-&gt; (AcceptHeader -&gt; String)
-&gt; ([AcceptHeader] -&gt; ShowS)
-&gt; Show AcceptHeader
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [AcceptHeader] -&gt; ShowS
$cshowList :: [AcceptHeader] -&gt; ShowS
show :: AcceptHeader -&gt; String
$cshow :: AcceptHeader -&gt; String
showsPrec :: Int -&gt; AcceptHeader -&gt; ShowS
$cshowsPrec :: Int -&gt; AcceptHeader -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679109112"><span id="local-6989586621679109114"><span id="local-6989586621679109116"><span id="local-6989586621679109118"><span class="annot"><span class="annottext">ReadPrec [AcceptHeader]
ReadPrec AcceptHeader
Int -&gt; ReadS AcceptHeader
ReadS [AcceptHeader]
(Int -&gt; ReadS AcceptHeader)
-&gt; ReadS [AcceptHeader]
-&gt; ReadPrec AcceptHeader
-&gt; ReadPrec [AcceptHeader]
-&gt; Read AcceptHeader
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [AcceptHeader]
$creadListPrec :: ReadPrec [AcceptHeader]
readPrec :: ReadPrec AcceptHeader
$creadPrec :: ReadPrec AcceptHeader
readList :: ReadS [AcceptHeader]
$creadList :: ReadS [AcceptHeader]
readsPrec :: Int -&gt; ReadS AcceptHeader
$creadsPrec :: Int -&gt; ReadS AcceptHeader
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. AcceptHeader -&gt; Rep AcceptHeader x)
-&gt; (forall x. Rep AcceptHeader x -&gt; AcceptHeader)
-&gt; Generic AcceptHeader
forall x. Rep AcceptHeader x -&gt; AcceptHeader
forall x. AcceptHeader -&gt; Rep AcceptHeader x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep AcceptHeader x -&gt; AcceptHeader
$cfrom :: forall x. AcceptHeader -&gt; Rep AcceptHeader x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span class="hs-comment">-- * Render (serializing)</span><span>
</span><span id="line-160"></span><span>
</span><span id="line-161"></span><span class="hs-comment">-- | Instantiate this class to register a way of serializing a type based</span><span>
</span><span id="line-162"></span><span class="hs-comment">-- on the @Accept@ header.</span><span>
</span><span id="line-163"></span><span class="hs-comment">--</span><span>
</span><span id="line-164"></span><span class="hs-comment">-- Example:</span><span>
</span><span id="line-165"></span><span class="hs-comment">--</span><span>
</span><span id="line-166"></span><span class="hs-comment">-- &gt; data MyContentType</span><span>
</span><span id="line-167"></span><span class="hs-comment">-- &gt;</span><span>
</span><span id="line-168"></span><span class="hs-comment">-- &gt; instance Accept MyContentType where</span><span>
</span><span id="line-169"></span><span class="hs-comment">-- &gt;    contentType _ = &quot;example&quot; // &quot;prs.me.mine&quot; /: (&quot;charset&quot;, &quot;utf-8&quot;)</span><span>
</span><span id="line-170"></span><span class="hs-comment">-- &gt;</span><span>
</span><span id="line-171"></span><span class="hs-comment">-- &gt; instance Show a =&gt; MimeRender MyContentType a where</span><span>
</span><span id="line-172"></span><span class="hs-comment">-- &gt;    mimeRender _ val = pack (&quot;This is MINE! &quot; ++ show val)</span><span>
</span><span id="line-173"></span><span class="hs-comment">-- &gt;</span><span>
</span><span id="line-174"></span><span class="hs-comment">-- &gt; type MyAPI = &quot;path&quot; :&gt; Get '[MyContentType] Int</span><span>
</span><span id="line-175"></span><span class="hs-comment">--</span><span>
</span><span id="line-176"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#Accept"><span class="hs-identifier hs-type">Accept</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109242"><span class="hs-identifier hs-type">ctype</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="MimeRender"><span class="annot"><a href="Servant.API.ContentTypes.html#MimeRender"><span class="hs-identifier hs-var">MimeRender</span></a></span></span><span> </span><span id="local-6989586621679109242"><span class="annot"><a href="#local-6989586621679109242"><span class="hs-identifier hs-type">ctype</span></a></span></span><span> </span><span id="local-6989586621679109241"><span class="annot"><a href="#local-6989586621679109241"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-177"></span><span>    </span><span id="mimeRender"><span class="annot"><a href="Servant.API.ContentTypes.html#mimeRender"><span class="hs-identifier hs-type">mimeRender</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109242"><span class="hs-identifier hs-type">ctype</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679109241"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Servant.API.ContentTypes.html#AllMime"><span class="hs-identifier hs-type">AllMime</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109291"><span class="hs-identifier hs-type">list</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="AllCTRender"><span class="annot"><a href="Servant.API.ContentTypes.html#AllCTRender"><span class="hs-identifier hs-var">AllCTRender</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679109291"><span class="annot"><a href="#local-6989586621679109291"><span class="hs-identifier hs-type">list</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679109290"><span class="annot"><a href="#local-6989586621679109290"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-180"></span><span>    </span><span class="hs-comment">-- If the Accept header can be matched, returns (Just) a tuple of the</span><span>
</span><span id="line-181"></span><span>    </span><span class="hs-comment">-- Content-Type and response (serialization of @a@ into the appropriate</span><span>
</span><span id="line-182"></span><span>    </span><span class="hs-comment">-- mimetype).</span><span>
</span><span id="line-183"></span><span>    </span><span id="handleAcceptH"><span class="annot"><a href="Servant.API.ContentTypes.html#handleAcceptH"><span class="hs-identifier hs-type">handleAcceptH</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109291"><span class="hs-identifier hs-type">list</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#AcceptHeader"><span class="hs-identifier hs-type">AcceptHeader</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679109290"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span id="local-6989586621679109103"><span id="local-6989586621679109104"><span id="local-6989586621679109105"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-186"></span><span>         </span><span class="hs-special">(</span><span class="annot"><a href="Servant.API.ContentTypes.html#Accept"><span class="hs-identifier hs-type">Accept</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109105"><span class="hs-identifier hs-type">ct</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#AllMime"><span class="hs-identifier hs-type">AllMime</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109104"><span class="hs-identifier hs-type">cts</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#AllMimeRender"><span class="hs-identifier hs-type">AllMimeRender</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679109105"><span class="hs-identifier hs-type">ct</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679109104"><span class="hs-identifier hs-type">cts</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679109103"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#AllCTRender"><span class="hs-identifier hs-type">AllCTRender</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679109105"><span class="hs-identifier hs-type">ct</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679109104"><span class="hs-identifier hs-type">cts</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679109103"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-187"></span><span>    </span><span id="local-6989586621679109099"><span class="annot"><span class="annottext">handleAcceptH :: Proxy (ct : cts)
-&gt; AcceptHeader -&gt; a -&gt; Maybe (ByteString, ByteString)
</span><a href="#local-6989586621679109099"><span class="hs-identifier hs-var hs-var hs-var hs-var">handleAcceptH</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy (ct : cts)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Servant.API.ContentTypes.html#AcceptHeader"><span class="hs-identifier hs-type">AcceptHeader</span></a></span><span> </span><span id="local-6989586621679109098"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679109098"><span class="hs-identifier hs-var">accept</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679109097"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679109097"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(MediaType, (ByteString, ByteString))]
-&gt; ByteString -&gt; Maybe (ByteString, ByteString)
forall b. [(MediaType, b)] -&gt; ByteString -&gt; Maybe b
</span><a href="../../../../http-media/html/src"><span class="hs-identifier hs-var">M.mapAcceptMedia</span></a></span><span> </span><span class="annot"><span class="annottext">[(MediaType, (ByteString, ByteString))]
</span><a href="#local-6989586621679109095"><span class="hs-identifier hs-var">lkup</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679109098"><span class="hs-identifier hs-var">accept</span></a></span><span>
</span><span id="line-188"></span><span>      </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679109094"><span class="annot"><span class="annottext">pctyps :: Proxy (ct : cts)
</span><a href="#local-6989586621679109094"><span class="hs-identifier hs-var hs-var">pctyps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy (ct : cts)
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679109105"><span class="hs-identifier hs-type">ct</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679109104"><span class="hs-identifier hs-type">cts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span>            </span><span id="local-6989586621679109092"><span class="annot"><span class="annottext">amrs :: [(MediaType, ByteString)]
</span><a href="#local-6989586621679109092"><span class="hs-identifier hs-var hs-var">amrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy (ct : cts) -&gt; a -&gt; [(MediaType, ByteString)]
forall (list :: [*]) a.
AllMimeRender list a =&gt;
Proxy list -&gt; a -&gt; [(MediaType, ByteString)]
</span><a href="Servant.API.ContentTypes.html#allMimeRender"><span class="hs-identifier hs-var">allMimeRender</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy (ct : cts)
</span><a href="#local-6989586621679109094"><span class="hs-identifier hs-var">pctyps</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679109097"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-190"></span><span>            </span><span id="local-6989586621679109095"><span class="annot"><span class="annottext">lkup :: [(MediaType, (ByteString, ByteString))]
</span><a href="#local-6989586621679109095"><span class="hs-identifier hs-var hs-var">lkup</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((MediaType, ByteString) -&gt; (MediaType, (ByteString, ByteString)))
-&gt; [(MediaType, ByteString)]
-&gt; [(MediaType, (ByteString, ByteString))]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679109090"><span class="annot"><span class="annottext">MediaType
</span><a href="#local-6989586621679109090"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679109089"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679109089"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MediaType
</span><a href="#local-6989586621679109090"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">fromStrict</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString) -&gt; ByteString -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">MediaType -&gt; ByteString
forall h. RenderHeader h =&gt; h -&gt; ByteString
</span><a href="../../../../http-media/html/src"><span class="hs-identifier hs-var">M.renderHeader</span></a></span><span> </span><span class="annot"><span class="annottext">MediaType
</span><a href="#local-6989586621679109090"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679109089"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(MediaType, ByteString)]
</span><a href="#local-6989586621679109092"><span class="hs-identifier hs-var">amrs</span></a></span></span></span></span><span>
</span><span id="line-191"></span><span>
</span><span id="line-192"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">TL.TypeError</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">TL.Text</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;No instance for (), use NoContent instead.&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#AllCTRender"><span class="hs-identifier hs-type">AllCTRender</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-194"></span><span>  </span><span id="local-6989586621679109085"><span class="annot"><span class="annottext">handleAcceptH :: Proxy '[] -&gt; AcceptHeader -&gt; () -&gt; Maybe (ByteString, ByteString)
</span><a href="#local-6989586621679109085"><span class="hs-identifier hs-var hs-var hs-var hs-var">handleAcceptH</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy '[]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">AcceptHeader
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe (ByteString, ByteString)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;unreachable&quot;</span></span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span class="hs-comment">--------------------------------------------------------------------------</span><span>
</span><span id="line-197"></span><span class="hs-comment">-- * Unrender</span><span>
</span><span id="line-198"></span><span>
</span><span id="line-199"></span><span class="hs-comment">-- | Instantiate this class to register a way of deserializing a type based</span><span>
</span><span id="line-200"></span><span class="hs-comment">-- on the request's @Content-Type@ header.</span><span>
</span><span id="line-201"></span><span class="hs-comment">--</span><span>
</span><span id="line-202"></span><span class="hs-comment">-- &gt;&gt;&gt; import Network.HTTP.Media hiding (Accept)</span><span>
</span><span id="line-203"></span><span class="hs-comment">-- &gt;&gt;&gt; import qualified Data.ByteString.Lazy.Char8 as BSC</span><span>
</span><span id="line-204"></span><span class="hs-comment">-- &gt;&gt;&gt; data MyContentType = MyContentType String</span><span>
</span><span id="line-205"></span><span class="hs-comment">--</span><span>
</span><span id="line-206"></span><span class="hs-comment">-- &gt;&gt;&gt; :{</span><span>
</span><span id="line-207"></span><span class="hs-comment">--instance Accept MyContentType where</span><span>
</span><span id="line-208"></span><span class="hs-comment">--    contentType _ = &quot;example&quot; // &quot;prs.me.mine&quot; /: (&quot;charset&quot;, &quot;utf-8&quot;)</span><span>
</span><span id="line-209"></span><span class="hs-comment">-- :}</span><span>
</span><span id="line-210"></span><span class="hs-comment">--</span><span>
</span><span id="line-211"></span><span class="hs-comment">-- &gt;&gt;&gt; :{</span><span>
</span><span id="line-212"></span><span class="hs-comment">--instance Read a =&gt; MimeUnrender MyContentType a where</span><span>
</span><span id="line-213"></span><span class="hs-comment">--    mimeUnrender _ bs = case BSC.take 12 bs of</span><span>
</span><span id="line-214"></span><span class="hs-comment">--      &quot;MyContentType&quot; -&gt; return . read . BSC.unpack $ BSC.drop 12 bs</span><span>
</span><span id="line-215"></span><span class="hs-comment">--      _ -&gt; Left &quot;didn't start with the magic incantation&quot;</span><span>
</span><span id="line-216"></span><span class="hs-comment">-- :}</span><span>
</span><span id="line-217"></span><span class="hs-comment">--</span><span>
</span><span id="line-218"></span><span class="hs-comment">-- &gt;&gt;&gt; type MyAPI = &quot;path&quot; :&gt; ReqBody '[MyContentType] Int :&gt; Get '[JSON] Int</span><span>
</span><span id="line-219"></span><span class="hs-comment">--</span><span>
</span><span id="line-220"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#Accept"><span class="hs-identifier hs-type">Accept</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109271"><span class="hs-identifier hs-type">ctype</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="MimeUnrender"><span class="annot"><a href="Servant.API.ContentTypes.html#MimeUnrender"><span class="hs-identifier hs-var">MimeUnrender</span></a></span></span><span> </span><span id="local-6989586621679109271"><span class="annot"><a href="#local-6989586621679109271"><span class="hs-identifier hs-type">ctype</span></a></span></span><span> </span><span id="local-6989586621679109270"><span class="annot"><a href="#local-6989586621679109270"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-221"></span><span>    </span><span id="mimeUnrender"><span class="annot"><a href="Servant.API.ContentTypes.html#mimeUnrender"><span class="hs-identifier hs-type">mimeUnrender</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109271"><span class="hs-identifier hs-type">ctype</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109270"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-222"></span><span>    </span><span id="local-6989586621679109082"><span class="annot"><a href="Servant.API.ContentTypes.html#mimeUnrender"><span class="hs-identifier hs-var hs-var">mimeUnrender</span></a></span><span> </span><span id="local-6989586621679109081"><span class="annot"><span class="annottext">Proxy ctype
</span><a href="#local-6989586621679109081"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy ctype -&gt; MediaType -&gt; ByteString -&gt; Either String a
forall k (ctype :: k) a.
MimeUnrender ctype a =&gt;
Proxy ctype -&gt; MediaType -&gt; ByteString -&gt; Either String a
</span><a href="Servant.API.ContentTypes.html#mimeUnrenderWithType"><span class="hs-identifier hs-var">mimeUnrenderWithType</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy ctype
</span><a href="#local-6989586621679109081"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy ctype -&gt; MediaType
forall k (ctype :: k). Accept ctype =&gt; Proxy ctype -&gt; MediaType
</span><a href="Servant.API.ContentTypes.html#contentType"><span class="hs-identifier hs-var">contentType</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy ctype
</span><a href="#local-6989586621679109081"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span>    </span><span class="hs-comment">-- | Variant which is given the actual 'M.MediaType' provided by the other party.</span><span>
</span><span id="line-225"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-226"></span><span>    </span><span class="hs-comment">-- In the most cases you don't want to branch based on the 'M.MediaType'.</span><span>
</span><span id="line-227"></span><span>    </span><span class="hs-comment">-- See &lt;https://github.com/haskell-servant/servant/pull/552 pr552&gt; for a motivating example.</span></span><span>
</span><span id="line-228"></span><span>    </span><span id="mimeUnrenderWithType"><span class="annot"><a href="Servant.API.ContentTypes.html#mimeUnrenderWithType"><span class="hs-identifier hs-type">mimeUnrenderWithType</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109271"><span class="hs-identifier hs-type">ctype</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../http-media/html/src"><span class="hs-identifier hs-type">M.MediaType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109270"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-229"></span><span>    </span><span id="local-6989586621679109079"><span class="annot"><a href="Servant.API.ContentTypes.html#mimeUnrenderWithType"><span class="hs-identifier hs-var hs-var">mimeUnrenderWithType</span></a></span><span> </span><span id="local-6989586621679109078"><span class="annot"><span class="annottext">Proxy ctype
</span><a href="#local-6989586621679109078"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="annot"><span class="annottext">MediaType
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy ctype -&gt; ByteString -&gt; Either String a
forall k (ctype :: k) a.
MimeUnrender ctype a =&gt;
Proxy ctype -&gt; ByteString -&gt; Either String a
</span><a href="Servant.API.ContentTypes.html#mimeUnrender"><span class="hs-identifier hs-var">mimeUnrender</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy ctype
</span><a href="#local-6989586621679109078"><span class="hs-identifier hs-var">p</span></a></span></span><span>
</span><span id="line-230"></span><span>
</span><span id="line-231"></span><span>    </span><span class="hs-pragma">{-# MINIMAL</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#mimeUnrender"><span class="hs-pragma hs-type">mimeUnrender</span></a></span><span> </span><span class="hs-pragma">|</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#mimeUnrenderWithType"><span class="hs-pragma hs-type">mimeUnrenderWithType</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-232"></span><span>
</span><span id="line-233"></span><span class="hs-keyword">class</span><span> </span><span id="AllCTUnrender"><span class="annot"><a href="Servant.API.ContentTypes.html#AllCTUnrender"><span class="hs-identifier hs-var">AllCTUnrender</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679109268"><span class="annot"><a href="#local-6989586621679109268"><span class="hs-identifier hs-type">list</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679109267"><span class="annot"><a href="#local-6989586621679109267"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-234"></span><span>    </span><span id="canHandleCTypeH"><span class="annot"><a href="Servant.API.ContentTypes.html#canHandleCTypeH"><span class="hs-identifier hs-type">canHandleCTypeH</span></a></span></span><span>
</span><span id="line-235"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109268"><span class="hs-identifier hs-type">list</span></a></span><span>
</span><span id="line-236"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span>  </span><span class="hs-comment">-- Content-Type header</span><span>
</span><span id="line-237"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109267"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-238"></span><span>
</span><span id="line-239"></span><span>    </span><span id="handleCTypeH"><span class="annot"><a href="Servant.API.ContentTypes.html#handleCTypeH"><span class="hs-identifier hs-type">handleCTypeH</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109268"><span class="hs-identifier hs-type">list</span></a></span><span>
</span><span id="line-240"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span>     </span><span class="hs-comment">-- Content-Type header</span><span>
</span><span id="line-241"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span>     </span><span class="hs-comment">-- Request body</span><span>
</span><span id="line-242"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109267"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-243"></span><span>    </span><span id="local-6989586621679109075"><span class="annot"><a href="Servant.API.ContentTypes.html#handleCTypeH"><span class="hs-identifier hs-var hs-var">handleCTypeH</span></a></span><span> </span><span id="local-6989586621679109074"><span class="annot"><span class="annottext">Proxy list
</span><a href="#local-6989586621679109074"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679109073"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679109073"><span class="hs-identifier hs-var">ctypeH</span></a></span></span><span> </span><span id="local-6989586621679109072"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679109072"><span class="hs-identifier hs-var">body</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(ByteString -&gt; Either String a) -&gt; ByteString -&gt; Either String a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679109072"><span class="hs-identifier hs-var">body</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((ByteString -&gt; Either String a) -&gt; Either String a)
-&gt; Maybe (ByteString -&gt; Either String a) -&gt; Maybe (Either String a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">`fmap`</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy list -&gt; ByteString -&gt; Maybe (ByteString -&gt; Either String a)
forall (list :: [*]) a.
AllCTUnrender list a =&gt;
Proxy list -&gt; ByteString -&gt; Maybe (ByteString -&gt; Either String a)
</span><a href="Servant.API.ContentTypes.html#canHandleCTypeH"><span class="hs-identifier hs-var">canHandleCTypeH</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy list
</span><a href="#local-6989586621679109074"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679109073"><span class="hs-identifier hs-var">ctypeH</span></a></span></span><span>
</span><span id="line-244"></span><span>
</span><span id="line-245"></span><span id="local-6989586621679109070"><span id="local-6989586621679109071"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679109067"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#AllMimeUnrender"><span class="hs-identifier hs-type">AllMimeUnrender</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109071"><span class="hs-identifier hs-type">ctyps</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109070"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#AllCTUnrender"><span class="hs-identifier hs-type">AllCTUnrender</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109071"><span class="hs-identifier hs-type">ctyps</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109070"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-246"></span><span>    </span><span id="local-6989586621679109065"><span class="annot"><span class="annottext">canHandleCTypeH :: Proxy ctyps -&gt; ByteString -&gt; Maybe (ByteString -&gt; Either String a)
</span><a href="#local-6989586621679109065"><span class="hs-identifier hs-var hs-var hs-var hs-var">canHandleCTypeH</span></a></span></span><span> </span><span id="local-6989586621679109064"><span class="annot"><span class="annottext">Proxy ctyps
</span><a href="#local-6989586621679109064"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679109063"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679109063"><span class="hs-identifier hs-var">ctypeH</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-247"></span><span>        </span><span class="annot"><span class="annottext">[(MediaType, ByteString -&gt; Either String a)]
-&gt; ByteString -&gt; Maybe (ByteString -&gt; Either String a)
forall b. [(MediaType, b)] -&gt; ByteString -&gt; Maybe b
</span><a href="../../../../http-media/html/src"><span class="hs-identifier hs-var">M.mapContentMedia</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy ctyps -&gt; [(MediaType, ByteString -&gt; Either String a)]
forall (list :: [*]) a.
AllMimeUnrender list a =&gt;
Proxy list -&gt; [(MediaType, ByteString -&gt; Either String a)]
</span><a href="Servant.API.ContentTypes.html#allMimeUnrender"><span class="hs-identifier hs-var">allMimeUnrender</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy ctyps
</span><a href="#local-6989586621679109064"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
forall a b. ConvertibleStrings a b =&gt; a -&gt; b
</span><a href="../../../../string-conversions/html/src"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679109063"><span class="hs-identifier hs-var">ctypeH</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-248"></span><span>
</span><span id="line-249"></span><span class="hs-comment">--------------------------------------------------------------------------</span><span>
</span><span id="line-250"></span><span class="hs-comment">-- * Utils (Internal)</span><span>
</span><span id="line-251"></span><span>
</span><span id="line-252"></span><span class="hs-keyword">class</span><span> </span><span id="AllMime"><span class="annot"><a href="Servant.API.ContentTypes.html#AllMime"><span class="hs-identifier hs-var">AllMime</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679109257"><span class="annot"><a href="#local-6989586621679109257"><span class="hs-identifier hs-type">list</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-253"></span><span>    </span><span id="allMime"><span class="annot"><a href="Servant.API.ContentTypes.html#allMime"><span class="hs-identifier hs-type">allMime</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109257"><span class="hs-identifier hs-type">list</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../../../http-media/html/src"><span class="hs-identifier hs-type">M.MediaType</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-254"></span><span>
</span><span id="line-255"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#AllMime"><span class="hs-identifier hs-type">AllMime</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-256"></span><span>    </span><span id="local-6989586621679109057"><span class="annot"><span class="annottext">allMime :: Proxy '[] -&gt; [MediaType]
</span><a href="#local-6989586621679109057"><span class="hs-identifier hs-var hs-var hs-var hs-var">allMime</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy '[]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-257"></span><span>
</span><span id="line-258"></span><span id="local-6989586621679109055"><span id="local-6989586621679109056"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Servant.API.ContentTypes.html#Accept"><span class="hs-identifier hs-type">Accept</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109056"><span class="hs-identifier hs-type">ctyp</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#AllMime"><span class="hs-identifier hs-type">AllMime</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109055"><span class="hs-identifier hs-type">ctyps</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#AllMime"><span class="hs-identifier hs-type">AllMime</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679109056"><span class="hs-identifier hs-type">ctyp</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679109055"><span class="hs-identifier hs-type">ctyps</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-259"></span><span>    </span><span id="local-6989586621679109053"><span class="annot"><span class="annottext">allMime :: Proxy (ctyp : ctyps) -&gt; [MediaType]
</span><a href="#local-6989586621679109053"><span class="hs-identifier hs-var hs-var hs-var hs-var">allMime</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy (ctyp : ctyps)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NonEmpty MediaType -&gt; [MediaType]
forall a. NonEmpty a -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">NE.toList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy ctyp -&gt; NonEmpty MediaType
forall k (ctype :: k).
Accept ctype =&gt;
Proxy ctype -&gt; NonEmpty MediaType
</span><a href="Servant.API.ContentTypes.html#contentTypes"><span class="hs-identifier hs-var">contentTypes</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy ctyp
</span><a href="#local-6989586621679109051"><span class="hs-identifier hs-var">pctyp</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[MediaType] -&gt; [MediaType] -&gt; [MediaType]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy ctyps -&gt; [MediaType]
forall (list :: [*]). AllMime list =&gt; Proxy list -&gt; [MediaType]
</span><a href="Servant.API.ContentTypes.html#allMime"><span class="hs-identifier hs-var">allMime</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy ctyps
</span><a href="#local-6989586621679109050"><span class="hs-identifier hs-var">pctyps</span></a></span><span>
</span><span id="line-260"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-261"></span><span>        </span><span id="local-6989586621679109051"><span class="annot"><span class="annottext">pctyp :: Proxy ctyp
</span><a href="#local-6989586621679109051"><span class="hs-identifier hs-var hs-var">pctyp</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy ctyp
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109056"><span class="hs-identifier hs-type">ctyp</span></a></span><span>
</span><span id="line-262"></span><span>        </span><span id="local-6989586621679109050"><span class="annot"><span class="annottext">pctyps :: Proxy ctyps
</span><a href="#local-6989586621679109050"><span class="hs-identifier hs-var hs-var">pctyps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy ctyps
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109055"><span class="hs-identifier hs-type">ctyps</span></a></span></span></span><span>
</span><span id="line-263"></span><span>
</span><span id="line-264"></span><span id="local-6989586621679109049"><span class="annot"><a href="Servant.API.ContentTypes.html#canHandleAcceptH"><span class="hs-identifier hs-type">canHandleAcceptH</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#AllMime"><span class="hs-identifier hs-type">AllMime</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109049"><span class="hs-identifier hs-type">list</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109049"><span class="hs-identifier hs-type">list</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#AcceptHeader"><span class="hs-identifier hs-type">AcceptHeader</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span></span><span>
</span><span id="line-265"></span><span id="canHandleAcceptH"><span class="annot"><span class="annottext">canHandleAcceptH :: Proxy list -&gt; AcceptHeader -&gt; Bool
</span><a href="Servant.API.ContentTypes.html#canHandleAcceptH"><span class="hs-identifier hs-var hs-var">canHandleAcceptH</span></a></span></span><span> </span><span id="local-6989586621679109048"><span class="annot"><span class="annottext">Proxy list
</span><a href="#local-6989586621679109048"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Servant.API.ContentTypes.html#AcceptHeader"><span class="hs-identifier hs-type">AcceptHeader</span></a></span><span> </span><span id="local-6989586621679109047"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679109047"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe MediaType -&gt; Bool
forall a. Maybe a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">isJust</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe MediaType -&gt; Bool) -&gt; Maybe MediaType -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[MediaType] -&gt; ByteString -&gt; Maybe MediaType
forall a. Accept a =&gt; [a] -&gt; ByteString -&gt; Maybe a
</span><a href="../../../../http-media/html/src"><span class="hs-identifier hs-var">M.matchAccept</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy list -&gt; [MediaType]
forall (list :: [*]). AllMime list =&gt; Proxy list -&gt; [MediaType]
</span><a href="Servant.API.ContentTypes.html#allMime"><span class="hs-identifier hs-var">allMime</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy list
</span><a href="#local-6989586621679109048"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679109047"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-266"></span><span>
</span><span id="line-267"></span><span class="hs-comment">--------------------------------------------------------------------------</span><span>
</span><span id="line-268"></span><span class="hs-comment">-- Check that all elements of list are instances of MimeRender</span><span>
</span><span id="line-269"></span><span class="hs-comment">--------------------------------------------------------------------------</span><span>
</span><span id="line-270"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Servant.API.ContentTypes.html#AllMime"><span class="hs-identifier hs-type">AllMime</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109285"><span class="hs-identifier hs-type">list</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="AllMimeRender"><span class="annot"><a href="Servant.API.ContentTypes.html#AllMimeRender"><span class="hs-identifier hs-var">AllMimeRender</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679109285"><span class="annot"><a href="#local-6989586621679109285"><span class="hs-identifier hs-type">list</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679109284"><span class="annot"><a href="#local-6989586621679109284"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-271"></span><span>    </span><span id="allMimeRender"><span class="annot"><a href="Servant.API.ContentTypes.html#allMimeRender"><span class="hs-identifier hs-type">allMimeRender</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109285"><span class="hs-identifier hs-type">list</span></a></span><span>
</span><span id="line-272"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679109284"><span class="hs-identifier hs-type">a</span></a></span><span>                              </span><span class="hs-comment">-- value to serialize</span><span>
</span><span id="line-273"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="../../../../http-media/html/src"><span class="hs-identifier hs-type">M.MediaType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>    </span><span class="hs-comment">-- content-types/response pairs</span><span>
</span><span id="line-274"></span><span>
</span><span id="line-275"></span><span id="local-6989586621679109044"><span id="local-6989586621679109045"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#MimeRender"><span class="hs-identifier hs-type">MimeRender</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109045"><span class="hs-identifier hs-type">ctyp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109044"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#AllMimeRender"><span class="hs-identifier hs-type">AllMimeRender</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679109045"><span class="hs-identifier hs-type">ctyp</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679109044"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-276"></span><span>    </span><span id="local-6989586621679109040"><span class="annot"><span class="annottext">allMimeRender :: Proxy '[ctyp] -&gt; a -&gt; [(MediaType, ByteString)]
</span><a href="#local-6989586621679109040"><span class="hs-identifier hs-var hs-var hs-var hs-var">allMimeRender</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy '[ctyp]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679109039"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679109039"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(MediaType -&gt; (MediaType, ByteString))
-&gt; [MediaType] -&gt; [(MediaType, ByteString)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-special">,</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679109038"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([MediaType] -&gt; [(MediaType, ByteString)])
-&gt; [MediaType] -&gt; [(MediaType, ByteString)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty MediaType -&gt; [MediaType]
forall a. NonEmpty a -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">NE.toList</span></a></span><span> </span><span class="annot"><span class="annottext">(NonEmpty MediaType -&gt; [MediaType])
-&gt; NonEmpty MediaType -&gt; [MediaType]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy ctyp -&gt; NonEmpty MediaType
forall k (ctype :: k).
Accept ctype =&gt;
Proxy ctype -&gt; NonEmpty MediaType
</span><a href="Servant.API.ContentTypes.html#contentTypes"><span class="hs-identifier hs-var">contentTypes</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy ctyp
</span><a href="#local-6989586621679109037"><span class="hs-identifier hs-var">pctyp</span></a></span><span>
</span><span id="line-277"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-278"></span><span>        </span><span id="local-6989586621679109038"><span class="annot"><span class="annottext">bs :: ByteString
</span><a href="#local-6989586621679109038"><span class="hs-identifier hs-var hs-var">bs</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy ctyp -&gt; a -&gt; ByteString
forall k (ctype :: k) a.
MimeRender ctype a =&gt;
Proxy ctype -&gt; a -&gt; ByteString
</span><a href="Servant.API.ContentTypes.html#mimeRender"><span class="hs-identifier hs-var">mimeRender</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy ctyp
</span><a href="#local-6989586621679109037"><span class="hs-identifier hs-var">pctyp</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679109039"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-279"></span><span>        </span><span id="local-6989586621679109037"><span class="annot"><span class="annottext">pctyp :: Proxy ctyp
</span><a href="#local-6989586621679109037"><span class="hs-identifier hs-var hs-var">pctyp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy ctyp
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109045"><span class="hs-identifier hs-type">ctyp</span></a></span></span></span><span>
</span><span id="line-280"></span><span>
</span><span id="line-281"></span><span id="local-6989586621679109033"><span id="local-6989586621679109034"><span id="local-6989586621679109035"><span id="local-6989586621679109036"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-282"></span><span>         </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#MimeRender"><span class="hs-identifier hs-type">MimeRender</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109036"><span class="hs-identifier hs-type">ctyp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109035"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-283"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#AllMimeRender"><span class="hs-identifier hs-type">AllMimeRender</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679109034"><span class="hs-identifier hs-type">ctyp'</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679109033"><span class="hs-identifier hs-type">ctyps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679109035"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-284"></span><span>         </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#AllMimeRender"><span class="hs-identifier hs-type">AllMimeRender</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679109036"><span class="hs-identifier hs-type">ctyp</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679109034"><span class="hs-identifier hs-type">ctyp'</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679109033"><span class="hs-identifier hs-type">ctyps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679109035"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-285"></span><span>    </span><span id="local-6989586621679109030"><span class="annot"><span class="annottext">allMimeRender :: Proxy (ctyp : ctyp' : ctyps) -&gt; a -&gt; [(MediaType, ByteString)]
</span><a href="#local-6989586621679109030"><span class="hs-identifier hs-var hs-var hs-var hs-var">allMimeRender</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy (ctyp : ctyp' : ctyps)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679109029"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679109029"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-286"></span><span>        </span><span class="annot"><span class="annottext">(MediaType -&gt; (MediaType, ByteString))
-&gt; [MediaType] -&gt; [(MediaType, ByteString)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-special">,</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679109028"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NonEmpty MediaType -&gt; [MediaType]
forall a. NonEmpty a -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">NE.toList</span></a></span><span> </span><span class="annot"><span class="annottext">(NonEmpty MediaType -&gt; [MediaType])
-&gt; NonEmpty MediaType -&gt; [MediaType]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy ctyp -&gt; NonEmpty MediaType
forall k (ctype :: k).
Accept ctype =&gt;
Proxy ctype -&gt; NonEmpty MediaType
</span><a href="Servant.API.ContentTypes.html#contentTypes"><span class="hs-identifier hs-var">contentTypes</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy ctyp
</span><a href="#local-6989586621679109027"><span class="hs-identifier hs-var">pctyp</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-287"></span><span>        </span><span class="annot"><span class="annottext">[(MediaType, ByteString)]
-&gt; [(MediaType, ByteString)] -&gt; [(MediaType, ByteString)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy (ctyp' : ctyps) -&gt; a -&gt; [(MediaType, ByteString)]
forall (list :: [*]) a.
AllMimeRender list a =&gt;
Proxy list -&gt; a -&gt; [(MediaType, ByteString)]
</span><a href="Servant.API.ContentTypes.html#allMimeRender"><span class="hs-identifier hs-var">allMimeRender</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy (ctyp' : ctyps)
</span><a href="#local-6989586621679109026"><span class="hs-identifier hs-var">pctyps</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679109029"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-288"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-289"></span><span>        </span><span id="local-6989586621679109028"><span class="annot"><span class="annottext">bs :: ByteString
</span><a href="#local-6989586621679109028"><span class="hs-identifier hs-var hs-var">bs</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy ctyp -&gt; a -&gt; ByteString
forall k (ctype :: k) a.
MimeRender ctype a =&gt;
Proxy ctype -&gt; a -&gt; ByteString
</span><a href="Servant.API.ContentTypes.html#mimeRender"><span class="hs-identifier hs-var">mimeRender</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy ctyp
</span><a href="#local-6989586621679109027"><span class="hs-identifier hs-var">pctyp</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679109029"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-290"></span><span>        </span><span id="local-6989586621679109027"><span class="annot"><span class="annottext">pctyp :: Proxy ctyp
</span><a href="#local-6989586621679109027"><span class="hs-identifier hs-var hs-var">pctyp</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy ctyp
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109036"><span class="hs-identifier hs-type">ctyp</span></a></span><span>
</span><span id="line-291"></span><span>        </span><span id="local-6989586621679109026"><span class="annot"><span class="annottext">pctyps :: Proxy (ctyp' : ctyps)
</span><a href="#local-6989586621679109026"><span class="hs-identifier hs-var hs-var">pctyps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy (ctyp' : ctyps)
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679109034"><span class="hs-identifier hs-type">ctyp'</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679109033"><span class="hs-identifier hs-type">ctyps</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-292"></span><span>
</span><span id="line-293"></span><span>
</span><span id="line-294"></span><span class="hs-comment">-- Ideally we would like to declare a 'MimeRender a NoContent' instance, and</span><span>
</span><span id="line-295"></span><span class="hs-comment">-- then this would be taken care of. However there is no more specific instance</span><span>
</span><span id="line-296"></span><span class="hs-comment">-- between that and 'MimeRender JSON a', so we do this instead</span><span>
</span><span id="line-297"></span><span id="local-6989586621679109025"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPING</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#Accept"><span class="hs-identifier hs-type">Accept</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109025"><span class="hs-identifier hs-type">ctyp</span></a></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#AllMimeRender"><span class="hs-identifier hs-type">AllMimeRender</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679109025"><span class="hs-identifier hs-type">ctyp</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#NoContent"><span class="hs-identifier hs-type">NoContent</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-298"></span><span>    </span><span id="local-6989586621679109022"><span class="annot"><span class="annottext">allMimeRender :: Proxy '[ctyp] -&gt; NoContent -&gt; [(MediaType, ByteString)]
</span><a href="#local-6989586621679109022"><span class="hs-identifier hs-var hs-var hs-var hs-var">allMimeRender</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy '[ctyp]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">NoContent
</span><a href="Servant.API.ContentTypes.html#NoContent"><span class="hs-identifier hs-var">NoContent</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(MediaType -&gt; (MediaType, ByteString))
-&gt; [MediaType] -&gt; [(MediaType, ByteString)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-special">,</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([MediaType] -&gt; [(MediaType, ByteString)])
-&gt; [MediaType] -&gt; [(MediaType, ByteString)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty MediaType -&gt; [MediaType]
forall a. NonEmpty a -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">NE.toList</span></a></span><span> </span><span class="annot"><span class="annottext">(NonEmpty MediaType -&gt; [MediaType])
-&gt; NonEmpty MediaType -&gt; [MediaType]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy ctyp -&gt; NonEmpty MediaType
forall k (ctype :: k).
Accept ctype =&gt;
Proxy ctype -&gt; NonEmpty MediaType
</span><a href="Servant.API.ContentTypes.html#contentTypes"><span class="hs-identifier hs-var">contentTypes</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy ctyp
</span><a href="#local-6989586621679109020"><span class="hs-identifier hs-var">pctyp</span></a></span><span>
</span><span id="line-299"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-300"></span><span>        </span><span id="local-6989586621679109020"><span class="annot"><span class="annottext">pctyp :: Proxy ctyp
</span><a href="#local-6989586621679109020"><span class="hs-identifier hs-var hs-var">pctyp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy ctyp
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109025"><span class="hs-identifier hs-type">ctyp</span></a></span></span><span>
</span><span id="line-301"></span><span>
</span><span id="line-302"></span><span id="local-6989586621679109017"><span id="local-6989586621679109018"><span id="local-6989586621679109019"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPING</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-303"></span><span>         </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#AllMime"><span class="hs-identifier hs-type">AllMime</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679109019"><span class="hs-identifier hs-type">ctyp</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679109018"><span class="hs-identifier hs-type">ctyp'</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679109017"><span class="hs-identifier hs-type">ctyps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-304"></span><span>         </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#AllMimeRender"><span class="hs-identifier hs-type">AllMimeRender</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679109019"><span class="hs-identifier hs-type">ctyp</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679109018"><span class="hs-identifier hs-type">ctyp'</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679109017"><span class="hs-identifier hs-type">ctyps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#NoContent"><span class="hs-identifier hs-type">NoContent</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-305"></span><span>    </span><span id="local-6989586621679109014"><span class="annot"><span class="annottext">allMimeRender :: Proxy (ctyp : ctyp' : ctyps)
-&gt; NoContent -&gt; [(MediaType, ByteString)]
</span><a href="#local-6989586621679109014"><span class="hs-identifier hs-var hs-var hs-var hs-var">allMimeRender</span></a></span></span><span> </span><span id="local-6989586621679109013"><span class="annot"><span class="annottext">Proxy (ctyp : ctyp' : ctyps)
</span><a href="#local-6989586621679109013"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="annot"><span class="annottext">NoContent
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[MediaType] -&gt; [ByteString] -&gt; [(MediaType, ByteString)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy (ctyp : ctyp' : ctyps) -&gt; [MediaType]
forall (list :: [*]). AllMime list =&gt; Proxy list -&gt; [MediaType]
</span><a href="Servant.API.ContentTypes.html#allMime"><span class="hs-identifier hs-var">allMime</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy (ctyp : ctyp' : ctyps)
</span><a href="#local-6989586621679109013"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; [ByteString]
forall a. a -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">repeat</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span class="hs-comment">--------------------------------------------------------------------------</span><span>
</span><span id="line-308"></span><span class="hs-comment">-- Check that all elements of list are instances of MimeUnrender</span><span>
</span><span id="line-309"></span><span class="hs-comment">--------------------------------------------------------------------------</span><span>
</span><span id="line-310"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Servant.API.ContentTypes.html#AllMime"><span class="hs-identifier hs-type">AllMime</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109262"><span class="hs-identifier hs-type">list</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="AllMimeUnrender"><span class="annot"><a href="Servant.API.ContentTypes.html#AllMimeUnrender"><span class="hs-identifier hs-var">AllMimeUnrender</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679109262"><span class="annot"><a href="#local-6989586621679109262"><span class="hs-identifier hs-type">list</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-operator">*</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679109261"><span class="annot"><a href="#local-6989586621679109261"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-311"></span><span>    </span><span id="allMimeUnrender"><span class="annot"><a href="Servant.API.ContentTypes.html#allMimeUnrender"><span class="hs-identifier hs-type">allMimeUnrender</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109262"><span class="hs-identifier hs-type">list</span></a></span><span>
</span><span id="line-312"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="../../../../http-media/html/src"><span class="hs-identifier hs-type">M.MediaType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109261"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-313"></span><span>
</span><span id="line-314"></span><span id="local-6989586621679109011"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#AllMimeUnrender"><span class="hs-identifier hs-type">AllMimeUnrender</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679109011"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-315"></span><span>    </span><span id="local-6989586621679109007"><span class="annot"><span class="annottext">allMimeUnrender :: Proxy '[] -&gt; [(MediaType, ByteString -&gt; Either String a)]
</span><a href="#local-6989586621679109007"><span class="hs-identifier hs-var hs-var hs-var hs-var">allMimeUnrender</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy '[]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span></span><span>
</span><span id="line-316"></span><span>
</span><span id="line-317"></span><span id="local-6989586621679109004"><span id="local-6989586621679109005"><span id="local-6989586621679109006"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#MimeUnrender"><span class="hs-identifier hs-type">MimeUnrender</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109006"><span class="hs-identifier hs-type">ctyp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109005"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-318"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#AllMimeUnrender"><span class="hs-identifier hs-type">AllMimeUnrender</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109004"><span class="hs-identifier hs-type">ctyps</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109005"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-319"></span><span>         </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#AllMimeUnrender"><span class="hs-identifier hs-type">AllMimeUnrender</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679109006"><span class="hs-identifier hs-type">ctyp</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679109004"><span class="hs-identifier hs-type">ctyps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679109005"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-320"></span><span>    </span><span id="local-6989586621679109001"><span class="annot"><span class="annottext">allMimeUnrender :: Proxy (ctyp : ctyps)
-&gt; [(MediaType, ByteString -&gt; Either String a)]
</span><a href="#local-6989586621679109001"><span class="hs-identifier hs-var hs-var hs-var hs-var">allMimeUnrender</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy (ctyp : ctyps)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-321"></span><span>        </span><span class="annot"><span class="annottext">(MediaType -&gt; (MediaType, ByteString -&gt; Either String a))
-&gt; [MediaType] -&gt; [(MediaType, ByteString -&gt; Either String a)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">MediaType -&gt; (MediaType, ByteString -&gt; Either String a)
</span><a href="#local-6989586621679109000"><span class="hs-identifier hs-var">mk</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NonEmpty MediaType -&gt; [MediaType]
forall a. NonEmpty a -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">NE.toList</span></a></span><span> </span><span class="annot"><span class="annottext">(NonEmpty MediaType -&gt; [MediaType])
-&gt; NonEmpty MediaType -&gt; [MediaType]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy ctyp -&gt; NonEmpty MediaType
forall k (ctype :: k).
Accept ctype =&gt;
Proxy ctype -&gt; NonEmpty MediaType
</span><a href="Servant.API.ContentTypes.html#contentTypes"><span class="hs-identifier hs-var">contentTypes</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy ctyp
</span><a href="#local-6989586621679108999"><span class="hs-identifier hs-var">pctyp</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-322"></span><span>        </span><span class="annot"><span class="annottext">[(MediaType, ByteString -&gt; Either String a)]
-&gt; [(MediaType, ByteString -&gt; Either String a)]
-&gt; [(MediaType, ByteString -&gt; Either String a)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy ctyps -&gt; [(MediaType, ByteString -&gt; Either String a)]
forall (list :: [*]) a.
AllMimeUnrender list a =&gt;
Proxy list -&gt; [(MediaType, ByteString -&gt; Either String a)]
</span><a href="Servant.API.ContentTypes.html#allMimeUnrender"><span class="hs-identifier hs-var">allMimeUnrender</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy ctyps
</span><a href="#local-6989586621679108998"><span class="hs-identifier hs-var">pctyps</span></a></span><span>
</span><span id="line-323"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-324"></span><span>        </span><span id="local-6989586621679109000"><span class="annot"><span class="annottext">mk :: MediaType -&gt; (MediaType, ByteString -&gt; Either String a)
</span><a href="#local-6989586621679109000"><span class="hs-identifier hs-var hs-var">mk</span></a></span></span><span> </span><span id="local-6989586621679108997"><span class="annot"><span class="annottext">MediaType
</span><a href="#local-6989586621679108997"><span class="hs-identifier hs-var">ct</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MediaType
</span><a href="#local-6989586621679108997"><span class="hs-identifier hs-var">ct</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy ctyp -&gt; MediaType -&gt; ByteString -&gt; Either String a
forall k (ctype :: k) a.
MimeUnrender ctype a =&gt;
Proxy ctype -&gt; MediaType -&gt; ByteString -&gt; Either String a
</span><a href="Servant.API.ContentTypes.html#mimeUnrenderWithType"><span class="hs-identifier hs-var">mimeUnrenderWithType</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy ctyp
</span><a href="#local-6989586621679108999"><span class="hs-identifier hs-var">pctyp</span></a></span><span> </span><span class="annot"><span class="annottext">MediaType
</span><a href="#local-6989586621679108997"><span class="hs-identifier hs-var">ct</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-325"></span><span>        </span><span id="local-6989586621679108999"><span class="annot"><span class="annottext">pctyp :: Proxy ctyp
</span><a href="#local-6989586621679108999"><span class="hs-identifier hs-var hs-var">pctyp</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy ctyp
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109006"><span class="hs-identifier hs-type">ctyp</span></a></span><span>
</span><span id="line-326"></span><span>        </span><span id="local-6989586621679108998"><span class="annot"><span class="annottext">pctyps :: Proxy ctyps
</span><a href="#local-6989586621679108998"><span class="hs-identifier hs-var hs-var">pctyps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy ctyps
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109004"><span class="hs-identifier hs-type">ctyps</span></a></span></span></span></span><span>
</span><span id="line-327"></span><span>
</span><span id="line-328"></span><span class="hs-comment">--------------------------------------------------------------------------</span><span>
</span><span id="line-329"></span><span class="hs-comment">-- * MimeRender Instances</span><span>
</span><span id="line-330"></span><span>
</span><span id="line-331"></span><span class="hs-comment">-- | `encode`</span><span>
</span><span id="line-332"></span><span id="local-6989586621679108996"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-333"></span><span>         </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679108996"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#MimeRender"><span class="hs-identifier hs-type">MimeRender</span></a></span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#JSON"><span class="hs-identifier hs-type">JSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679108996"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-334"></span><span>    </span><span id="local-6989586621679108992"><span class="annot"><span class="annottext">mimeRender :: Proxy JSON -&gt; a -&gt; ByteString
</span><a href="#local-6989586621679108992"><span class="hs-identifier hs-var hs-var hs-var hs-var">mimeRender</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy JSON
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; ByteString
forall a. ToJSON a =&gt; a -&gt; ByteString
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">encode</span></a></span></span><span>
</span><span id="line-335"></span><span>
</span><span id="line-336"></span><span class="hs-comment">-- | @urlEncodeAsForm@</span><span>
</span><span id="line-337"></span><span class="hs-comment">-- Note that the @mimeUnrender p (mimeRender p x) == Right x@ law only</span><span>
</span><span id="line-338"></span><span class="hs-comment">-- holds if every element of x is non-null (i.e., not @(&quot;&quot;, &quot;&quot;)@)</span><span>
</span><span id="line-339"></span><span id="local-6989586621679108991"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPPABLE</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-340"></span><span>         </span><span class="annot"><a href="../../../../http-api-data/html/src"><span class="hs-identifier hs-type">ToForm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679108991"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#MimeRender"><span class="hs-identifier hs-type">MimeRender</span></a></span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#FormUrlEncoded"><span class="hs-identifier hs-type">FormUrlEncoded</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679108991"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-341"></span><span>    </span><span id="local-6989586621679108988"><span class="annot"><span class="annottext">mimeRender :: Proxy FormUrlEncoded -&gt; a -&gt; ByteString
</span><a href="#local-6989586621679108988"><span class="hs-identifier hs-var hs-var hs-var hs-var">mimeRender</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy FormUrlEncoded
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; ByteString
forall a. ToForm a =&gt; a -&gt; ByteString
</span><a href="../../../../http-api-data/html/src"><span class="hs-identifier hs-var">urlEncodeAsForm</span></a></span></span><span>
</span><span id="line-342"></span><span>
</span><span id="line-343"></span><span class="hs-comment">-- | `TextL.encodeUtf8`</span><span>
</span><span id="line-344"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#MimeRender"><span class="hs-identifier hs-type">MimeRender</span></a></span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#PlainText"><span class="hs-identifier hs-type">PlainText</span></a></span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">TextL.Text</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-345"></span><span>    </span><span id="local-6989586621679108985"><span class="annot"><span class="annottext">mimeRender :: Proxy PlainText -&gt; Text -&gt; ByteString
</span><a href="#local-6989586621679108985"><span class="hs-identifier hs-var hs-var hs-var hs-var">mimeRender</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy PlainText
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; ByteString
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">TextL.encodeUtf8</span></a></span><span>
</span><span id="line-346"></span><span>
</span><span id="line-347"></span><span class="hs-comment">-- | @fromStrict . TextS.encodeUtf8@</span><span>
</span><span id="line-348"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#MimeRender"><span class="hs-identifier hs-type">MimeRender</span></a></span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#PlainText"><span class="hs-identifier hs-type">PlainText</span></a></span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">TextS.Text</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-349"></span><span>    </span><span id="local-6989586621679108981"><span class="annot"><span class="annottext">mimeRender :: Proxy PlainText -&gt; Text -&gt; ByteString
</span><a href="#local-6989586621679108981"><span class="hs-identifier hs-var hs-var hs-var hs-var">mimeRender</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy PlainText
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">fromStrict</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString)
-&gt; (Text -&gt; ByteString) -&gt; Text -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; ByteString
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">TextS.encodeUtf8</span></a></span><span>
</span><span id="line-350"></span><span>
</span><span id="line-351"></span><span class="hs-comment">-- | @BC.pack@</span><span>
</span><span id="line-352"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#MimeRender"><span class="hs-identifier hs-type">MimeRender</span></a></span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#PlainText"><span class="hs-identifier hs-type">PlainText</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-353"></span><span>    </span><span id="local-6989586621679108977"><span class="annot"><span class="annottext">mimeRender :: Proxy PlainText -&gt; String -&gt; ByteString
</span><a href="#local-6989586621679108977"><span class="hs-identifier hs-var hs-var hs-var hs-var">mimeRender</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy PlainText
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; ByteString
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">BC.pack</span></a></span><span>
</span><span id="line-354"></span><span>
</span><span id="line-355"></span><span class="hs-comment">-- | @id@</span><span>
</span><span id="line-356"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#MimeRender"><span class="hs-identifier hs-type">MimeRender</span></a></span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#OctetStream"><span class="hs-identifier hs-type">OctetStream</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-357"></span><span>    </span><span id="local-6989586621679108973"><span class="annot"><span class="annottext">mimeRender :: Proxy OctetStream -&gt; ByteString -&gt; ByteString
</span><a href="#local-6989586621679108973"><span class="hs-identifier hs-var hs-var hs-var hs-var">mimeRender</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy OctetStream
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
forall a. a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-358"></span><span>
</span><span id="line-359"></span><span class="hs-comment">-- | `fromStrict`</span><span>
</span><span id="line-360"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#MimeRender"><span class="hs-identifier hs-type">MimeRender</span></a></span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#OctetStream"><span class="hs-identifier hs-type">OctetStream</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">BS.ByteString</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-361"></span><span>    </span><span id="local-6989586621679108969"><span class="annot"><span class="annottext">mimeRender :: Proxy OctetStream -&gt; ByteString -&gt; ByteString
</span><a href="#local-6989586621679108969"><span class="hs-identifier hs-var hs-var hs-var hs-var">mimeRender</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy OctetStream
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">fromStrict</span></a></span><span>
</span><span id="line-362"></span><span>
</span><span id="line-363"></span><span class="hs-comment">-- | A type for responses without content-body.</span><span>
</span><span id="line-364"></span><span id="local-6989586621679108967"><span id="local-6989586621679108968"></span></span><span class="hs-keyword">data</span><span> </span><span id="NoContent"><span class="annot"><a href="Servant.API.ContentTypes.html#NoContent"><span class="hs-identifier hs-var">NoContent</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="NoContent"><span class="annot"><a href="Servant.API.ContentTypes.html#NoContent"><span class="hs-identifier hs-var">NoContent</span></a></span></span><span>
</span><span id="line-365"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679108961"><span id="local-6989586621679108963"><span id="local-6989586621679108965"><span class="annot"><span class="annottext">Int -&gt; NoContent -&gt; ShowS
[NoContent] -&gt; ShowS
NoContent -&gt; String
(Int -&gt; NoContent -&gt; ShowS)
-&gt; (NoContent -&gt; String)
-&gt; ([NoContent] -&gt; ShowS)
-&gt; Show NoContent
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [NoContent] -&gt; ShowS
$cshowList :: [NoContent] -&gt; ShowS
show :: NoContent -&gt; String
$cshow :: NoContent -&gt; String
showsPrec :: Int -&gt; NoContent -&gt; ShowS
$cshowsPrec :: Int -&gt; NoContent -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679108957"><span id="local-6989586621679108959"><span class="annot"><span class="annottext">NoContent -&gt; NoContent -&gt; Bool
(NoContent -&gt; NoContent -&gt; Bool)
-&gt; (NoContent -&gt; NoContent -&gt; Bool) -&gt; Eq NoContent
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: NoContent -&gt; NoContent -&gt; Bool
$c/= :: NoContent -&gt; NoContent -&gt; Bool
== :: NoContent -&gt; NoContent -&gt; Bool
$c== :: NoContent -&gt; NoContent -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679108949"><span id="local-6989586621679108951"><span id="local-6989586621679108953"><span id="local-6989586621679108955"><span class="annot"><span class="annottext">ReadPrec [NoContent]
ReadPrec NoContent
Int -&gt; ReadS NoContent
ReadS [NoContent]
(Int -&gt; ReadS NoContent)
-&gt; ReadS [NoContent]
-&gt; ReadPrec NoContent
-&gt; ReadPrec [NoContent]
-&gt; Read NoContent
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [NoContent]
$creadListPrec :: ReadPrec [NoContent]
readPrec :: ReadPrec NoContent
$creadPrec :: ReadPrec NoContent
readList :: ReadS [NoContent]
$creadList :: ReadS [NoContent]
readsPrec :: Int -&gt; ReadS NoContent
$creadsPrec :: Int -&gt; ReadS NoContent
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. NoContent -&gt; Rep NoContent x)
-&gt; (forall x. Rep NoContent x -&gt; NoContent) -&gt; Generic NoContent
forall x. Rep NoContent x -&gt; NoContent
forall x. NoContent -&gt; Rep NoContent x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep NoContent x -&gt; NoContent
$cfrom :: forall x. NoContent -&gt; Rep NoContent x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-366"></span><span>
</span><span id="line-367"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679108945"><span class="annot"><a href="../../../../ghc/html/libraries/deepseq-1.4.4.0/src"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#NoContent"><span class="hs-identifier hs-type">NoContent</span></a></span></span><span>
</span><span id="line-368"></span><span>
</span><span id="line-369"></span><span>
</span><span id="line-370"></span><span class="hs-comment">--------------------------------------------------------------------------</span><span>
</span><span id="line-371"></span><span class="hs-comment">-- * MimeUnrender Instances</span><span>
</span><span id="line-372"></span><span>
</span><span id="line-373"></span><span class="hs-comment">-- | Like 'Data.Aeson.eitherDecode' but allows all JSON values instead of just</span><span>
</span><span id="line-374"></span><span class="hs-comment">-- objects and arrays.</span><span>
</span><span id="line-375"></span><span class="hs-comment">--</span><span>
</span><span id="line-376"></span><span class="hs-comment">-- Will handle trailing whitespace, but not trailing junk. ie.</span><span>
</span><span id="line-377"></span><span class="hs-comment">--</span><span>
</span><span id="line-378"></span><span class="hs-comment">-- &gt;&gt;&gt; eitherDecodeLenient &quot;1 &quot; :: Either String Int</span><span>
</span><span id="line-379"></span><span class="hs-comment">-- Right 1</span><span>
</span><span id="line-380"></span><span class="hs-comment">--</span><span>
</span><span id="line-381"></span><span class="hs-comment">-- &gt;&gt;&gt; eitherDecodeLenient &quot;1 junk&quot; :: Either String Int</span><span>
</span><span id="line-382"></span><span class="hs-comment">-- Left &quot;trailing junk after valid JSON: endOfInput&quot;</span><span>
</span><span id="line-383"></span><span id="local-6989586621679109188"><span class="annot"><a href="Servant.API.ContentTypes.html#eitherDecodeLenient"><span class="hs-identifier hs-type">eitherDecodeLenient</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">FromJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109188"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679109188"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-384"></span><span id="eitherDecodeLenient"><span class="annot"><span class="annottext">eitherDecodeLenient :: ByteString -&gt; Either String a
</span><a href="Servant.API.ContentTypes.html#eitherDecodeLenient"><span class="hs-identifier hs-var hs-var">eitherDecodeLenient</span></a></span></span><span> </span><span id="local-6989586621679108943"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679108943"><span class="hs-identifier hs-var">input</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-385"></span><span>    </span><span class="annot"><span class="annottext">Parser Value -&gt; ByteString -&gt; Either String Value
forall a. Parser a -&gt; ByteString -&gt; Either String a
</span><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-var">parseOnly</span></a></span><span> </span><span class="annot"><span class="annottext">Parser Value
</span><a href="#local-6989586621679108942"><span class="hs-identifier hs-var">parser</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
forall a b. ConvertibleStrings a b =&gt; a -&gt; b
</span><a href="../../../../string-conversions/html/src"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679108943"><span class="hs-identifier hs-var">input</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Either String Value
-&gt; (Value -&gt; Either String a) -&gt; Either String a
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; Parser a) -&gt; Value -&gt; Either String a
forall a b. (a -&gt; Parser b) -&gt; a -&gt; Either String b
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">parseEither</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser a
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">parseJSON</span></a></span><span>
</span><span id="line-386"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-387"></span><span>    </span><span id="local-6989586621679108942"><span class="annot"><span class="annottext">parser :: Parser Value
</span><a href="#local-6989586621679108942"><span class="hs-identifier hs-var hs-var">parser</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Parser ()
</span><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-var">skipSpace</span></a></span><span>
</span><span id="line-388"></span><span>          </span><span class="annot"><span class="annottext">Parser () -&gt; Parser Value -&gt; Parser Value
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Parser Value
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">Data.Aeson.Parser.value</span></a></span><span>
</span><span id="line-389"></span><span>          </span><span class="annot"><span class="annottext">Parser Value -&gt; Parser () -&gt; Parser Value
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*</span></a></span><span> </span><span class="annot"><span class="annottext">Parser ()
</span><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-var">skipSpace</span></a></span><span>
</span><span id="line-390"></span><span>          </span><span class="annot"><span class="annottext">Parser Value -&gt; Parser () -&gt; Parser Value
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Parser ()
forall t. Chunk t =&gt; Parser t ()
</span><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-var">endOfInput</span></a></span><span> </span><span class="annot"><span class="annottext">Parser () -&gt; String -&gt; Parser ()
forall i a. Parser i a -&gt; String -&gt; Parser i a
</span><a href="../../../../attoparsec/html/src"><span class="hs-operator hs-var">&lt;?&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;trailing junk after valid JSON&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-391"></span><span>
</span><span id="line-392"></span><span class="hs-comment">-- | `eitherDecode`</span><span>
</span><span id="line-393"></span><span id="local-6989586621679108939"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679108935"><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">FromJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679108939"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#MimeUnrender"><span class="hs-identifier hs-type">MimeUnrender</span></a></span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#JSON"><span class="hs-identifier hs-type">JSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679108939"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-394"></span><span>    </span><span id="local-6989586621679108933"><span class="annot"><span class="annottext">mimeUnrender :: Proxy JSON -&gt; ByteString -&gt; Either String a
</span><a href="#local-6989586621679108933"><span class="hs-identifier hs-var hs-var hs-var hs-var">mimeUnrender</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy JSON
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String a
forall a. FromJSON a =&gt; ByteString -&gt; Either String a
</span><a href="Servant.API.ContentTypes.html#eitherDecodeLenient"><span class="hs-identifier hs-var">eitherDecodeLenient</span></a></span></span><span>
</span><span id="line-395"></span><span>
</span><span id="line-396"></span><span class="hs-comment">-- | @urlDecodeAsForm@</span><span>
</span><span id="line-397"></span><span class="hs-comment">-- Note that the @mimeUnrender p (mimeRender p x) == Right x@ law only</span><span>
</span><span id="line-398"></span><span class="hs-comment">-- holds if every element of x is non-null (i.e., not @(&quot;&quot;, &quot;&quot;)@)</span><span>
</span><span id="line-399"></span><span id="local-6989586621679108932"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679108928"><span class="annot"><a href="../../../../http-api-data/html/src"><span class="hs-identifier hs-type">FromForm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679108932"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#MimeUnrender"><span class="hs-identifier hs-type">MimeUnrender</span></a></span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#FormUrlEncoded"><span class="hs-identifier hs-type">FormUrlEncoded</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679108932"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-400"></span><span>    </span><span id="local-6989586621679108927"><span class="annot"><span class="annottext">mimeUnrender :: Proxy FormUrlEncoded -&gt; ByteString -&gt; Either String a
</span><a href="#local-6989586621679108927"><span class="hs-identifier hs-var hs-var hs-var hs-var">mimeUnrender</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy FormUrlEncoded
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; String) -&gt; Either Text a -&gt; Either String a
forall (a :: * -&gt; * -&gt; *) b c d.
ArrowChoice a =&gt;
a b c -&gt; a (Either b d) (Either c d)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">left</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">TextS.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">(Either Text a -&gt; Either String a)
-&gt; (ByteString -&gt; Either Text a) -&gt; ByteString -&gt; Either String a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either Text a
forall a. FromForm a =&gt; ByteString -&gt; Either Text a
</span><a href="../../../../http-api-data/html/src"><span class="hs-identifier hs-var">urlDecodeAsForm</span></a></span></span><span>
</span><span id="line-401"></span><span>
</span><span id="line-402"></span><span class="hs-comment">-- | @left show . TextL.decodeUtf8'@</span><span>
</span><span id="line-403"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679108922"><span class="annot"><a href="Servant.API.ContentTypes.html#MimeUnrender"><span class="hs-identifier hs-type">MimeUnrender</span></a></span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#PlainText"><span class="hs-identifier hs-type">PlainText</span></a></span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">TextL.Text</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-404"></span><span>    </span><span id="local-6989586621679108921"><span class="annot"><span class="annottext">mimeUnrender :: Proxy PlainText -&gt; ByteString -&gt; Either String Text
</span><a href="#local-6989586621679108921"><span class="hs-identifier hs-var hs-var hs-var hs-var">mimeUnrender</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy PlainText
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(UnicodeException -&gt; String)
-&gt; Either UnicodeException Text -&gt; Either String Text
forall (a :: * -&gt; * -&gt; *) b c d.
ArrowChoice a =&gt;
a b c -&gt; a (Either b d) (Either c d)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">left</span></a></span><span> </span><span class="annot"><span class="annottext">UnicodeException -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">(Either UnicodeException Text -&gt; Either String Text)
-&gt; (ByteString -&gt; Either UnicodeException Text)
-&gt; ByteString
-&gt; Either String Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either UnicodeException Text
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">TextL.decodeUtf8'</span></a></span><span>
</span><span id="line-405"></span><span>
</span><span id="line-406"></span><span class="hs-comment">-- | @left show . TextS.decodeUtf8' . toStrict@</span><span>
</span><span id="line-407"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679108915"><span class="annot"><a href="Servant.API.ContentTypes.html#MimeUnrender"><span class="hs-identifier hs-type">MimeUnrender</span></a></span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#PlainText"><span class="hs-identifier hs-type">PlainText</span></a></span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">TextS.Text</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-408"></span><span>    </span><span id="local-6989586621679108914"><span class="annot"><span class="annottext">mimeUnrender :: Proxy PlainText -&gt; ByteString -&gt; Either String Text
</span><a href="#local-6989586621679108914"><span class="hs-identifier hs-var hs-var hs-var hs-var">mimeUnrender</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy PlainText
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(UnicodeException -&gt; String)
-&gt; Either UnicodeException Text -&gt; Either String Text
forall (a :: * -&gt; * -&gt; *) b c d.
ArrowChoice a =&gt;
a b c -&gt; a (Either b d) (Either c d)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">left</span></a></span><span> </span><span class="annot"><span class="annottext">UnicodeException -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">(Either UnicodeException Text -&gt; Either String Text)
-&gt; (ByteString -&gt; Either UnicodeException Text)
-&gt; ByteString
-&gt; Either String Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either UnicodeException Text
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">TextS.decodeUtf8'</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Either UnicodeException Text)
-&gt; (ByteString -&gt; ByteString)
-&gt; ByteString
-&gt; Either UnicodeException Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">toStrict</span></a></span><span>
</span><span id="line-409"></span><span>
</span><span id="line-410"></span><span class="hs-comment">-- | @Right . BC.unpack@</span><span>
</span><span id="line-411"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679108909"><span class="annot"><a href="Servant.API.ContentTypes.html#MimeUnrender"><span class="hs-identifier hs-type">MimeUnrender</span></a></span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#PlainText"><span class="hs-identifier hs-type">PlainText</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-412"></span><span>    </span><span id="local-6989586621679108908"><span class="annot"><span class="annottext">mimeUnrender :: Proxy PlainText -&gt; ByteString -&gt; Either String String
</span><a href="#local-6989586621679108908"><span class="hs-identifier hs-var hs-var hs-var hs-var">mimeUnrender</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy PlainText
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Either String String
forall a b. b -&gt; Either a b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Either String String)
-&gt; (ByteString -&gt; String) -&gt; ByteString -&gt; Either String String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; String
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">BC.unpack</span></a></span><span>
</span><span id="line-413"></span><span>
</span><span id="line-414"></span><span class="hs-comment">-- | @Right . id@</span><span>
</span><span id="line-415"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679108903"><span class="annot"><a href="Servant.API.ContentTypes.html#MimeUnrender"><span class="hs-identifier hs-type">MimeUnrender</span></a></span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#OctetStream"><span class="hs-identifier hs-type">OctetStream</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-416"></span><span>    </span><span id="local-6989586621679108902"><span class="annot"><span class="annottext">mimeUnrender :: Proxy OctetStream -&gt; ByteString -&gt; Either String ByteString
</span><a href="#local-6989586621679108902"><span class="hs-identifier hs-var hs-var hs-var hs-var">mimeUnrender</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy OctetStream
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String ByteString
forall a b. b -&gt; Either a b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Either String ByteString)
-&gt; (ByteString -&gt; ByteString)
-&gt; ByteString
-&gt; Either String ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
forall a. a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-417"></span><span>
</span><span id="line-418"></span><span class="hs-comment">-- | @Right . toStrict@</span><span>
</span><span id="line-419"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679108898"><span class="annot"><a href="Servant.API.ContentTypes.html#MimeUnrender"><span class="hs-identifier hs-type">MimeUnrender</span></a></span><span> </span><span class="annot"><a href="Servant.API.ContentTypes.html#OctetStream"><span class="hs-identifier hs-type">OctetStream</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">BS.ByteString</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-420"></span><span>    </span><span id="local-6989586621679108897"><span class="annot"><span class="annottext">mimeUnrender :: Proxy OctetStream -&gt; ByteString -&gt; Either String ByteString
</span><a href="#local-6989586621679108897"><span class="hs-identifier hs-var hs-var hs-var hs-var">mimeUnrender</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy OctetStream
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String ByteString
forall a b. b -&gt; Either a b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Either String ByteString)
-&gt; (ByteString -&gt; ByteString)
-&gt; ByteString
-&gt; Either String ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">toStrict</span></a></span><span>
</span><span id="line-421"></span><span>
</span><span id="line-422"></span><span>
</span><span id="line-423"></span><span class="hs-comment">-- $setup</span><span>
</span><span id="line-424"></span><span class="hs-comment">-- &gt;&gt;&gt; :set -XFlexibleInstances</span><span>
</span><span id="line-425"></span><span class="hs-comment">-- &gt;&gt;&gt; :set -XMultiParamTypeClasses</span><span>
</span><span id="line-426"></span><span class="hs-comment">-- &gt;&gt;&gt; :set -XOverloadedStrings</span><span>
</span><span id="line-427"></span><span class="hs-comment">-- &gt;&gt;&gt; import Servant.API</span><span>
</span><span id="line-428"></span><span class="hs-comment">-- &gt;&gt;&gt; import Data.Aeson</span><span>
</span><span id="line-429"></span><span class="hs-comment">-- &gt;&gt;&gt; import Data.Text</span><span>
</span><span id="line-430"></span><span class="hs-comment">-- &gt;&gt;&gt; data Book</span><span>
</span><span id="line-431"></span><span class="hs-comment">-- &gt;&gt;&gt; instance ToJSON Book where { toJSON = undefined }</span><span>
</span><span id="line-432"></span></pre></body></html>