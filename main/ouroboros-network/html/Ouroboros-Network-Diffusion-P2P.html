<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Ouroboros.Network.Diffusion.P2P</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ouroboros-network-0.1.0.1: A networking layer for the Ouroboros blockchain protocol</span><ul class="links" id="page-menu"><li><a href="src/Ouroboros.Network.Diffusion.P2P.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Ouroboros.Network.Diffusion.P2P</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module is expected to be imported qualified (it will clash
 with the <a href="Ouroboros-Network-Diffusion-NonP2P.html">Ouroboros.Network.Diffusion.NonP2P</a>).</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:TracersExtra">TracersExtra</a> ntnAddr ntnVersion ntnVersionData ntcAddr ntcVersion ntcVersionData resolverError m = <a href="#v:TracersExtra">TracersExtra</a> {<ul class="subs"><li><a href="#v:dtTraceLocalRootPeersTracer">dtTraceLocalRootPeersTracer</a> :: <a href="../../contra-tracer/html/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Network-PeerSelection-RootPeersDNS.html#t:TraceLocalRootPeers" title="Ouroboros.Network.PeerSelection.RootPeersDNS">TraceLocalRootPeers</a> ntnAddr resolverError)</li><li><a href="#v:dtTracePublicRootPeersTracer">dtTracePublicRootPeersTracer</a> :: <a href="../../contra-tracer/html/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m <a href="Ouroboros-Network-PeerSelection-RootPeersDNS.html#t:TracePublicRootPeers" title="Ouroboros.Network.PeerSelection.RootPeersDNS">TracePublicRootPeers</a></li><li><a href="#v:dtTracePeerSelectionTracer">dtTracePeerSelectionTracer</a> :: <a href="../../contra-tracer/html/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Network-PeerSelection-Governor.html#t:TracePeerSelection" title="Ouroboros.Network.PeerSelection.Governor">TracePeerSelection</a> ntnAddr)</li><li><a href="#v:dtDebugPeerSelectionInitiatorTracer">dtDebugPeerSelectionInitiatorTracer</a> :: <a href="../../contra-tracer/html/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Network-PeerSelection-Governor.html#t:DebugPeerSelection" title="Ouroboros.Network.PeerSelection.Governor">DebugPeerSelection</a> ntnAddr (<a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerConnectionHandle" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerConnectionHandle</a> <a href="../../network-mux/html/Network-Mux-Types.html#v:InitiatorMode" title="Network.Mux.Types">InitiatorMode</a> ntnAddr <a href="../../bytestring/html/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> m () <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Void.html#t:Void" title="Data.Void">Void</a>))</li><li><a href="#v:dtDebugPeerSelectionInitiatorResponderTracer">dtDebugPeerSelectionInitiatorResponderTracer</a> :: <a href="../../contra-tracer/html/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Network-PeerSelection-Governor.html#t:DebugPeerSelection" title="Ouroboros.Network.PeerSelection.Governor">DebugPeerSelection</a> ntnAddr (<a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerConnectionHandle" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerConnectionHandle</a> <a href="../../network-mux/html/Network-Mux-Types.html#v:InitiatorResponderMode" title="Network.Mux.Types">InitiatorResponderMode</a> ntnAddr <a href="../../bytestring/html/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> m () ()))</li><li><a href="#v:dtTracePeerSelectionCounters">dtTracePeerSelectionCounters</a> :: <a href="../../contra-tracer/html/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionCounters" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionCounters</a></li><li><a href="#v:dtPeerSelectionActionsTracer">dtPeerSelectionActionsTracer</a> :: <a href="../../contra-tracer/html/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerSelectionActionsTrace" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerSelectionActionsTrace</a> ntnAddr)</li><li><a href="#v:dtConnectionManagerTracer">dtConnectionManagerTracer</a> :: <a href="../../contra-tracer/html/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="../../ouroboros-network-framework/html/Ouroboros-Network-ConnectionManager-Types.html#t:ConnectionManagerTrace" title="Ouroboros.Network.ConnectionManager.Types">ConnectionManagerTrace</a> ntnAddr (<a href="../../ouroboros-network-framework/html/Ouroboros-Network-ConnectionHandler.html#t:ConnectionHandlerTrace" title="Ouroboros.Network.ConnectionHandler">ConnectionHandlerTrace</a> ntnVersion ntnVersionData))</li><li><a href="#v:dtConnectionManagerTransitionTracer">dtConnectionManagerTransitionTracer</a> :: <a href="../../contra-tracer/html/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Network-Diffusion-P2P.html#t:AbstractTransitionTrace" title="Ouroboros.Network.Diffusion.P2P">AbstractTransitionTrace</a> ntnAddr)</li><li><a href="#v:dtServerTracer">dtServerTracer</a> :: <a href="../../contra-tracer/html/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="../../ouroboros-network-framework/html/Ouroboros-Network-Server2.html#t:ServerTrace" title="Ouroboros.Network.Server2">ServerTrace</a> ntnAddr)</li><li><a href="#v:dtInboundGovernorTracer">dtInboundGovernorTracer</a> :: <a href="../../contra-tracer/html/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="../../ouroboros-network-framework/html/Ouroboros-Network-InboundGovernor.html#t:InboundGovernorTrace" title="Ouroboros.Network.InboundGovernor">InboundGovernorTrace</a> ntnAddr)</li><li><a href="#v:dtInboundGovernorTransitionTracer">dtInboundGovernorTransitionTracer</a> :: <a href="../../contra-tracer/html/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Network-Diffusion-P2P.html#t:RemoteTransitionTrace" title="Ouroboros.Network.Diffusion.P2P">RemoteTransitionTrace</a> ntnAddr)</li><li><a href="#v:dtLocalConnectionManagerTracer">dtLocalConnectionManagerTracer</a> :: <a href="../../contra-tracer/html/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="../../ouroboros-network-framework/html/Ouroboros-Network-ConnectionManager-Types.html#t:ConnectionManagerTrace" title="Ouroboros.Network.ConnectionManager.Types">ConnectionManagerTrace</a> ntcAddr (<a href="../../ouroboros-network-framework/html/Ouroboros-Network-ConnectionHandler.html#t:ConnectionHandlerTrace" title="Ouroboros.Network.ConnectionHandler">ConnectionHandlerTrace</a> ntcVersion ntcVersionData))</li><li><a href="#v:dtLocalServerTracer">dtLocalServerTracer</a> :: <a href="../../contra-tracer/html/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="../../ouroboros-network-framework/html/Ouroboros-Network-Server2.html#t:ServerTrace" title="Ouroboros.Network.Server2">ServerTrace</a> ntcAddr)</li><li><a href="#v:dtLocalInboundGovernorTracer">dtLocalInboundGovernorTracer</a> :: <a href="../../contra-tracer/html/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="../../ouroboros-network-framework/html/Ouroboros-Network-InboundGovernor.html#t:InboundGovernorTrace" title="Ouroboros.Network.InboundGovernor">InboundGovernorTrace</a> ntcAddr)</li></ul>}</li><li class="src short"><a href="#v:nullTracers">nullTracers</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:TracersExtra" title="Ouroboros.Network.Diffusion.P2P">TracersExtra</a> ntnAddr ntnVersion ntnVersionData ntcAddr ntcVersion ntcVersionData resolverError m</li><li class="src short"><span class="keyword">data</span> <a href="#t:ArgumentsExtra">ArgumentsExtra</a> m = <a href="#v:ArgumentsExtra">ArgumentsExtra</a> {<ul class="subs"><li><a href="#v:daPeerSelectionTargets">daPeerSelectionTargets</a> :: <a href="Ouroboros-Network-PeerSelection-Simple.html#t:PeerSelectionTargets" title="Ouroboros.Network.PeerSelection.Simple">PeerSelectionTargets</a></li><li><a href="#v:daReadLocalRootPeers">daReadLocalRootPeers</a> :: <a href="../../io-classes/html/Control-Monad-Class-MonadSTM.html#t:STM" title="Control.Monad.Class.MonadSTM">STM</a> m [(<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="../../cardano-prelude/html/Cardano-Prelude.html#t:Map" title="Cardano.Prelude">Map</a> <a href="Ouroboros-Network-PeerSelection-RelayAccessPoint.html#t:RelayAccessPoint" title="Ouroboros.Network.PeerSelection.RelayAccessPoint">RelayAccessPoint</a> <a href="Ouroboros-Network-PeerSelection-Types.html#t:PeerAdvertise" title="Ouroboros.Network.PeerSelection.Types">PeerAdvertise</a>)]</li><li><a href="#v:daReadPublicRootPeers">daReadPublicRootPeers</a> :: <a href="../../io-classes/html/Control-Monad-Class-MonadSTM.html#t:STM" title="Control.Monad.Class.MonadSTM">STM</a> m [<a href="Ouroboros-Network-PeerSelection-RelayAccessPoint.html#t:RelayAccessPoint" title="Ouroboros.Network.PeerSelection.RelayAccessPoint">RelayAccessPoint</a>]</li><li><a href="#v:daReadUseLedgerAfter">daReadUseLedgerAfter</a> :: <a href="../../io-classes/html/Control-Monad-Class-MonadSTM.html#t:STM" title="Control.Monad.Class.MonadSTM">STM</a> m <a href="Ouroboros-Network-PeerSelection-LedgerPeers.html#t:UseLedgerAfter" title="Ouroboros.Network.PeerSelection.LedgerPeers">UseLedgerAfter</a></li><li><a href="#v:daProtocolIdleTimeout">daProtocolIdleTimeout</a> :: <a href="../../io-classes/html/Control-Monad-Class-MonadTime.html#t:DiffTime" title="Control.Monad.Class.MonadTime">DiffTime</a></li><li><a href="#v:daTimeWaitTimeout">daTimeWaitTimeout</a> :: <a href="../../io-classes/html/Control-Monad-Class-MonadTime.html#t:DiffTime" title="Control.Monad.Class.MonadTime">DiffTime</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:AcceptedConnectionsLimit">AcceptedConnectionsLimit</a> = <a href="#v:AcceptedConnectionsLimit">AcceptedConnectionsLimit</a> {<ul class="subs"><li><a href="#v:acceptedConnectionsHardLimit">acceptedConnectionsHardLimit</a> :: !<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word32" title="Data.Word">Word32</a></li><li><a href="#v:acceptedConnectionsSoftLimit">acceptedConnectionsSoftLimit</a> :: !<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word32" title="Data.Word">Word32</a></li><li><a href="#v:acceptedConnectionsDelay">acceptedConnectionsDelay</a> :: !<a href="../../io-classes/html/Control-Monad-Class-MonadTime.html#t:DiffTime" title="Control.Monad.Class.MonadTime">DiffTime</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:ApplicationsExtra">ApplicationsExtra</a> ntnAddr m = <a href="#v:ApplicationsExtra">ApplicationsExtra</a> {<ul class="subs"><li><a href="#v:daRethrowPolicy">daRethrowPolicy</a> :: <a href="../../ouroboros-network-framework/html/Ouroboros-Network-RethrowPolicy.html#t:RethrowPolicy" title="Ouroboros.Network.RethrowPolicy">RethrowPolicy</a></li><li><a href="#v:daLocalRethrowPolicy">daLocalRethrowPolicy</a> :: <a href="../../ouroboros-network-framework/html/Ouroboros-Network-RethrowPolicy.html#t:RethrowPolicy" title="Ouroboros.Network.RethrowPolicy">RethrowPolicy</a></li><li><a href="#v:daPeerMetrics">daPeerMetrics</a> :: <a href="Ouroboros-Network-PeerSelection-PeerMetric.html#t:PeerMetrics" title="Ouroboros.Network.PeerSelection.PeerMetric">PeerMetrics</a> m ntnAddr</li><li><a href="#v:daBlockFetchMode">daBlockFetchMode</a> :: <a href="../../io-classes/html/Control-Monad-Class-MonadSTM.html#t:STM" title="Control.Monad.Class.MonadSTM">STM</a> m <a href="Ouroboros-Network-BlockFetch-Decision.html#t:FetchMode" title="Ouroboros.Network.BlockFetch.Decision">FetchMode</a></li></ul>}</li><li class="src short"><a href="#v:run">run</a> :: <a href="Ouroboros-Network-Diffusion.html#t:Tracers" title="Ouroboros.Network.Diffusion">Tracers</a> <a href="Ouroboros-Network-NodeToNode.html#t:RemoteAddress" title="Ouroboros.Network.NodeToNode">RemoteAddress</a> <a href="Ouroboros-Network-NodeToNode-Version.html#t:NodeToNodeVersion" title="Ouroboros.Network.NodeToNode.Version">NodeToNodeVersion</a> <a href="Ouroboros-Network-NodeToClient.html#t:LocalAddress" title="Ouroboros.Network.NodeToClient">LocalAddress</a> <a href="Ouroboros-Network-NodeToClient-Version.html#t:NodeToClientVersion" title="Ouroboros.Network.NodeToClient.Version">NodeToClientVersion</a> <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:TracersExtra" title="Ouroboros.Network.Diffusion.P2P">TracersExtra</a> <a href="Ouroboros-Network-NodeToNode.html#t:RemoteAddress" title="Ouroboros.Network.NodeToNode">RemoteAddress</a> <a href="Ouroboros-Network-NodeToNode-Version.html#t:NodeToNodeVersion" title="Ouroboros.Network.NodeToNode.Version">NodeToNodeVersion</a> <a href="Ouroboros-Network-NodeToNode-Version.html#t:NodeToNodeVersionData" title="Ouroboros.Network.NodeToNode.Version">NodeToNodeVersionData</a> <a href="Ouroboros-Network-NodeToClient.html#t:LocalAddress" title="Ouroboros.Network.NodeToClient">LocalAddress</a> <a href="Ouroboros-Network-NodeToClient-Version.html#t:NodeToClientVersion" title="Ouroboros.Network.NodeToClient.Version">NodeToClientVersion</a> <a href="Ouroboros-Network-NodeToClient-Version.html#t:NodeToClientVersionData" title="Ouroboros.Network.NodeToClient.Version">NodeToClientVersionData</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Exception-Base.html#t:IOException" title="Control.Exception.Base">IOException</a> <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> -&gt; <a href="Ouroboros-Network-Diffusion.html#t:Arguments" title="Ouroboros.Network.Diffusion">Arguments</a> <a href="Ouroboros-Network-NodeToNode.html#t:Socket" title="Ouroboros.Network.NodeToNode">Socket</a> <a href="Ouroboros-Network-NodeToNode.html#t:RemoteAddress" title="Ouroboros.Network.NodeToNode">RemoteAddress</a> <a href="Ouroboros-Network-NodeToClient.html#t:LocalSocket" title="Ouroboros.Network.NodeToClient">LocalSocket</a> <a href="Ouroboros-Network-NodeToClient.html#t:LocalAddress" title="Ouroboros.Network.NodeToClient">LocalAddress</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:ArgumentsExtra" title="Ouroboros.Network.Diffusion.P2P">ArgumentsExtra</a> <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> -&gt; <a href="Ouroboros-Network-Diffusion.html#t:Applications" title="Ouroboros.Network.Diffusion">Applications</a> <a href="Ouroboros-Network-NodeToNode.html#t:RemoteAddress" title="Ouroboros.Network.NodeToNode">RemoteAddress</a> <a href="Ouroboros-Network-NodeToNode-Version.html#t:NodeToNodeVersion" title="Ouroboros.Network.NodeToNode.Version">NodeToNodeVersion</a> <a href="Ouroboros-Network-NodeToNode-Version.html#t:NodeToNodeVersionData" title="Ouroboros.Network.NodeToNode.Version">NodeToNodeVersionData</a> <a href="Ouroboros-Network-NodeToClient.html#t:LocalAddress" title="Ouroboros.Network.NodeToClient">LocalAddress</a> <a href="Ouroboros-Network-NodeToClient-Version.html#t:NodeToClientVersion" title="Ouroboros.Network.NodeToClient.Version">NodeToClientVersion</a> <a href="Ouroboros-Network-NodeToClient-Version.html#t:NodeToClientVersionData" title="Ouroboros.Network.NodeToClient.Version">NodeToClientVersionData</a> <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:ApplicationsExtra" title="Ouroboros.Network.Diffusion.P2P">ApplicationsExtra</a> <a href="Ouroboros-Network-NodeToNode.html#t:RemoteAddress" title="Ouroboros.Network.NodeToNode">RemoteAddress</a> <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Void.html#t:Void" title="Data.Void">Void</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Interfaces">Interfaces</a> ntnFd ntnAddr ntnVersion ntnVersionData ntcFd ntcAddr ntcVersion ntcVersionData resolver resolverError m = <a href="#v:Interfaces">Interfaces</a> {<ul class="subs"><li><a href="#v:diNtnSnocket">diNtnSnocket</a> :: <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Snocket.html#t:Snocket" title="Ouroboros.Network.Snocket">Snocket</a> m ntnFd ntnAddr</li><li><a href="#v:diNtnHandshakeArguments">diNtnHandshakeArguments</a> :: <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake.html#t:HandshakeArguments" title="Ouroboros.Network.Protocol.Handshake">HandshakeArguments</a> (<a href="Ouroboros-Network-NodeToClient.html#t:ConnectionId" title="Ouroboros.Network.NodeToClient">ConnectionId</a> ntnAddr) ntnVersion ntnVersionData m</li><li><a href="#v:diNtnAddressType">diNtnAddressType</a> :: ntnAddr -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../../ouroboros-network-framework/html/Ouroboros-Network-ConnectionManager-Types.html#t:AddressType" title="Ouroboros.Network.ConnectionManager.Types">AddressType</a></li><li><a href="#v:diNtnDataFlow">diNtnDataFlow</a> :: ntnVersion -&gt; ntnVersionData -&gt; <a href="../../ouroboros-network-framework/html/Ouroboros-Network-ConnectionManager-Types.html#t:DataFlow" title="Ouroboros.Network.ConnectionManager.Types">DataFlow</a></li><li><a href="#v:diNtnToPeerAddr">diNtnToPeerAddr</a> :: <a href="Ouroboros-Network-PeerSelection-RelayAccessPoint.html#t:IP" title="Ouroboros.Network.PeerSelection.RelayAccessPoint">IP</a> -&gt; <a href="Ouroboros-Network-PeerSelection-RelayAccessPoint.html#t:PortNumber" title="Ouroboros.Network.PeerSelection.RelayAccessPoint">PortNumber</a> -&gt; ntnAddr</li><li><a href="#v:diNtnDomainResolver">diNtnDomainResolver</a> :: <a href="Ouroboros-Network-PeerSelection-RootPeersDNS-DNSActions.html#t:LookupReqs" title="Ouroboros.Network.PeerSelection.RootPeersDNS.DNSActions">LookupReqs</a> -&gt; [<a href="Ouroboros-Network-PeerSelection-RelayAccessPoint.html#t:DomainAccessPoint" title="Ouroboros.Network.PeerSelection.RelayAccessPoint">DomainAccessPoint</a>] -&gt; m (<a href="../../cardano-prelude/html/Cardano-Prelude.html#t:Map" title="Cardano.Prelude">Map</a> <a href="Ouroboros-Network-PeerSelection-RelayAccessPoint.html#t:DomainAccessPoint" title="Ouroboros.Network.PeerSelection.RelayAccessPoint">DomainAccessPoint</a> (<a href="../../cardano-prelude/html/Cardano-Prelude.html#t:Set" title="Cardano.Prelude">Set</a> ntnAddr))</li><li><a href="#v:diNtcSnocket">diNtcSnocket</a> :: <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Snocket.html#t:Snocket" title="Ouroboros.Network.Snocket">Snocket</a> m ntcFd ntcAddr</li><li><a href="#v:diNtcHandshakeArguments">diNtcHandshakeArguments</a> :: <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake.html#t:HandshakeArguments" title="Ouroboros.Network.Protocol.Handshake">HandshakeArguments</a> (<a href="Ouroboros-Network-NodeToClient.html#t:ConnectionId" title="Ouroboros.Network.NodeToClient">ConnectionId</a> ntcAddr) ntcVersion ntcVersionData m</li><li><a href="#v:diNtcGetFileDescriptor">diNtcGetFileDescriptor</a> :: ntcFd -&gt; m <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Snocket.html#t:FileDescriptor" title="Ouroboros.Network.Snocket">FileDescriptor</a></li><li><a href="#v:diRng">diRng</a> :: <a href="../../MonadRandom/html/Control-Monad-Random-Lazy.html#t:StdGen" title="Control.Monad.Random.Lazy">StdGen</a></li><li><a href="#v:diInstallSigUSR1Handler">diInstallSigUSR1Handler</a> :: <span class="keyword">forall</span> mode x. NodeToNodeConnectionManager mode ntnFd ntnAddr ntnVersion m x -&gt; m ()</li><li><a href="#v:diDnsActions">diDnsActions</a> :: <a href="Ouroboros-Network-PeerSelection-RootPeersDNS-DNSActions.html#t:LookupReqs" title="Ouroboros.Network.PeerSelection.RootPeersDNS.DNSActions">LookupReqs</a> -&gt; <a href="Ouroboros-Network-PeerSelection-RootPeersDNS-DNSActions.html#t:DNSActions" title="Ouroboros.Network.PeerSelection.RootPeersDNS.DNSActions">DNSActions</a> resolver resolverError m</li></ul>}</li><li class="src short"><a href="#v:runM">runM</a> :: <span class="keyword">forall</span> m ntnFd ntnAddr ntnVersion ntnVersionData ntcFd ntcAddr ntcVersion ntcVersionData resolver resolverError. (<a href="../../io-classes/html/Control-Monad-Class-MonadAsync.html#t:MonadAsync" title="Control.Monad.Class.MonadAsync">MonadAsync</a> m, <a href="../../io-classes/html/Control-Monad-Class-MonadThrow.html#t:MonadEvaluate" title="Control.Monad.Class.MonadThrow">MonadEvaluate</a> m, <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-Fix.html#t:MonadFix" title="Control.Monad.Fix">MonadFix</a> m, <a href="../../io-classes/html/Control-Monad-Class-MonadFork.html#t:MonadFork" title="Control.Monad.Class.MonadFork">MonadFork</a> m, <a href="../../io-classes/html/Control-Monad-Class-MonadSTM.html#t:MonadLabelledSTM" title="Control.Monad.Class.MonadSTM">MonadLabelledSTM</a> m, <a href="../../io-classes/html/Control-Monad-Class-MonadSTM.html#t:MonadTraceSTM" title="Control.Monad.Class.MonadSTM">MonadTraceSTM</a> m, <a href="../../io-classes/html/Control-Monad-Class-MonadThrow.html#t:MonadMask" title="Control.Monad.Class.MonadThrow">MonadMask</a> m, <a href="../../io-classes/html/Control-Monad-Class-MonadThrow.html#t:MonadThrow" title="Control.Monad.Class.MonadThrow">MonadThrow</a> (<a href="../../io-classes/html/Control-Monad-Class-MonadSTM.html#t:STM" title="Control.Monad.Class.MonadSTM">STM</a> m), <a href="../../io-classes/html/Control-Monad-Class-MonadTime.html#t:MonadTime" title="Control.Monad.Class.MonadTime">MonadTime</a> m, <a href="../../io-classes/html/Control-Monad-Class-MonadTimer.html#t:MonadTimer" title="Control.Monad.Class.MonadTimer">MonadTimer</a> m, <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="../../io-classes/html/Control-Monad-Class-MonadAsync.html#t:Async" title="Control.Monad.Class.MonadAsync">Async</a> m <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Void.html#t:Void" title="Data.Void">Void</a>), <a href="../../ghc/html/libraries/base-4.14.3.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> ntnAddr, <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> ntnAddr, <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> ntnAddr, <a href="../../ghc/html/libraries/base-4.14.3.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> ntnVersion, <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> ntnVersion, <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> ntnVersion, <a href="../../ghc/html/libraries/base-4.14.3.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> ntcAddr, <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> ntcAddr, <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> ntcAddr, <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> ntcVersion, <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> resolverError) =&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:Interfaces" title="Ouroboros.Network.Diffusion.P2P">Interfaces</a> ntnFd ntnAddr ntnVersion ntnVersionData ntcFd ntcAddr ntcVersion ntcVersionData resolver resolverError m -&gt; <a href="Ouroboros-Network-Diffusion.html#t:Tracers" title="Ouroboros.Network.Diffusion">Tracers</a> ntnAddr ntnVersion ntcAddr ntcVersion m -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:TracersExtra" title="Ouroboros.Network.Diffusion.P2P">TracersExtra</a> ntnAddr ntnVersion ntnVersionData ntcAddr ntcVersion ntcVersionData resolverError m -&gt; <a href="Ouroboros-Network-Diffusion.html#t:Arguments" title="Ouroboros.Network.Diffusion">Arguments</a> ntnFd ntnAddr ntcFd ntcAddr -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:ArgumentsExtra" title="Ouroboros.Network.Diffusion.P2P">ArgumentsExtra</a> m -&gt; <a href="Ouroboros-Network-Diffusion.html#t:Applications" title="Ouroboros.Network.Diffusion">Applications</a> ntnAddr ntnVersion ntnVersionData ntcAddr ntcVersion ntcVersionData m -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:ApplicationsExtra" title="Ouroboros.Network.Diffusion.P2P">ApplicationsExtra</a> ntnAddr m -&gt; m <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Void.html#t:Void" title="Data.Void">Void</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:NodeToNodePeerConnectionHandle">NodeToNodePeerConnectionHandle</a> (mode :: <a href="../../network-mux/html/Network-Mux-Types.html#t:MuxMode" title="Network.Mux.Types">MuxMode</a>) ntnAddr m a = <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerConnectionHandle" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerConnectionHandle</a> mode ntnAddr <a href="../../bytestring/html/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> m () a</li><li class="src short"><span class="keyword">type</span> <a href="#t:AbstractTransitionTrace">AbstractTransitionTrace</a> peerAddr = <a href="../../ouroboros-network-framework/html/Ouroboros-Network-ConnectionManager-Types.html#t:TransitionTrace-39-" title="Ouroboros.Network.ConnectionManager.Types">TransitionTrace'</a> peerAddr <a href="../../ouroboros-network-framework/html/Ouroboros-Network-ConnectionManager-Types.html#t:AbstractState" title="Ouroboros.Network.ConnectionManager.Types">AbstractState</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:RemoteTransitionTrace">RemoteTransitionTrace</a> peerAddr = <a href="../../ouroboros-network-framework/html/Ouroboros-Network-ConnectionManager-Types.html#t:TransitionTrace-39-" title="Ouroboros.Network.ConnectionManager.Types">TransitionTrace'</a> peerAddr (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../../ouroboros-network-framework/html/Ouroboros-Network-InboundGovernor.html#t:RemoteSt" title="Ouroboros.Network.InboundGovernor">RemoteSt</a>)</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TracersExtra" class="def">TracersExtra</a> ntnAddr ntnVersion ntnVersionData ntcAddr ntcVersion ntcVersionData resolverError m <a href="src/Ouroboros.Network.Diffusion.P2P.html#TracersExtra" class="link">Source</a> <a href="#t:TracersExtra" class="selflink">#</a></p><div class="doc"><p>P2P DiffusionTracers Extras</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:TracersExtra" class="def">TracersExtra</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:dtTraceLocalRootPeersTracer" class="def">dtTraceLocalRootPeersTracer</a> :: <a href="../../contra-tracer/html/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Network-PeerSelection-RootPeersDNS.html#t:TraceLocalRootPeers" title="Ouroboros.Network.PeerSelection.RootPeersDNS">TraceLocalRootPeers</a> ntnAddr resolverError)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:dtTracePublicRootPeersTracer" class="def">dtTracePublicRootPeersTracer</a> :: <a href="../../contra-tracer/html/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m <a href="Ouroboros-Network-PeerSelection-RootPeersDNS.html#t:TracePublicRootPeers" title="Ouroboros.Network.PeerSelection.RootPeersDNS">TracePublicRootPeers</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:dtTracePeerSelectionTracer" class="def">dtTracePeerSelectionTracer</a> :: <a href="../../contra-tracer/html/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Network-PeerSelection-Governor.html#t:TracePeerSelection" title="Ouroboros.Network.PeerSelection.Governor">TracePeerSelection</a> ntnAddr)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:dtDebugPeerSelectionInitiatorTracer" class="def">dtDebugPeerSelectionInitiatorTracer</a> :: <a href="../../contra-tracer/html/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Network-PeerSelection-Governor.html#t:DebugPeerSelection" title="Ouroboros.Network.PeerSelection.Governor">DebugPeerSelection</a> ntnAddr (<a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerConnectionHandle" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerConnectionHandle</a> <a href="../../network-mux/html/Network-Mux-Types.html#v:InitiatorMode" title="Network.Mux.Types">InitiatorMode</a> ntnAddr <a href="../../bytestring/html/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> m () <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Void.html#t:Void" title="Data.Void">Void</a>))</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:dtDebugPeerSelectionInitiatorResponderTracer" class="def">dtDebugPeerSelectionInitiatorResponderTracer</a> :: <a href="../../contra-tracer/html/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Network-PeerSelection-Governor.html#t:DebugPeerSelection" title="Ouroboros.Network.PeerSelection.Governor">DebugPeerSelection</a> ntnAddr (<a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerConnectionHandle" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerConnectionHandle</a> <a href="../../network-mux/html/Network-Mux-Types.html#v:InitiatorResponderMode" title="Network.Mux.Types">InitiatorResponderMode</a> ntnAddr <a href="../../bytestring/html/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> m () ()))</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:dtTracePeerSelectionCounters" class="def">dtTracePeerSelectionCounters</a> :: <a href="../../contra-tracer/html/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m <a href="Ouroboros-Network-PeerSelection-Governor.html#t:PeerSelectionCounters" title="Ouroboros.Network.PeerSelection.Governor">PeerSelectionCounters</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:dtPeerSelectionActionsTracer" class="def">dtPeerSelectionActionsTracer</a> :: <a href="../../contra-tracer/html/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerSelectionActionsTrace" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerSelectionActionsTrace</a> ntnAddr)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:dtConnectionManagerTracer" class="def">dtConnectionManagerTracer</a> :: <a href="../../contra-tracer/html/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="../../ouroboros-network-framework/html/Ouroboros-Network-ConnectionManager-Types.html#t:ConnectionManagerTrace" title="Ouroboros.Network.ConnectionManager.Types">ConnectionManagerTrace</a> ntnAddr (<a href="../../ouroboros-network-framework/html/Ouroboros-Network-ConnectionHandler.html#t:ConnectionHandlerTrace" title="Ouroboros.Network.ConnectionHandler">ConnectionHandlerTrace</a> ntnVersion ntnVersionData))</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:dtConnectionManagerTransitionTracer" class="def">dtConnectionManagerTransitionTracer</a> :: <a href="../../contra-tracer/html/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Network-Diffusion-P2P.html#t:AbstractTransitionTrace" title="Ouroboros.Network.Diffusion.P2P">AbstractTransitionTrace</a> ntnAddr)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:dtServerTracer" class="def">dtServerTracer</a> :: <a href="../../contra-tracer/html/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="../../ouroboros-network-framework/html/Ouroboros-Network-Server2.html#t:ServerTrace" title="Ouroboros.Network.Server2">ServerTrace</a> ntnAddr)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:dtInboundGovernorTracer" class="def">dtInboundGovernorTracer</a> :: <a href="../../contra-tracer/html/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="../../ouroboros-network-framework/html/Ouroboros-Network-InboundGovernor.html#t:InboundGovernorTrace" title="Ouroboros.Network.InboundGovernor">InboundGovernorTrace</a> ntnAddr)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:dtInboundGovernorTransitionTracer" class="def">dtInboundGovernorTransitionTracer</a> :: <a href="../../contra-tracer/html/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Network-Diffusion-P2P.html#t:RemoteTransitionTrace" title="Ouroboros.Network.Diffusion.P2P">RemoteTransitionTrace</a> ntnAddr)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:dtLocalConnectionManagerTracer" class="def">dtLocalConnectionManagerTracer</a> :: <a href="../../contra-tracer/html/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="../../ouroboros-network-framework/html/Ouroboros-Network-ConnectionManager-Types.html#t:ConnectionManagerTrace" title="Ouroboros.Network.ConnectionManager.Types">ConnectionManagerTrace</a> ntcAddr (<a href="../../ouroboros-network-framework/html/Ouroboros-Network-ConnectionHandler.html#t:ConnectionHandlerTrace" title="Ouroboros.Network.ConnectionHandler">ConnectionHandlerTrace</a> ntcVersion ntcVersionData))</dfn><div class="doc"><p>Connection manager tracer for local clients</p></div></li><li><dfn class="src"><a id="v:dtLocalServerTracer" class="def">dtLocalServerTracer</a> :: <a href="../../contra-tracer/html/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="../../ouroboros-network-framework/html/Ouroboros-Network-Server2.html#t:ServerTrace" title="Ouroboros.Network.Server2">ServerTrace</a> ntcAddr)</dfn><div class="doc"><p>Server tracer for local clients</p></div></li><li><dfn class="src"><a id="v:dtLocalInboundGovernorTracer" class="def">dtLocalInboundGovernorTracer</a> :: <a href="../../contra-tracer/html/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="../../ouroboros-network-framework/html/Ouroboros-Network-InboundGovernor.html#t:InboundGovernorTrace" title="Ouroboros.Network.InboundGovernor">InboundGovernorTrace</a> ntcAddr)</dfn><div class="doc"><p>Inbound protocol governor tracer for local clients</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:nullTracers" class="def">nullTracers</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> m =&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:TracersExtra" title="Ouroboros.Network.Diffusion.P2P">TracersExtra</a> ntnAddr ntnVersion ntnVersionData ntcAddr ntcVersion ntcVersionData resolverError m <a href="src/Ouroboros.Network.Diffusion.P2P.html#nullTracers" class="link">Source</a> <a href="#v:nullTracers" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ArgumentsExtra" class="def">ArgumentsExtra</a> m <a href="src/Ouroboros.Network.Diffusion.P2P.html#ArgumentsExtra" class="link">Source</a> <a href="#t:ArgumentsExtra" class="selflink">#</a></p><div class="doc"><p>P2P Arguments Extras</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ArgumentsExtra" class="def">ArgumentsExtra</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:daPeerSelectionTargets" class="def">daPeerSelectionTargets</a> :: <a href="Ouroboros-Network-PeerSelection-Simple.html#t:PeerSelectionTargets" title="Ouroboros.Network.PeerSelection.Simple">PeerSelectionTargets</a></dfn><div class="doc"><p>selection targets for the peer governor</p></div></li><li><dfn class="src"><a id="v:daReadLocalRootPeers" class="def">daReadLocalRootPeers</a> :: <a href="../../io-classes/html/Control-Monad-Class-MonadSTM.html#t:STM" title="Control.Monad.Class.MonadSTM">STM</a> m [(<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="../../cardano-prelude/html/Cardano-Prelude.html#t:Map" title="Cardano.Prelude">Map</a> <a href="Ouroboros-Network-PeerSelection-RelayAccessPoint.html#t:RelayAccessPoint" title="Ouroboros.Network.PeerSelection.RelayAccessPoint">RelayAccessPoint</a> <a href="Ouroboros-Network-PeerSelection-Types.html#t:PeerAdvertise" title="Ouroboros.Network.PeerSelection.Types">PeerAdvertise</a>)]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:daReadPublicRootPeers" class="def">daReadPublicRootPeers</a> :: <a href="../../io-classes/html/Control-Monad-Class-MonadSTM.html#t:STM" title="Control.Monad.Class.MonadSTM">STM</a> m [<a href="Ouroboros-Network-PeerSelection-RelayAccessPoint.html#t:RelayAccessPoint" title="Ouroboros.Network.PeerSelection.RelayAccessPoint">RelayAccessPoint</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:daReadUseLedgerAfter" class="def">daReadUseLedgerAfter</a> :: <a href="../../io-classes/html/Control-Monad-Class-MonadSTM.html#t:STM" title="Control.Monad.Class.MonadSTM">STM</a> m <a href="Ouroboros-Network-PeerSelection-LedgerPeers.html#t:UseLedgerAfter" title="Ouroboros.Network.PeerSelection.LedgerPeers">UseLedgerAfter</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:daProtocolIdleTimeout" class="def">daProtocolIdleTimeout</a> :: <a href="../../io-classes/html/Control-Monad-Class-MonadTime.html#t:DiffTime" title="Control.Monad.Class.MonadTime">DiffTime</a></dfn><div class="doc"><p>Timeout which starts once all responder protocols are idle. If the
 responders stay idle for duration of the timeout, the connection will
 be demoted, if it wasn't used by the p2p-governor it will be closed.</p><p>Applies to <code><a href="../../ouroboros-network-framework/html/Ouroboros-Network-ConnectionManager-Types.html#v:Unidirectional" title="Ouroboros.Network.ConnectionManager.Types">Unidirectional</a></code> as well as <code><a href="../../ouroboros-network-framework/html/Ouroboros-Network-ConnectionManager-Types.html#v:Duplex" title="Ouroboros.Network.ConnectionManager.Types">Duplex</a></code> <em>node-to-node</em>
 connections.</p><p>See <code>serverProtocolIdleTimeout</code>.</p></div></li><li><dfn class="src"><a id="v:daTimeWaitTimeout" class="def">daTimeWaitTimeout</a> :: <a href="../../io-classes/html/Control-Monad-Class-MonadTime.html#t:DiffTime" title="Control.Monad.Class.MonadTime">DiffTime</a></dfn><div class="doc"><p>Time for which <em>node-to-node</em> connections are kept in
 <code><a href="../../ouroboros-network-framework/html/Ouroboros-Network-ConnectionManager-Core.html#v:TerminatingState" title="Ouroboros.Network.ConnectionManager.Core">TerminatingState</a></code>, it should correspond to the OS configured <code>TCP</code>
 <code>TIME_WAIT</code> timeout.</p><p>This timeout will apply to after a connection has been closed, its
 purpose is to be resilient for delayed packets in the same way <code>TCP</code>
 is using <code>TIME_WAIT</code>.</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:AcceptedConnectionsLimit" class="def">AcceptedConnectionsLimit</a> <a href="../../ouroboros-network-framework/html/src" class="link">Source</a> <a href="#t:AcceptedConnectionsLimit" class="selflink">#</a></p><div class="doc"><p>Policy which governs how to limit the number of accepted connections.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:AcceptedConnectionsLimit" class="def">AcceptedConnectionsLimit</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:acceptedConnectionsHardLimit" class="def">acceptedConnectionsHardLimit</a> :: !<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word32" title="Data.Word">Word32</a></dfn><div class="doc"><p>Hard limit of accepted connections.</p></div></li><li><dfn class="src"><a id="v:acceptedConnectionsSoftLimit" class="def">acceptedConnectionsSoftLimit</a> :: !<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word32" title="Data.Word">Word32</a></dfn><div class="doc"><p>Soft limit of accepted connections.  If we are above this threshold,
 we will start rate limiting.</p></div></li><li><dfn class="src"><a id="v:acceptedConnectionsDelay" class="def">acceptedConnectionsDelay</a> :: !<a href="../../io-classes/html/Control-Monad-Class-MonadTime.html#t:DiffTime" title="Control.Monad.Class.MonadTime">DiffTime</a></dfn><div class="doc"><p>Max delay for limiting accepted connections.  We use linear
 regression starting from 0 at the soft limit up to
 <code>acceptedConnectionDelay</code> at the hard limit.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:AcceptedConnectionsLimit">Instances</h4><details id="i:AcceptedConnectionsLimit" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AcceptedConnectionsLimit:Eq:1"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AcceptedConnectionsLimit:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Server-RateLimiting.html">Ouroboros.Network.Server.RateLimiting</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="../../ghc/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="../../ghc/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AcceptedConnectionsLimit:Ord:2"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AcceptedConnectionsLimit:Ord:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Server-RateLimiting.html">Ouroboros.Network.Server.RateLimiting</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="../../ghc/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="../../ghc/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="../../ghc/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="../../ghc/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="../../ghc/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> <a href="../../ghc/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> <a href="../../ghc/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AcceptedConnectionsLimit:Show:3"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AcceptedConnectionsLimit:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Server-RateLimiting.html">Ouroboros.Network.Server.RateLimiting</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ouroboros-Network-Diffusion-P2P.html#t:AcceptedConnectionsLimit" title="Ouroboros.Network.Diffusion.P2P">AcceptedConnectionsLimit</a>] -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ApplicationsExtra" class="def">ApplicationsExtra</a> ntnAddr m <a href="src/Ouroboros.Network.Diffusion.P2P.html#ApplicationsExtra" class="link">Source</a> <a href="#t:ApplicationsExtra" class="selflink">#</a></p><div class="doc"><p>P2P Applications Extras</p><p>TODO: we need initiator only mode for Deadalus, there's no reason why it
 should run a node-to-node server side.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ApplicationsExtra" class="def">ApplicationsExtra</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:daRethrowPolicy" class="def">daRethrowPolicy</a> :: <a href="../../ouroboros-network-framework/html/Ouroboros-Network-RethrowPolicy.html#t:RethrowPolicy" title="Ouroboros.Network.RethrowPolicy">RethrowPolicy</a></dfn><div class="doc"><p><em>node-to-node</em> rethrow policy</p></div></li><li><dfn class="src"><a id="v:daLocalRethrowPolicy" class="def">daLocalRethrowPolicy</a> :: <a href="../../ouroboros-network-framework/html/Ouroboros-Network-RethrowPolicy.html#t:RethrowPolicy" title="Ouroboros.Network.RethrowPolicy">RethrowPolicy</a></dfn><div class="doc"><p><em>node-to-client</em> rethrow policy</p></div></li><li><dfn class="src"><a id="v:daPeerMetrics" class="def">daPeerMetrics</a> :: <a href="Ouroboros-Network-PeerSelection-PeerMetric.html#t:PeerMetrics" title="Ouroboros.Network.PeerSelection.PeerMetric">PeerMetrics</a> m ntnAddr</dfn><div class="doc"><p><code><a href="Ouroboros-Network-PeerSelection-PeerMetric.html#t:PeerMetrics" title="Ouroboros.Network.PeerSelection.PeerMetric">PeerMetrics</a></code> used by peer selection policy (see
 <code>simplePeerSelectionPolicy</code>)</p></div></li><li><dfn class="src"><a id="v:daBlockFetchMode" class="def">daBlockFetchMode</a> :: <a href="../../io-classes/html/Control-Monad-Class-MonadSTM.html#t:STM" title="Control.Monad.Class.MonadSTM">STM</a> m <a href="Ouroboros-Network-BlockFetch-Decision.html#t:FetchMode" title="Ouroboros.Network.BlockFetch.Decision">FetchMode</a></dfn><div class="doc"><p>Used by churn-governor</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:run" class="def">run</a> :: <a href="Ouroboros-Network-Diffusion.html#t:Tracers" title="Ouroboros.Network.Diffusion">Tracers</a> <a href="Ouroboros-Network-NodeToNode.html#t:RemoteAddress" title="Ouroboros.Network.NodeToNode">RemoteAddress</a> <a href="Ouroboros-Network-NodeToNode-Version.html#t:NodeToNodeVersion" title="Ouroboros.Network.NodeToNode.Version">NodeToNodeVersion</a> <a href="Ouroboros-Network-NodeToClient.html#t:LocalAddress" title="Ouroboros.Network.NodeToClient">LocalAddress</a> <a href="Ouroboros-Network-NodeToClient-Version.html#t:NodeToClientVersion" title="Ouroboros.Network.NodeToClient.Version">NodeToClientVersion</a> <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:TracersExtra" title="Ouroboros.Network.Diffusion.P2P">TracersExtra</a> <a href="Ouroboros-Network-NodeToNode.html#t:RemoteAddress" title="Ouroboros.Network.NodeToNode">RemoteAddress</a> <a href="Ouroboros-Network-NodeToNode-Version.html#t:NodeToNodeVersion" title="Ouroboros.Network.NodeToNode.Version">NodeToNodeVersion</a> <a href="Ouroboros-Network-NodeToNode-Version.html#t:NodeToNodeVersionData" title="Ouroboros.Network.NodeToNode.Version">NodeToNodeVersionData</a> <a href="Ouroboros-Network-NodeToClient.html#t:LocalAddress" title="Ouroboros.Network.NodeToClient">LocalAddress</a> <a href="Ouroboros-Network-NodeToClient-Version.html#t:NodeToClientVersion" title="Ouroboros.Network.NodeToClient.Version">NodeToClientVersion</a> <a href="Ouroboros-Network-NodeToClient-Version.html#t:NodeToClientVersionData" title="Ouroboros.Network.NodeToClient.Version">NodeToClientVersionData</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Exception-Base.html#t:IOException" title="Control.Exception.Base">IOException</a> <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> -&gt; <a href="Ouroboros-Network-Diffusion.html#t:Arguments" title="Ouroboros.Network.Diffusion">Arguments</a> <a href="Ouroboros-Network-NodeToNode.html#t:Socket" title="Ouroboros.Network.NodeToNode">Socket</a> <a href="Ouroboros-Network-NodeToNode.html#t:RemoteAddress" title="Ouroboros.Network.NodeToNode">RemoteAddress</a> <a href="Ouroboros-Network-NodeToClient.html#t:LocalSocket" title="Ouroboros.Network.NodeToClient">LocalSocket</a> <a href="Ouroboros-Network-NodeToClient.html#t:LocalAddress" title="Ouroboros.Network.NodeToClient">LocalAddress</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:ArgumentsExtra" title="Ouroboros.Network.Diffusion.P2P">ArgumentsExtra</a> <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> -&gt; <a href="Ouroboros-Network-Diffusion.html#t:Applications" title="Ouroboros.Network.Diffusion">Applications</a> <a href="Ouroboros-Network-NodeToNode.html#t:RemoteAddress" title="Ouroboros.Network.NodeToNode">RemoteAddress</a> <a href="Ouroboros-Network-NodeToNode-Version.html#t:NodeToNodeVersion" title="Ouroboros.Network.NodeToNode.Version">NodeToNodeVersion</a> <a href="Ouroboros-Network-NodeToNode-Version.html#t:NodeToNodeVersionData" title="Ouroboros.Network.NodeToNode.Version">NodeToNodeVersionData</a> <a href="Ouroboros-Network-NodeToClient.html#t:LocalAddress" title="Ouroboros.Network.NodeToClient">LocalAddress</a> <a href="Ouroboros-Network-NodeToClient-Version.html#t:NodeToClientVersion" title="Ouroboros.Network.NodeToClient.Version">NodeToClientVersion</a> <a href="Ouroboros-Network-NodeToClient-Version.html#t:NodeToClientVersionData" title="Ouroboros.Network.NodeToClient.Version">NodeToClientVersionData</a> <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> -&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:ApplicationsExtra" title="Ouroboros.Network.Diffusion.P2P">ApplicationsExtra</a> <a href="Ouroboros-Network-NodeToNode.html#t:RemoteAddress" title="Ouroboros.Network.NodeToNode">RemoteAddress</a> <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Void.html#t:Void" title="Data.Void">Void</a> <a href="src/Ouroboros.Network.Diffusion.P2P.html#run" class="link">Source</a> <a href="#v:run" class="selflink">#</a></p><div class="doc"><p>Main entry point for data diffusion service.  It allows to:</p><ul><li>connect to upstream peers;</li><li>accept connection from downstream peers, if run in
  <code><a href="Ouroboros-Network-NodeToNode-Version.html#v:InitiatorAndResponderDiffusionMode" title="Ouroboros.Network.NodeToNode.Version">InitiatorAndResponderDiffusionMode</a></code>.</li><li>runs a local service which allows to use node-to-client protocol to obtain
   information from the running system.  This is used by 'cardano-cli' or
   a wallet and a like local services.</li></ul></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Interfaces" class="def">Interfaces</a> ntnFd ntnAddr ntnVersion ntnVersionData ntcFd ntcAddr ntcVersion ntcVersionData resolver resolverError m <a href="src/Ouroboros.Network.Diffusion.P2P.html#Interfaces" class="link">Source</a> <a href="#t:Interfaces" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Interfaces" class="def">Interfaces</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:diNtnSnocket" class="def">diNtnSnocket</a> :: <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Snocket.html#t:Snocket" title="Ouroboros.Network.Snocket">Snocket</a> m ntnFd ntnAddr</dfn><div class="doc"><p>node-to-node snocket</p></div></li><li><dfn class="src"><a id="v:diNtnHandshakeArguments" class="def">diNtnHandshakeArguments</a> :: <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake.html#t:HandshakeArguments" title="Ouroboros.Network.Protocol.Handshake">HandshakeArguments</a> (<a href="Ouroboros-Network-NodeToClient.html#t:ConnectionId" title="Ouroboros.Network.NodeToClient">ConnectionId</a> ntnAddr) ntnVersion ntnVersionData m</dfn><div class="doc"><p>node-to-node handshake configuration</p></div></li><li><dfn class="src"><a id="v:diNtnAddressType" class="def">diNtnAddressType</a> :: ntnAddr -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../../ouroboros-network-framework/html/Ouroboros-Network-ConnectionManager-Types.html#t:AddressType" title="Ouroboros.Network.ConnectionManager.Types">AddressType</a></dfn><div class="doc"><p>node-to-node address type</p></div></li><li><dfn class="src"><a id="v:diNtnDataFlow" class="def">diNtnDataFlow</a> :: ntnVersion -&gt; ntnVersionData -&gt; <a href="../../ouroboros-network-framework/html/Ouroboros-Network-ConnectionManager-Types.html#t:DataFlow" title="Ouroboros.Network.ConnectionManager.Types">DataFlow</a></dfn><div class="doc"><p>node-to-node data flow used by connection manager to classify
 negotiated connections</p></div></li><li><dfn class="src"><a id="v:diNtnToPeerAddr" class="def">diNtnToPeerAddr</a> :: <a href="Ouroboros-Network-PeerSelection-RelayAccessPoint.html#t:IP" title="Ouroboros.Network.PeerSelection.RelayAccessPoint">IP</a> -&gt; <a href="Ouroboros-Network-PeerSelection-RelayAccessPoint.html#t:PortNumber" title="Ouroboros.Network.PeerSelection.RelayAccessPoint">PortNumber</a> -&gt; ntnAddr</dfn><div class="doc"><p>node-to-node peer address</p></div></li><li><dfn class="src"><a id="v:diNtnDomainResolver" class="def">diNtnDomainResolver</a> :: <a href="Ouroboros-Network-PeerSelection-RootPeersDNS-DNSActions.html#t:LookupReqs" title="Ouroboros.Network.PeerSelection.RootPeersDNS.DNSActions">LookupReqs</a> -&gt; [<a href="Ouroboros-Network-PeerSelection-RelayAccessPoint.html#t:DomainAccessPoint" title="Ouroboros.Network.PeerSelection.RelayAccessPoint">DomainAccessPoint</a>] -&gt; m (<a href="../../cardano-prelude/html/Cardano-Prelude.html#t:Map" title="Cardano.Prelude">Map</a> <a href="Ouroboros-Network-PeerSelection-RelayAccessPoint.html#t:DomainAccessPoint" title="Ouroboros.Network.PeerSelection.RelayAccessPoint">DomainAccessPoint</a> (<a href="../../cardano-prelude/html/Cardano-Prelude.html#t:Set" title="Cardano.Prelude">Set</a> ntnAddr))</dfn><div class="doc"><p>node-to-node domain resolver</p></div></li><li><dfn class="src"><a id="v:diNtcSnocket" class="def">diNtcSnocket</a> :: <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Snocket.html#t:Snocket" title="Ouroboros.Network.Snocket">Snocket</a> m ntcFd ntcAddr</dfn><div class="doc"><p>node-to-client snocket</p></div></li><li><dfn class="src"><a id="v:diNtcHandshakeArguments" class="def">diNtcHandshakeArguments</a> :: <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake.html#t:HandshakeArguments" title="Ouroboros.Network.Protocol.Handshake">HandshakeArguments</a> (<a href="Ouroboros-Network-NodeToClient.html#t:ConnectionId" title="Ouroboros.Network.NodeToClient">ConnectionId</a> ntcAddr) ntcVersion ntcVersionData m</dfn><div class="doc"><p>node-to-client handshake configuration</p></div></li><li><dfn class="src"><a id="v:diNtcGetFileDescriptor" class="def">diNtcGetFileDescriptor</a> :: ntcFd -&gt; m <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Snocket.html#t:FileDescriptor" title="Ouroboros.Network.Snocket">FileDescriptor</a></dfn><div class="doc"><p>node-to-client file descriptor</p></div></li><li><dfn class="src"><a id="v:diRng" class="def">diRng</a> :: <a href="../../MonadRandom/html/Control-Monad-Random-Lazy.html#t:StdGen" title="Control.Monad.Random.Lazy">StdGen</a></dfn><div class="doc"><p>diffusion pseudo random generator. It is split between various
 components that need randomness, e.g. inbound governor, peer
 selection, policies, etc.</p></div></li><li><dfn class="src"><a id="v:diInstallSigUSR1Handler" class="def">diInstallSigUSR1Handler</a> :: <span class="keyword">forall</span> mode x. NodeToNodeConnectionManager mode ntnFd ntnAddr ntnVersion m x -&gt; m ()</dfn><div class="doc"><p>callback which is used to register <code>SIGUSR1</code> signal handler.</p></div></li><li><dfn class="src"><a id="v:diDnsActions" class="def">diDnsActions</a> :: <a href="Ouroboros-Network-PeerSelection-RootPeersDNS-DNSActions.html#t:LookupReqs" title="Ouroboros.Network.PeerSelection.RootPeersDNS.DNSActions">LookupReqs</a> -&gt; <a href="Ouroboros-Network-PeerSelection-RootPeersDNS-DNSActions.html#t:DNSActions" title="Ouroboros.Network.PeerSelection.RootPeersDNS.DNSActions">DNSActions</a> resolver resolverError m</dfn><div class="doc"><p>diffusion dns actions</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:runM" class="def">runM</a> <a href="src/Ouroboros.Network.Diffusion.P2P.html#runM" class="link">Source</a> <a href="#v:runM" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> m ntnFd ntnAddr ntnVersion ntnVersionData ntcFd ntcAddr ntcVersion ntcVersionData resolver resolverError. (<a href="../../io-classes/html/Control-Monad-Class-MonadAsync.html#t:MonadAsync" title="Control.Monad.Class.MonadAsync">MonadAsync</a> m, <a href="../../io-classes/html/Control-Monad-Class-MonadThrow.html#t:MonadEvaluate" title="Control.Monad.Class.MonadThrow">MonadEvaluate</a> m, <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-Fix.html#t:MonadFix" title="Control.Monad.Fix">MonadFix</a> m, <a href="../../io-classes/html/Control-Monad-Class-MonadFork.html#t:MonadFork" title="Control.Monad.Class.MonadFork">MonadFork</a> m, <a href="../../io-classes/html/Control-Monad-Class-MonadSTM.html#t:MonadLabelledSTM" title="Control.Monad.Class.MonadSTM">MonadLabelledSTM</a> m, <a href="../../io-classes/html/Control-Monad-Class-MonadSTM.html#t:MonadTraceSTM" title="Control.Monad.Class.MonadSTM">MonadTraceSTM</a> m, <a href="../../io-classes/html/Control-Monad-Class-MonadThrow.html#t:MonadMask" title="Control.Monad.Class.MonadThrow">MonadMask</a> m, <a href="../../io-classes/html/Control-Monad-Class-MonadThrow.html#t:MonadThrow" title="Control.Monad.Class.MonadThrow">MonadThrow</a> (<a href="../../io-classes/html/Control-Monad-Class-MonadSTM.html#t:STM" title="Control.Monad.Class.MonadSTM">STM</a> m), <a href="../../io-classes/html/Control-Monad-Class-MonadTime.html#t:MonadTime" title="Control.Monad.Class.MonadTime">MonadTime</a> m, <a href="../../io-classes/html/Control-Monad-Class-MonadTimer.html#t:MonadTimer" title="Control.Monad.Class.MonadTimer">MonadTimer</a> m, <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="../../io-classes/html/Control-Monad-Class-MonadAsync.html#t:Async" title="Control.Monad.Class.MonadAsync">Async</a> m <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Void.html#t:Void" title="Data.Void">Void</a>), <a href="../../ghc/html/libraries/base-4.14.3.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> ntnAddr, <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> ntnAddr, <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> ntnAddr, <a href="../../ghc/html/libraries/base-4.14.3.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> ntnVersion, <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> ntnVersion, <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> ntnVersion, <a href="../../ghc/html/libraries/base-4.14.3.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> ntcAddr, <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> ntcAddr, <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> ntcAddr, <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> ntcVersion, <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> resolverError)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:Interfaces" title="Ouroboros.Network.Diffusion.P2P">Interfaces</a> ntnFd ntnAddr ntnVersion ntnVersionData ntcFd ntcAddr ntcVersion ntcVersionData resolver resolverError m</td><td class="doc"><p>interfaces</p></td></tr><tr><td class="src">-&gt; <a href="Ouroboros-Network-Diffusion.html#t:Tracers" title="Ouroboros.Network.Diffusion">Tracers</a> ntnAddr ntnVersion ntcAddr ntcVersion m</td><td class="doc"><p>tracers</p></td></tr><tr><td class="src">-&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:TracersExtra" title="Ouroboros.Network.Diffusion.P2P">TracersExtra</a> ntnAddr ntnVersion ntnVersionData ntcAddr ntcVersion ntcVersionData resolverError m</td><td class="doc"><p>p2p tracers</p></td></tr><tr><td class="src">-&gt; <a href="Ouroboros-Network-Diffusion.html#t:Arguments" title="Ouroboros.Network.Diffusion">Arguments</a> ntnFd ntnAddr ntcFd ntcAddr</td><td class="doc"><p>configuration</p></td></tr><tr><td class="src">-&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:ArgumentsExtra" title="Ouroboros.Network.Diffusion.P2P">ArgumentsExtra</a> m</td><td class="doc"><p>p2p configuration</p></td></tr><tr><td class="src">-&gt; <a href="Ouroboros-Network-Diffusion.html#t:Applications" title="Ouroboros.Network.Diffusion">Applications</a> ntnAddr ntnVersion ntnVersionData ntcAddr ntcVersion ntcVersionData m</td><td class="doc"><p>protocol handlers</p></td></tr><tr><td class="src">-&gt; <a href="Ouroboros-Network-Diffusion-P2P.html#t:ApplicationsExtra" title="Ouroboros.Network.Diffusion.P2P">ApplicationsExtra</a> ntnAddr m</td><td class="doc"><p>p2p protocol handlers</p></td></tr><tr><td class="src">-&gt; m <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Void.html#t:Void" title="Data.Void">Void</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:NodeToNodePeerConnectionHandle" class="def">NodeToNodePeerConnectionHandle</a> (mode :: <a href="../../network-mux/html/Network-Mux-Types.html#t:MuxMode" title="Network.Mux.Types">MuxMode</a>) ntnAddr m a = <a href="Ouroboros-Network-PeerSelection-PeerStateActions.html#t:PeerConnectionHandle" title="Ouroboros.Network.PeerSelection.PeerStateActions">PeerConnectionHandle</a> mode ntnAddr <a href="../../bytestring/html/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> m () a <a href="src/Ouroboros.Network.Diffusion.P2P.html#NodeToNodePeerConnectionHandle" class="link">Source</a> <a href="#t:NodeToNodePeerConnectionHandle" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:AbstractTransitionTrace" class="def">AbstractTransitionTrace</a> peerAddr = <a href="../../ouroboros-network-framework/html/Ouroboros-Network-ConnectionManager-Types.html#t:TransitionTrace-39-" title="Ouroboros.Network.ConnectionManager.Types">TransitionTrace'</a> peerAddr <a href="../../ouroboros-network-framework/html/Ouroboros-Network-ConnectionManager-Types.html#t:AbstractState" title="Ouroboros.Network.ConnectionManager.Types">AbstractState</a> <a href="../../ouroboros-network-framework/html/src" class="link">Source</a> <a href="#t:AbstractTransitionTrace" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:RemoteTransitionTrace" class="def">RemoteTransitionTrace</a> peerAddr = <a href="../../ouroboros-network-framework/html/Ouroboros-Network-ConnectionManager-Types.html#t:TransitionTrace-39-" title="Ouroboros.Network.ConnectionManager.Types">TransitionTrace'</a> peerAddr (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../../ouroboros-network-framework/html/Ouroboros-Network-InboundGovernor.html#t:RemoteSt" title="Ouroboros.Network.InboundGovernor">RemoteSt</a>) <a href="../../ouroboros-network-framework/html/src" class="link">Source</a> <a href="#t:RemoteTransitionTrace" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>