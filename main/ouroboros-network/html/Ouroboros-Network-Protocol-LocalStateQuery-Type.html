<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Ouroboros.Network.Protocol.LocalStateQuery.Type</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ouroboros-network-0.1.0.1: A networking layer for the Ouroboros blockchain protocol</span><ul class="links" id="page-menu"><li><a href="src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Ouroboros.Network.Protocol.LocalStateQuery.Type</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>The type of the local ledger state query protocol.</p><p>This is used by local clients (like wallets and CLI tools) to query the
 ledger state of a local node.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:LocalStateQuery">LocalStateQuery</a> block point (query :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <span class="keyword">where</span><ul class="subs"><li><a href="#v:StIdle">StIdle</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query</li><li><a href="#v:StAcquiring">StAcquiring</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query</li><li><a href="#v:StAcquired">StAcquired</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query</li><li><a href="#v:StQuerying">StQuerying</a> :: result -&gt; <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query</li><li><a href="#v:StDone">StDone</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:AcquireFailure">AcquireFailure</a><ul class="subs"><li>= <a href="#v:AcquireFailurePointTooOld">AcquireFailurePointTooOld</a></li><li>| <a href="#v:AcquireFailurePointNotOnChain">AcquireFailurePointNotOnChain</a></li></ul></li><li class="src short"><span class="keyword">class</span> (<span class="keyword">forall</span> result. <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (query result)) =&gt; <a href="#t:ShowQuery">ShowQuery</a> query <span class="keyword">where</span><ul class="subs"><li><a href="#v:showResult">showResult</a> :: <span class="keyword">forall</span> result. query result -&gt; result -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a></li></ul></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:LocalStateQuery" class="def">LocalStateQuery</a> block point (query :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <span class="keyword">where</span> <a href="src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#LocalStateQuery" class="link">Source</a> <a href="#t:LocalStateQuery" class="selflink">#</a></p><div class="doc"><p>The kind of the local state query protocol, and the types of
 the states in the protocol state machine.</p><p>It is parametrised over the type of block (for points), the type of queries
 and query results.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:StIdle" class="def">StIdle</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query</td><td class="doc"><p>The client has agency. It can ask to acquire a state or terminate.</p><p>There is no timeout in this state.</p></td></tr><tr><td class="src"><a id="v:StAcquiring" class="def">StAcquiring</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query</td><td class="doc"><p>The server has agency. it must acquire the state at the requested point
 or report a failure.</p><p>There is a timeout in this state.</p></td></tr><tr><td class="src"><a id="v:StAcquired" class="def">StAcquired</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query</td><td class="doc"><p>The client has agency. It can request queries against the current state,
 or it can release the state.</p></td></tr><tr><td class="src"><a id="v:StQuerying" class="def">StQuerying</a> :: result -&gt; <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query</td><td class="doc"><p>The server has agency. It must respond with the query result.</p></td></tr><tr><td class="src"><a id="v:StDone" class="def">StDone</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query</td><td class="doc"><p>Nobody has agency. The terminal state.</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:LocalStateQuery">Instances</h4><details id="i:LocalStateQuery" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LocalStateQuery:ShowProxy:1"></span> (<a href="../../ouroboros-network-framework/html/Ouroboros-Network-Util-ShowProxy.html#t:ShowProxy" title="Ouroboros.Network.Util.ShowProxy">ShowProxy</a> block, <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Util-ShowProxy.html#t:ShowProxy" title="Ouroboros.Network.Util.ShowProxy">ShowProxy</a> query) =&gt; <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Util-ShowProxy.html#t:ShowProxy" title="Ouroboros.Network.Util.ShowProxy">ShowProxy</a> (<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>)</span> <a href="src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#line-61" class="link">Source</a> <a href="#t:LocalStateQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LocalStateQuery:ShowProxy:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html">Ouroboros.Network.Protocol.LocalStateQuery.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showProxy">showProxy</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> (<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../../ouroboros-network-framework/html/src" class="link">Source</a> <a href="#v:showProxy" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LocalStateQuery:Show:2"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:ClientHasAgency" title="Ouroboros.Network.Protocol.Handshake.Type">ClientHasAgency</a> st)</span> <a href="src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#line-170" class="link">Source</a> <a href="#t:LocalStateQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LocalStateQuery:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html">Ouroboros.Network.Protocol.LocalStateQuery.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:ClientHasAgency" title="Ouroboros.Network.Protocol.Handshake.Type">ClientHasAgency</a> st -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:ClientHasAgency" title="Ouroboros.Network.Protocol.Handshake.Type">ClientHasAgency</a> st -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:ClientHasAgency" title="Ouroboros.Network.Protocol.Handshake.Type">ClientHasAgency</a> st] -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LocalStateQuery:Show:3"></span> (<span class="keyword">forall</span> result. <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (query result)) =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:ServerHasAgency" title="Ouroboros.Network.Protocol.Handshake.Type">ServerHasAgency</a> st)</span> <a href="src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#line-174" class="link">Source</a> <a href="#t:LocalStateQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LocalStateQuery:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html">Ouroboros.Network.Protocol.LocalStateQuery.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:ServerHasAgency" title="Ouroboros.Network.Protocol.Handshake.Type">ServerHasAgency</a> st -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:ServerHasAgency" title="Ouroboros.Network.Protocol.Handshake.Type">ServerHasAgency</a> st -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:ServerHasAgency" title="Ouroboros.Network.Protocol.Handshake.Type">ServerHasAgency</a> st] -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LocalStateQuery:Show:4"></span> (<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:ShowQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">ShowQuery</a> query, <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> point) =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:Message" title="Ouroboros.Network.Protocol.Handshake.Type">Message</a> (<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query) st st')</span> <a href="src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#line-191" class="link">Source</a> <a href="#t:LocalStateQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LocalStateQuery:Show:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html">Ouroboros.Network.Protocol.LocalStateQuery.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:Message" title="Ouroboros.Network.Protocol.Handshake.Type">Message</a> (<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query) st st' -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:Message" title="Ouroboros.Network.Protocol.Handshake.Type">Message</a> (<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query) st st' -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:Message" title="Ouroboros.Network.Protocol.Handshake.Type">Message</a> (<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query) st st'] -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LocalStateQuery:Protocol:5"></span> <a href="../../typed-protocols/html/Network-TypedProtocol-Core.html#t:Protocol" title="Network.TypedProtocol.Core">Protocol</a> (<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query)</span> <a href="src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#line-71" class="link">Source</a> <a href="#t:LocalStateQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LocalStateQuery:Protocol:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html">Ouroboros.Network.Protocol.LocalStateQuery.Type</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:Message" title="Ouroboros.Network.Protocol.Handshake.Type">Message</a> (<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query) st st' <a href="../../typed-protocols/html/src" class="link">Source</a> <a href="#t:Message" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:ClientHasAgency" title="Ouroboros.Network.Protocol.Handshake.Type">ClientHasAgency</a> st <a href="../../typed-protocols/html/src" class="link">Source</a> <a href="#t:ClientHasAgency" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:ServerHasAgency" title="Ouroboros.Network.Protocol.Handshake.Type">ServerHasAgency</a> st <a href="../../typed-protocols/html/src" class="link">Source</a> <a href="#t:ServerHasAgency" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:NobodyHasAgency" title="Ouroboros.Network.Protocol.Handshake.Type">NobodyHasAgency</a> st <a href="../../typed-protocols/html/src" class="link">Source</a> <a href="#t:NobodyHasAgency" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:exclusionLemma_ClientAndServerHaveAgency">exclusionLemma_ClientAndServerHaveAgency</a> :: <span class="keyword">forall</span> (st :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query). <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:ClientHasAgency" title="Ouroboros.Network.Protocol.Handshake.Type">ClientHasAgency</a> st -&gt; <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:ServerHasAgency" title="Ouroboros.Network.Protocol.Handshake.Type">ServerHasAgency</a> st -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Void.html#t:Void" title="Data.Void">Void</a> <a href="../../typed-protocols/html/src" class="link">Source</a> <a href="#v:exclusionLemma_ClientAndServerHaveAgency" class="selflink">#</a></p><p class="src"><a href="#v:exclusionLemma_NobodyAndClientHaveAgency">exclusionLemma_NobodyAndClientHaveAgency</a> :: <span class="keyword">forall</span> (st :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query). <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:NobodyHasAgency" title="Ouroboros.Network.Protocol.Handshake.Type">NobodyHasAgency</a> st -&gt; <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:ClientHasAgency" title="Ouroboros.Network.Protocol.Handshake.Type">ClientHasAgency</a> st -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Void.html#t:Void" title="Data.Void">Void</a> <a href="../../typed-protocols/html/src" class="link">Source</a> <a href="#v:exclusionLemma_NobodyAndClientHaveAgency" class="selflink">#</a></p><p class="src"><a href="#v:exclusionLemma_NobodyAndServerHaveAgency">exclusionLemma_NobodyAndServerHaveAgency</a> :: <span class="keyword">forall</span> (st :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query). <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:NobodyHasAgency" title="Ouroboros.Network.Protocol.Handshake.Type">NobodyHasAgency</a> st -&gt; <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:ServerHasAgency" title="Ouroboros.Network.Protocol.Handshake.Type">ServerHasAgency</a> st -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Void.html#t:Void" title="Data.Void">Void</a> <a href="../../typed-protocols/html/src" class="link">Source</a> <a href="#v:exclusionLemma_NobodyAndServerHaveAgency" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LocalStateQuery:Message:6"></span> <span class="keyword">data</span> <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:Message" title="Ouroboros.Network.Protocol.Handshake.Type">Message</a> (<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query) (from :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query) (to :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query)</span> <a href="src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#line-77" class="link">Source</a> <a href="#t:LocalStateQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LocalStateQuery:Message:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html">Ouroboros.Network.Protocol.LocalStateQuery.Type</a></p> <div class="src"><span class="keyword">data</span> <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:Message" title="Ouroboros.Network.Protocol.Handshake.Type">Message</a> (<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query) (from :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query) (to :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query) <span class="keyword">where</span><ul class="inst"><li class="inst"><a id="v:MsgAcquire" class="def">MsgAcquire</a> :: <span class="keyword">forall</span> k point (block :: k) (query :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> point -&gt; <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:Message" title="Ouroboros.Network.Protocol.Handshake.Type">Message</a> (<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query) ('<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#v:StIdle" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">StIdle</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query) ('<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#v:StAcquiring" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">StAcquiring</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query)</li><li class="inst"><a id="v:MsgAcquired" class="def">MsgAcquired</a> :: <span class="keyword">forall</span> k k (block :: k) (point :: k) (query :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:Message" title="Ouroboros.Network.Protocol.Handshake.Type">Message</a> (<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query) ('<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#v:StAcquiring" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">StAcquiring</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query) ('<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#v:StAcquired" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">StAcquired</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query)</li><li class="inst"><a id="v:MsgFailure" class="def">MsgFailure</a> :: <span class="keyword">forall</span> k k (block :: k) (point :: k) (query :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:AcquireFailure" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">AcquireFailure</a> -&gt; <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:Message" title="Ouroboros.Network.Protocol.Handshake.Type">Message</a> (<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query) ('<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#v:StAcquiring" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">StAcquiring</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query) ('<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#v:StIdle" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">StIdle</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query)</li><li class="inst"><a id="v:MsgQuery" class="def">MsgQuery</a> :: <span class="keyword">forall</span> k k (query :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) result (block :: k) (point :: k). query result -&gt; <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:Message" title="Ouroboros.Network.Protocol.Handshake.Type">Message</a> (<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query) ('<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#v:StAcquired" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">StAcquired</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query) ('<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#v:StQuerying" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">StQuerying</a> result :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query)</li><li class="inst"><a id="v:MsgResult" class="def">MsgResult</a> :: <span class="keyword">forall</span> k k (query :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) result (block :: k) (point :: k). query result -&gt; result -&gt; <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:Message" title="Ouroboros.Network.Protocol.Handshake.Type">Message</a> (<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query) ('<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#v:StQuerying" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">StQuerying</a> result :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query) ('<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#v:StAcquired" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">StAcquired</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query)</li><li class="inst"><a id="v:MsgRelease" class="def">MsgRelease</a> :: <span class="keyword">forall</span> k k (block :: k) (point :: k) (query :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:Message" title="Ouroboros.Network.Protocol.Handshake.Type">Message</a> (<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query) ('<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#v:StAcquired" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">StAcquired</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query) ('<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#v:StIdle" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">StIdle</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query)</li><li class="inst"><a id="v:MsgReAcquire" class="def">MsgReAcquire</a> :: <span class="keyword">forall</span> k point (block :: k) (query :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> point -&gt; <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:Message" title="Ouroboros.Network.Protocol.Handshake.Type">Message</a> (<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query) ('<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#v:StAcquired" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">StAcquired</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query) ('<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#v:StAcquiring" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">StAcquiring</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query)</li><li class="inst"><a id="v:MsgDone" class="def">MsgDone</a> :: <span class="keyword">forall</span> k k (block :: k) (point :: k) (query :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:Message" title="Ouroboros.Network.Protocol.Handshake.Type">Message</a> (<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query) ('<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#v:StIdle" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">StIdle</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query) ('<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#v:StDone" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">StDone</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query)</li></ul></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LocalStateQuery:ClientHasAgency:7"></span> <span class="keyword">data</span> <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:ClientHasAgency" title="Ouroboros.Network.Protocol.Handshake.Type">ClientHasAgency</a> (st :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query)</span> <a href="src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#line-146" class="link">Source</a> <a href="#t:LocalStateQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LocalStateQuery:ClientHasAgency:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html">Ouroboros.Network.Protocol.LocalStateQuery.Type</a></p> <div class="src"><span class="keyword">data</span> <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:ClientHasAgency" title="Ouroboros.Network.Protocol.Handshake.Type">ClientHasAgency</a> (st :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query) <span class="keyword">where</span><ul class="inst"><li class="inst"><a id="v:TokIdle" class="def">TokIdle</a> :: <span class="keyword">forall</span> k k (block :: k) (point :: k) (query :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:ClientHasAgency" title="Ouroboros.Network.Protocol.Handshake.Type">ClientHasAgency</a> ('<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#v:StIdle" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">StIdle</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query)</li><li class="inst"><a id="v:TokAcquired" class="def">TokAcquired</a> :: <span class="keyword">forall</span> k k (block :: k) (point :: k) (query :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:ClientHasAgency" title="Ouroboros.Network.Protocol.Handshake.Type">ClientHasAgency</a> ('<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#v:StAcquired" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">StAcquired</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query)</li></ul></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LocalStateQuery:ServerHasAgency:8"></span> <span class="keyword">data</span> <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:ServerHasAgency" title="Ouroboros.Network.Protocol.Handshake.Type">ServerHasAgency</a> (st :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query)</span> <a href="src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#line-150" class="link">Source</a> <a href="#t:LocalStateQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LocalStateQuery:ServerHasAgency:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html">Ouroboros.Network.Protocol.LocalStateQuery.Type</a></p> <div class="src"><span class="keyword">data</span> <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:ServerHasAgency" title="Ouroboros.Network.Protocol.Handshake.Type">ServerHasAgency</a> (st :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query) <span class="keyword">where</span><ul class="inst"><li class="inst"><a id="v:TokAcquiring" class="def">TokAcquiring</a> :: <span class="keyword">forall</span> k k (block :: k) (point :: k) (query :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:ServerHasAgency" title="Ouroboros.Network.Protocol.Handshake.Type">ServerHasAgency</a> ('<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#v:StAcquiring" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">StAcquiring</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query)</li><li class="inst"><a id="v:TokQuerying" class="def">TokQuerying</a> :: <span class="keyword">forall</span> k k (query :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) result (block :: k) (point :: k). query result -&gt; <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:ServerHasAgency" title="Ouroboros.Network.Protocol.Handshake.Type">ServerHasAgency</a> ('<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#v:StQuerying" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">StQuerying</a> result :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query)</li></ul></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:LocalStateQuery:NobodyHasAgency:9"></span> <span class="keyword">data</span> <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:NobodyHasAgency" title="Ouroboros.Network.Protocol.Handshake.Type">NobodyHasAgency</a> (st :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query)</span> <a href="src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#line-155" class="link">Source</a> <a href="#t:LocalStateQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:LocalStateQuery:NobodyHasAgency:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html">Ouroboros.Network.Protocol.LocalStateQuery.Type</a></p> <div class="src"><span class="keyword">data</span> <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:NobodyHasAgency" title="Ouroboros.Network.Protocol.Handshake.Type">NobodyHasAgency</a> (st :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query) <span class="keyword">where</span><ul class="inst"><li class="inst"><a id="v:TokDone" class="def">TokDone</a> :: <span class="keyword">forall</span> k k (block :: k) (point :: k) (query :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="../../ouroboros-network-framework/html/Ouroboros-Network-Protocol-Handshake-Type.html#t:NobodyHasAgency" title="Ouroboros.Network.Protocol.Handshake.Type">NobodyHasAgency</a> ('<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#v:StDone" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">StDone</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:LocalStateQuery" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">LocalStateQuery</a> block point query)</li></ul></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:AcquireFailure" class="def">AcquireFailure</a> <a href="src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#AcquireFailure" class="link">Source</a> <a href="#t:AcquireFailure" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:AcquireFailurePointTooOld" class="def">AcquireFailurePointTooOld</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:AcquireFailurePointNotOnChain" class="def">AcquireFailurePointNotOnChain</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:AcquireFailure">Instances</h4><details id="i:AcquireFailure" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AcquireFailure:Enum:1"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Prelude.html#t:Enum" title="Prelude">Enum</a> <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:AcquireFailure" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">AcquireFailure</a></span> <a href="src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#line-168" class="link">Source</a> <a href="#t:AcquireFailure" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AcquireFailure:Enum:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html">Ouroboros.Network.Protocol.LocalStateQuery.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:succ">succ</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:AcquireFailure" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">AcquireFailure</a> -&gt; <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:AcquireFailure" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">AcquireFailure</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:succ" class="selflink">#</a></p><p class="src"><a href="#v:pred">pred</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:AcquireFailure" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">AcquireFailure</a> -&gt; <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:AcquireFailure" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">AcquireFailure</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:pred" class="selflink">#</a></p><p class="src"><a href="#v:toEnum">toEnum</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:AcquireFailure" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">AcquireFailure</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:toEnum" class="selflink">#</a></p><p class="src"><a href="#v:fromEnum">fromEnum</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:AcquireFailure" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">AcquireFailure</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:fromEnum" class="selflink">#</a></p><p class="src"><a href="#v:enumFrom">enumFrom</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:AcquireFailure" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">AcquireFailure</a> -&gt; [<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:AcquireFailure" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">AcquireFailure</a>] <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:enumFrom" class="selflink">#</a></p><p class="src"><a href="#v:enumFromThen">enumFromThen</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:AcquireFailure" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">AcquireFailure</a> -&gt; <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:AcquireFailure" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">AcquireFailure</a> -&gt; [<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:AcquireFailure" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">AcquireFailure</a>] <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:enumFromThen" class="selflink">#</a></p><p class="src"><a href="#v:enumFromTo">enumFromTo</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:AcquireFailure" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">AcquireFailure</a> -&gt; <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:AcquireFailure" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">AcquireFailure</a> -&gt; [<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:AcquireFailure" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">AcquireFailure</a>] <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:enumFromTo" class="selflink">#</a></p><p class="src"><a href="#v:enumFromThenTo">enumFromThenTo</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:AcquireFailure" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">AcquireFailure</a> -&gt; <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:AcquireFailure" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">AcquireFailure</a> -&gt; <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:AcquireFailure" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">AcquireFailure</a> -&gt; [<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:AcquireFailure" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">AcquireFailure</a>] <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:enumFromThenTo" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AcquireFailure:Eq:2"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:AcquireFailure" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">AcquireFailure</a></span> <a href="src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#line-168" class="link">Source</a> <a href="#t:AcquireFailure" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AcquireFailure:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html">Ouroboros.Network.Protocol.LocalStateQuery.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:AcquireFailure" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">AcquireFailure</a> -&gt; <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:AcquireFailure" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">AcquireFailure</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="../../ghc/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:AcquireFailure" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">AcquireFailure</a> -&gt; <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:AcquireFailure" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">AcquireFailure</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="../../ghc/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AcquireFailure:Show:3"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:AcquireFailure" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">AcquireFailure</a></span> <a href="src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#line-168" class="link">Source</a> <a href="#t:AcquireFailure" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AcquireFailure:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html">Ouroboros.Network.Protocol.LocalStateQuery.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:AcquireFailure" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">AcquireFailure</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:AcquireFailure" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">AcquireFailure</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Ouroboros-Network-Protocol-LocalStateQuery-Type.html#t:AcquireFailure" title="Ouroboros.Network.Protocol.LocalStateQuery.Type">AcquireFailure</a>] -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> (<span class="keyword">forall</span> result. <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (query result)) =&gt; <a id="t:ShowQuery" class="def">ShowQuery</a> query <span class="keyword">where</span> <a href="src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#ShowQuery" class="link">Source</a> <a href="#t:ShowQuery" class="selflink">#</a></p><div class="doc"><p>To implement <code><a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a></code> for:</p><pre>('Message' ('LocalStateQuery' block query) st st')</pre><p>we need a way to print the <code>query</code> GADT and its type index, <code>result</code>. This
 class contain the method we need to provide this <code><a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a></code> instance.</p><p>We use a type class for this, as this <code><a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a></code> constraint propagates to a lot
 of places.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:showResult" class="def">showResult</a> :: <span class="keyword">forall</span> result. query result -&gt; result -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Ouroboros.Network.Protocol.LocalStateQuery.Type.html#showResult" class="link">Source</a> <a href="#v:showResult" class="selflink">#</a></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>