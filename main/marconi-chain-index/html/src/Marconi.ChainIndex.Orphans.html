<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DerivingStrategies #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances  #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings  #-}</span><span>
</span><span id="line-4"></span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-orphans #-}</span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Marconi.ChainIndex.Orphans</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-8"></span><span>
</span><span id="line-9"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier">Cardano.Api</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">C</span></span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier">Cardano.Api.Shelley</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">C</span></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-binary/html/src"><span class="hs-identifier">Cardano.Binary</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">CBOR</span></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier">Cardano.Ledger.Shelley.API</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Ledger</span></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cborg/html/src"><span class="hs-identifier">Codec.CBOR.Read</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">CBOR</span></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../serialise/html/src"><span class="hs-identifier">Codec.Serialise</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../serialise/html/src"><span class="hs-identifier">Serialise</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../serialise/html/src"><span class="hs-identifier">decode</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../serialise/html/src"><span class="hs-identifier">encode</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier">Data.Aeson</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier">FromJSON</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier">ToJSON</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier">Data.Aeson</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Aeson</span></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../base16-bytestring/html/src"><span class="hs-identifier">Data.ByteString.Base16</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Base16</span></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">Data.ByteString.Lazy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">toStrict</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Coerce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier">coerce</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Functor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator">(&lt;&amp;&gt;)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">fromMaybe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Proxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Proxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Proxy</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ouroboros-consensus/html/src"><span class="hs-identifier">Data.SOP.Strict</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../sop-core/html/src"><span class="hs-identifier">K</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../sop-core/html/src"><span class="hs-identifier">K</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ouroboros-consensus/html/src"><span class="hs-identifier">NP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ouroboros-consensus/html/src"><span class="hs-identifier">Nil</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ouroboros-consensus/html/src"><span class="hs-operator">(:*)</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../sop-core/html/src"><span class="hs-identifier">fn</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">type</span><span> </span><span class="annot"><a href="../../../../sop-core/html/src"><span class="hs-operator">(:.:)</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../sop-core/html/src"><span class="hs-identifier">Comp</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Data.Text.Encoding</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Text</span></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Typeable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Typeable</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">Database.SQLite.Simple</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SQL</span></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">Database.SQLite.Simple.FromField</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SQL</span></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">Database.SQLite.Simple.Ok</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SQL</span></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">Database.SQLite.Simple.ToField</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SQL</span></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Marconi.ChainIndex.Types.html"><span class="hs-identifier">Marconi.ChainIndex.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Marconi.ChainIndex.Types.html#SecurityParam"><span class="hs-identifier">SecurityParam</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Marconi.ChainIndex.Types.html#SecurityParam"><span class="hs-identifier">SecurityParam</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ouroboros-consensus-byron/html/src"><span class="hs-identifier">Ouroboros.Consensus.Byron.Ledger</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">O</span></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ouroboros-consensus-cardano/html/src"><span class="hs-identifier">Ouroboros.Consensus.Cardano.Block</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">O</span></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ouroboros-consensus/html/src"><span class="hs-identifier">Ouroboros.Consensus.HardFork.Combinator</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">O</span></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ouroboros-consensus/html/src"><span class="hs-identifier">Ouroboros.Consensus.HardFork.Combinator.Serialisation.Common</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">O</span></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ouroboros-consensus-shelley/html/src"><span class="hs-identifier">Ouroboros.Consensus.Shelley.Ledger</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">O</span></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../prettyprinter/html/src"><span class="hs-identifier">Prettyprinter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../prettyprinter/html/src"><span class="hs-identifier">Pretty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../prettyprinter/html/src"><span class="hs-identifier">pretty</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../prettyprinter/html/src"><span class="hs-operator">(&lt;+&gt;)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span>
</span><span id="line-38"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679480294"><span class="annot"><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.ChainTip</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-39"></span><span>  </span><span id="local-6989586621679480292"><span class="annot"><span class="annottext">pretty :: ChainTip -&gt; Doc ann
</span><a href="#local-6989586621679480292"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="annot"><span class="annottext">ChainTip
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.ChainTipAtGenesis</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;ChainTipAtGenesis&quot;</span></span><span>
</span><span id="line-40"></span><span>  </span><span class="annot"><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.ChainTip</span></a></span><span> </span><span id="local-6989586621679480289"><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679480289"><span class="hs-identifier hs-var">sn</span></a></span></span><span> </span><span id="local-6989586621679480288"><span class="annot"><span class="annottext">Hash BlockHeader
</span><a href="#local-6989586621679480288"><span class="hs-identifier hs-var">ha</span></a></span></span><span> </span><span id="local-6989586621679480287"><span class="annot"><span class="annottext">BlockNo
</span><a href="#local-6989586621679480287"><span class="hs-identifier hs-var">bn</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;ChainTip(&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SlotNo -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679480289"><span class="hs-identifier hs-var">sn</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;,&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Hash BlockHeader -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Hash BlockHeader
</span><a href="#local-6989586621679480288"><span class="hs-identifier hs-var">ha</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;,&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">BlockNo -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">BlockNo
</span><a href="#local-6989586621679480287"><span class="hs-identifier hs-var">bn</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679480284"><span class="annot"><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.ChainPoint</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-43"></span><span>  </span><span id="local-6989586621679480283"><span class="annot"><span class="annottext">pretty :: ChainPoint -&gt; Doc ann
</span><a href="#local-6989586621679480283"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="annot"><span class="annottext">ChainPoint
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.ChainPointAtGenesis</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;ChainPointAtGenesis&quot;</span></span><span>
</span><span id="line-44"></span><span>  </span><span class="annot"><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.ChainPoint</span></a></span><span> </span><span id="local-6989586621679480280"><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679480280"><span class="hs-identifier hs-var">sn</span></a></span></span><span> </span><span id="local-6989586621679480279"><span class="annot"><span class="annottext">Hash BlockHeader
</span><a href="#local-6989586621679480279"><span class="hs-identifier hs-var">ha</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;ChainPoint(&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SlotNo -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679480280"><span class="hs-identifier hs-var">sn</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;,&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Hash BlockHeader -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Hash BlockHeader
</span><a href="#local-6989586621679480279"><span class="hs-identifier hs-var">ha</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679480265"><span id="local-6989586621679480267"><span id="local-6989586621679480269"><span id="local-6989586621679480271"><span id="local-6989586621679480274"><span id="local-6989586621679480276"><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Ord</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.ChainPoint</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-47"></span><span>   </span><span class="annot"><span class="annottext">ChainPoint
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.ChainPointAtGenesis</span></a></span><span> </span><span id="local-6989586621679480263"><span class="annot"><span class="annottext">&lt;= :: ChainPoint -&gt; ChainPoint -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;=</span></a></span></span><span> </span><span class="annot"><span class="annottext">ChainPoint
</span><span class="hs-identifier">_</span></span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-48"></span><span>   </span><span class="annot"><span class="annottext">ChainPoint
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&lt;=</span></a></span><span> </span><span class="annot"><span class="annottext">ChainPoint
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.ChainPointAtGenesis</span></a></span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-49"></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.ChainPoint</span></a></span><span> </span><span id="local-6989586621679480261"><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679480261"><span class="hs-identifier hs-var">sn</span></a></span></span><span> </span><span class="annot"><span class="annottext">Hash BlockHeader
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&lt;=</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.ChainPoint</span></a></span><span> </span><span id="local-6989586621679480260"><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679480260"><span class="hs-identifier hs-var">sn'</span></a></span></span><span> </span><span class="annot"><span class="annottext">Hash BlockHeader
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679480261"><span class="hs-identifier hs-var">sn</span></a></span><span> </span><span class="annot"><span class="annottext">SlotNo -&gt; SlotNo -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&lt;=</span></a></span><span> </span><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679480260"><span class="hs-identifier hs-var">sn'</span></a></span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span class="hs-comment">-- * C.Hash C.BlockHeader</span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679480257"><span class="annot"><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.Hash</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.BlockHeader</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-54"></span><span>  </span><span id="local-6989586621679480256"><span class="annot"><span class="annottext">pretty :: Hash BlockHeader -&gt; Doc ann
</span><a href="#local-6989586621679480256"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span id="local-6989586621679480255"><span class="annot"><span class="annottext">Hash BlockHeader
</span><a href="#local-6989586621679480255"><span class="hs-identifier hs-var">hash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;BlockHash&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hash BlockHeader -&gt; Text
forall a. SerialiseAsRawBytes a =&gt; a -&gt; Text
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.serialiseToRawBytesHexText</span></a></span><span> </span><span class="annot"><span class="annottext">Hash BlockHeader
</span><a href="#local-6989586621679480255"><span class="hs-identifier hs-var">hash</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.ToField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.Hash</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.BlockHeader</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-57"></span><span>  </span><span id="local-6989586621679480251"><span class="annot"><span class="annottext">toField :: Hash BlockHeader -&gt; SQLData
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">toField</span></a></span></span><span> </span><span id="local-6989586621679480249"><span class="annot"><span class="annottext">Hash BlockHeader
</span><a href="#local-6989586621679480249"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; SQLData
forall a. ToField a =&gt; a -&gt; SQLData
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.toField</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; SQLData) -&gt; ByteString -&gt; SQLData
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Hash BlockHeader -&gt; ByteString
forall a. SerialiseAsRawBytes a =&gt; a -&gt; ByteString
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.serialiseToRawBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Hash BlockHeader
</span><a href="#local-6989586621679480249"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.FromField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.Hash</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.BlockHeader</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-60"></span><span>   </span><span id="local-6989586621679480245"><span class="annot"><span class="annottext">fromField :: FieldParser (Hash BlockHeader)
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679480243"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480243"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-61"></span><span>      </span><span class="annot"><span class="annottext">FieldParser ByteString
forall a. FromField a =&gt; FieldParser a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.fromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480243"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Ok ByteString
-&gt; (ByteString -&gt; Hash BlockHeader) -&gt; Ok (Hash BlockHeader)
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&amp;&gt;</span></a></span><span>
</span><span id="line-62"></span><span>        </span><span class="annot"><span class="annottext">Hash BlockHeader -&gt; Maybe (Hash BlockHeader) -&gt; Hash BlockHeader
forall a. a -&gt; Maybe a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; Hash BlockHeader
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Cannot deserialise C.Hash C.BlockHeader&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe (Hash BlockHeader) -&gt; Hash BlockHeader)
-&gt; (ByteString -&gt; Maybe (Hash BlockHeader))
-&gt; ByteString
-&gt; Hash BlockHeader
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span>
</span><span id="line-63"></span><span>          </span><span class="annot"><span class="annottext">AsType (Hash BlockHeader) -&gt; ByteString -&gt; Maybe (Hash BlockHeader)
forall a.
SerialiseAsRawBytes a =&gt;
AsType a -&gt; ByteString -&gt; Maybe a
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.deserialiseFromRawBytes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy (Hash BlockHeader) -&gt; AsType (Hash BlockHeader)
forall t. HasTypeProxy t =&gt; Proxy t -&gt; AsType t
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.proxyToAsType</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy (Hash BlockHeader)
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span class="hs-comment">-- * C.SlotNo</span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679480236"><span class="annot"><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier hs-type">C.SlotNo</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-68"></span><span>  </span><span id="local-6989586621679480235"><span class="annot"><span class="annottext">pretty :: SlotNo -&gt; Doc ann
</span><a href="#local-6989586621679480235"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier hs-type">C.SlotNo</span></a></span><span> </span><span id="local-6989586621679480233"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679480233"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;Slot&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679480233"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span id="local-6989586621679480231"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.ToField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier hs-type">C.SlotNo</span></a></span></span><span>
</span><span id="line-71"></span><span id="local-6989586621679480229"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.FromField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier hs-type">C.SlotNo</span></a></span></span><span>
</span><span id="line-72"></span><span>
</span><span id="line-73"></span><span class="hs-comment">-- * C.BlockNo</span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679480226"><span class="annot"><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-type">Pretty</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier hs-type">C.BlockNo</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-76"></span><span>  </span><span id="local-6989586621679480225"><span class="annot"><span class="annottext">pretty :: BlockNo -&gt; Doc ann
</span><a href="#local-6989586621679480225"><span class="hs-identifier hs-var hs-var hs-var hs-var">pretty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier hs-type">C.BlockNo</span></a></span><span> </span><span id="local-6989586621679480223"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679480223"><span class="hs-identifier hs-var">bn</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc ann
</span><span class="hs-string">&quot;BlockNo&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc ann -&gt; Doc ann -&gt; Doc ann
forall ann. Doc ann -&gt; Doc ann -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Doc ann
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679480223"><span class="hs-identifier hs-var">bn</span></a></span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679480215"><span id="local-6989586621679480217"><span id="local-6989586621679480219"><span id="local-6989586621679480221"><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier hs-type">C.BlockNo</span></a></span></span></span></span></span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679480210"><span id="local-6989586621679480212"><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">FromJSON</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier hs-type">C.BlockNo</span></a></span></span></span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="hs-comment">-- * C.AddressAny</span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.FromField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.AddressAny</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-85"></span><span>  </span><span id="local-6989586621679480207"><span class="annot"><span class="annottext">fromField :: FieldParser AddressAny
</span><a href="#local-6989586621679480207"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679480206"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480206"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldParser ByteString
forall a. FromField a =&gt; FieldParser a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.fromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480206"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Ok ByteString -&gt; (ByteString -&gt; Ok AddressAny) -&gt; Ok AddressAny
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679480205"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679480205"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ok AddressAny
-&gt; (AddressAny -&gt; Ok AddressAny)
-&gt; Maybe AddressAny
-&gt; Ok AddressAny
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">maybe</span></a></span><span>
</span><span id="line-86"></span><span>    </span><span class="annot"><span class="annottext">Ok AddressAny
</span><a href="#local-6989586621679480203"><span class="hs-identifier hs-var">cantDeserialise</span></a></span><span>
</span><span id="line-87"></span><span>    </span><span class="annot"><span class="annottext">AddressAny -&gt; Ok AddressAny
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe AddressAny -&gt; Ok AddressAny)
-&gt; Maybe AddressAny -&gt; Ok AddressAny
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">AsType AddressAny -&gt; ByteString -&gt; Maybe AddressAny
forall a.
SerialiseAsRawBytes a =&gt;
AsType a -&gt; ByteString -&gt; Maybe a
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.deserialiseFromRawBytes</span></a></span><span> </span><span class="annot"><span class="annottext">AsType AddressAny
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.AsAddressAny</span></a></span><span>
</span><span id="line-88"></span><span>    </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679480205"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-89"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-90"></span><span>      </span><span id="local-6989586621679480203"><span class="annot"><span class="annottext">cantDeserialise :: Ok AddressAny
</span><a href="#local-6989586621679480203"><span class="hs-identifier hs-var hs-var">cantDeserialise</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; [Char] -&gt; [Char] -&gt; ResultError)
-&gt; Field -&gt; [Char] -&gt; Ok AddressAny
forall a err.
(Typeable a, Exception err) =&gt;
([Char] -&gt; [Char] -&gt; [Char] -&gt; err) -&gt; Field -&gt; [Char] -&gt; Ok a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.returnError</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char] -&gt; ResultError
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.ConversionFailed</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480206"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Cannot deserialise address.&quot;</span></span><span>
</span><span id="line-91"></span><span>
</span><span id="line-92"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.ToField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.AddressAny</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-93"></span><span>  </span><span id="local-6989586621679480198"><span class="annot"><span class="annottext">toField :: AddressAny -&gt; SQLData
</span><a href="#local-6989586621679480198"><span class="hs-identifier hs-var hs-var hs-var hs-var">toField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; SQLData
</span><a href="../../../../direct-sqlite/html/src"><span class="hs-identifier hs-var">SQL.SQLBlob</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; SQLData)
-&gt; (AddressAny -&gt; ByteString) -&gt; AddressAny -&gt; SQLData
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AddressAny -&gt; ByteString
forall a. SerialiseAsRawBytes a =&gt; a -&gt; ByteString
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.serialiseToRawBytes</span></a></span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679480194"><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">FromJSON</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.AddressAny</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-96"></span><span>    </span><span id="local-6989586621679480193"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser AddressAny
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">Aeson.String</span></a></span><span> </span><span id="local-6989586621679480190"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679480190"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-97"></span><span>        </span><span class="annot"><span class="annottext">Parser AddressAny
-&gt; (AddressAny -&gt; Parser AddressAny)
-&gt; Maybe AddressAny
-&gt; Parser AddressAny
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Parser AddressAny
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-98"></span><span>              </span><span class="annot"><span class="annottext">AddressAny -&gt; Parser AddressAny
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span>
</span><span id="line-99"></span><span>              </span><span class="annot"><span class="annottext">(Maybe AddressAny -&gt; Parser AddressAny)
-&gt; Maybe AddressAny -&gt; Parser AddressAny
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">AsType AddressAny -&gt; Text -&gt; Maybe AddressAny
forall addr.
SerialiseAddress addr =&gt;
AsType addr -&gt; Text -&gt; Maybe addr
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.deserialiseAddress</span></a></span><span> </span><span class="annot"><span class="annottext">AsType AddressAny
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.AsAddressAny</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679480190"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-100"></span><span>    </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">parseJSON</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Parser AddressAny
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679480182"><span id="local-6989586621679480184"><span id="local-6989586621679480186"><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.AddressAny</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-103"></span><span>    </span><span id="local-6989586621679480181"><span class="annot"><span class="annottext">toJSON :: AddressAny -&gt; Value
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">Aeson.String</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Value) -&gt; (AddressAny -&gt; Text) -&gt; AddressAny -&gt; Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AddressAny -&gt; Text
forall addr. SerialiseAddress addr =&gt; addr -&gt; Text
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.serialiseAddress</span></a></span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span class="hs-comment">-- * C.Hash C.ScriptData</span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.FromField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.Hash</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.ScriptData</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-108"></span><span>  </span><span id="local-6989586621679480177"><span class="annot"><span class="annottext">fromField :: FieldParser (Hash ScriptData)
</span><a href="#local-6989586621679480177"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679480176"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480176"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldParser ByteString
forall a. FromField a =&gt; FieldParser a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.fromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480176"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Ok ByteString
-&gt; (ByteString -&gt; Ok (Hash ScriptData)) -&gt; Ok (Hash ScriptData)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span>
</span><span id="line-109"></span><span>    </span><span class="annot"><span class="annottext">Ok (Hash ScriptData)
-&gt; (Hash ScriptData -&gt; Ok (Hash ScriptData))
-&gt; Maybe (Hash ScriptData)
-&gt; Ok (Hash ScriptData)
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([Char] -&gt; [Char] -&gt; [Char] -&gt; ResultError)
-&gt; Field -&gt; [Char] -&gt; Ok (Hash ScriptData)
forall a err.
(Typeable a, Exception err) =&gt;
([Char] -&gt; [Char] -&gt; [Char] -&gt; err) -&gt; Field -&gt; [Char] -&gt; Ok a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.returnError</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char] -&gt; ResultError
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.ConversionFailed</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480176"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Cannot deserialise C.Hash C.ScriptData.&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Hash ScriptData -&gt; Ok (Hash ScriptData)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span>
</span><span id="line-110"></span><span>    </span><span class="annot"><span class="annottext">(Maybe (Hash ScriptData) -&gt; Ok (Hash ScriptData))
-&gt; (ByteString -&gt; Maybe (Hash ScriptData))
-&gt; ByteString
-&gt; Ok (Hash ScriptData)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AsType (Hash ScriptData) -&gt; ByteString -&gt; Maybe (Hash ScriptData)
forall a.
SerialiseAsRawBytes a =&gt;
AsType a -&gt; ByteString -&gt; Maybe a
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.deserialiseFromRawBytes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AsType ScriptData -&gt; AsType (Hash ScriptData)
forall a. AsType a -&gt; AsType (Hash a)
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.AsHash</span></a></span><span> </span><span class="annot"><span class="annottext">AsType ScriptData
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.AsScriptData</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.ToField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.Hash</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.ScriptData</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-113"></span><span>  </span><span id="local-6989586621679480172"><span class="annot"><span class="annottext">toField :: Hash ScriptData -&gt; SQLData
</span><a href="#local-6989586621679480172"><span class="hs-identifier hs-var hs-var hs-var hs-var">toField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; SQLData
</span><a href="../../../../direct-sqlite/html/src"><span class="hs-identifier hs-var">SQL.SQLBlob</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; SQLData)
-&gt; (Hash ScriptData -&gt; ByteString) -&gt; Hash ScriptData -&gt; SQLData
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Hash ScriptData -&gt; ByteString
forall a. SerialiseAsRawBytes a =&gt; a -&gt; ByteString
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.serialiseToRawBytes</span></a></span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span class="hs-comment">-- * C.ScriptData</span><span>
</span><span id="line-116"></span><span>
</span><span id="line-117"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679480166"><span id="local-6989586621679480168"><span class="annot"><a href="../../../../serialise/html/src"><span class="hs-identifier hs-type">Serialise</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.ScriptData</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-118"></span><span>  </span><span id="local-6989586621679480164"><span class="annot"><span class="annottext">encode :: ScriptData -&gt; Encoding
</span><a href="#local-6989586621679480164"><span class="hs-identifier hs-var hs-var hs-var hs-var">encode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ScriptData -&gt; Encoding
forall a. ToCBOR a =&gt; a -&gt; Encoding
</span><a href="../../../../cardano-binary/html/src"><span class="hs-identifier hs-var">CBOR.toCBOR</span></a></span><span>
</span><span id="line-119"></span><span>  </span><span id="local-6989586621679480162"><span class="annot"><span class="annottext">decode :: Decoder s ScriptData
</span><a href="#local-6989586621679480162"><span class="hs-identifier hs-var hs-var hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Decoder s ScriptData
forall a s. FromCBOR a =&gt; Decoder s a
</span><a href="../../../../cardano-binary/html/src"><span class="hs-identifier hs-var">CBOR.fromCBOR</span></a></span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.FromField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.ScriptData</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-122"></span><span>  </span><span id="local-6989586621679480159"><span class="annot"><span class="annottext">fromField :: FieldParser ScriptData
</span><a href="#local-6989586621679480159"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679480158"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480158"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldParser ByteString
forall a. FromField a =&gt; FieldParser a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.fromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480158"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Ok ByteString -&gt; (ByteString -&gt; Ok ScriptData) -&gt; Ok ScriptData
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span>
</span><span id="line-123"></span><span>    </span><span class="annot"><span class="annottext">(DecoderError -&gt; Ok ScriptData)
-&gt; (ScriptData -&gt; Ok ScriptData)
-&gt; Either DecoderError ScriptData
-&gt; Ok ScriptData
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ok ScriptData -&gt; DecoderError -&gt; Ok ScriptData
forall a b. a -&gt; b -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(Ok ScriptData -&gt; DecoderError -&gt; Ok ScriptData)
-&gt; Ok ScriptData -&gt; DecoderError -&gt; Ok ScriptData
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; [Char] -&gt; [Char] -&gt; ResultError)
-&gt; Field -&gt; [Char] -&gt; Ok ScriptData
forall a err.
(Typeable a, Exception err) =&gt;
([Char] -&gt; [Char] -&gt; [Char] -&gt; err) -&gt; Field -&gt; [Char] -&gt; Ok a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.returnError</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char] -&gt; ResultError
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.ConversionFailed</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480158"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Cannot deserialise C.ScriptData.&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ScriptData -&gt; Ok ScriptData
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span>
</span><span id="line-124"></span><span>    </span><span class="annot"><span class="annottext">(Either DecoderError ScriptData -&gt; Ok ScriptData)
-&gt; (ByteString -&gt; Either DecoderError ScriptData)
-&gt; ByteString
-&gt; Ok ScriptData
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AsType ScriptData -&gt; ByteString -&gt; Either DecoderError ScriptData
forall a.
SerialiseAsCBOR a =&gt;
AsType a -&gt; ByteString -&gt; Either DecoderError a
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.deserialiseFromCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">AsType ScriptData
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.AsScriptData</span></a></span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.ToField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.ScriptData</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-127"></span><span>  </span><span id="local-6989586621679480153"><span class="annot"><span class="annottext">toField :: ScriptData -&gt; SQLData
</span><a href="#local-6989586621679480153"><span class="hs-identifier hs-var hs-var hs-var hs-var">toField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; SQLData
</span><a href="../../../../direct-sqlite/html/src"><span class="hs-identifier hs-var">SQL.SQLBlob</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; SQLData)
-&gt; (ScriptData -&gt; ByteString) -&gt; ScriptData -&gt; SQLData
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptData -&gt; ByteString
forall a. SerialiseAsCBOR a =&gt; a -&gt; ByteString
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.serialiseToCBOR</span></a></span><span>
</span><span id="line-128"></span><span>
</span><span id="line-129"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679480149"><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">FromJSON</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.ScriptData</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-130"></span><span>    </span><span id="local-6989586621679480148"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser ScriptData
</span><a href="#local-6989586621679480148"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">Aeson.String</span></a></span><span> </span><span id="local-6989586621679480147"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679480147"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-131"></span><span>        </span><span class="annot"><span class="annottext">([Char] -&gt; Parser ScriptData)
-&gt; (ScriptData -&gt; Parser ScriptData)
-&gt; Either [Char] ScriptData
-&gt; Parser ScriptData
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Parser ScriptData -&gt; [Char] -&gt; Parser ScriptData
forall a b. a -&gt; b -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Parser ScriptData
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ScriptData -&gt; Parser ScriptData
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Either [Char] ScriptData -&gt; Parser ScriptData)
-&gt; Either [Char] ScriptData -&gt; Parser ScriptData
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-132"></span><span>            </span><span id="local-6989586621679480146"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679480146"><span class="hs-identifier hs-var">base16Val</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either [Char] ByteString
</span><a href="../../../../base16-bytestring/html/src"><span class="hs-identifier hs-var">Base16.decode</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Either [Char] ByteString)
-&gt; ByteString -&gt; Either [Char] ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; ByteString
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">Text.encodeUtf8</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679480147"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-133"></span><span>            </span><span class="annot"><span class="annottext">(DecoderError -&gt; [Char])
-&gt; Either DecoderError ScriptData -&gt; Either [Char] ScriptData
forall a b c. (a -&gt; b) -&gt; Either a c -&gt; Either b c
</span><a href="Marconi.ChainIndex.Orphans.html#mapLeft"><span class="hs-identifier hs-var">mapLeft</span></a></span><span> </span><span class="annot"><span class="annottext">DecoderError -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">(Either DecoderError ScriptData -&gt; Either [Char] ScriptData)
-&gt; Either DecoderError ScriptData -&gt; Either [Char] ScriptData
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">AsType ScriptData -&gt; ByteString -&gt; Either DecoderError ScriptData
forall a.
SerialiseAsCBOR a =&gt;
AsType a -&gt; ByteString -&gt; Either DecoderError a
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.deserialiseFromCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">AsType ScriptData
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.AsScriptData</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679480146"><span class="hs-identifier hs-var">base16Val</span></a></span><span>
</span><span id="line-134"></span><span>    </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">parseJSON</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Parser ScriptData
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span id="local-6989586621679480421"><span id="local-6989586621679480422"><span id="local-6989586621679480423"><span class="annot"><a href="Marconi.ChainIndex.Orphans.html#mapLeft"><span class="hs-identifier hs-type">mapLeft</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679480423"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679480422"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679480423"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679480421"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679480422"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679480421"><span class="hs-identifier hs-type">c</span></a></span></span></span></span><span>
</span><span id="line-137"></span><span id="mapLeft"><span class="annot"><span class="annottext">mapLeft :: (a -&gt; b) -&gt; Either a c -&gt; Either b c
</span><a href="Marconi.ChainIndex.Orphans.html#mapLeft"><span class="hs-identifier hs-var hs-var">mapLeft</span></a></span></span><span> </span><span id="local-6989586621679480141"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679480141"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679480140"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679480140"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Either b c
forall a b. a -&gt; Either a b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Either b c) -&gt; b -&gt; Either b c
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679480141"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679480140"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-138"></span><span class="annot"><a href="Marconi.ChainIndex.Orphans.html#mapLeft"><span class="hs-identifier hs-var">mapLeft</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679480139"><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679480139"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">c -&gt; Either b c
forall a b. b -&gt; Either a b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679480139"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679480132"><span id="local-6989586621679480134"><span id="local-6989586621679480136"><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.ScriptData</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-141"></span><span>    </span><span id="local-6989586621679480131"><span class="annot"><span class="annottext">toJSON :: ScriptData -&gt; Value
</span><a href="#local-6989586621679480131"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span id="local-6989586621679480130"><span class="annot"><span class="annottext">ScriptData
</span><a href="#local-6989586621679480130"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">Aeson.String</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Value) -&gt; Text -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Text
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">Text.decodeLatin1</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Text) -&gt; ByteString -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><a href="../../../../base16-bytestring/html/src"><span class="hs-identifier hs-var">Base16.encode</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString) -&gt; ByteString -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptData -&gt; ByteString
forall a. SerialiseAsCBOR a =&gt; a -&gt; ByteString
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.serialiseToCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptData
</span><a href="#local-6989586621679480130"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span class="hs-comment">-- * C.TxIn</span><span>
</span><span id="line-144"></span><span>
</span><span id="line-145"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.ToRow</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.TxIn</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-146"></span><span>  </span><span id="local-6989586621679480125"><span class="annot"><span class="annottext">toRow :: TxIn -&gt; [SQLData]
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">toRow</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.TxIn</span></a></span><span> </span><span id="local-6989586621679480122"><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621679480122"><span class="hs-identifier hs-var">txid</span></a></span></span><span> </span><span id="local-6989586621679480121"><span class="annot"><span class="annottext">TxIx
</span><a href="#local-6989586621679480121"><span class="hs-identifier hs-var">txix</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TxId, TxIx) -&gt; [SQLData]
forall a. ToRow a =&gt; a -&gt; [SQLData]
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.toRow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxId
</span><a href="#local-6989586621679480122"><span class="hs-identifier hs-var">txid</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TxIx
</span><a href="#local-6989586621679480121"><span class="hs-identifier hs-var">txix</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-147"></span><span>
</span><span id="line-148"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.FromRow</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.TxIn</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-149"></span><span>  </span><span id="local-6989586621679480118"><span class="annot"><span class="annottext">fromRow :: RowParser TxIn
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromRow</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxId -&gt; TxIx -&gt; TxIn
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.TxIn</span></a></span><span> </span><span class="annot"><span class="annottext">(TxId -&gt; TxIx -&gt; TxIn)
-&gt; RowParser TxId -&gt; RowParser (TxIx -&gt; TxIn)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">RowParser TxId
forall a. FromField a =&gt; RowParser a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.field</span></a></span><span> </span><span class="annot"><span class="annottext">RowParser (TxIx -&gt; TxIn) -&gt; RowParser TxIx -&gt; RowParser TxIn
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">RowParser TxIx
forall a. FromField a =&gt; RowParser a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.field</span></a></span><span>
</span><span id="line-150"></span><span>
</span><span id="line-151"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.FromField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.TxId</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-152"></span><span>  </span><span id="local-6989586621679480113"><span class="annot"><span class="annottext">fromField :: FieldParser TxId
</span><a href="#local-6989586621679480113"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679480112"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480112"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldParser ByteString
forall a. FromField a =&gt; FieldParser a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.fromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480112"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Ok ByteString -&gt; (ByteString -&gt; Ok TxId) -&gt; Ok TxId
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Ok TxId -&gt; (TxId -&gt; Ok TxId) -&gt; Maybe TxId -&gt; Ok TxId
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">maybe</span></a></span><span>
</span><span id="line-153"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([Char] -&gt; [Char] -&gt; [Char] -&gt; ResultError)
-&gt; Field -&gt; [Char] -&gt; Ok TxId
forall a err.
(Typeable a, Exception err) =&gt;
([Char] -&gt; [Char] -&gt; [Char] -&gt; err) -&gt; Field -&gt; [Char] -&gt; Ok a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.returnError</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char] -&gt; ResultError
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.ConversionFailed</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480112"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Cannot deserialise TxId.&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-154"></span><span>    </span><span class="annot"><span class="annottext">TxId -&gt; Ok TxId
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe TxId -&gt; Ok TxId)
-&gt; (ByteString -&gt; Maybe TxId) -&gt; ByteString -&gt; Ok TxId
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AsType TxId -&gt; ByteString -&gt; Maybe TxId
forall a.
SerialiseAsRawBytes a =&gt;
AsType a -&gt; ByteString -&gt; Maybe a
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.deserialiseFromRawBytes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy TxId -&gt; AsType TxId
forall t. HasTypeProxy t =&gt; Proxy t -&gt; AsType t
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.proxyToAsType</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy TxId
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span>
</span><span id="line-156"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.ToField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.TxId</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-157"></span><span>  </span><span id="local-6989586621679480110"><span class="annot"><span class="annottext">toField :: TxId -&gt; SQLData
</span><a href="#local-6989586621679480110"><span class="hs-identifier hs-var hs-var hs-var hs-var">toField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; SQLData
</span><a href="../../../../direct-sqlite/html/src"><span class="hs-identifier hs-var">SQL.SQLBlob</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; SQLData) -&gt; (TxId -&gt; ByteString) -&gt; TxId -&gt; SQLData
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TxId -&gt; ByteString
forall a. SerialiseAsRawBytes a =&gt; a -&gt; ByteString
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.serialiseToRawBytes</span></a></span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.FromField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.TxIx</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-160"></span><span>  </span><span id="local-6989586621679480108"><span class="annot"><span class="annottext">fromField :: FieldParser TxIx
</span><a href="#local-6989586621679480108"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word -&gt; TxIx) -&gt; Ok Word -&gt; Ok TxIx
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">Word -&gt; TxIx
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.TxIx</span></a></span><span> </span><span class="annot"><span class="annottext">(Ok Word -&gt; Ok TxIx) -&gt; (Field -&gt; Ok Word) -&gt; FieldParser TxIx
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Field -&gt; Ok Word
forall a. FromField a =&gt; FieldParser a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.fromField</span></a></span><span>
</span><span id="line-161"></span><span>
</span><span id="line-162"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.ToField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.TxIx</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-163"></span><span>  </span><span id="local-6989586621679480105"><span class="annot"><span class="annottext">toField :: TxIx -&gt; SQLData
</span><a href="#local-6989586621679480105"><span class="hs-identifier hs-var hs-var hs-var hs-var">toField</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.TxIx</span></a></span><span> </span><span id="local-6989586621679480104"><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679480104"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; SQLData
</span><a href="../../../../direct-sqlite/html/src"><span class="hs-identifier hs-var">SQL.SQLInteger</span></a></span><span> </span><span class="annot"><span class="annottext">(Int64 -&gt; SQLData) -&gt; Int64 -&gt; SQLData
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Word -&gt; Int64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679480104"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-164"></span><span>
</span><span id="line-165"></span><span class="hs-comment">-- * C.Value</span><span>
</span><span id="line-166"></span><span>
</span><span id="line-167"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.ToField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.Value</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-168"></span><span>  </span><span id="local-6989586621679480101"><span class="annot"><span class="annottext">toField :: Value -&gt; SQLData
</span><a href="#local-6989586621679480101"><span class="hs-identifier hs-var hs-var hs-var hs-var">toField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; SQLData
</span><a href="../../../../direct-sqlite/html/src"><span class="hs-identifier hs-var">SQL.SQLBlob</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; SQLData)
-&gt; (Value -&gt; ByteString) -&gt; Value -&gt; SQLData
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">toStrict</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString)
-&gt; (Value -&gt; ByteString) -&gt; Value -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; ByteString
forall a. ToJSON a =&gt; a -&gt; ByteString
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">Aeson.encode</span></a></span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.FromField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.Value</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-171"></span><span>  </span><span id="local-6989586621679480098"><span class="annot"><span class="annottext">fromField :: FieldParser Value
</span><a href="#local-6989586621679480098"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679480097"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480097"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldParser ByteString
forall a. FromField a =&gt; FieldParser a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.fromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480097"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Ok ByteString -&gt; (ByteString -&gt; Ok Value) -&gt; Ok Value
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Ok Value)
-&gt; (Value -&gt; Ok Value) -&gt; Either [Char] Value -&gt; Ok Value
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">either</span></a></span><span>
</span><span id="line-172"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ok Value -&gt; [Char] -&gt; Ok Value
forall a b. a -&gt; b -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(Ok Value -&gt; [Char] -&gt; Ok Value) -&gt; Ok Value -&gt; [Char] -&gt; Ok Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; [Char] -&gt; [Char] -&gt; ResultError)
-&gt; Field -&gt; [Char] -&gt; Ok Value
forall a err.
(Typeable a, Exception err) =&gt;
([Char] -&gt; [Char] -&gt; [Char] -&gt; err) -&gt; Field -&gt; [Char] -&gt; Ok a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.returnError</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char] -&gt; ResultError
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.ConversionFailed</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480097"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Cannot deserialise value.&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-173"></span><span>    </span><span class="annot"><span class="annottext">Value -&gt; Ok Value
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Either [Char] Value -&gt; Ok Value)
-&gt; (ByteString -&gt; Either [Char] Value) -&gt; ByteString -&gt; Ok Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either [Char] Value
forall a. FromJSON a =&gt; ByteString -&gt; Either [Char] a
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">Aeson.eitherDecode</span></a></span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span class="hs-comment">-- * C.ScriptInAnyLang</span><span>
</span><span id="line-176"></span><span>
</span><span id="line-177"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.ToField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.ScriptInAnyLang</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-178"></span><span>  </span><span id="local-6989586621679480094"><span class="annot"><span class="annottext">toField :: ScriptInAnyLang -&gt; SQLData
</span><a href="#local-6989586621679480094"><span class="hs-identifier hs-var hs-var hs-var hs-var">toField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; SQLData
</span><a href="../../../../direct-sqlite/html/src"><span class="hs-identifier hs-var">SQL.SQLBlob</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; SQLData)
-&gt; (ScriptInAnyLang -&gt; ByteString) -&gt; ScriptInAnyLang -&gt; SQLData
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">toStrict</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString)
-&gt; (ScriptInAnyLang -&gt; ByteString) -&gt; ScriptInAnyLang -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptInAnyLang -&gt; ByteString
forall a. ToJSON a =&gt; a -&gt; ByteString
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">Aeson.encode</span></a></span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.FromField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.ScriptInAnyLang</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-181"></span><span>  </span><span id="local-6989586621679480092"><span class="annot"><span class="annottext">fromField :: FieldParser ScriptInAnyLang
</span><a href="#local-6989586621679480092"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679480091"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480091"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldParser ByteString
forall a. FromField a =&gt; FieldParser a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.fromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480091"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Ok ByteString
-&gt; (ByteString -&gt; Ok ScriptInAnyLang) -&gt; Ok ScriptInAnyLang
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Ok ScriptInAnyLang)
-&gt; (ScriptInAnyLang -&gt; Ok ScriptInAnyLang)
-&gt; Either [Char] ScriptInAnyLang
-&gt; Ok ScriptInAnyLang
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">either</span></a></span><span>
</span><span id="line-182"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ok ScriptInAnyLang -&gt; [Char] -&gt; Ok ScriptInAnyLang
forall a b. a -&gt; b -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(Ok ScriptInAnyLang -&gt; [Char] -&gt; Ok ScriptInAnyLang)
-&gt; Ok ScriptInAnyLang -&gt; [Char] -&gt; Ok ScriptInAnyLang
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; [Char] -&gt; [Char] -&gt; ResultError)
-&gt; Field -&gt; [Char] -&gt; Ok ScriptInAnyLang
forall a err.
(Typeable a, Exception err) =&gt;
([Char] -&gt; [Char] -&gt; [Char] -&gt; err) -&gt; Field -&gt; [Char] -&gt; Ok a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.returnError</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char] -&gt; ResultError
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.ConversionFailed</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480091"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Cannot deserialise value.&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-183"></span><span>    </span><span class="annot"><span class="annottext">ScriptInAnyLang -&gt; Ok ScriptInAnyLang
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Either [Char] ScriptInAnyLang -&gt; Ok ScriptInAnyLang)
-&gt; (ByteString -&gt; Either [Char] ScriptInAnyLang)
-&gt; ByteString
-&gt; Ok ScriptInAnyLang
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either [Char] ScriptInAnyLang
forall a. FromJSON a =&gt; ByteString -&gt; Either [Char] a
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">Aeson.eitherDecode</span></a></span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span class="hs-comment">-- * C.ScriptHash</span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.ToField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.ScriptHash</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-188"></span><span>  </span><span id="local-6989586621679480089"><span class="annot"><span class="annottext">toField :: ScriptHash -&gt; SQLData
</span><a href="#local-6989586621679480089"><span class="hs-identifier hs-var hs-var hs-var hs-var">toField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; SQLData
</span><a href="../../../../direct-sqlite/html/src"><span class="hs-identifier hs-var">SQL.SQLBlob</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; SQLData)
-&gt; (ScriptHash -&gt; ByteString) -&gt; ScriptHash -&gt; SQLData
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptHash -&gt; ByteString
forall a. SerialiseAsRawBytes a =&gt; a -&gt; ByteString
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.serialiseToRawBytesHex</span></a></span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.FromField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.ScriptHash</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-191"></span><span>  </span><span id="local-6989586621679480086"><span class="annot"><span class="annottext">fromField :: FieldParser ScriptHash
</span><a href="#local-6989586621679480086"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679480085"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480085"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldParser ByteString
forall a. FromField a =&gt; FieldParser a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.fromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480085"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Ok ByteString -&gt; (ByteString -&gt; Ok ScriptHash) -&gt; Ok ScriptHash
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">(RawBytesHexError -&gt; Ok ScriptHash)
-&gt; (ScriptHash -&gt; Ok ScriptHash)
-&gt; Either RawBytesHexError ScriptHash
-&gt; Ok ScriptHash
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">either</span></a></span><span>
</span><span id="line-192"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ok ScriptHash -&gt; RawBytesHexError -&gt; Ok ScriptHash
forall a b. a -&gt; b -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(Ok ScriptHash -&gt; RawBytesHexError -&gt; Ok ScriptHash)
-&gt; Ok ScriptHash -&gt; RawBytesHexError -&gt; Ok ScriptHash
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; [Char] -&gt; [Char] -&gt; ResultError)
-&gt; Field -&gt; [Char] -&gt; Ok ScriptHash
forall a err.
(Typeable a, Exception err) =&gt;
([Char] -&gt; [Char] -&gt; [Char] -&gt; err) -&gt; Field -&gt; [Char] -&gt; Ok a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.returnError</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char] -&gt; ResultError
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.ConversionFailed</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480085"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Cannot deserialise scriptDataHash.&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span>    </span><span class="annot"><span class="annottext">ScriptHash -&gt; Ok ScriptHash
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Either RawBytesHexError ScriptHash -&gt; Ok ScriptHash)
-&gt; (ByteString -&gt; Either RawBytesHexError ScriptHash)
-&gt; ByteString
-&gt; Ok ScriptHash
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AsType ScriptHash
-&gt; ByteString -&gt; Either RawBytesHexError ScriptHash
forall a.
SerialiseAsRawBytes a =&gt;
AsType a -&gt; ByteString -&gt; Either RawBytesHexError a
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.deserialiseFromRawBytesHex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy ScriptHash -&gt; AsType ScriptHash
forall t. HasTypeProxy t =&gt; Proxy t -&gt; AsType t
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.proxyToAsType</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy ScriptHash
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span class="hs-comment">-- * O.LedgerState (O.CardanoBlock O.StandardCrypto)</span><span>
</span><span id="line-196"></span><span>
</span><span id="line-197"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.ToField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ouroboros-consensus/html/src"><span class="hs-identifier hs-type">O.LedgerState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ouroboros-consensus-cardano/html/src"><span class="hs-identifier hs-type">O.CardanoBlock</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">O.StandardCrypto</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-198"></span><span>  </span><span id="local-6989586621679480082"><span class="annot"><span class="annottext">toField :: LedgerState (CardanoBlock StandardCrypto) -&gt; SQLData
</span><a href="#local-6989586621679480082"><span class="hs-identifier hs-var hs-var hs-var hs-var">toField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; SQLData
</span><a href="../../../../direct-sqlite/html/src"><span class="hs-identifier hs-var">SQL.SQLBlob</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; SQLData)
-&gt; (LedgerState (CardanoBlock StandardCrypto) -&gt; ByteString)
-&gt; LedgerState (CardanoBlock StandardCrypto)
-&gt; SQLData
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Encoding -&gt; ByteString
</span><a href="../../../../cborg/html/src"><span class="hs-identifier hs-var">CBOR.toStrictByteString</span></a></span><span> </span><span class="annot"><span class="annottext">(Encoding -&gt; ByteString)
-&gt; (LedgerState (CardanoBlock StandardCrypto) -&gt; Encoding)
-&gt; LedgerState (CardanoBlock StandardCrypto)
-&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LedgerState (CardanoBlock StandardCrypto) -&gt; Encoding
</span><a href="Marconi.ChainIndex.Orphans.html#encodeLedgerState"><span class="hs-identifier hs-var">encodeLedgerState</span></a></span><span>
</span><span id="line-199"></span><span>
</span><span id="line-200"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.FromField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ouroboros-consensus/html/src"><span class="hs-identifier hs-type">O.LedgerState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ouroboros-consensus-cardano/html/src"><span class="hs-identifier hs-type">O.CardanoBlock</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">O.StandardCrypto</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-201"></span><span>  </span><span id="local-6989586621679480078"><span class="annot"><span class="annottext">fromField :: FieldParser (LedgerState (CardanoBlock StandardCrypto))
</span><a href="#local-6989586621679480078"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679480077"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480077"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldParser ByteString
forall a. FromField a =&gt; FieldParser a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.fromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480077"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Ok ByteString
-&gt; (ByteString -&gt; Ok (LedgerState (CardanoBlock StandardCrypto)))
-&gt; Ok (LedgerState (CardanoBlock StandardCrypto))
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">(DeserialiseFailure
 -&gt; Ok (LedgerState (CardanoBlock StandardCrypto)))
-&gt; ((ByteString, LedgerState (CardanoBlock StandardCrypto))
    -&gt; Ok (LedgerState (CardanoBlock StandardCrypto)))
-&gt; Either
     DeserialiseFailure
     (ByteString, LedgerState (CardanoBlock StandardCrypto))
-&gt; Ok (LedgerState (CardanoBlock StandardCrypto))
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">either</span></a></span><span>
</span><span id="line-202"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ok (LedgerState (CardanoBlock StandardCrypto))
-&gt; DeserialiseFailure
-&gt; Ok (LedgerState (CardanoBlock StandardCrypto))
forall a b. a -&gt; b -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(Ok (LedgerState (CardanoBlock StandardCrypto))
 -&gt; DeserialiseFailure
 -&gt; Ok (LedgerState (CardanoBlock StandardCrypto)))
-&gt; Ok (LedgerState (CardanoBlock StandardCrypto))
-&gt; DeserialiseFailure
-&gt; Ok (LedgerState (CardanoBlock StandardCrypto))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; [Char] -&gt; [Char] -&gt; ResultError)
-&gt; Field
-&gt; [Char]
-&gt; Ok (LedgerState (CardanoBlock StandardCrypto))
forall a err.
(Typeable a, Exception err) =&gt;
([Char] -&gt; [Char] -&gt; [Char] -&gt; err) -&gt; Field -&gt; [Char] -&gt; Ok a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.returnError</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char] -&gt; ResultError
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.ConversionFailed</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480077"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Cannot deserialise ExtLedgerState.&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-203"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LedgerState (CardanoBlock StandardCrypto)
-&gt; Ok (LedgerState (CardanoBlock StandardCrypto))
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(LedgerState (CardanoBlock StandardCrypto)
 -&gt; Ok (LedgerState (CardanoBlock StandardCrypto)))
-&gt; ((ByteString, LedgerState (CardanoBlock StandardCrypto))
    -&gt; LedgerState (CardanoBlock StandardCrypto))
-&gt; (ByteString, LedgerState (CardanoBlock StandardCrypto))
-&gt; Ok (LedgerState (CardanoBlock StandardCrypto))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString, LedgerState (CardanoBlock StandardCrypto))
-&gt; LedgerState (CardanoBlock StandardCrypto)
forall a b. (a, b) -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">snd</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Either
   DeserialiseFailure
   (ByteString, LedgerState (CardanoBlock StandardCrypto))
 -&gt; Ok (LedgerState (CardanoBlock StandardCrypto)))
-&gt; (ByteString
    -&gt; Either
         DeserialiseFailure
         (ByteString, LedgerState (CardanoBlock StandardCrypto)))
-&gt; ByteString
-&gt; Ok (LedgerState (CardanoBlock StandardCrypto))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(forall s. Decoder s (LedgerState (CardanoBlock StandardCrypto)))
-&gt; ByteString
-&gt; Either
     DeserialiseFailure
     (ByteString, LedgerState (CardanoBlock StandardCrypto))
forall a.
(forall s. Decoder s a)
-&gt; ByteString -&gt; Either DeserialiseFailure (ByteString, a)
</span><a href="../../../../cborg/html/src"><span class="hs-identifier hs-var">CBOR.deserialiseFromBytes</span></a></span><span> </span><span class="annot"><span class="annottext">forall s. Decoder s (LedgerState (CardanoBlock StandardCrypto))
</span><a href="Marconi.ChainIndex.Orphans.html#decodeLedgerState"><span class="hs-identifier hs-var">decodeLedgerState</span></a></span><span>
</span><span id="line-204"></span><span>
</span><span id="line-205"></span><span class="hs-comment">-- * Ledger.Nonce</span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.ToField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Ledger.Nonce</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-208"></span><span>  </span><span id="local-6989586621679480073"><span class="annot"><span class="annottext">toField :: Nonce -&gt; SQLData
</span><a href="#local-6989586621679480073"><span class="hs-identifier hs-var hs-var hs-var hs-var">toField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; SQLData
</span><a href="../../../../direct-sqlite/html/src"><span class="hs-identifier hs-var">SQL.SQLBlob</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; SQLData)
-&gt; (Nonce -&gt; ByteString) -&gt; Nonce -&gt; SQLData
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Encoding -&gt; ByteString
</span><a href="../../../../cborg/html/src"><span class="hs-identifier hs-var">CBOR.toStrictByteString</span></a></span><span> </span><span class="annot"><span class="annottext">(Encoding -&gt; ByteString)
-&gt; (Nonce -&gt; Encoding) -&gt; Nonce -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Nonce -&gt; Encoding
forall a. ToCBOR a =&gt; a -&gt; Encoding
</span><a href="../../../../cardano-binary/html/src"><span class="hs-identifier hs-var">CBOR.toCBOR</span></a></span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.FromField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Ledger.Nonce</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-211"></span><span>  </span><span id="local-6989586621679480071"><span class="annot"><span class="annottext">fromField :: FieldParser Nonce
</span><a href="#local-6989586621679480071"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679480070"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480070"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldParser ByteString
forall a. FromField a =&gt; FieldParser a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.fromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480070"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Ok ByteString -&gt; (ByteString -&gt; Ok Nonce) -&gt; Ok Nonce
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">(DeserialiseFailure -&gt; Ok Nonce)
-&gt; ((ByteString, Nonce) -&gt; Ok Nonce)
-&gt; Either DeserialiseFailure (ByteString, Nonce)
-&gt; Ok Nonce
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">either</span></a></span><span>
</span><span id="line-212"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ok Nonce -&gt; DeserialiseFailure -&gt; Ok Nonce
forall a b. a -&gt; b -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(Ok Nonce -&gt; DeserialiseFailure -&gt; Ok Nonce)
-&gt; Ok Nonce -&gt; DeserialiseFailure -&gt; Ok Nonce
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; [Char] -&gt; [Char] -&gt; ResultError)
-&gt; Field -&gt; [Char] -&gt; Ok Nonce
forall a err.
(Typeable a, Exception err) =&gt;
([Char] -&gt; [Char] -&gt; [Char] -&gt; err) -&gt; Field -&gt; [Char] -&gt; Ok a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.returnError</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char] -&gt; ResultError
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.ConversionFailed</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480070"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Cannot deserialise Ledger.Nonce.&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Nonce -&gt; Ok Nonce
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Nonce -&gt; Ok Nonce)
-&gt; ((ByteString, Nonce) -&gt; Nonce)
-&gt; (ByteString, Nonce)
-&gt; Ok Nonce
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString, Nonce) -&gt; Nonce
forall a b. (a, b) -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">snd</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Either DeserialiseFailure (ByteString, Nonce) -&gt; Ok Nonce)
-&gt; (ByteString -&gt; Either DeserialiseFailure (ByteString, Nonce))
-&gt; ByteString
-&gt; Ok Nonce
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(forall s. Decoder s Nonce)
-&gt; ByteString -&gt; Either DeserialiseFailure (ByteString, Nonce)
forall a.
(forall s. Decoder s a)
-&gt; ByteString -&gt; Either DeserialiseFailure (ByteString, a)
</span><a href="../../../../cborg/html/src"><span class="hs-identifier hs-var">CBOR.deserialiseFromBytes</span></a></span><span> </span><span class="annot"><span class="annottext">forall s. Decoder s Nonce
forall a s. FromCBOR a =&gt; Decoder s a
</span><a href="../../../../cardano-binary/html/src"><span class="hs-identifier hs-var">CBOR.fromCBOR</span></a></span><span>
</span><span id="line-214"></span><span>
</span><span id="line-215"></span><span class="hs-comment">-- * ToField/FromField</span><span>
</span><span id="line-216"></span><span>
</span><span id="line-217"></span><span id="local-6989586621679480068"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.ToField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier hs-type">C.BlockNo</span></a></span></span><span>
</span><span id="line-218"></span><span id="local-6989586621679480066"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.FromField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier hs-type">C.BlockNo</span></a></span></span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span id="local-6989586621679480064"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.ToField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.AssetName</span></a></span></span><span>
</span><span id="line-221"></span><span id="local-6989586621679480062"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.FromField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.AssetName</span></a></span></span><span>
</span><span id="line-222"></span><span>
</span><span id="line-223"></span><span id="local-6989586621679480060"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.ToField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.Quantity</span></a></span></span><span>
</span><span id="line-224"></span><span id="local-6989586621679480058"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.FromField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.Quantity</span></a></span></span><span>
</span><span id="line-225"></span><span>
</span><span id="line-226"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.ToField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier hs-type">C.EpochNo</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-227"></span><span>  </span><span id="local-6989586621679480056"><span class="annot"><span class="annottext">toField :: EpochNo -&gt; SQLData
</span><a href="#local-6989586621679480056"><span class="hs-identifier hs-var hs-var hs-var hs-var">toField</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier hs-type">C.EpochNo</span></a></span><span> </span><span id="local-6989586621679480054"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679480054"><span class="hs-identifier hs-var">word64</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; SQLData
forall a. ToField a =&gt; a -&gt; SQLData
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.toField</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679480054"><span class="hs-identifier hs-var">word64</span></a></span><span>
</span><span id="line-228"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.FromField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier hs-type">C.EpochNo</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-229"></span><span>  </span><span id="local-6989586621679480052"><span class="annot"><span class="annottext">fromField :: FieldParser EpochNo
</span><a href="#local-6989586621679480052"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679480051"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480051"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; EpochNo
</span><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier hs-var">C.EpochNo</span></a></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; EpochNo) -&gt; Ok Word64 -&gt; Ok EpochNo
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FieldParser Word64
forall a. FromField a =&gt; FieldParser a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.fromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480051"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-230"></span><span>
</span><span id="line-231"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.ToField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.Lovelace</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-232"></span><span>  </span><span id="local-6989586621679480049"><span class="annot"><span class="annottext">toField :: Lovelace -&gt; SQLData
</span><a href="#local-6989586621679480049"><span class="hs-identifier hs-var hs-var hs-var hs-var">toField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ToField Integer =&gt; Integer -&gt; SQLData
forall a. ToField a =&gt; a -&gt; SQLData
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.toField</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../../ghc/html/libraries/integer-gmp-1.0.3.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; SQLData)
-&gt; (Lovelace -&gt; Integer) -&gt; Lovelace -&gt; SQLData
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Lovelace -&gt; Integer
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">coerce</span></a></span><span>
</span><span id="line-233"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.FromField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.Lovelace</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-234"></span><span>  </span><span id="local-6989586621679480047"><span class="annot"><span class="annottext">fromField :: FieldParser Lovelace
</span><a href="#local-6989586621679480047"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ok Integer -&gt; Ok Lovelace
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">coerce</span></a></span><span> </span><span class="annot"><span class="annottext">(Ok Integer -&gt; Ok Lovelace)
-&gt; (Field -&gt; Ok Integer) -&gt; FieldParser Lovelace
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">FromField Integer =&gt; Field -&gt; Ok Integer
forall a. FromField a =&gt; FieldParser a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.fromField</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../../ghc/html/libraries/integer-gmp-1.0.3.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span>
</span><span id="line-235"></span><span>
</span><span id="line-236"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.FromField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.PoolId</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-237"></span><span>  </span><span id="local-6989586621679480045"><span class="annot"><span class="annottext">fromField :: FieldParser PoolId
</span><a href="#local-6989586621679480045"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679480044"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480044"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-238"></span><span>    </span><span id="local-6989586621679480043"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679480043"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FieldParser ByteString
forall a. FromField a =&gt; FieldParser a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.fromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480044"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-239"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">AsType PoolId -&gt; ByteString -&gt; Maybe PoolId
forall a.
SerialiseAsRawBytes a =&gt;
AsType a -&gt; ByteString -&gt; Maybe a
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.deserialiseFromRawBytes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AsType StakePoolKey -&gt; AsType PoolId
forall a. AsType a -&gt; AsType (Hash a)
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.AsHash</span></a></span><span> </span><span class="annot"><span class="annottext">AsType StakePoolKey
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.AsStakePoolKey</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679480043"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-240"></span><span>      </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679480041"><span class="annot"><span class="annottext">PoolId
</span><a href="#local-6989586621679480041"><span class="hs-identifier hs-var">h</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PoolId -&gt; Ok PoolId
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">PoolId
</span><a href="#local-6989586621679480041"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-241"></span><span>      </span><span class="annot"><span class="annottext">Maybe PoolId
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; [Char] -&gt; [Char] -&gt; ResultError)
-&gt; Field -&gt; [Char] -&gt; Ok PoolId
forall a err.
(Typeable a, Exception err) =&gt;
([Char] -&gt; [Char] -&gt; [Char] -&gt; err) -&gt; Field -&gt; [Char] -&gt; Ok a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.returnError</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char] -&gt; ResultError
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.ConversionFailed</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480044"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; PoolId&quot;</span></span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.ToField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.PoolId</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-244"></span><span>  </span><span id="local-6989586621679480039"><span class="annot"><span class="annottext">toField :: PoolId -&gt; SQLData
</span><a href="#local-6989586621679480039"><span class="hs-identifier hs-var hs-var hs-var hs-var">toField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; SQLData
forall a. ToField a =&gt; a -&gt; SQLData
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.toField</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; SQLData)
-&gt; (PoolId -&gt; ByteString) -&gt; PoolId -&gt; SQLData
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">PoolId -&gt; ByteString
forall a. SerialiseAsRawBytes a =&gt; a -&gt; ByteString
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.serialiseToRawBytes</span></a></span><span>
</span><span id="line-245"></span><span>
</span><span id="line-246"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.ToField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.PolicyId</span></a></span><span> </span><span class="hs-keyword">where</span><span> </span><span class="hs-comment">-- C.PolicyId is a newtype over C.ScriptHash but no ToField available for it.</span><span>
</span><span id="line-247"></span><span>  </span><span id="local-6989586621679480037"><span class="annot"><span class="annottext">toField :: PolicyId -&gt; SQLData
</span><a href="#local-6989586621679480037"><span class="hs-identifier hs-var hs-var hs-var hs-var">toField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; SQLData
forall a. ToField a =&gt; a -&gt; SQLData
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.toField</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; SQLData)
-&gt; (PolicyId -&gt; ByteString) -&gt; PolicyId -&gt; SQLData
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">PolicyId -&gt; ByteString
forall a. SerialiseAsRawBytes a =&gt; a -&gt; ByteString
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.serialiseToRawBytes</span></a></span><span>
</span><span id="line-248"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.FromField</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.PolicyId</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-249"></span><span>  </span><span id="local-6989586621679480035"><span class="annot"><span class="annottext">fromField :: FieldParser PolicyId
</span><a href="#local-6989586621679480035"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AsType PolicyId -&gt; FieldParser PolicyId
forall a.
(SerialiseAsRawBytes a, Typeable a) =&gt;
AsType a -&gt; Field -&gt; Ok a
</span><a href="Marconi.ChainIndex.Orphans.html#fromFieldViaRawBytes"><span class="hs-identifier hs-var">fromFieldViaRawBytes</span></a></span><span> </span><span class="annot"><span class="annottext">AsType PolicyId
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.AsPolicyId</span></a></span><span>
</span><span id="line-250"></span><span>
</span><span id="line-251"></span><span class="hs-comment">-- | Helper to deserialize via SerialiseAsRawBytes instance</span><span>
</span><span id="line-252"></span><span id="local-6989586621679480368"><span class="annot"><a href="Marconi.ChainIndex.Orphans.html#fromFieldViaRawBytes"><span class="hs-identifier hs-type">fromFieldViaRawBytes</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.SerialiseAsRawBytes</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679480368"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679480368"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">C.AsType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679480368"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.Field</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.Ok</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679480368"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-253"></span><span id="fromFieldViaRawBytes"><span class="annot"><span class="annottext">fromFieldViaRawBytes :: AsType a -&gt; Field -&gt; Ok a
</span><a href="Marconi.ChainIndex.Orphans.html#fromFieldViaRawBytes"><span class="hs-identifier hs-var hs-var">fromFieldViaRawBytes</span></a></span></span><span> </span><span id="local-6989586621679480032"><span class="annot"><span class="annottext">AsType a
</span><a href="#local-6989586621679480032"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span id="local-6989586621679480031"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480031"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ok a -&gt; (a -&gt; Ok a) -&gt; Maybe a -&gt; Ok a
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Ok a
</span><a href="#local-6989586621679480030"><span class="hs-identifier hs-var">err</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Ok a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe a -&gt; Ok a) -&gt; (ByteString -&gt; Maybe a) -&gt; ByteString -&gt; Ok a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AsType a -&gt; ByteString -&gt; Maybe a
forall a.
SerialiseAsRawBytes a =&gt;
AsType a -&gt; ByteString -&gt; Maybe a
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">C.deserialiseFromRawBytes</span></a></span><span> </span><span class="annot"><span class="annottext">AsType a
</span><a href="#local-6989586621679480032"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Ok a) -&gt; Ok ByteString -&gt; Ok a
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">FieldParser ByteString
forall a. FromField a =&gt; FieldParser a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.fromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480031"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-254"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679480030"><span class="annot"><span class="annottext">err :: Ok a
</span><a href="#local-6989586621679480030"><span class="hs-identifier hs-var hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; [Char] -&gt; [Char] -&gt; ResultError)
-&gt; Field -&gt; [Char] -&gt; Ok a
forall a err.
(Typeable a, Exception err) =&gt;
([Char] -&gt; [Char] -&gt; [Char] -&gt; err) -&gt; Field -&gt; [Char] -&gt; Ok a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.returnError</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char] -&gt; ResultError
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">SQL.ConversionFailed</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679480031"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;can't deserialise via SerialiseAsRawBytes&quot;</span></span><span>
</span><span id="line-255"></span><span>
</span><span id="line-256"></span><span class="annot"><a href="Marconi.ChainIndex.Orphans.html#encodeLedgerState"><span class="hs-identifier hs-type">encodeLedgerState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ouroboros-consensus/html/src"><span class="hs-identifier hs-type">O.LedgerState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ouroboros-consensus-cardano/html/src"><span class="hs-identifier hs-type">O.CardanoBlock</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">O.StandardCrypto</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../cborg/html/src"><span class="hs-identifier hs-type">CBOR.Encoding</span></a></span><span>
</span><span id="line-257"></span><span id="encodeLedgerState"><span class="annot"><span class="annottext">encodeLedgerState :: LedgerState (CardanoBlock StandardCrypto) -&gt; Encoding
</span><a href="Marconi.ChainIndex.Orphans.html#encodeLedgerState"><span class="hs-identifier hs-var hs-var">encodeLedgerState</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ouroboros-consensus/html/src"><span class="hs-identifier hs-type">O.HardForkLedgerState</span></a></span><span> </span><span id="local-6989586621679480027"><span class="annot"><a href="#local-6989586621679480027"><span class="hs-identifier hs-var">st</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-258"></span><span>  </span><span class="annot"><span class="annottext">NP
  (LedgerState -.-&gt; K Encoding)
  '[ByronBlock,
    ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto),
    ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto),
    ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto),
    ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto),
    ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)]
-&gt; HardForkState
     LedgerState
     '[ByronBlock,
       ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto),
       ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)]
-&gt; Encoding
forall (xs :: [*]) (f :: * -&gt; *).
SListI xs =&gt;
NP (f -.-&gt; K Encoding) xs -&gt; HardForkState f xs -&gt; Encoding
</span><a href="../../../../ouroboros-consensus/html/src"><span class="hs-identifier hs-var">O.encodeTelescope</span></a></span><span>
</span><span id="line-259"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(-.-&gt;) LedgerState (K Encoding) ByronBlock
</span><a href="#local-6989586621679480025"><span class="hs-identifier hs-var">byron</span></a></span><span> </span><span class="annot"><span class="annottext">(-.-&gt;) LedgerState (K Encoding) ByronBlock
-&gt; NP
     (LedgerState -.-&gt; K Encoding)
     '[ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto),
       ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)]
-&gt; NP
     (LedgerState -.-&gt; K Encoding)
     '[ByronBlock,
       ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto),
       ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)]
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]).
a x -&gt; NP a xs -&gt; NP a (x : xs)
</span><a href="../../../../ouroboros-consensus/html/src"><span class="hs-operator hs-var">:*</span></a></span><span> </span><span class="annot"><span class="annottext">(-.-&gt;)
  LedgerState
  (K Encoding)
  (ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto))
</span><a href="#local-6989586621679480024"><span class="hs-identifier hs-var">shelley</span></a></span><span> </span><span class="annot"><span class="annottext">(-.-&gt;)
  LedgerState
  (K Encoding)
  (ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto))
-&gt; NP
     (LedgerState -.-&gt; K Encoding)
     '[ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto),
       ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)]
-&gt; NP
     (LedgerState -.-&gt; K Encoding)
     '[ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto),
       ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)]
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]).
a x -&gt; NP a xs -&gt; NP a (x : xs)
</span><a href="../../../../ouroboros-consensus/html/src"><span class="hs-operator hs-var">:*</span></a></span><span> </span><span class="annot"><span class="annottext">(-.-&gt;)
  LedgerState
  (K Encoding)
  (ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto))
</span><a href="#local-6989586621679480023"><span class="hs-identifier hs-var">allegra</span></a></span><span> </span><span class="annot"><span class="annottext">(-.-&gt;)
  LedgerState
  (K Encoding)
  (ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto))
-&gt; NP
     (LedgerState -.-&gt; K Encoding)
     '[ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto),
       ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)]
-&gt; NP
     (LedgerState -.-&gt; K Encoding)
     '[ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto),
       ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)]
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]).
a x -&gt; NP a xs -&gt; NP a (x : xs)
</span><a href="../../../../ouroboros-consensus/html/src"><span class="hs-operator hs-var">:*</span></a></span><span> </span><span class="annot"><span class="annottext">(-.-&gt;)
  LedgerState
  (K Encoding)
  (ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto))
</span><a href="#local-6989586621679480022"><span class="hs-identifier hs-var">mary</span></a></span><span> </span><span class="annot"><span class="annottext">(-.-&gt;)
  LedgerState
  (K Encoding)
  (ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto))
-&gt; NP
     (LedgerState -.-&gt; K Encoding)
     '[ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto),
       ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)]
-&gt; NP
     (LedgerState -.-&gt; K Encoding)
     '[ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto),
       ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)]
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]).
a x -&gt; NP a xs -&gt; NP a (x : xs)
</span><a href="../../../../ouroboros-consensus/html/src"><span class="hs-operator hs-var">:*</span></a></span><span> </span><span class="annot"><span class="annottext">(-.-&gt;)
  LedgerState
  (K Encoding)
  (ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto))
</span><a href="#local-6989586621679480021"><span class="hs-identifier hs-var">alonzo</span></a></span><span> </span><span class="annot"><span class="annottext">(-.-&gt;)
  LedgerState
  (K Encoding)
  (ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto))
-&gt; NP
     (LedgerState -.-&gt; K Encoding)
     '[ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)]
-&gt; NP
     (LedgerState -.-&gt; K Encoding)
     '[ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto),
       ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)]
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]).
a x -&gt; NP a xs -&gt; NP a (x : xs)
</span><a href="../../../../ouroboros-consensus/html/src"><span class="hs-operator hs-var">:*</span></a></span><span> </span><span class="annot"><span class="annottext">(-.-&gt;)
  LedgerState
  (K Encoding)
  (ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto))
</span><a href="#local-6989586621679480020"><span class="hs-identifier hs-var">babbage</span></a></span><span> </span><span class="annot"><span class="annottext">(-.-&gt;)
  LedgerState
  (K Encoding)
  (ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto))
-&gt; NP (LedgerState -.-&gt; K Encoding) '[]
-&gt; NP
     (LedgerState -.-&gt; K Encoding)
     '[ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)]
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]).
a x -&gt; NP a xs -&gt; NP a (x : xs)
</span><a href="../../../../ouroboros-consensus/html/src"><span class="hs-operator hs-var">:*</span></a></span><span> </span><span class="annot"><span class="annottext">NP (LedgerState -.-&gt; K Encoding) '[]
forall k (a :: k -&gt; *). NP a '[]
</span><a href="../../../../ouroboros-consensus/html/src"><span class="hs-identifier hs-var">Nil</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-260"></span><span>    </span><span class="annot"><span class="annottext">HardForkState
  LedgerState
  '[ByronBlock,
    ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto),
    ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto),
    ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto),
    ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto),
    ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)]
</span><a href="#local-6989586621679480027"><span class="hs-identifier hs-var">st</span></a></span><span>
</span><span id="line-261"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-262"></span><span>    </span><span id="local-6989586621679480025"><span class="annot"><span class="annottext">byron :: (-.-&gt;) LedgerState (K Encoding) ByronBlock
</span><a href="#local-6989586621679480025"><span class="hs-identifier hs-var hs-var">byron</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LedgerState ByronBlock -&gt; K Encoding ByronBlock)
-&gt; (-.-&gt;) LedgerState (K Encoding) ByronBlock
forall k (f :: k -&gt; *) (a :: k) (f' :: k -&gt; *).
(f a -&gt; f' a) -&gt; (-.-&gt;) f f' a
</span><a href="../../../../sop-core/html/src"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Encoding -&gt; K Encoding ByronBlock
forall k a (b :: k). a -&gt; K a b
</span><a href="../../../../sop-core/html/src"><span class="hs-identifier hs-var">K</span></a></span><span> </span><span class="annot"><span class="annottext">(Encoding -&gt; K Encoding ByronBlock)
-&gt; (LedgerState ByronBlock -&gt; Encoding)
-&gt; LedgerState ByronBlock
-&gt; K Encoding ByronBlock
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LedgerState ByronBlock -&gt; Encoding
</span><a href="../../../../ouroboros-consensus-byron/html/src"><span class="hs-identifier hs-var">O.encodeByronLedgerState</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-263"></span><span>    </span><span id="local-6989586621679480024"><span class="annot"><span class="annottext">shelley :: (-.-&gt;)
  LedgerState
  (K Encoding)
  (ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto))
</span><a href="#local-6989586621679480024"><span class="hs-identifier hs-var hs-var">shelley</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LedgerState
   (ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto))
 -&gt; K Encoding
      (ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto)))
-&gt; (-.-&gt;)
     LedgerState
     (K Encoding)
     (ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto))
forall k (f :: k -&gt; *) (a :: k) (f' :: k -&gt; *).
(f a -&gt; f' a) -&gt; (-.-&gt;) f f' a
</span><a href="../../../../sop-core/html/src"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Encoding
-&gt; K Encoding
     (ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto))
forall k a (b :: k). a -&gt; K a b
</span><a href="../../../../sop-core/html/src"><span class="hs-identifier hs-var">K</span></a></span><span> </span><span class="annot"><span class="annottext">(Encoding
 -&gt; K Encoding
      (ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto)))
-&gt; (LedgerState
      (ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto))
    -&gt; Encoding)
-&gt; LedgerState
     (ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto))
-&gt; K Encoding
     (ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LedgerState
  (ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto))
-&gt; Encoding
forall proto era.
ShelleyCompatible proto era =&gt;
LedgerState (ShelleyBlock proto era) -&gt; Encoding
</span><a href="../../../../ouroboros-consensus-shelley/html/src"><span class="hs-identifier hs-var">O.encodeShelleyLedgerState</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-264"></span><span>    </span><span id="local-6989586621679480023"><span class="annot"><span class="annottext">allegra :: (-.-&gt;)
  LedgerState
  (K Encoding)
  (ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto))
</span><a href="#local-6989586621679480023"><span class="hs-identifier hs-var hs-var">allegra</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LedgerState
   (ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto))
 -&gt; K Encoding
      (ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto)))
-&gt; (-.-&gt;)
     LedgerState
     (K Encoding)
     (ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto))
forall k (f :: k -&gt; *) (a :: k) (f' :: k -&gt; *).
(f a -&gt; f' a) -&gt; (-.-&gt;) f f' a
</span><a href="../../../../sop-core/html/src"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Encoding
-&gt; K Encoding
     (ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto))
forall k a (b :: k). a -&gt; K a b
</span><a href="../../../../sop-core/html/src"><span class="hs-identifier hs-var">K</span></a></span><span> </span><span class="annot"><span class="annottext">(Encoding
 -&gt; K Encoding
      (ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto)))
-&gt; (LedgerState
      (ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto))
    -&gt; Encoding)
-&gt; LedgerState
     (ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto))
-&gt; K Encoding
     (ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LedgerState
  (ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto))
-&gt; Encoding
forall proto era.
ShelleyCompatible proto era =&gt;
LedgerState (ShelleyBlock proto era) -&gt; Encoding
</span><a href="../../../../ouroboros-consensus-shelley/html/src"><span class="hs-identifier hs-var">O.encodeShelleyLedgerState</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-265"></span><span>    </span><span id="local-6989586621679480022"><span class="annot"><span class="annottext">mary :: (-.-&gt;)
  LedgerState
  (K Encoding)
  (ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto))
</span><a href="#local-6989586621679480022"><span class="hs-identifier hs-var hs-var">mary</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LedgerState
   (ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto))
 -&gt; K Encoding
      (ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto)))
-&gt; (-.-&gt;)
     LedgerState
     (K Encoding)
     (ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto))
forall k (f :: k -&gt; *) (a :: k) (f' :: k -&gt; *).
(f a -&gt; f' a) -&gt; (-.-&gt;) f f' a
</span><a href="../../../../sop-core/html/src"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Encoding
-&gt; K Encoding
     (ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto))
forall k a (b :: k). a -&gt; K a b
</span><a href="../../../../sop-core/html/src"><span class="hs-identifier hs-var">K</span></a></span><span> </span><span class="annot"><span class="annottext">(Encoding
 -&gt; K Encoding
      (ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto)))
-&gt; (LedgerState
      (ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto))
    -&gt; Encoding)
-&gt; LedgerState
     (ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto))
-&gt; K Encoding
     (ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LedgerState
  (ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto))
-&gt; Encoding
forall proto era.
ShelleyCompatible proto era =&gt;
LedgerState (ShelleyBlock proto era) -&gt; Encoding
</span><a href="../../../../ouroboros-consensus-shelley/html/src"><span class="hs-identifier hs-var">O.encodeShelleyLedgerState</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-266"></span><span>    </span><span id="local-6989586621679480021"><span class="annot"><span class="annottext">alonzo :: (-.-&gt;)
  LedgerState
  (K Encoding)
  (ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto))
</span><a href="#local-6989586621679480021"><span class="hs-identifier hs-var hs-var">alonzo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LedgerState
   (ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto))
 -&gt; K Encoding
      (ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto)))
-&gt; (-.-&gt;)
     LedgerState
     (K Encoding)
     (ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto))
forall k (f :: k -&gt; *) (a :: k) (f' :: k -&gt; *).
(f a -&gt; f' a) -&gt; (-.-&gt;) f f' a
</span><a href="../../../../sop-core/html/src"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Encoding
-&gt; K Encoding
     (ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto))
forall k a (b :: k). a -&gt; K a b
</span><a href="../../../../sop-core/html/src"><span class="hs-identifier hs-var">K</span></a></span><span> </span><span class="annot"><span class="annottext">(Encoding
 -&gt; K Encoding
      (ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto)))
-&gt; (LedgerState
      (ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto))
    -&gt; Encoding)
-&gt; LedgerState
     (ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto))
-&gt; K Encoding
     (ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LedgerState
  (ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto))
-&gt; Encoding
forall proto era.
ShelleyCompatible proto era =&gt;
LedgerState (ShelleyBlock proto era) -&gt; Encoding
</span><a href="../../../../ouroboros-consensus-shelley/html/src"><span class="hs-identifier hs-var">O.encodeShelleyLedgerState</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-267"></span><span>    </span><span id="local-6989586621679480020"><span class="annot"><span class="annottext">babbage :: (-.-&gt;)
  LedgerState
  (K Encoding)
  (ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto))
</span><a href="#local-6989586621679480020"><span class="hs-identifier hs-var hs-var">babbage</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LedgerState
   (ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto))
 -&gt; K Encoding
      (ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)))
-&gt; (-.-&gt;)
     LedgerState
     (K Encoding)
     (ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto))
forall k (f :: k -&gt; *) (a :: k) (f' :: k -&gt; *).
(f a -&gt; f' a) -&gt; (-.-&gt;) f f' a
</span><a href="../../../../sop-core/html/src"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Encoding
-&gt; K Encoding
     (ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto))
forall k a (b :: k). a -&gt; K a b
</span><a href="../../../../sop-core/html/src"><span class="hs-identifier hs-var">K</span></a></span><span> </span><span class="annot"><span class="annottext">(Encoding
 -&gt; K Encoding
      (ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)))
-&gt; (LedgerState
      (ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto))
    -&gt; Encoding)
-&gt; LedgerState
     (ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto))
-&gt; K Encoding
     (ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LedgerState
  (ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto))
-&gt; Encoding
forall proto era.
ShelleyCompatible proto era =&gt;
LedgerState (ShelleyBlock proto era) -&gt; Encoding
</span><a href="../../../../ouroboros-consensus-shelley/html/src"><span class="hs-identifier hs-var">O.encodeShelleyLedgerState</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-268"></span><span>
</span><span id="line-269"></span><span class="annot"><a href="Marconi.ChainIndex.Orphans.html#decodeLedgerState"><span class="hs-identifier hs-type">decodeLedgerState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679480017"><span class="annot"><a href="#local-6989586621679480017"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../../cborg/html/src"><span class="hs-identifier hs-type">CBOR.Decoder</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679480017"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ouroboros-consensus/html/src"><span class="hs-identifier hs-type">O.LedgerState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ouroboros-consensus-cardano/html/src"><span class="hs-identifier hs-type">O.CardanoBlock</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">O.StandardCrypto</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-270"></span><span id="decodeLedgerState"><span class="annot"><span class="annottext">decodeLedgerState :: Decoder s (LedgerState (CardanoBlock StandardCrypto))
</span><a href="Marconi.ChainIndex.Orphans.html#decodeLedgerState"><span class="hs-identifier hs-var hs-var">decodeLedgerState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-271"></span><span>  </span><span class="annot"><span class="annottext">HardForkState
  LedgerState
  '[ByronBlock,
    ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto),
    ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto),
    ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto),
    ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto),
    ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)]
-&gt; LedgerState (CardanoBlock StandardCrypto)
forall (xs :: [*]).
HardForkState LedgerState xs -&gt; LedgerState (HardForkBlock xs)
</span><a href="../../../../ouroboros-consensus/html/src"><span class="hs-identifier hs-var">O.HardForkLedgerState</span></a></span><span>
</span><span id="line-272"></span><span>    </span><span class="annot"><span class="annottext">(HardForkState
   LedgerState
   '[ByronBlock,
     ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto),
     ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto),
     ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto),
     ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto),
     ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)]
 -&gt; LedgerState (CardanoBlock StandardCrypto))
-&gt; Decoder
     s
     (HardForkState
        LedgerState
        '[ByronBlock,
          ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto),
          ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto),
          ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto),
          ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto),
          ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)])
-&gt; Decoder s (LedgerState (CardanoBlock StandardCrypto))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NP
  (Decoder s :.: LedgerState)
  '[ByronBlock,
    ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto),
    ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto),
    ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto),
    ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto),
    ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)]
-&gt; Decoder
     s
     (HardForkState
        LedgerState
        '[ByronBlock,
          ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto),
          ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto),
          ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto),
          ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto),
          ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)])
forall s (f :: * -&gt; *) (xs :: [*]).
NP (Decoder s :.: f) xs -&gt; Decoder s (HardForkState f xs)
</span><a href="../../../../ouroboros-consensus/html/src"><span class="hs-identifier hs-var">O.decodeTelescope</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(:.:) (Decoder s) LedgerState ByronBlock
forall s. (:.:) (Decoder s) LedgerState ByronBlock
</span><a href="#local-6989586621679480015"><span class="hs-identifier hs-var">byron</span></a></span><span> </span><span class="annot"><span class="annottext">(:.:) (Decoder s) LedgerState ByronBlock
-&gt; NP
     (Decoder s :.: LedgerState)
     '[ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto),
       ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)]
-&gt; NP
     (Decoder s :.: LedgerState)
     '[ByronBlock,
       ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto),
       ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)]
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]).
a x -&gt; NP a xs -&gt; NP a (x : xs)
</span><a href="../../../../ouroboros-consensus/html/src"><span class="hs-operator hs-var">:*</span></a></span><span> </span><span class="annot"><span class="annottext">(:.:)
  (Decoder s)
  LedgerState
  (ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto))
forall s.
(:.:)
  (Decoder s)
  LedgerState
  (ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto))
</span><a href="#local-6989586621679480014"><span class="hs-identifier hs-var">shelley</span></a></span><span> </span><span class="annot"><span class="annottext">(:.:)
  (Decoder s)
  LedgerState
  (ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto))
-&gt; NP
     (Decoder s :.: LedgerState)
     '[ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto),
       ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)]
-&gt; NP
     (Decoder s :.: LedgerState)
     '[ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto),
       ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)]
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]).
a x -&gt; NP a xs -&gt; NP a (x : xs)
</span><a href="../../../../ouroboros-consensus/html/src"><span class="hs-operator hs-var">:*</span></a></span><span> </span><span class="annot"><span class="annottext">(:.:)
  (Decoder s)
  LedgerState
  (ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto))
forall s.
(:.:)
  (Decoder s)
  LedgerState
  (ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto))
</span><a href="#local-6989586621679480013"><span class="hs-identifier hs-var">allegra</span></a></span><span> </span><span class="annot"><span class="annottext">(:.:)
  (Decoder s)
  LedgerState
  (ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto))
-&gt; NP
     (Decoder s :.: LedgerState)
     '[ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto),
       ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)]
-&gt; NP
     (Decoder s :.: LedgerState)
     '[ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto),
       ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)]
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]).
a x -&gt; NP a xs -&gt; NP a (x : xs)
</span><a href="../../../../ouroboros-consensus/html/src"><span class="hs-operator hs-var">:*</span></a></span><span> </span><span class="annot"><span class="annottext">(:.:)
  (Decoder s)
  LedgerState
  (ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto))
forall s.
(:.:)
  (Decoder s)
  LedgerState
  (ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto))
</span><a href="#local-6989586621679480012"><span class="hs-identifier hs-var">mary</span></a></span><span> </span><span class="annot"><span class="annottext">(:.:)
  (Decoder s)
  LedgerState
  (ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto))
-&gt; NP
     (Decoder s :.: LedgerState)
     '[ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto),
       ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)]
-&gt; NP
     (Decoder s :.: LedgerState)
     '[ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto),
       ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto),
       ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)]
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]).
a x -&gt; NP a xs -&gt; NP a (x : xs)
</span><a href="../../../../ouroboros-consensus/html/src"><span class="hs-operator hs-var">:*</span></a></span><span> </span><span class="annot"><span class="annottext">(:.:)
  (Decoder s)
  LedgerState
  (ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto))
forall s.
(:.:)
  (Decoder s)
  LedgerState
  (ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto))
</span><a href="#local-6989586621679480011"><span class="hs-identifier hs-var">alonzo</span></a></span><span> </span><span class="annot"><span class="annottext">(:.:)
  (Decoder s)
  LedgerState
  (ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto))
-&gt; NP
     (Decoder s :.: LedgerState)
     '[ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)]
-&gt; NP
     (Decoder s :.: LedgerState)
     '[ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto),
       ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)]
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]).
a x -&gt; NP a xs -&gt; NP a (x : xs)
</span><a href="../../../../ouroboros-consensus/html/src"><span class="hs-operator hs-var">:*</span></a></span><span> </span><span class="annot"><span class="annottext">(:.:)
  (Decoder s)
  LedgerState
  (ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto))
forall s.
(:.:)
  (Decoder s)
  LedgerState
  (ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto))
</span><a href="#local-6989586621679480010"><span class="hs-identifier hs-var">babbage</span></a></span><span> </span><span class="annot"><span class="annottext">(:.:)
  (Decoder s)
  LedgerState
  (ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto))
-&gt; NP (Decoder s :.: LedgerState) '[]
-&gt; NP
     (Decoder s :.: LedgerState)
     '[ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)]
forall k (a :: k -&gt; *) (x :: k) (xs :: [k]).
a x -&gt; NP a xs -&gt; NP a (x : xs)
</span><a href="../../../../ouroboros-consensus/html/src"><span class="hs-operator hs-var">:*</span></a></span><span> </span><span class="annot"><span class="annottext">NP (Decoder s :.: LedgerState) '[]
forall k (a :: k -&gt; *). NP a '[]
</span><a href="../../../../ouroboros-consensus/html/src"><span class="hs-identifier hs-var">Nil</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-273"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-274"></span><span>    </span><span id="local-6989586621679480015"><span class="annot"><span class="annottext">byron :: (:.:) (Decoder s) LedgerState ByronBlock
</span><a href="#local-6989586621679480015"><span class="hs-identifier hs-var hs-var">byron</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Decoder s (LedgerState ByronBlock)
-&gt; (:.:) (Decoder s) LedgerState ByronBlock
forall l k (f :: l -&gt; *) (g :: k -&gt; l) (p :: k).
f (g p) -&gt; (:.:) f g p
</span><a href="../../../../sop-core/html/src"><span class="hs-identifier hs-var">Comp</span></a></span><span> </span><span class="annot"><span class="annottext">Decoder s (LedgerState ByronBlock)
forall s. Decoder s (LedgerState ByronBlock)
</span><a href="../../../../ouroboros-consensus-byron/html/src"><span class="hs-identifier hs-var">O.decodeByronLedgerState</span></a></span><span>
</span><span id="line-275"></span><span>    </span><span id="local-6989586621679480014"><span class="annot"><span class="annottext">shelley :: (:.:)
  (Decoder s)
  LedgerState
  (ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto))
</span><a href="#local-6989586621679480014"><span class="hs-identifier hs-var hs-var">shelley</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Decoder
  s
  (LedgerState
     (ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto)))
-&gt; (:.:)
     (Decoder s)
     LedgerState
     (ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto))
forall l k (f :: l -&gt; *) (g :: k -&gt; l) (p :: k).
f (g p) -&gt; (:.:) f g p
</span><a href="../../../../sop-core/html/src"><span class="hs-identifier hs-var">Comp</span></a></span><span> </span><span class="annot"><span class="annottext">Decoder
  s
  (LedgerState
     (ShelleyBlock (TPraos StandardCrypto) (ShelleyEra StandardCrypto)))
forall era proto s.
ShelleyCompatible proto era =&gt;
Decoder s (LedgerState (ShelleyBlock proto era))
</span><a href="../../../../ouroboros-consensus-shelley/html/src"><span class="hs-identifier hs-var">O.decodeShelleyLedgerState</span></a></span><span>
</span><span id="line-276"></span><span>    </span><span id="local-6989586621679480013"><span class="annot"><span class="annottext">allegra :: (:.:)
  (Decoder s)
  LedgerState
  (ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto))
</span><a href="#local-6989586621679480013"><span class="hs-identifier hs-var hs-var">allegra</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Decoder
  s
  (LedgerState
     (ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto)))
-&gt; (:.:)
     (Decoder s)
     LedgerState
     (ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto))
forall l k (f :: l -&gt; *) (g :: k -&gt; l) (p :: k).
f (g p) -&gt; (:.:) f g p
</span><a href="../../../../sop-core/html/src"><span class="hs-identifier hs-var">Comp</span></a></span><span> </span><span class="annot"><span class="annottext">Decoder
  s
  (LedgerState
     (ShelleyBlock (TPraos StandardCrypto) (AllegraEra StandardCrypto)))
forall era proto s.
ShelleyCompatible proto era =&gt;
Decoder s (LedgerState (ShelleyBlock proto era))
</span><a href="../../../../ouroboros-consensus-shelley/html/src"><span class="hs-identifier hs-var">O.decodeShelleyLedgerState</span></a></span><span>
</span><span id="line-277"></span><span>    </span><span id="local-6989586621679480012"><span class="annot"><span class="annottext">mary :: (:.:)
  (Decoder s)
  LedgerState
  (ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto))
</span><a href="#local-6989586621679480012"><span class="hs-identifier hs-var hs-var">mary</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Decoder
  s
  (LedgerState
     (ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto)))
-&gt; (:.:)
     (Decoder s)
     LedgerState
     (ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto))
forall l k (f :: l -&gt; *) (g :: k -&gt; l) (p :: k).
f (g p) -&gt; (:.:) f g p
</span><a href="../../../../sop-core/html/src"><span class="hs-identifier hs-var">Comp</span></a></span><span> </span><span class="annot"><span class="annottext">Decoder
  s
  (LedgerState
     (ShelleyBlock (TPraos StandardCrypto) (MaryEra StandardCrypto)))
forall era proto s.
ShelleyCompatible proto era =&gt;
Decoder s (LedgerState (ShelleyBlock proto era))
</span><a href="../../../../ouroboros-consensus-shelley/html/src"><span class="hs-identifier hs-var">O.decodeShelleyLedgerState</span></a></span><span>
</span><span id="line-278"></span><span>    </span><span id="local-6989586621679480011"><span class="annot"><span class="annottext">alonzo :: (:.:)
  (Decoder s)
  LedgerState
  (ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto))
</span><a href="#local-6989586621679480011"><span class="hs-identifier hs-var hs-var">alonzo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Decoder
  s
  (LedgerState
     (ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto)))
-&gt; (:.:)
     (Decoder s)
     LedgerState
     (ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto))
forall l k (f :: l -&gt; *) (g :: k -&gt; l) (p :: k).
f (g p) -&gt; (:.:) f g p
</span><a href="../../../../sop-core/html/src"><span class="hs-identifier hs-var">Comp</span></a></span><span> </span><span class="annot"><span class="annottext">Decoder
  s
  (LedgerState
     (ShelleyBlock (TPraos StandardCrypto) (AlonzoEra StandardCrypto)))
forall era proto s.
ShelleyCompatible proto era =&gt;
Decoder s (LedgerState (ShelleyBlock proto era))
</span><a href="../../../../ouroboros-consensus-shelley/html/src"><span class="hs-identifier hs-var">O.decodeShelleyLedgerState</span></a></span><span>
</span><span id="line-279"></span><span>    </span><span id="local-6989586621679480010"><span class="annot"><span class="annottext">babbage :: (:.:)
  (Decoder s)
  LedgerState
  (ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto))
</span><a href="#local-6989586621679480010"><span class="hs-identifier hs-var hs-var">babbage</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Decoder
  s
  (LedgerState
     (ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)))
-&gt; (:.:)
     (Decoder s)
     LedgerState
     (ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto))
forall l k (f :: l -&gt; *) (g :: k -&gt; l) (p :: k).
f (g p) -&gt; (:.:) f g p
</span><a href="../../../../sop-core/html/src"><span class="hs-identifier hs-var">Comp</span></a></span><span> </span><span class="annot"><span class="annottext">Decoder
  s
  (LedgerState
     (ShelleyBlock (Praos StandardCrypto) (BabbageEra StandardCrypto)))
forall era proto s.
ShelleyCompatible proto era =&gt;
Decoder s (LedgerState (ShelleyBlock proto era))
</span><a href="../../../../ouroboros-consensus-shelley/html/src"><span class="hs-identifier hs-var">O.decodeShelleyLedgerState</span></a></span><span>
</span><span id="line-280"></span><span>
</span><span id="line-281"></span><span class="hs-comment">-- * SecurityParam</span><span>
</span><span id="line-282"></span><span>
</span><span id="line-283"></span><span id="local-6989586621679480006"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.ToField</span></a></span><span> </span><span class="annot"><a href="Marconi.ChainIndex.Types.html#SecurityParam"><span class="hs-identifier hs-type">SecurityParam</span></a></span></span><span>
</span><span id="line-284"></span><span id="local-6989586621679480004"><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">SQL.FromField</span></a></span><span> </span><span class="annot"><a href="Marconi.ChainIndex.Types.html#SecurityParam"><span class="hs-identifier hs-type">SecurityParam</span></a></span></span><span>
</span><span id="line-285"></span></pre></body></html>