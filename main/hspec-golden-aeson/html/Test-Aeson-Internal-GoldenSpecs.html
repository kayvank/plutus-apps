<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Test.Aeson.Internal.GoldenSpecs</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">hspec-golden-aeson-0.9.0.0: Use tests to monitor changes in Aeson serialization</span><ul class="links" id="page-menu"><li><a href="src/Test.Aeson.Internal.GoldenSpecs.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Plow Technologies 2016</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>mchaver@gmail.com</td></tr><tr><th>Stability</th><td>Beta</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Test.Aeson.Internal.GoldenSpecs</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Internal module, use at your own risk.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:goldenSpecs">goldenSpecs</a> :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a, <a href="../../QuickCheck/html/Test-QuickCheck-Arbitrary.html#t:Arbitrary" title="Test.QuickCheck.Arbitrary">Arbitrary</a> a, <a href="../../aeson/html/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> a, <a href="../../aeson/html/Data-Aeson-Types.html#t:FromJSON" title="Data.Aeson.Types">FromJSON</a> a) =&gt; <a href="Test-Aeson-Internal-Utils.html#t:Settings" title="Test.Aeson.Internal.Utils">Settings</a> -&gt; <a href="Test-Aeson-GenericSpecs.html#t:Proxy" title="Test.Aeson.GenericSpecs">Proxy</a> a -&gt; <a href="../../hspec/html/Test-Hspec-Discover.html#t:Spec" title="Test.Hspec.Discover">Spec</a></li><li class="src short"><a href="#v:goldenSpecsWithNote">goldenSpecsWithNote</a> :: <span class="keyword">forall</span> a. (<a href="../../ghc/html/libraries/base-4.14.3.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a, <a href="../../QuickCheck/html/Test-QuickCheck-Arbitrary.html#t:Arbitrary" title="Test.QuickCheck.Arbitrary">Arbitrary</a> a, <a href="../../aeson/html/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> a, <a href="../../aeson/html/Data-Aeson-Types.html#t:FromJSON" title="Data.Aeson.Types">FromJSON</a> a) =&gt; <a href="Test-Aeson-Internal-Utils.html#t:Settings" title="Test.Aeson.Internal.Utils">Settings</a> -&gt; <a href="Test-Aeson-GenericSpecs.html#t:Proxy" title="Test.Aeson.GenericSpecs">Proxy</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../../hspec/html/Test-Hspec-Discover.html#t:Spec" title="Test.Hspec.Discover">Spec</a></li><li class="src short"><a href="#v:goldenSpecsWithNotePlain">goldenSpecsWithNotePlain</a> :: <span class="keyword">forall</span> a. (<a href="../../QuickCheck/html/Test-QuickCheck-Arbitrary.html#t:Arbitrary" title="Test.QuickCheck.Arbitrary">Arbitrary</a> a, <a href="../../aeson/html/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> a, <a href="../../aeson/html/Data-Aeson-Types.html#t:FromJSON" title="Data.Aeson.Types">FromJSON</a> a) =&gt; <a href="Test-Aeson-Internal-Utils.html#t:Settings" title="Test.Aeson.Internal.Utils">Settings</a> -&gt; <a href="Test-Aeson-Internal-Utils.html#t:TypeNameInfo" title="Test.Aeson.Internal.Utils">TypeNameInfo</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../../hspec/html/Test-Hspec-Discover.html#t:Spec" title="Test.Hspec.Discover">Spec</a></li><li class="src short"><a href="#v:compareWithGolden">compareWithGolden</a> :: <span class="keyword">forall</span> a. (<a href="../../QuickCheck/html/Test-QuickCheck-Arbitrary.html#t:Arbitrary" title="Test.QuickCheck.Arbitrary">Arbitrary</a> a, <a href="../../aeson/html/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> a, <a href="../../aeson/html/Data-Aeson-Types.html#t:FromJSON" title="Data.Aeson.Types">FromJSON</a> a) =&gt; <a href="Test-Aeson-Internal-Utils.html#t:TypeNameInfo" title="Test.Aeson.Internal.Utils">TypeNameInfo</a> a -&gt; <a href="Test-Aeson-GenericSpecs.html#t:Proxy" title="Test.Aeson.GenericSpecs">Proxy</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="Test-Aeson-Internal-Utils.html#t:ComparisonFile" title="Test.Aeson.Internal.Utils">ComparisonFile</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:createGoldenfile">createGoldenfile</a> :: <span class="keyword">forall</span> a. (<a href="../../QuickCheck/html/Test-QuickCheck-Arbitrary.html#t:Arbitrary" title="Test.QuickCheck.Arbitrary">Arbitrary</a> a, <a href="../../aeson/html/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> a) =&gt; <a href="Test-Aeson-Internal-Utils.html#t:Settings" title="Test.Aeson.Internal.Utils">Settings</a> -&gt; <a href="Test-Aeson-GenericSpecs.html#t:Proxy" title="Test.Aeson.GenericSpecs">Proxy</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:mkGoldenFile">mkGoldenFile</a> :: <a href="Test-Aeson-Internal-Utils.html#t:TypeNameInfo" title="Test.Aeson.Internal.Utils">TypeNameInfo</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a></li><li class="src short"><a href="#v:mkFaultyFile">mkFaultyFile</a> :: <a href="Test-Aeson-Internal-Utils.html#t:TypeNameInfo" title="Test.Aeson.Internal.Utils">TypeNameInfo</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a></li><li class="src short"><a href="#v:mkFaultyReencodedFile">mkFaultyReencodedFile</a> :: <a href="Test-Aeson-Internal-Utils.html#t:TypeNameInfo" title="Test.Aeson.Internal.Utils">TypeNameInfo</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a></li><li class="src short"><a href="#v:mkRandomSamples">mkRandomSamples</a> :: <span class="keyword">forall</span> a. <a href="../../QuickCheck/html/Test-QuickCheck-Arbitrary.html#t:Arbitrary" title="Test.QuickCheck.Arbitrary">Arbitrary</a> a =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Test-Aeson-GenericSpecs.html#t:Proxy" title="Test.Aeson.GenericSpecs">Proxy</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int32" title="Data.Int">Int32</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Test-Aeson-Internal-RandomSamples.html#t:RandomSamples" title="Test.Aeson.Internal.RandomSamples">RandomSamples</a> a)</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:goldenSpecs" class="def">goldenSpecs</a> :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a, <a href="../../QuickCheck/html/Test-QuickCheck-Arbitrary.html#t:Arbitrary" title="Test.QuickCheck.Arbitrary">Arbitrary</a> a, <a href="../../aeson/html/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> a, <a href="../../aeson/html/Data-Aeson-Types.html#t:FromJSON" title="Data.Aeson.Types">FromJSON</a> a) =&gt; <a href="Test-Aeson-Internal-Utils.html#t:Settings" title="Test.Aeson.Internal.Utils">Settings</a> -&gt; <a href="Test-Aeson-GenericSpecs.html#t:Proxy" title="Test.Aeson.GenericSpecs">Proxy</a> a -&gt; <a href="../../hspec/html/Test-Hspec-Discover.html#t:Spec" title="Test.Hspec.Discover">Spec</a> <a href="src/Test.Aeson.Internal.GoldenSpecs.html#goldenSpecs" class="link">Source</a> <a href="#v:goldenSpecs" class="selflink">#</a></p><div class="doc"><p>Tests to ensure that JSON encoding has not unintentionally changed. This
 could be caused by the following:</p><ul><li>A type's instances of <code><a href="../../aeson/html/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a></code> or <code><a href="../../aeson/html/Data-Aeson-Types.html#t:FromJSON" title="Data.Aeson.Types">FromJSON</a></code> have changed.</li><li>Selectors have been edited, added or deleted.</li><li>You have changed version of Aeson the way Aeson serialization has changed
   works.</li></ul><p>If you run this function and the golden files do not
 exist, it will create them for each constructor. It they do exist, it will
 compare with golden file if it exists. Golden file encodes json format of a
 type. It is recommended that you put the golden files under revision control
 to help monitor changes.</p></div></div><div class="top"><p class="src"><a id="v:goldenSpecsWithNote" class="def">goldenSpecsWithNote</a> :: <span class="keyword">forall</span> a. (<a href="../../ghc/html/libraries/base-4.14.3.0/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a, <a href="../../QuickCheck/html/Test-QuickCheck-Arbitrary.html#t:Arbitrary" title="Test.QuickCheck.Arbitrary">Arbitrary</a> a, <a href="../../aeson/html/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> a, <a href="../../aeson/html/Data-Aeson-Types.html#t:FromJSON" title="Data.Aeson.Types">FromJSON</a> a) =&gt; <a href="Test-Aeson-Internal-Utils.html#t:Settings" title="Test.Aeson.Internal.Utils">Settings</a> -&gt; <a href="Test-Aeson-GenericSpecs.html#t:Proxy" title="Test.Aeson.GenericSpecs">Proxy</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../../hspec/html/Test-Hspec-Discover.html#t:Spec" title="Test.Hspec.Discover">Spec</a> <a href="src/Test.Aeson.Internal.GoldenSpecs.html#goldenSpecsWithNote" class="link">Source</a> <a href="#v:goldenSpecsWithNote" class="selflink">#</a></p><div class="doc"><p>same as <code><a href="Test-Aeson-Internal-GoldenSpecs.html#v:goldenSpecs" title="Test.Aeson.Internal.GoldenSpecs">goldenSpecs</a></code> but has the option of passing a note to the
 <code><a href="../../hspec/html/Test-Hspec-Discover.html#v:describe" title="Test.Hspec.Discover">describe</a></code> function.</p></div></div><div class="top"><p class="src"><a id="v:goldenSpecsWithNotePlain" class="def">goldenSpecsWithNotePlain</a> :: <span class="keyword">forall</span> a. (<a href="../../QuickCheck/html/Test-QuickCheck-Arbitrary.html#t:Arbitrary" title="Test.QuickCheck.Arbitrary">Arbitrary</a> a, <a href="../../aeson/html/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> a, <a href="../../aeson/html/Data-Aeson-Types.html#t:FromJSON" title="Data.Aeson.Types">FromJSON</a> a) =&gt; <a href="Test-Aeson-Internal-Utils.html#t:Settings" title="Test.Aeson.Internal.Utils">Settings</a> -&gt; <a href="Test-Aeson-Internal-Utils.html#t:TypeNameInfo" title="Test.Aeson.Internal.Utils">TypeNameInfo</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../../hspec/html/Test-Hspec-Discover.html#t:Spec" title="Test.Hspec.Discover">Spec</a> <a href="src/Test.Aeson.Internal.GoldenSpecs.html#goldenSpecsWithNotePlain" class="link">Source</a> <a href="#v:goldenSpecsWithNotePlain" class="selflink">#</a></p><div class="doc"><p>same as <code><a href="Test-Aeson-Internal-GoldenSpecs.html#v:goldenSpecsWithNote" title="Test.Aeson.Internal.GoldenSpecs">goldenSpecsWithNote</a></code> but does not require a Typeable, Eq or Show instance.</p></div></div><div class="top"><p class="src"><a id="v:compareWithGolden" class="def">compareWithGolden</a> :: <span class="keyword">forall</span> a. (<a href="../../QuickCheck/html/Test-QuickCheck-Arbitrary.html#t:Arbitrary" title="Test.QuickCheck.Arbitrary">Arbitrary</a> a, <a href="../../aeson/html/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> a, <a href="../../aeson/html/Data-Aeson-Types.html#t:FromJSON" title="Data.Aeson.Types">FromJSON</a> a) =&gt; <a href="Test-Aeson-Internal-Utils.html#t:TypeNameInfo" title="Test.Aeson.Internal.Utils">TypeNameInfo</a> a -&gt; <a href="Test-Aeson-GenericSpecs.html#t:Proxy" title="Test.Aeson.GenericSpecs">Proxy</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="Test-Aeson-Internal-Utils.html#t:ComparisonFile" title="Test.Aeson.Internal.Utils">ComparisonFile</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Test.Aeson.Internal.GoldenSpecs.html#compareWithGolden" class="link">Source</a> <a href="#v:compareWithGolden" class="selflink">#</a></p><div class="doc"><p>The golden files already exist. Serialize values with the same seed from
 the golden file and compare the with the JSON in the golden file.</p></div></div><div class="top"><p class="src"><a id="v:createGoldenfile" class="def">createGoldenfile</a> :: <span class="keyword">forall</span> a. (<a href="../../QuickCheck/html/Test-QuickCheck-Arbitrary.html#t:Arbitrary" title="Test.QuickCheck.Arbitrary">Arbitrary</a> a, <a href="../../aeson/html/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> a) =&gt; <a href="Test-Aeson-Internal-Utils.html#t:Settings" title="Test.Aeson.Internal.Utils">Settings</a> -&gt; <a href="Test-Aeson-GenericSpecs.html#t:Proxy" title="Test.Aeson.GenericSpecs">Proxy</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Test.Aeson.Internal.GoldenSpecs.html#createGoldenfile" class="link">Source</a> <a href="#v:createGoldenfile" class="selflink">#</a></p><div class="doc"><p>The golden files do not exist. Create it.</p></div></div><div class="top"><p class="src"><a id="v:mkGoldenFile" class="def">mkGoldenFile</a> :: <a href="Test-Aeson-Internal-Utils.html#t:TypeNameInfo" title="Test.Aeson.Internal.Utils">TypeNameInfo</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> <a href="src/Test.Aeson.Internal.GoldenSpecs.html#mkGoldenFile" class="link">Source</a> <a href="#v:mkGoldenFile" class="selflink">#</a></p><div class="doc"><p>Create the file path for the golden file. Optionally use the module name to
 help avoid name collissions. Different modules can have types of the same
 name.</p></div></div><div class="top"><p class="src"><a id="v:mkFaultyFile" class="def">mkFaultyFile</a> :: <a href="Test-Aeson-Internal-Utils.html#t:TypeNameInfo" title="Test.Aeson.Internal.Utils">TypeNameInfo</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> <a href="src/Test.Aeson.Internal.GoldenSpecs.html#mkFaultyFile" class="link">Source</a> <a href="#v:mkFaultyFile" class="selflink">#</a></p><div class="doc"><p>Create the file path to save results from a failed golden test. Optionally
 use the module name to help avoid name collisions.  Different modules can
 have types of the same name.</p></div></div><div class="top"><p class="src"><a id="v:mkFaultyReencodedFile" class="def">mkFaultyReencodedFile</a> :: <a href="Test-Aeson-Internal-Utils.html#t:TypeNameInfo" title="Test.Aeson.Internal.Utils">TypeNameInfo</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> <a href="src/Test.Aeson.Internal.GoldenSpecs.html#mkFaultyReencodedFile" class="link">Source</a> <a href="#v:mkFaultyReencodedFile" class="selflink">#</a></p><div class="doc"><p>Create the file path to save results from a failed fallback golden test. Optionally
 use the module name to help avoid name collisions.  Different modules can
 have types of the same name.</p></div></div><div class="top"><p class="src"><a id="v:mkRandomSamples" class="def">mkRandomSamples</a> :: <span class="keyword">forall</span> a. <a href="../../QuickCheck/html/Test-QuickCheck-Arbitrary.html#t:Arbitrary" title="Test.QuickCheck.Arbitrary">Arbitrary</a> a =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Test-Aeson-GenericSpecs.html#t:Proxy" title="Test.Aeson.GenericSpecs">Proxy</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int32" title="Data.Int">Int32</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Test-Aeson-Internal-RandomSamples.html#t:RandomSamples" title="Test.Aeson.Internal.RandomSamples">RandomSamples</a> a) <a href="src/Test.Aeson.Internal.GoldenSpecs.html#mkRandomSamples" class="link">Source</a> <a href="#v:mkRandomSamples" class="selflink">#</a></p><div class="doc"><p>Create a number of arbitrary instances of a type
 a sample size and a random seed.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>