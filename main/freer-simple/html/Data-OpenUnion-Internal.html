<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Data.OpenUnion.Internal</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">freer-simple-1.2.1.2: A friendly effect system for Haskell.</span><ul class="links" id="page-menu"><li><a href="src/Data.OpenUnion.Internal.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) 2016 Allele Dev; 2017 Ixperta Solutions s.r.o.; 2017 Alexis King</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>Alexis King &lt;lexi.lambda@gmail.com&gt;</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>GHC specific language extensions.</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Data.OpenUnion.Internal</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>These are internal definitions and should be used with caution. There are no
 guarantees that the API of this module will be preserved between minor
 versions of this package.</p><p>Open unions (type-indexed co-products, i.e. type-indexed sums) for
 extensible effects All operations are constant-time.</p><p>Based on
 <a href="http://okmij.org/ftp/Haskell/extensible/OpenUnion51.hs">OpenUnion51.hs</a>.</p><p>Type-list <code>r :: [* -&gt; *]</code> of open union components is a small Universe.
 Therefore, we can use a <code>Typeable</code>-like evidence in that universe. In our
 case a simple index of an element in the type-list is sufficient
 substitution for <code>Typeable</code>.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Union">Union</a> (r :: [<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>]) a <span class="keyword">where</span><ul class="subs"><li><a href="#v:Union">Union</a> :: !<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word" title="Data.Word">Word</a> -&gt; t a -&gt; <a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> r a</li></ul></li><li class="src short"><a href="#v:unsafeInj">unsafeInj</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word" title="Data.Word">Word</a> -&gt; t a -&gt; <a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> r a</li><li class="src short"><a href="#v:unsafePrj">unsafePrj</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word" title="Data.Word">Word</a> -&gt; <a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> r a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (t a)</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:P">P</a> t r = <a href="#v:P">P</a> {<ul class="subs"><li><a href="#v:unP">unP</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word" title="Data.Word">Word</a></li></ul>}</li><li class="src short"><span class="keyword">class</span> <a href="#t:FindElem">FindElem</a> (t :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (r :: [<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>]) <span class="keyword">where</span><ul class="subs"><li><a href="#v:elemNo">elemNo</a> :: <a href="Data-OpenUnion-Internal.html#t:P" title="Data.OpenUnion.Internal">P</a> t r</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:IfNotFound">IfNotFound</a> (t :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (r :: [<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>]) (w :: [<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>])</li><li class="src short"><span class="keyword">class</span> <a href="Data-OpenUnion-Internal.html#t:FindElem" title="Data.OpenUnion.Internal">FindElem</a> eff effs =&gt; <a href="#t:Member">Member</a> (eff :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) effs <span class="keyword">where</span><ul class="subs"><li><a href="#v:inj">inj</a> :: eff a -&gt; <a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> effs a</li><li><a href="#v:prj">prj</a> :: <a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> effs a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (eff a)</li></ul></li><li class="src short"><a href="#v:decomp">decomp</a> :: <a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> (t ': r) a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> r a) (t a)</li><li class="src short"><a href="#v:decomp0">decomp0</a> :: <a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> '[t] a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> '[] a) (t a)</li><li class="src short"><a href="#v:extract">extract</a> :: <a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> '[t] a -&gt; t a</li><li class="src short"><a href="#v:weaken">weaken</a> :: <a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> r a -&gt; <a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> (any ': r) a</li><li class="src short"><span class="keyword">type family</span> xs <a href="#t::-43--43-:">:++:</a> ys <span class="keyword">where ...</span></li><li class="src short"><span class="keyword">class</span> <a href="#t:Weakens">Weakens</a> q <span class="keyword">where</span><ul class="subs"><li><a href="#v:weakens">weakens</a> :: <a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> r a -&gt; <a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> (q <a href="Data-OpenUnion-Internal.html#t::-43--43-:" title="Data.OpenUnion.Internal">:++:</a> r) a</li></ul></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Union" class="def">Union</a> (r :: [<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>]) a <span class="keyword">where</span> <a href="src/Data.OpenUnion.Internal.html#Union" class="link">Source</a> <a href="#t:Union" class="selflink">#</a></p><div class="doc"><p>Open union is a strong sum (existential with an evidence).</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Union" class="def">Union</a> :: !<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word" title="Data.Word">Word</a> -&gt; t a -&gt; <a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> r a</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:unsafeInj" class="def">unsafeInj</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word" title="Data.Word">Word</a> -&gt; t a -&gt; <a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> r a <a href="src/Data.OpenUnion.Internal.html#unsafeInj" class="link">Source</a> <a href="#v:unsafeInj" class="selflink">#</a></p><div class="doc"><p>Takes a request of type <code>t :: * -&gt; *</code>, and injects it into the <code><a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a></code>.</p><p>Summand is assigning a specified <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word" title="Data.Word">Word</a></code> value, which is a position in the
 type-list <code>(t ': r) :: * -&gt; *</code>.</p><p><strong>This function is unsafe.</strong></p><p><em>O(1)</em></p></div></div><div class="top"><p class="src"><a id="v:unsafePrj" class="def">unsafePrj</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word" title="Data.Word">Word</a> -&gt; <a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> r a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (t a) <a href="src/Data.OpenUnion.Internal.html#unsafePrj" class="link">Source</a> <a href="#v:unsafePrj" class="selflink">#</a></p><div class="doc"><p>Project a value of type <code><code><a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a></code> (t ': r) :: * -&gt; *</code> into a possible
 summand of the type <code>t :: * -&gt; *</code>. <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> means that <code>t :: * -&gt; *</code> is not
 the value stored in the <code><code><a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a></code> (t ': r) :: * -&gt; *</code>.</p><p>It is assumed that summand is stored in the <code><a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a></code> when the <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word" title="Data.Word">Word</a></code> value is
 the same value as is stored in the <code><a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a></code>.</p><p><strong>This function is unsafe.</strong></p><p><em>O(1)</em></p></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:P" class="def">P</a> t r <a href="src/Data.OpenUnion.Internal.html#P" class="link">Source</a> <a href="#t:P" class="selflink">#</a></p><div class="doc"><p>Represents position of element <code>t :: * -&gt; *</code> in a type list
 <code>r :: [* -&gt; *]</code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:P" class="def">P</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:unP" class="def">unP</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word" title="Data.Word">Word</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:FindElem" class="def">FindElem</a> (t :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (r :: [<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>]) <span class="keyword">where</span> <a href="src/Data.OpenUnion.Internal.html#FindElem" class="link">Source</a> <a href="#t:FindElem" class="selflink">#</a></p><div class="doc"><p>Find an index of an element <code>t :: * -&gt; *</code> in a type list <code>r :: [* -&gt; *]</code>.
 The element must exist. The <code>w :: [* -&gt; *]</code> type represents the entire list,
 prior to recursion, and it is used to produce better type errors.</p><p>This is essentially a compile-time computation without run-time overhead.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:elemNo" class="def">elemNo</a> :: <a href="Data-OpenUnion-Internal.html#t:P" title="Data.OpenUnion.Internal">P</a> t r <a href="src/Data.OpenUnion.Internal.html#elemNo" class="link">Source</a> <a href="#v:elemNo" class="selflink">#</a></p><div class="doc"><p>Position of the element <code>t :: * -&gt; *</code> in a type list <code>r :: [* -&gt; *]</code>.</p><p>Position is computed during compilation, i.e. there is no run-time
 overhead.</p><p><em>O(1)</em></p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:FindElem">Instances</h4><details id="i:FindElem" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:FindElem:FindElem:1"></span> <a href="Data-OpenUnion-Internal.html#t:FindElem" title="Data.OpenUnion.Internal">FindElem</a> t r =&gt; <a href="Data-OpenUnion-Internal.html#t:FindElem" title="Data.OpenUnion.Internal">FindElem</a> t (t' ': r)</span> <a href="src/Data.OpenUnion.Internal.html#line-95" class="link">Source</a> <a href="#t:FindElem" class="selflink">#</a></td><td class="doc"><p>Recursion; element is not at the current position, but is somewhere in the
 list.</p></td></tr><tr><td colspan="2"><details id="i:ic:FindElem:FindElem:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-OpenUnion-Internal.html">Data.OpenUnion.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:elemNo">elemNo</a> :: <a href="Data-OpenUnion-Internal.html#t:P" title="Data.OpenUnion.Internal">P</a> t (t' ': r) <a href="src/Data.OpenUnion.Internal.html#elemNo" class="link">Source</a> <a href="#v:elemNo" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:FindElem:FindElem:2"></span> <a href="Data-OpenUnion-Internal.html#t:FindElem" title="Data.OpenUnion.Internal">FindElem</a> t (t ': r)</span> <a href="src/Data.OpenUnion.Internal.html#line-90" class="link">Source</a> <a href="#t:FindElem" class="selflink">#</a></td><td class="doc"><p>Base case; element is at the current position in the list.</p></td></tr><tr><td colspan="2"><details id="i:ic:FindElem:FindElem:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-OpenUnion-Internal.html">Data.OpenUnion.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:elemNo">elemNo</a> :: <a href="Data-OpenUnion-Internal.html#t:P" title="Data.OpenUnion.Internal">P</a> t (t ': r) <a href="src/Data.OpenUnion.Internal.html#elemNo" class="link">Source</a> <a href="#v:elemNo" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:IfNotFound" class="def">IfNotFound</a> (t :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) (r :: [<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>]) (w :: [<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>]) <a href="src/Data.OpenUnion.Internal.html#IfNotFound" class="link">Source</a> <a href="#t:IfNotFound" class="selflink">#</a></p><div class="doc"><p>Instance resolution for this class fails with a custom type error
 if <code>t :: * -&gt; *</code> is not in the list <code>r :: [* -&gt; *]</code>.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:IfNotFound">Instances</h4><details id="i:IfNotFound" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IfNotFound:IfNotFound:1"></span> <a href="Data-OpenUnion-Internal.html#t:IfNotFound" title="Data.OpenUnion.Internal">IfNotFound</a> t r w</span> <a href="src/Data.OpenUnion.Internal.html#line-119" class="link">Source</a> <a href="#t:IfNotFound" class="selflink">#</a></td><td class="doc"><p>Pass if <code>r</code> is uninstantiated. The incoherence here is safe, since picking
 this instance doesn&#8217;t cause any variation in behavior, except possibly the
 production of an inferior error message. For more information, see
 lexi-lambda/freer-simple#3, which describes the motivation in more detail.</p></td></tr><tr><td colspan="2"><details id="i:ic:IfNotFound:IfNotFound:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-OpenUnion-Internal.html">Data.OpenUnion.Internal</a></p></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IfNotFound:IfNotFound:2"></span> (<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-TypeLits.html#t:TypeError" title="GHC.TypeLits">TypeError</a> (((('<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;\8216&quot; <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-TypeLits.html#v:ShowType" title="GHC.TypeLits">ShowType</a> t) <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;\8217 is not a member of the type-level list&quot;) <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-TypeLits.html#v::-36--36-:" title="GHC.TypeLits">:$$:</a> (('<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;  \8216&quot; <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-TypeLits.html#v:ShowType" title="GHC.TypeLits">ShowType</a> w) <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;\8217&quot;)) <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-TypeLits.html#v::-36--36-:" title="GHC.TypeLits">:$$:</a> (('<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;In the constraint (&quot; <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-TypeLits.html#v:ShowType" title="GHC.TypeLits">ShowType</a> (<a href="Data-OpenUnion-Internal.html#t:Member" title="Data.OpenUnion.Internal">Member</a> t w)) <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-TypeLits.html#v::-60--62-:" title="GHC.TypeLits">:&lt;&gt;:</a> '<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-TypeLits.html#v:Text" title="GHC.TypeLits">Text</a> &quot;)&quot;)) :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Constraint" title="Data.Kind">Constraint</a>) =&gt; <a href="Data-OpenUnion-Internal.html#t:IfNotFound" title="Data.OpenUnion.Internal">IfNotFound</a> t ('[] :: [<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>]) w</span> <a href="src/Data.OpenUnion.Internal.html#line-105" class="link">Source</a> <a href="#t:IfNotFound" class="selflink">#</a></td><td class="doc"><p>If we reach an empty list, that&#8217;s a failure, since it means the type isn&#8217;t
 in the list. For GHC &gt;=8, we can render a custom type error that explicitly
 states what went wrong.</p></td></tr><tr><td colspan="2"><details id="i:ic:IfNotFound:IfNotFound:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-OpenUnion-Internal.html">Data.OpenUnion.Internal</a></p></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IfNotFound:IfNotFound:3"></span> <a href="Data-OpenUnion-Internal.html#t:IfNotFound" title="Data.OpenUnion.Internal">IfNotFound</a> t r w =&gt; <a href="Data-OpenUnion-Internal.html#t:IfNotFound" title="Data.OpenUnion.Internal">IfNotFound</a> t (t' ': r) w</span> <a href="src/Data.OpenUnion.Internal.html#line-113" class="link">Source</a> <a href="#t:IfNotFound" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IfNotFound:IfNotFound:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-OpenUnion-Internal.html">Data.OpenUnion.Internal</a></p></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:IfNotFound:IfNotFound:4"></span> <a href="Data-OpenUnion-Internal.html#t:IfNotFound" title="Data.OpenUnion.Internal">IfNotFound</a> t (t ': r) w</span> <a href="src/Data.OpenUnion.Internal.html#line-112" class="link">Source</a> <a href="#t:IfNotFound" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:IfNotFound:IfNotFound:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-OpenUnion-Internal.html">Data.OpenUnion.Internal</a></p></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Data-OpenUnion-Internal.html#t:FindElem" title="Data.OpenUnion.Internal">FindElem</a> eff effs =&gt; <a id="t:Member" class="def">Member</a> (eff :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) effs <span class="keyword">where</span> <a href="src/Data.OpenUnion.Internal.html#Member" class="link">Source</a> <a href="#t:Member" class="selflink">#</a></p><div class="doc"><p>A constraint that requires that a particular effect, <code>eff</code>, is a member of
 the type-level list <code>effs</code>. This is used to parameterize an
 <code><a href="Control-Monad-Freer.html#v:Eff" title="Control.Monad.Freer">Eff</a></code> computation over an arbitrary list of effects, so
 long as <code>eff</code> is <em>somewhere</em> in the list.</p><p>For example, a computation that only needs access to a cell of mutable state
 containing an <code><a href="../../ghc/html/libraries/base-4.14.3.0/Prelude.html#t:Integer" title="Prelude">Integer</a></code> would likely use the following type:</p><pre><code><a href="Data-OpenUnion-Internal.html#t:Member" title="Data.OpenUnion.Internal">Member</a></code> (<code><a href="Control-Monad-Freer-State.html#v:State" title="Control.Monad.Freer.State">State</a></code> <code><a href="../../ghc/html/libraries/base-4.14.3.0/Prelude.html#t:Integer" title="Prelude">Integer</a></code>) effs =&gt; <code><a href="Control-Monad-Freer.html#v:Eff" title="Control.Monad.Freer">Eff</a></code> effs ()
</pre></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:inj" class="def">inj</a> :: eff a -&gt; <a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> effs a <a href="src/Data.OpenUnion.Internal.html#inj" class="link">Source</a> <a href="#v:inj" class="selflink">#</a></p><div class="doc"><p>Takes a request of type <code>t :: * -&gt; *</code>, and injects it into the
 <code><a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a></code>.</p><p><em>O(1)</em></p></div><p class="src"><a id="v:prj" class="def">prj</a> :: <a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> effs a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (eff a) <a href="src/Data.OpenUnion.Internal.html#prj" class="link">Source</a> <a href="#v:prj" class="selflink">#</a></p><div class="doc"><p>Project a value of type <code><code><a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a></code> (t ': r) :: * -&gt; *</code> into a possible
 summand of the type <code>t :: * -&gt; *</code>. <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> means that <code>t :: * -&gt; *</code> is
 not the value stored in the <code><code><a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a></code> (t ': r) :: * -&gt; *</code>.</p><p><em>O(1)</em></p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Member">Instances</h4><details id="i:Member" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Member:Member:1"></span> (<a href="Data-OpenUnion-Internal.html#t:FindElem" title="Data.OpenUnion.Internal">FindElem</a> t r, <a href="Data-OpenUnion-Internal.html#t:IfNotFound" title="Data.OpenUnion.Internal">IfNotFound</a> t r r) =&gt; <a href="Data-OpenUnion-Internal.html#t:Member" title="Data.OpenUnion.Internal">Member</a> t r</span> <a href="src/Data.OpenUnion.Internal.html#line-160" class="link">Source</a> <a href="#t:Member" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Member:Member:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-OpenUnion-Internal.html">Data.OpenUnion.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:inj">inj</a> :: t a -&gt; <a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> r a <a href="src/Data.OpenUnion.Internal.html#inj" class="link">Source</a> <a href="#v:inj" class="selflink">#</a></p><p class="src"><a href="#v:prj">prj</a> :: <a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> r a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (t a) <a href="src/Data.OpenUnion.Internal.html#prj" class="link">Source</a> <a href="#v:prj" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:decomp" class="def">decomp</a> :: <a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> (t ': r) a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> r a) (t a) <a href="src/Data.OpenUnion.Internal.html#decomp" class="link">Source</a> <a href="#v:decomp" class="selflink">#</a></p><div class="doc"><p>Orthogonal decomposition of a <code><code><a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a></code> (t ': r) :: * -&gt; *</code>. <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Either.html#v:Right" title="Data.Either">Right</a></code> value
 is returned if the <code><code><a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a></code> (t ': r) :: * -&gt; *</code> contains <code>t :: * -&gt; *</code>, and
 <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Either.html#v:Left" title="Data.Either">Left</a></code> when it doesn't. Notice that <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Either.html#v:Left" title="Data.Either">Left</a></code> value contains
 <code>Union r :: * -&gt; *</code>, i.e. it can not contain <code>t :: * -&gt; *</code>.</p><p><em>O(1)</em></p></div></div><div class="top"><p class="src"><a id="v:decomp0" class="def">decomp0</a> :: <a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> '[t] a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> '[] a) (t a) <a href="src/Data.OpenUnion.Internal.html#decomp0" class="link">Source</a> <a href="#v:decomp0" class="selflink">#</a></p><div class="doc"><p>Specialized version of <code><a href="Data-OpenUnion-Internal.html#v:decomp" title="Data.OpenUnion.Internal">decomp</a></code> for efficiency.</p><p><em>O(1)</em></p><p>TODO: Check that it actually adds on efficiency.</p></div></div><div class="top"><p class="src"><a id="v:extract" class="def">extract</a> :: <a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> '[t] a -&gt; t a <a href="src/Data.OpenUnion.Internal.html#extract" class="link">Source</a> <a href="#v:extract" class="selflink">#</a></p><div class="doc"><p>Specialised version of <code><a href="Data-OpenUnion-Internal.html#v:prj" title="Data.OpenUnion.Internal">prj</a></code>/<code><a href="Data-OpenUnion-Internal.html#v:decomp" title="Data.OpenUnion.Internal">decomp</a></code> that works on an
 <code><code><a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a></code> '[t] :: * -&gt; *</code> which contains only one specific summand. Hence the
 absence of <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a></code>, and <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a></code>.</p><p><em>O(1)</em></p></div></div><div class="top"><p class="src"><a id="v:weaken" class="def">weaken</a> :: <a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> r a -&gt; <a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> (any ': r) a <a href="src/Data.OpenUnion.Internal.html#weaken" class="link">Source</a> <a href="#v:weaken" class="selflink">#</a></p><div class="doc"><p>Inject whole <code><code><a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a></code> r</code> into a weaker <code><code><a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a></code> (any ': r)</code> that has one
 more summand.</p><p><em>O(1)</em></p></div></div><div class="top"><p class="src"><span class="keyword">type family</span> xs <a id="t::-43--43-:" class="def">:++:</a> ys <span class="keyword">where ...</span> <span class="fixity">infixr 5</span><span class="rightedge"></span> <a href="src/Data.OpenUnion.Internal.html#%3A%2B%2B%3A" class="link">Source</a> <a href="#t::-43--43-:" class="selflink">#</a></p><div class="subs equations"><p class="caption">Equations</p><table><tr><td class="src">'[] <a href="Data-OpenUnion-Internal.html#t::-43--43-:" title="Data.OpenUnion.Internal">:++:</a> ys = ys</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(x ': xs) <a href="Data-OpenUnion-Internal.html#t::-43--43-:" title="Data.OpenUnion.Internal">:++:</a> ys = x ': (xs <a href="Data-OpenUnion-Internal.html#t::-43--43-:" title="Data.OpenUnion.Internal">:++:</a> ys)</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:Weakens" class="def">Weakens</a> q <span class="keyword">where</span> <a href="src/Data.OpenUnion.Internal.html#Weakens" class="link">Source</a> <a href="#t:Weakens" class="selflink">#</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:weakens" class="def">weakens</a> :: <a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> r a -&gt; <a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> (q <a href="Data-OpenUnion-Internal.html#t::-43--43-:" title="Data.OpenUnion.Internal">:++:</a> r) a <a href="src/Data.OpenUnion.Internal.html#weakens" class="link">Source</a> <a href="#v:weakens" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Weakens">Instances</h4><details id="i:Weakens" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Weakens:Weakens:1"></span> <a href="Data-OpenUnion-Internal.html#t:Weakens" title="Data.OpenUnion.Internal">Weakens</a> ('[] :: [<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>])</span> <a href="src/Data.OpenUnion.Internal.html#line-213" class="link">Source</a> <a href="#t:Weakens" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Weakens:Weakens:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-OpenUnion-Internal.html">Data.OpenUnion.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:weakens">weakens</a> :: <span class="keyword">forall</span> k (r :: [<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>]) (a :: k). <a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> r a -&gt; <a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> ('[] <a href="Data-OpenUnion-Internal.html#t::-43--43-:" title="Data.OpenUnion.Internal">:++:</a> r) a <a href="src/Data.OpenUnion.Internal.html#weakens" class="link">Source</a> <a href="#v:weakens" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Weakens:Weakens:2"></span> <a href="Data-OpenUnion-Internal.html#t:Weakens" title="Data.OpenUnion.Internal">Weakens</a> xs =&gt; <a href="Data-OpenUnion-Internal.html#t:Weakens" title="Data.OpenUnion.Internal">Weakens</a> (x ': xs)</span> <a href="src/Data.OpenUnion.Internal.html#line-217" class="link">Source</a> <a href="#t:Weakens" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Weakens:Weakens:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-OpenUnion-Internal.html">Data.OpenUnion.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:weakens">weakens</a> :: <span class="keyword">forall</span> k (r :: [<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>]) (a :: k). <a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> r a -&gt; <a href="Data-OpenUnion-Internal.html#t:Union" title="Data.OpenUnion.Internal">Union</a> ((x ': xs) <a href="Data-OpenUnion-Internal.html#t::-43--43-:" title="Data.OpenUnion.Internal">:++:</a> r) a <a href="src/Data.OpenUnion.Internal.html#weakens" class="link">Source</a> <a href="#v:weakens" class="selflink">#</a></p></div></details></td></tr></table></details></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>