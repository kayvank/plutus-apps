<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# OPTIONS_GHC -fwarn-incomplete-patterns #-}</span><span>
</span><span id="line-2"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Database.Beam.Query</span><span>
</span><span id="line-3"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * Query type</span></span><span>
</span><span id="line-4"></span><span>      </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Database.Beam.Query.Types.html"><span class="hs-identifier">Database.Beam.Query.Types</span></a></span><span>
</span><span id="line-5"></span><span>
</span><span id="line-6"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Query expression contexts</span></span><span>
</span><span id="line-7"></span><span>    </span><span class="hs-comment">-- | A context is a type-level value that signifies where an expression can</span><span>
</span><span id="line-8"></span><span>    </span><span class="hs-comment">--   be used. For example, 'QExpr' corresponds to 'QGenExpr's that result in</span><span>
</span><span id="line-9"></span><span>    </span><span class="hs-comment">--   values. In reality, 'QExpr' is really 'QGenExpr' parameterized over the</span><span>
</span><span id="line-10"></span><span>    </span><span class="hs-comment">--   'QValueContext'. Similarly, 'QAgg' represents expressions that contain</span><span>
</span><span id="line-11"></span><span>    </span><span class="hs-comment">--   aggregates, but it is just 'QGenExpr' parameterized over</span><span>
</span><span id="line-12"></span><span>    </span><span class="hs-comment">--   'QAggregateContext'</span><span>
</span><span id="line-13"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QAggregateContext"><span class="hs-identifier">QAggregateContext</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QGroupingContext"><span class="hs-identifier">QGroupingContext</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QValueContext"><span class="hs-identifier">QValueContext</span></a></span><span>
</span><span id="line-14"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QWindowingContext"><span class="hs-identifier">QWindowingContext</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QWindowFrameContext"><span class="hs-identifier">QWindowFrameContext</span></a></span><span>
</span><span id="line-15"></span><span>
</span><span id="line-16"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#QGenExprTable"><span class="hs-identifier">QGenExprTable</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#QExprTable"><span class="hs-identifier">QExprTable</span></a></span><span>
</span><span id="line-17"></span><span>
</span><span id="line-18"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QAssignment"><span class="hs-identifier">QAssignment</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QField"><span class="hs-identifier">QField</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QFieldAssignment"><span class="hs-identifier">QFieldAssignment</span></a></span><span>
</span><span id="line-19"></span><span>
</span><span id="line-20"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#QBaseScope"><span class="hs-identifier">QBaseScope</span></a></span><span>
</span><span id="line-21"></span><span>
</span><span id="line-22"></span><span>
</span><span id="line-23"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Database.Beam.Query.Combinators.html"><span class="hs-identifier">Database.Beam.Query.Combinators</span></a></span><span>
</span><span id="line-24"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Database.Beam.Query.Extensions.html"><span class="hs-identifier">Database.Beam.Query.Extensions</span></a></span><span>
</span><span id="line-25"></span><span>
</span><span id="line-26"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Database.Beam.Query.Relationships.html"><span class="hs-identifier">Database.Beam.Query.Relationships</span></a></span><span>
</span><span id="line-27"></span><span>
</span><span id="line-28"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Database.Beam.Query.CTE.html"><span class="hs-identifier">Database.Beam.Query.CTE</span></a></span><span>
</span><span id="line-29"></span><span>
</span><span id="line-30"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Database.Beam.Query.Extract.html"><span class="hs-identifier">Database.Beam.Query.Extract</span></a></span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Operators</span></span><span>
</span><span id="line-33"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Database.Beam.Query.Operator.html"><span class="hs-identifier">Database.Beam.Query.Operator</span></a></span><span>
</span><span id="line-34"></span><span>
</span><span id="line-35"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** ANSI SQL Booleans</span></span><span>
</span><span id="line-36"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#isTrue_"><span class="hs-identifier">isTrue_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#isNotTrue_"><span class="hs-identifier">isNotTrue_</span></a></span><span>
</span><span id="line-37"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#isFalse_"><span class="hs-identifier">isFalse_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#isNotFalse_"><span class="hs-identifier">isNotFalse_</span></a></span><span>
</span><span id="line-38"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#isUnknown_"><span class="hs-identifier">isUnknown_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#isNotUnknown_"><span class="hs-identifier">isNotUnknown_</span></a></span><span>
</span><span id="line-39"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#unknownAs_"><span class="hs-identifier">unknownAs_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#sqlBool_"><span class="hs-identifier">sqlBool_</span></a></span><span>
</span><span id="line-40"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#possiblyNullBool_"><span class="hs-identifier">possiblyNullBool_</span></a></span><span>
</span><span id="line-41"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#fromPossiblyNullBool_"><span class="hs-identifier">fromPossiblyNullBool_</span></a></span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Unquantified comparison operators</span></span><span>
</span><span id="line-44"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#HasSqlEqualityCheck"><span class="hs-identifier">HasSqlEqualityCheck</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#HasSqlQuantifiedEqualityCheck"><span class="hs-identifier">HasSqlQuantifiedEqualityCheck</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#HasTableEquality"><span class="hs-identifier">HasTableEquality</span></a></span><span>
</span><span id="line-46"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#SqlEq"><span class="hs-identifier">SqlEq</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#SqlOrd"><span class="hs-identifier">SqlOrd</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#SqlIn"><span class="hs-identifier">SqlIn</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-47"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#HasSqlInTable"><span class="hs-identifier">HasSqlInTable</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#inQuery_"><span class="hs-identifier">inQuery_</span></a></span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Quantified Comparison Operators #quantified-comparison-operator#</span></span><span>
</span><span id="line-51"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#SqlEqQuantified"><span class="hs-identifier">SqlEqQuantified</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#SqlOrdQuantified"><span class="hs-identifier">SqlOrdQuantified</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#QQuantified"><span class="hs-identifier">QQuantified</span></a></span><span>
</span><span id="line-53"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#anyOf_"><span class="hs-identifier">anyOf_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#allOf_"><span class="hs-identifier">allOf_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#anyIn_"><span class="hs-identifier">anyIn_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#allIn_"><span class="hs-identifier">allIn_</span></a></span><span>
</span><span id="line-54"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#between_"><span class="hs-identifier">between_</span></a></span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Database.Beam.Query.Aggregate.html"><span class="hs-identifier">Database.Beam.Query.Aggregate</span></a></span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Database.Beam.Query.CustomSQL.html"><span class="hs-identifier">Database.Beam.Query.CustomSQL</span></a></span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Database.Beam.Query.DataTypes.html"><span class="hs-identifier">Database.Beam.Query.DataTypes</span></a></span><span>
</span><span id="line-61"></span><span>
</span><span id="line-62"></span><span>    </span><span class="annot"><span class="hs-comment">-- * SQL Command construction and execution</span></span><span>
</span><span id="line-63"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** @SELECT@</span></span><span>
</span><span id="line-64"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlSelect"><span class="hs-identifier">SqlSelect</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#select"><span class="hs-identifier">select</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#selectWith"><span class="hs-identifier">selectWith</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#lookup_"><span class="hs-identifier">lookup_</span></a></span><span>
</span><span id="line-66"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#runSelectReturningList"><span class="hs-identifier">runSelectReturningList</span></a></span><span>
</span><span id="line-67"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#runSelectReturningOne"><span class="hs-identifier">runSelectReturningOne</span></a></span><span>
</span><span id="line-68"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#runSelectReturningFirst"><span class="hs-identifier">runSelectReturningFirst</span></a></span><span>
</span><span id="line-69"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#dumpSqlSelect"><span class="hs-identifier">dumpSqlSelect</span></a></span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** @INSERT@</span></span><span>
</span><span id="line-72"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlInsert"><span class="hs-identifier">SqlInsert</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#insert"><span class="hs-identifier">insert</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#insertOnly"><span class="hs-identifier">insertOnly</span></a></span><span>
</span><span id="line-74"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#runInsert"><span class="hs-identifier">runInsert</span></a></span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlInsertValues"><span class="hs-identifier">SqlInsertValues</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-77"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#insertExpressions"><span class="hs-identifier">insertExpressions</span></a></span><span>
</span><span id="line-78"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#insertValues"><span class="hs-identifier">insertValues</span></a></span><span>
</span><span id="line-79"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#insertFrom"><span class="hs-identifier">insertFrom</span></a></span><span>
</span><span id="line-80"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#insertData"><span class="hs-identifier">insertData</span></a></span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** @UPDATE@</span></span><span>
</span><span id="line-83"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlUpdate"><span class="hs-identifier">SqlUpdate</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#update"><span class="hs-identifier">update</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#save"><span class="hs-identifier">save</span></a></span><span>
</span><span id="line-85"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#update%27"><span class="hs-identifier">update'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#save%27"><span class="hs-identifier">save'</span></a></span><span>
</span><span id="line-86"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#updateTable"><span class="hs-identifier">updateTable</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#updateTable%27"><span class="hs-identifier">updateTable'</span></a></span><span>
</span><span id="line-87"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#set"><span class="hs-identifier">set</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#setFieldsTo"><span class="hs-identifier">setFieldsTo</span></a></span><span>
</span><span id="line-88"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#toNewValue"><span class="hs-identifier">toNewValue</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#toOldValue"><span class="hs-identifier">toOldValue</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#toUpdatedValue"><span class="hs-identifier">toUpdatedValue</span></a></span><span>
</span><span id="line-89"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#toUpdatedValueMaybe"><span class="hs-identifier">toUpdatedValueMaybe</span></a></span><span>
</span><span id="line-90"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#updateRow"><span class="hs-identifier">updateRow</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#updateTableRow"><span class="hs-identifier">updateTableRow</span></a></span><span>
</span><span id="line-91"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#updateRow%27"><span class="hs-identifier">updateRow'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#updateTableRow%27"><span class="hs-identifier">updateTableRow'</span></a></span><span>
</span><span id="line-92"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#runUpdate"><span class="hs-identifier">runUpdate</span></a></span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** @DELETE@</span></span><span>
</span><span id="line-95"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlDelete"><span class="hs-identifier">SqlDelete</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#delete"><span class="hs-identifier">delete</span></a></span><span>
</span><span id="line-97"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#runDelete"><span class="hs-identifier">runDelete</span></a></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Prelude</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">lookup</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Beam.Query.Aggregate.html"><span class="hs-identifier">Database.Beam.Query.Aggregate</span></a></span><span>
</span><span id="line-102"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Beam.Query.Combinators.html"><span class="hs-identifier">Database.Beam.Query.Combinators</span></a></span><span>
</span><span id="line-103"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Beam.Query.CTE.html"><span class="hs-identifier">Database.Beam.Query.CTE</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Query.CTE.html#With"><span class="hs-identifier">With</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.CTE.html#ReusableQ"><span class="hs-identifier">ReusableQ</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.CTE.html#selecting"><span class="hs-identifier">selecting</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.CTE.html#reuse"><span class="hs-identifier">reuse</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Database.Beam.Query.CTE.html"><span class="hs-identifier">Database.Beam.Query.CTE</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">CTE</span></span><span>
</span><span id="line-105"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Beam.Query.CustomSQL.html"><span class="hs-identifier">Database.Beam.Query.CustomSQL</span></a></span><span>
</span><span id="line-106"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Beam.Query.DataTypes.html"><span class="hs-identifier">Database.Beam.Query.DataTypes</span></a></span><span>
</span><span id="line-107"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Beam.Query.Extensions.html"><span class="hs-identifier">Database.Beam.Query.Extensions</span></a></span><span>
</span><span id="line-108"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Beam.Query.Extract.html"><span class="hs-identifier">Database.Beam.Query.Extract</span></a></span><span>
</span><span id="line-109"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html"><span class="hs-identifier">Database.Beam.Query.Internal</span></a></span><span>
</span><span id="line-110"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Beam.Query.Operator.html"><span class="hs-identifier">Database.Beam.Query.Operator</span></a></span><span>
</span><span id="line-111"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html"><span class="hs-identifier">Database.Beam.Query.Ord</span></a></span><span>
</span><span id="line-112"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Beam.Query.Relationships.html"><span class="hs-identifier">Database.Beam.Query.Relationships</span></a></span><span>
</span><span id="line-113"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Beam.Query.Types.html"><span class="hs-identifier">Database.Beam.Query.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QGenExpr"><span class="hs-identifier">QGenExpr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- hide QGenExpr constructor</span><span>
</span><span id="line-114"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Beam.Query.Types.html"><span class="hs-identifier">Database.Beam.Query.Types</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QGenExpr"><span class="hs-identifier">QGenExpr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html"><span class="hs-identifier">Database.Beam.Backend.SQL</span></a></span><span>
</span><span id="line-117"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.Builder.html"><span class="hs-identifier">Database.Beam.Backend.SQL.Builder</span></a></span><span>
</span><span id="line-118"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html"><span class="hs-identifier">Database.Beam.Schema.Tables</span></a></span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier">Control.Monad.Identity</span></a></span><span>
</span><span id="line-121"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier">Control.Monad.Writer</span></a></span><span>
</span><span id="line-122"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier">Control.Monad.State.Strict</span></a></span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Kind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier">Type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Functor.Const</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Const</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-126"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Text</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-127"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Proxy</span></a></span><span>
</span><span id="line-128"></span><span>
</span><span id="line-129"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../microlens/html/src"><span class="hs-identifier">Lens.Micro</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../microlens/html/src"><span class="hs-operator">(^.)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span class="hs-comment">-- * Query</span><span>
</span><span id="line-132"></span><span>
</span><span id="line-133"></span><span class="hs-keyword">data</span><span> </span><span id="QBaseScope"><span class="annot"><a href="Database.Beam.Query.html#QBaseScope"><span class="hs-identifier hs-var">QBaseScope</span></a></span></span><span>
</span><span id="line-134"></span><span>
</span><span id="line-135"></span><span class="hs-comment">-- | A version of the table where each field is a 'QGenExpr'</span><span>
</span><span id="line-136"></span><span class="hs-keyword">type</span><span> </span><span id="QGenExprTable"><span class="annot"><a href="Database.Beam.Query.html#QGenExprTable"><span class="hs-identifier hs-var">QGenExprTable</span></a></span></span><span> </span><span id="local-6989586621679474034"><span class="annot"><a href="#local-6989586621679474034"><span class="hs-identifier hs-type">ctxt</span></a></span></span><span> </span><span id="local-6989586621679474033"><span class="annot"><a href="#local-6989586621679474033"><span class="hs-identifier hs-type">be</span></a></span></span><span> </span><span id="local-6989586621679474032"><span class="annot"><a href="#local-6989586621679474032"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679474031"><span class="annot"><a href="#local-6989586621679474031"><span class="hs-identifier hs-type">tbl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679474031"><span class="hs-identifier hs-type">tbl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QGenExpr"><span class="hs-identifier hs-type">QGenExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474034"><span class="hs-identifier hs-type">ctxt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474033"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474032"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span class="hs-keyword">type</span><span> </span><span id="QExprTable"><span class="annot"><a href="Database.Beam.Query.html#QExprTable"><span class="hs-identifier hs-var">QExprTable</span></a></span></span><span> </span><span id="local-6989586621679474030"><span class="annot"><a href="#local-6989586621679474030"><span class="hs-identifier hs-type">be</span></a></span></span><span> </span><span id="local-6989586621679474029"><span class="annot"><a href="#local-6989586621679474029"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679474028"><span class="annot"><a href="#local-6989586621679474028"><span class="hs-identifier hs-type">tbl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#QGenExprTable"><span class="hs-identifier hs-type">QGenExprTable</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QValueContext"><span class="hs-identifier hs-type">QValueContext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474030"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474029"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474028"><span class="hs-identifier hs-type">tbl</span></a></span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span class="hs-comment">-- * SELECT</span><span>
</span><span id="line-141"></span><span>
</span><span id="line-142"></span><span class="hs-comment">-- | Represents a select statement in the given backend, returning</span><span>
</span><span id="line-143"></span><span class="hs-comment">-- rows of type 'a'.</span><span>
</span><span id="line-144"></span><span class="hs-keyword">newtype</span><span> </span><span id="SqlSelect"><span class="annot"><a href="Database.Beam.Query.html#SqlSelect"><span class="hs-identifier hs-var">SqlSelect</span></a></span></span><span> </span><span id="local-6989586621679474526"><span class="annot"><a href="#local-6989586621679474526"><span class="hs-identifier hs-type">be</span></a></span></span><span> </span><span id="local-6989586621679474525"><span class="annot"><a href="#local-6989586621679474525"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-145"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="SqlSelect"><span class="annot"><a href="Database.Beam.Query.html#SqlSelect"><span class="hs-identifier hs-var">SqlSelect</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackendSelectSyntax"><span class="hs-identifier hs-type">BeamSqlBackendSelectSyntax</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474526"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-146"></span><span>
</span><span id="line-147"></span><span class="hs-comment">-- | Build a 'SqlSelect' for the given 'Q'.</span><span>
</span><span id="line-148"></span><span class="annot"><a href="Database.Beam.Query.html#select"><span class="hs-identifier hs-type">select</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679474491"><span class="annot"><a href="#local-6989586621679474491"><span class="hs-identifier hs-type">be</span></a></span></span><span> </span><span id="local-6989586621679474488"><span class="annot"><a href="#local-6989586621679474488"><span class="hs-identifier hs-type">db</span></a></span></span><span> </span><span id="local-6989586621679474489"><span class="annot"><a href="#local-6989586621679474489"><span class="hs-identifier hs-type">res</span></a></span></span><span>
</span><span id="line-149"></span><span>        </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474491"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Types.html#HasQBuilder"><span class="hs-identifier hs-type">HasQBuilder</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474491"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#Projectible"><span class="hs-identifier hs-type">Projectible</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474491"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474489"><span class="hs-identifier hs-type">res</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-150"></span><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#Q"><span class="hs-identifier hs-type">Q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474491"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474488"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Query.html#QBaseScope"><span class="hs-identifier hs-type">QBaseScope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474489"><span class="hs-identifier hs-type">res</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlSelect"><span class="hs-identifier hs-type">SqlSelect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474491"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Types.html#QExprToIdentity"><span class="hs-identifier hs-type">QExprToIdentity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474489"><span class="hs-identifier hs-type">res</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-151"></span><span id="select"><span class="annot"><span class="annottext">select :: Q be db QBaseScope res -&gt; SqlSelect be (QExprToIdentity res)
</span><a href="Database.Beam.Query.html#select"><span class="hs-identifier hs-var hs-var">select</span></a></span></span><span> </span><span id="local-6989586621679474026"><span class="annot"><span class="annottext">Q be db QBaseScope res
</span><a href="#local-6989586621679474026"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-152"></span><span>  </span><span class="annot"><span class="annottext">BeamSqlBackendSelectSyntax be -&gt; SqlSelect be (QExprToIdentity res)
forall be a. BeamSqlBackendSelectSyntax be -&gt; SqlSelect be a
</span><a href="Database.Beam.Query.html#SqlSelect"><span class="hs-identifier hs-var">SqlSelect</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TablePrefix
-&gt; Q be db QBaseScope res -&gt; BeamSqlBackendSelectSyntax be
forall be a (db :: (* -&gt; *) -&gt; *) s.
(HasQBuilder be, Projectible be a) =&gt;
TablePrefix -&gt; Q be db s a -&gt; BeamSqlBackendSelectSyntax be
</span><a href="Database.Beam.Query.Types.html#buildSqlQuery"><span class="hs-identifier hs-var">buildSqlQuery</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><span class="hs-string">&quot;t&quot;</span></span><span> </span><span class="annot"><span class="annottext">Q be db QBaseScope res
</span><a href="#local-6989586621679474026"><span class="hs-identifier hs-var">q</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-153"></span><span>
</span><span id="line-154"></span><span class="hs-comment">-- | Create a 'SqlSelect' for a query which may have common table</span><span>
</span><span id="line-155"></span><span class="hs-comment">-- expressions. See the documentation of 'With' for more details.</span><span>
</span><span id="line-156"></span><span class="annot"><a href="Database.Beam.Query.html#selectWith"><span class="hs-identifier hs-type">selectWith</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679474024"><span class="annot"><a href="#local-6989586621679474024"><span class="hs-identifier hs-type">be</span></a></span></span><span> </span><span id="local-6989586621679474023"><span class="annot"><a href="#local-6989586621679474023"><span class="hs-identifier hs-type">db</span></a></span></span><span> </span><span id="local-6989586621679474022"><span class="annot"><a href="#local-6989586621679474022"><span class="hs-identifier hs-type">res</span></a></span></span><span>
</span><span id="line-157"></span><span>            </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474024"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSql99CommonTableExpressionBackend"><span class="hs-identifier hs-type">BeamSql99CommonTableExpressionBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474024"><span class="hs-identifier hs-type">be</span></a></span><span>
</span><span id="line-158"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Types.html#HasQBuilder"><span class="hs-identifier hs-type">HasQBuilder</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474024"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#Projectible"><span class="hs-identifier hs-type">Projectible</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474024"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474022"><span class="hs-identifier hs-type">res</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-159"></span><span>           </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.CTE.html#With"><span class="hs-identifier hs-type">With</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474024"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474023"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#Q"><span class="hs-identifier hs-type">Q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474024"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474023"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Query.html#QBaseScope"><span class="hs-identifier hs-type">QBaseScope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474022"><span class="hs-identifier hs-type">res</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlSelect"><span class="hs-identifier hs-type">SqlSelect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474024"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Types.html#QExprToIdentity"><span class="hs-identifier hs-type">QExprToIdentity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474022"><span class="hs-identifier hs-type">res</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-160"></span><span id="selectWith"><span class="annot"><span class="annottext">selectWith :: With be db (Q be db QBaseScope res)
-&gt; SqlSelect be (QExprToIdentity res)
</span><a href="Database.Beam.Query.html#selectWith"><span class="hs-identifier hs-var hs-var">selectWith</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.CTE.html#With"><span class="hs-identifier hs-type">CTE.With</span></a></span><span> </span><span id="local-6989586621679474019"><span class="annot"><span class="annottext">WriterT
  (Recursiveness be, [BeamSql99BackendCTESyntax be])
  (State Int)
  (Q be db QBaseScope res)
</span><a href="#local-6989586621679474019"><span class="hs-identifier hs-var">mkQ</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-161"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679474018"><span class="annot"><span class="annottext">Q be db QBaseScope res
</span><a href="#local-6989586621679474018"><span class="hs-identifier hs-var">q</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679474017"><span class="annot"><span class="annottext">Recursiveness be
</span><a href="#local-6989586621679474017"><span class="hs-identifier hs-var">recursiveness</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679474016"><span class="annot"><span class="annottext">[BeamSql99BackendCTESyntax be]
</span><a href="#local-6989586621679474016"><span class="hs-identifier hs-var">ctes</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">State
  Int
  (Q be db QBaseScope res,
   (Recursiveness be, [BeamSql99BackendCTESyntax be]))
-&gt; Int
-&gt; (Q be db QBaseScope res,
    (Recursiveness be, [BeamSql99BackendCTESyntax be]))
forall s a. State s a -&gt; s -&gt; a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">evalState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WriterT
  (Recursiveness be, [BeamSql99BackendCTESyntax be])
  (State Int)
  (Q be db QBaseScope res)
-&gt; State
     Int
     (Q be db QBaseScope res,
      (Recursiveness be, [BeamSql99BackendCTESyntax be]))
forall w (m :: * -&gt; *) a. WriterT w m a -&gt; m (a, w)
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var hs-var">runWriterT</span></a></span><span> </span><span class="annot"><span class="annottext">WriterT
  (Recursiveness be, [BeamSql99BackendCTESyntax be])
  (State Int)
  (Q be db QBaseScope res)
</span><a href="#local-6989586621679474019"><span class="hs-identifier hs-var">mkQ</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-162"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Recursiveness be
</span><a href="#local-6989586621679474017"><span class="hs-identifier hs-var">recursiveness</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-163"></span><span>         </span><span class="annot"><span class="annottext">Recursiveness be
</span><a href="Database.Beam.Query.CTE.html#Nonrecursive"><span class="hs-identifier hs-var">CTE.Nonrecursive</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendSelectSyntax be -&gt; SqlSelect be (QExprToIdentity res)
forall be a. BeamSqlBackendSelectSyntax be -&gt; SqlSelect be a
</span><a href="Database.Beam.Query.html#SqlSelect"><span class="hs-identifier hs-var">SqlSelect</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[BeamSql99BackendCTESyntax be]
-&gt; BeamSqlBackendSelectSyntax be -&gt; BeamSqlBackendSelectSyntax be
forall syntax.
IsSql99CommonTableExpressionSelectSyntax syntax =&gt;
[Sql99SelectCTESyntax syntax] -&gt; syntax -&gt; syntax
</span><a href="Database.Beam.Backend.SQL.SQL99.html#withSyntax"><span class="hs-identifier hs-var">withSyntax</span></a></span><span> </span><span class="annot"><span class="annottext">[BeamSql99BackendCTESyntax be]
</span><a href="#local-6989586621679474016"><span class="hs-identifier hs-var">ctes</span></a></span><span>
</span><span id="line-164"></span><span>                                                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TablePrefix
-&gt; Q be db QBaseScope res -&gt; BeamSqlBackendSelectSyntax be
forall be a (db :: (* -&gt; *) -&gt; *) s.
(HasQBuilder be, Projectible be a) =&gt;
TablePrefix -&gt; Q be db s a -&gt; BeamSqlBackendSelectSyntax be
</span><a href="Database.Beam.Query.Types.html#buildSqlQuery"><span class="hs-identifier hs-var">buildSqlQuery</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><span class="hs-string">&quot;t&quot;</span></span><span> </span><span class="annot"><span class="annottext">Q be db QBaseScope res
</span><a href="#local-6989586621679474018"><span class="hs-identifier hs-var">q</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-165"></span><span>         </span><span class="annot"><span class="annottext">Recursiveness be
</span><a href="Database.Beam.Query.CTE.html#Recursive"><span class="hs-identifier hs-var">CTE.Recursive</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendSelectSyntax be -&gt; SqlSelect be (QExprToIdentity res)
forall be a. BeamSqlBackendSelectSyntax be -&gt; SqlSelect be a
</span><a href="Database.Beam.Query.html#SqlSelect"><span class="hs-identifier hs-var">SqlSelect</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[BeamSql99BackendCTESyntax be]
-&gt; BeamSqlBackendSelectSyntax be -&gt; BeamSqlBackendSelectSyntax be
forall syntax.
IsSql99RecursiveCommonTableExpressionSelectSyntax syntax =&gt;
[Sql99SelectCTESyntax syntax] -&gt; syntax -&gt; syntax
</span><a href="Database.Beam.Backend.SQL.SQL99.html#withRecursiveSyntax"><span class="hs-identifier hs-var">withRecursiveSyntax</span></a></span><span> </span><span class="annot"><span class="annottext">[BeamSql99BackendCTESyntax be]
</span><a href="#local-6989586621679474016"><span class="hs-identifier hs-var">ctes</span></a></span><span>
</span><span id="line-166"></span><span>                                                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TablePrefix
-&gt; Q be db QBaseScope res -&gt; BeamSqlBackendSelectSyntax be
forall be a (db :: (* -&gt; *) -&gt; *) s.
(HasQBuilder be, Projectible be a) =&gt;
TablePrefix -&gt; Q be db s a -&gt; BeamSqlBackendSelectSyntax be
</span><a href="Database.Beam.Query.Types.html#buildSqlQuery"><span class="hs-identifier hs-var">buildSqlQuery</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><span class="hs-string">&quot;t&quot;</span></span><span> </span><span class="annot"><span class="annottext">Q be db QBaseScope res
</span><a href="#local-6989586621679474018"><span class="hs-identifier hs-var">q</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span>
</span><span id="line-168"></span><span class="hs-comment">-- | Convenience function to generate a 'SqlSelect' that looks up a table row</span><span>
</span><span id="line-169"></span><span class="hs-comment">--   given a primary key.</span><span>
</span><span id="line-170"></span><span id="local-6989586621679474007"><span id="local-6989586621679474008"><span id="local-6989586621679474009"><span class="annot"><a href="Database.Beam.Query.html#lookup_"><span class="hs-identifier hs-type">lookup_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Database"><span class="hs-identifier hs-type">Database</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474009"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474008"><span class="hs-identifier hs-type">db</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Table"><span class="hs-identifier hs-type">Table</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474007"><span class="hs-identifier hs-type">table</span></a></span><span>
</span><span id="line-171"></span><span>
</span><span id="line-172"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474009"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Types.html#HasQBuilder"><span class="hs-identifier hs-type">HasQBuilder</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474009"><span class="hs-identifier hs-type">be</span></a></span><span>
</span><span id="line-173"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Combinators.html#SqlValableTable"><span class="hs-identifier hs-type">SqlValableTable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474009"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474007"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-174"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#HasTableEquality"><span class="hs-identifier hs-type">HasTableEquality</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474009"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474007"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-175"></span><span>           </span><span class="hs-special">)</span><span>
</span><span id="line-176"></span><span>        </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#DatabaseEntity"><span class="hs-identifier hs-type">DatabaseEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474009"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474008"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#TableEntity"><span class="hs-identifier hs-type">TableEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474007"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474007"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span>
</span><span id="line-178"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlSelect"><span class="hs-identifier hs-type">SqlSelect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474009"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679474007"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-179"></span><span id="lookup_"><span class="annot"><span class="annottext">lookup_ :: DatabaseEntity be db (TableEntity table)
-&gt; PrimaryKey table Identity -&gt; SqlSelect be (table Identity)
</span><a href="Database.Beam.Query.html#lookup_"><span class="hs-identifier hs-var hs-var">lookup_</span></a></span></span><span> </span><span id="local-6989586621679474006"><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity table)
</span><a href="#local-6989586621679474006"><span class="hs-identifier hs-var">tbl</span></a></span></span><span> </span><span id="local-6989586621679474005"><span class="annot"><span class="annottext">PrimaryKey table Identity
</span><a href="#local-6989586621679474005"><span class="hs-identifier hs-var">tblKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-180"></span><span>  </span><span class="annot"><span class="annottext">Q be db QBaseScope (table (QExpr be QBaseScope))
-&gt; SqlSelect be (QExprToIdentity (table (QExpr be QBaseScope)))
forall be (db :: (* -&gt; *) -&gt; *) res.
(BeamSqlBackend be, HasQBuilder be, Projectible be res) =&gt;
Q be db QBaseScope res -&gt; SqlSelect be (QExprToIdentity res)
</span><a href="Database.Beam.Query.html#select"><span class="hs-identifier hs-var">select</span></a></span><span> </span><span class="annot"><span class="annottext">(Q be db QBaseScope (table (QExpr be QBaseScope))
 -&gt; SqlSelect be (QExprToIdentity (table (QExpr be QBaseScope))))
-&gt; Q be db QBaseScope (table (QExpr be QBaseScope))
-&gt; SqlSelect be (QExprToIdentity (table (QExpr be QBaseScope)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-181"></span><span>  </span><span class="annot"><span class="annottext">(table (QExpr be QBaseScope) -&gt; QExpr be QBaseScope Bool)
-&gt; Q be db QBaseScope (table (QExpr be QBaseScope))
-&gt; Q be db QBaseScope (table (QExpr be QBaseScope))
forall r be (db :: (* -&gt; *) -&gt; *) s.
BeamSqlBackend be =&gt;
(r -&gt; QExpr be s Bool) -&gt; Q be db s r -&gt; Q be db s r
</span><a href="Database.Beam.Query.Combinators.html#filter_"><span class="hs-identifier hs-var">filter_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679474003"><span class="annot"><span class="annottext">table (QExpr be QBaseScope)
</span><a href="#local-6989586621679474003"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">table (QExpr be QBaseScope)
-&gt; PrimaryKey table (QExpr be QBaseScope)
forall (t :: (* -&gt; *) -&gt; *) (f :: * -&gt; *).
Table t =&gt;
t f -&gt; PrimaryKey t f
</span><a href="Database.Beam.Schema.Tables.html#pk"><span class="hs-identifier hs-var">pk</span></a></span><span> </span><span class="annot"><span class="annottext">table (QExpr be QBaseScope)
</span><a href="#local-6989586621679474003"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">PrimaryKey table (QExpr be QBaseScope)
-&gt; PrimaryKey table (QExpr be QBaseScope)
-&gt; QExpr be QBaseScope Bool
forall (expr :: * -&gt; *) a. SqlEq expr a =&gt; a -&gt; a -&gt; expr Bool
</span><a href="Database.Beam.Query.Ord.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">HaskellLiteralForQExpr (PrimaryKey table (QExpr be QBaseScope))
-&gt; PrimaryKey table (QExpr be QBaseScope)
forall a. SqlValable a =&gt; HaskellLiteralForQExpr a -&gt; a
</span><a href="Database.Beam.Query.Combinators.html#val_"><span class="hs-identifier hs-var">val_</span></a></span><span> </span><span class="annot"><span class="annottext">PrimaryKey table Identity
HaskellLiteralForQExpr (PrimaryKey table (QExpr be QBaseScope))
</span><a href="#local-6989586621679474005"><span class="hs-identifier hs-var">tblKey</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Q be db QBaseScope (table (QExpr be QBaseScope))
 -&gt; Q be db QBaseScope (table (QExpr be QBaseScope)))
-&gt; Q be db QBaseScope (table (QExpr be QBaseScope))
-&gt; Q be db QBaseScope (table (QExpr be QBaseScope))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-182"></span><span>  </span><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity table)
-&gt; Q be db QBaseScope (table (QExpr be QBaseScope))
forall be (db :: (* -&gt; *) -&gt; *) (table :: (* -&gt; *) -&gt; *) s.
(Database be db, BeamSqlBackend be) =&gt;
DatabaseEntity be db (TableEntity table)
-&gt; Q be db s (table (QExpr be s))
</span><a href="Database.Beam.Query.Combinators.html#all_"><span class="hs-identifier hs-var">all_</span></a></span><span> </span><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity table)
</span><a href="#local-6989586621679474006"><span class="hs-identifier hs-var">tbl</span></a></span><span>
</span><span id="line-183"></span><span>
</span><span id="line-184"></span><span class="hs-comment">-- | Run a 'SqlSelect' in a 'MonadBeam' and get the results as a list</span><span>
</span><span id="line-185"></span><span id="local-6989586621679473996"><span id="local-6989586621679473997"><span id="local-6989586621679473998"><span class="annot"><a href="Database.Beam.Query.html#runSelectReturningList"><span class="hs-identifier hs-type">runSelectReturningList</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-186"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Backend.SQL.html#MonadBeam"><span class="hs-identifier hs-type">MonadBeam</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473998"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473997"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473998"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.Row.html#FromBackendRow"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473998"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473996"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-187"></span><span>  </span><span class="annot"><a href="Database.Beam.Query.html#SqlSelect"><span class="hs-identifier hs-type">SqlSelect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473998"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473996"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679473997"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="#local-6989586621679473996"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">]</span></span></span></span><span>
</span><span id="line-188"></span><span id="runSelectReturningList"><span class="annot"><span class="annottext">runSelectReturningList :: SqlSelect be a -&gt; m [a]
</span><a href="Database.Beam.Query.html#runSelectReturningList"><span class="hs-identifier hs-var hs-var">runSelectReturningList</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.html#SqlSelect"><span class="hs-identifier hs-type">SqlSelect</span></a></span><span> </span><span id="local-6989586621679473995"><span class="annot"><span class="annottext">BeamSqlBackendSelectSyntax be
</span><a href="#local-6989586621679473995"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-189"></span><span>  </span><span class="annot"><span class="annottext">BeamSqlBackendSyntax be -&gt; m [a]
forall be (m :: * -&gt; *) x.
(MonadBeam be m, FromBackendRow be x) =&gt;
BeamSqlBackendSyntax be -&gt; m [x]
</span><a href="Database.Beam.Backend.SQL.html#runReturningList"><span class="hs-identifier hs-var">runReturningList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BeamSqlBackendSelectSyntax be -&gt; BeamSqlBackendSyntax be
forall cmd. IsSql92Syntax cmd =&gt; Sql92SelectSyntax cmd -&gt; cmd
</span><a href="Database.Beam.Backend.SQL.SQL92.html#selectCmd"><span class="hs-identifier hs-var">selectCmd</span></a></span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendSelectSyntax be
</span><a href="#local-6989586621679473995"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-190"></span><span>
</span><span id="line-191"></span><span class="hs-comment">-- | Run a 'SqlSelect' in a 'MonadBeam' and get the unique result, if there is</span><span>
</span><span id="line-192"></span><span class="hs-comment">--   one. Both no results as well as more than one result cause this to return</span><span>
</span><span id="line-193"></span><span class="hs-comment">--   'Nothing'.</span><span>
</span><span id="line-194"></span><span id="local-6989586621679473990"><span id="local-6989586621679473991"><span id="local-6989586621679473992"><span class="annot"><a href="Database.Beam.Query.html#runSelectReturningOne"><span class="hs-identifier hs-type">runSelectReturningOne</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-195"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Backend.SQL.html#MonadBeam"><span class="hs-identifier hs-type">MonadBeam</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473992"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473991"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473992"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.Row.html#FromBackendRow"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473992"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473990"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-196"></span><span>  </span><span class="annot"><a href="Database.Beam.Query.html#SqlSelect"><span class="hs-identifier hs-type">SqlSelect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473992"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473990"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679473991"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473990"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-197"></span><span id="runSelectReturningOne"><span class="annot"><span class="annottext">runSelectReturningOne :: SqlSelect be a -&gt; m (Maybe a)
</span><a href="Database.Beam.Query.html#runSelectReturningOne"><span class="hs-identifier hs-var hs-var">runSelectReturningOne</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.html#SqlSelect"><span class="hs-identifier hs-type">SqlSelect</span></a></span><span> </span><span id="local-6989586621679473989"><span class="annot"><span class="annottext">BeamSqlBackendSelectSyntax be
</span><a href="#local-6989586621679473989"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-198"></span><span>  </span><span class="annot"><span class="annottext">BeamSqlBackendSyntax be -&gt; m (Maybe a)
forall be (m :: * -&gt; *) x.
(MonadBeam be m, FromBackendRow be x) =&gt;
BeamSqlBackendSyntax be -&gt; m (Maybe x)
</span><a href="Database.Beam.Backend.SQL.html#runReturningOne"><span class="hs-identifier hs-var">runReturningOne</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BeamSqlBackendSelectSyntax be -&gt; BeamSqlBackendSyntax be
forall cmd. IsSql92Syntax cmd =&gt; Sql92SelectSyntax cmd -&gt; cmd
</span><a href="Database.Beam.Backend.SQL.SQL92.html#selectCmd"><span class="hs-identifier hs-var">selectCmd</span></a></span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendSelectSyntax be
</span><a href="#local-6989586621679473989"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-199"></span><span>
</span><span id="line-200"></span><span class="hs-comment">-- | Run a 'SqlSelect' in a 'MonadBeam' and get the first result, if there is</span><span>
</span><span id="line-201"></span><span class="hs-comment">--   one.</span><span>
</span><span id="line-202"></span><span class="hs-comment">--   This is not guaranteed to automatically limit the query to one result.</span><span>
</span><span id="line-203"></span><span id="local-6989586621679473985"><span id="local-6989586621679473986"><span id="local-6989586621679473987"><span class="annot"><a href="Database.Beam.Query.html#runSelectReturningFirst"><span class="hs-identifier hs-type">runSelectReturningFirst</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-204"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Backend.SQL.html#MonadBeam"><span class="hs-identifier hs-type">MonadBeam</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473987"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473986"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473987"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.Row.html#FromBackendRow"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473987"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473985"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-205"></span><span>  </span><span class="annot"><a href="Database.Beam.Query.html#SqlSelect"><span class="hs-identifier hs-type">SqlSelect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473987"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473985"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679473986"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473985"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-206"></span><span id="runSelectReturningFirst"><span class="annot"><span class="annottext">runSelectReturningFirst :: SqlSelect be a -&gt; m (Maybe a)
</span><a href="Database.Beam.Query.html#runSelectReturningFirst"><span class="hs-identifier hs-var hs-var">runSelectReturningFirst</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.html#SqlSelect"><span class="hs-identifier hs-type">SqlSelect</span></a></span><span> </span><span id="local-6989586621679473984"><span class="annot"><span class="annottext">BeamSqlBackendSelectSyntax be
</span><a href="#local-6989586621679473984"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-207"></span><span>  </span><span class="annot"><span class="annottext">BeamSqlBackendSyntax be -&gt; m (Maybe a)
forall be (m :: * -&gt; *) x.
(MonadBeam be m, FromBackendRow be x) =&gt;
BeamSqlBackendSyntax be -&gt; m (Maybe x)
</span><a href="Database.Beam.Backend.SQL.html#runReturningFirst"><span class="hs-identifier hs-var">runReturningFirst</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BeamSqlBackendSelectSyntax be -&gt; BeamSqlBackendSyntax be
forall cmd. IsSql92Syntax cmd =&gt; Sql92SelectSyntax cmd -&gt; cmd
</span><a href="Database.Beam.Backend.SQL.SQL92.html#selectCmd"><span class="hs-identifier hs-var">selectCmd</span></a></span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendSelectSyntax be
</span><a href="#local-6989586621679473984"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span>
</span><span id="line-209"></span><span class="hs-comment">-- | Use a special debug syntax to print out an ANSI Standard @SELECT@ statement</span><span>
</span><span id="line-210"></span><span class="hs-comment">--   that may be generated for a given 'Q'.</span><span>
</span><span id="line-211"></span><span id="local-6989586621679473981"><span id="local-6989586621679473982"><span class="annot"><a href="Database.Beam.Query.html#dumpSqlSelect"><span class="hs-identifier hs-type">dumpSqlSelect</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#Projectible"><span class="hs-identifier hs-type">Projectible</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Backend.SQL.html#MockSqlBackend"><span class="hs-identifier hs-type">MockSqlBackend</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.Builder.html#SqlSyntaxBuilder"><span class="hs-identifier hs-type">SqlSyntaxBuilder</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679473982"><span class="hs-identifier hs-type">res</span></a></span><span>
</span><span id="line-212"></span><span>              </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#Q"><span class="hs-identifier hs-type">Q</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Backend.SQL.html#MockSqlBackend"><span class="hs-identifier hs-type">MockSqlBackend</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.Builder.html#SqlSyntaxBuilder"><span class="hs-identifier hs-type">SqlSyntaxBuilder</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679473981"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Query.html#QBaseScope"><span class="hs-identifier hs-type">QBaseScope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473982"><span class="hs-identifier hs-type">res</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-213"></span><span id="dumpSqlSelect"><span class="annot"><span class="annottext">dumpSqlSelect :: Q (MockSqlBackend SqlSyntaxBuilder) db QBaseScope res -&gt; IO ()
</span><a href="Database.Beam.Query.html#dumpSqlSelect"><span class="hs-identifier hs-var hs-var">dumpSqlSelect</span></a></span></span><span> </span><span id="local-6989586621679473980"><span class="annot"><span class="annottext">Q (MockSqlBackend SqlSyntaxBuilder) db QBaseScope res
</span><a href="#local-6989586621679473980"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-214"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlSelect"><span class="hs-identifier hs-type">SqlSelect</span></a></span><span> </span><span id="local-6989586621679473979"><span class="annot"><span class="annottext">BeamSqlBackendSelectSyntax (MockSqlBackend SqlSyntaxBuilder)
</span><a href="#local-6989586621679473979"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Q (MockSqlBackend SqlSyntaxBuilder) db QBaseScope res
-&gt; SqlSelect
     (MockSqlBackend SqlSyntaxBuilder) (QExprToIdentity res)
forall be (db :: (* -&gt; *) -&gt; *) res.
(BeamSqlBackend be, HasQBuilder be, Projectible be res) =&gt;
Q be db QBaseScope res -&gt; SqlSelect be (QExprToIdentity res)
</span><a href="Database.Beam.Query.html#select"><span class="hs-identifier hs-var">select</span></a></span><span> </span><span class="annot"><span class="annottext">Q (MockSqlBackend SqlSyntaxBuilder) db QBaseScope res
</span><a href="#local-6989586621679473980"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-215"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO ()
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">putStrLn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SqlSyntaxBuilder -&gt; String
</span><a href="Database.Beam.Backend.SQL.Builder.html#renderSql"><span class="hs-identifier hs-var">renderSql</span></a></span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendSelectSyntax (MockSqlBackend SqlSyntaxBuilder)
SqlSyntaxBuilder
</span><a href="#local-6989586621679473979"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-216"></span><span>
</span><span id="line-217"></span><span class="hs-comment">-- * INSERT</span><span>
</span><span id="line-218"></span><span>
</span><span id="line-219"></span><span class="hs-comment">-- | Represents a SQL @INSERT@ command that has not yet been run</span><span>
</span><span id="line-220"></span><span class="hs-keyword">data</span><span> </span><span id="SqlInsert"><span class="annot"><a href="Database.Beam.Query.html#SqlInsert"><span class="hs-identifier hs-var">SqlInsert</span></a></span></span><span> </span><span id="local-6989586621679474433"><span class="annot"><a href="#local-6989586621679474433"><span class="hs-identifier hs-type">be</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679474432"><span class="annot"><a href="#local-6989586621679474432"><span class="hs-identifier hs-type">table</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-221"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="SqlInsert"><span class="annot"><a href="Database.Beam.Query.html#SqlInsert"><span class="hs-identifier hs-var">SqlInsert</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#TableSettings"><span class="hs-identifier hs-type">TableSettings</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474432"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackendInsertSyntax"><span class="hs-identifier hs-type">BeamSqlBackendInsertSyntax</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474433"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SqlInsertNoRows"><span class="annot"><a href="Database.Beam.Query.html#SqlInsertNoRows"><span class="hs-identifier hs-var">SqlInsertNoRows</span></a></span></span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span class="hs-comment">-- | Generate a 'SqlInsert' over only certain fields of a table</span><span>
</span><span id="line-225"></span><span id="local-6989586621679474367"><span id="local-6989586621679474368"><span id="local-6989586621679474369"><span id="local-6989586621679474370"><span id="local-6989586621679474371"><span class="annot"><a href="Database.Beam.Query.html#insertOnly"><span class="hs-identifier hs-type">insertOnly</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474371"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#ProjectibleWithPredicate"><span class="hs-identifier hs-type">ProjectibleWithPredicate</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#AnyType"><span class="hs-identifier hs-type">AnyType</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Types.html#QExprToField"><span class="hs-identifier hs-type">QExprToField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474370"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-226"></span><span>           </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#DatabaseEntity"><span class="hs-identifier hs-type">DatabaseEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474371"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474369"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#TableEntity"><span class="hs-identifier hs-type">TableEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474368"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-227"></span><span>              </span><span class="hs-comment">-- ^ Table to insert into</span><span>
</span><span id="line-228"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679474368"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QField"><span class="hs-identifier hs-type">QField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474367"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Types.html#QExprToField"><span class="hs-identifier hs-type">QExprToField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474370"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-229"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlInsertValues"><span class="hs-identifier hs-type">SqlInsertValues</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474371"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474370"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-230"></span><span>              </span><span class="hs-comment">-- ^ Values to insert. See 'insertValues', 'insertExpressions', 'insertData', and 'insertFrom' for possibilities.</span><span>
</span><span id="line-231"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlInsert"><span class="hs-identifier hs-type">SqlInsert</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474371"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474368"><span class="hs-identifier hs-type">table</span></a></span></span></span></span></span></span><span>
</span><span id="line-232"></span><span id="insertOnly"><span class="annot"><span class="annottext">insertOnly :: DatabaseEntity be db (TableEntity table)
-&gt; (table (QField s) -&gt; QExprToField r)
-&gt; SqlInsertValues be r
-&gt; SqlInsert be table
</span><a href="Database.Beam.Query.html#insertOnly"><span class="hs-identifier hs-var hs-var">insertOnly</span></a></span></span><span> </span><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity table)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">table (QField s) -&gt; QExprToField r
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">SqlInsertValues be r
</span><a href="Database.Beam.Query.html#SqlInsertValuesEmpty"><span class="hs-identifier hs-var">SqlInsertValuesEmpty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SqlInsert be table
forall be (table :: (* -&gt; *) -&gt; *). SqlInsert be table
</span><a href="Database.Beam.Query.html#SqlInsertNoRows"><span class="hs-identifier hs-var">SqlInsertNoRows</span></a></span><span>
</span><span id="line-233"></span><span class="annot"><a href="Database.Beam.Query.html#insertOnly"><span class="hs-identifier hs-var">insertOnly</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#DatabaseEntity"><span class="hs-identifier hs-type">DatabaseEntity</span></a></span><span> </span><span id="local-6989586621679473972"><span class="annot"><span class="annottext">dt :: DatabaseEntityDescriptor be (TableEntity table)
</span><a href="#local-6989586621679473972"><span class="hs-identifier hs-var">dt</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#DatabaseTable"><span class="hs-identifier hs-type">DatabaseTable</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679473970"><span class="annot"><span class="annottext">table (QField s) -&gt; QExprToField r
</span><a href="#local-6989586621679473970"><span class="hs-identifier hs-var">mkProj</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.html#SqlInsertValues"><span class="hs-identifier hs-type">SqlInsertValues</span></a></span><span> </span><span id="local-6989586621679473968"><span class="annot"><span class="annottext">BeamSqlBackendInsertValuesSyntax be
</span><a href="#local-6989586621679473968"><span class="hs-identifier hs-var">vs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-234"></span><span>    </span><span class="annot"><span class="annottext">TableSettings table
-&gt; BeamSqlBackendInsertSyntax be -&gt; SqlInsert be table
forall be (table :: (* -&gt; *) -&gt; *).
TableSettings table
-&gt; BeamSqlBackendInsertSyntax be -&gt; SqlInsert be table
</span><a href="Database.Beam.Query.html#SqlInsert"><span class="hs-identifier hs-var">SqlInsert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DatabaseEntityDescriptor be (TableEntity table)
-&gt; TableSettings table
forall be (tbl :: (* -&gt; *) -&gt; *).
DatabaseEntityDescriptor be (TableEntity tbl) -&gt; TableSettings tbl
</span><a href="Database.Beam.Schema.Tables.html#dbTableSettings"><span class="hs-identifier hs-var hs-var">dbTableSettings</span></a></span><span> </span><span class="annot"><span class="annottext">DatabaseEntityDescriptor be (TableEntity table)
</span><a href="#local-6989586621679473972"><span class="hs-identifier hs-var">dt</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sql92InsertTableNameSyntax (BeamSqlBackendInsertSyntax be)
-&gt; [TablePrefix]
-&gt; BeamSqlBackendInsertValuesSyntax be
-&gt; BeamSqlBackendInsertSyntax be
forall insert.
IsSql92InsertSyntax insert =&gt;
Sql92InsertTableNameSyntax insert
-&gt; [TablePrefix] -&gt; Sql92InsertValuesSyntax insert -&gt; insert
</span><a href="Database.Beam.Backend.SQL.SQL92.html#insertStmt"><span class="hs-identifier hs-var">insertStmt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DatabaseEntityDescriptor be (TableEntity table)
-&gt; Sql92InsertTableNameSyntax (BeamSqlBackendInsertSyntax be)
forall name be (tbl :: (* -&gt; *) -&gt; *).
IsSql92TableNameSyntax name =&gt;
DatabaseEntityDescriptor be (TableEntity tbl) -&gt; name
</span><a href="Database.Beam.Query.Internal.html#tableNameFromEntity"><span class="hs-identifier hs-var">tableNameFromEntity</span></a></span><span> </span><span class="annot"><span class="annottext">DatabaseEntityDescriptor be (TableEntity table)
</span><a href="#local-6989586621679473972"><span class="hs-identifier hs-var">dt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TablePrefix]
</span><a href="#local-6989586621679473964"><span class="hs-identifier hs-var">proj</span></a></span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendInsertValuesSyntax be
</span><a href="#local-6989586621679473968"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-235"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-236"></span><span>    </span><span id="local-6989586621679473963"><span class="annot"><span class="annottext">tblFields :: table (QField s)
</span><a href="#local-6989586621679473963"><span class="hs-identifier hs-var hs-var">tblFields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall a.
 Columnar' (TableField table) a -&gt; Columnar' (QField s) a)
-&gt; TableSettings table -&gt; table (QField s)
forall (table :: (* -&gt; *) -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *).
Beamable table =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a) -&gt; table f -&gt; table g
</span><a href="Database.Beam.Schema.Tables.html#changeBeamRep"><span class="hs-identifier hs-var">changeBeamRep</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Columnar%27"><span class="hs-identifier hs-type">Columnar'</span></a></span><span> </span><span id="local-6989586621679473960"><span class="annot"><span class="annottext">Columnar (TableField table) a
</span><a href="#local-6989586621679473960"><span class="hs-identifier hs-var">fd</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Columnar (QField s) a -&gt; Columnar' (QField s) a
forall (f :: * -&gt; *) a. Columnar f a -&gt; Columnar' f a
</span><a href="Database.Beam.Schema.Tables.html#Columnar%27"><span class="hs-identifier hs-var">Columnar'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; TablePrefix -&gt; TablePrefix -&gt; QField s a
forall s ty. Bool -&gt; TablePrefix -&gt; TablePrefix -&gt; QField s ty
</span><a href="Database.Beam.Query.Internal.html#QField"><span class="hs-identifier hs-var">QField</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">False</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DatabaseEntityDescriptor be (TableEntity table) -&gt; TablePrefix
forall be (tbl :: (* -&gt; *) -&gt; *).
DatabaseEntityDescriptor be (TableEntity tbl) -&gt; TablePrefix
</span><a href="Database.Beam.Schema.Tables.html#dbTableCurrentName"><span class="hs-identifier hs-var hs-var">dbTableCurrentName</span></a></span><span> </span><span class="annot"><span class="annottext">DatabaseEntityDescriptor be (TableEntity table)
</span><a href="#local-6989586621679473972"><span class="hs-identifier hs-var">dt</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TableField table a
Columnar (TableField table) a
</span><a href="#local-6989586621679473960"><span class="hs-identifier hs-var">fd</span></a></span><span> </span><span class="annot"><span class="annottext">TableField table a
-&gt; Getting TablePrefix (TableField table a) TablePrefix
-&gt; TablePrefix
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="../../../../microlens/html/src"><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting TablePrefix (TableField table a) TablePrefix
forall (table :: (* -&gt; *) -&gt; *) ty.
Lens' (TableField table ty) TablePrefix
</span><a href="Database.Beam.Schema.Tables.html#fieldName"><span class="hs-identifier hs-var">fieldName</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-237"></span><span>                              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DatabaseEntityDescriptor be (TableEntity table)
-&gt; TableSettings table
forall be (tbl :: (* -&gt; *) -&gt; *).
DatabaseEntityDescriptor be (TableEntity tbl) -&gt; TableSettings tbl
</span><a href="Database.Beam.Schema.Tables.html#dbTableSettings"><span class="hs-identifier hs-var hs-var">dbTableSettings</span></a></span><span> </span><span class="annot"><span class="annottext">DatabaseEntityDescriptor be (TableEntity table)
</span><a href="#local-6989586621679473972"><span class="hs-identifier hs-var">dt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-238"></span><span>    </span><span id="local-6989586621679473964"><span class="annot"><span class="annottext">proj :: [TablePrefix]
</span><a href="#local-6989586621679473964"><span class="hs-identifier hs-var hs-var">proj</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Writer [TablePrefix] (QExprToField r) -&gt; [TablePrefix]
forall w a. Writer w a -&gt; w
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">execWriter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy AnyType
-&gt; Proxy ((), TablePrefix)
-&gt; (forall context.
    AnyType context =&gt;
    Proxy context
    -&gt; Proxy ()
    -&gt; TablePrefix
    -&gt; WriterT [TablePrefix] Identity TablePrefix)
-&gt; QExprToField r
-&gt; Writer [TablePrefix] (QExprToField r)
forall (contextPredicate :: * -&gt; Constraint) be res a
       (m :: * -&gt; *).
(ProjectibleWithPredicate contextPredicate be res a, Monad m) =&gt;
Proxy contextPredicate
-&gt; Proxy (be, res)
-&gt; (forall context.
    contextPredicate context =&gt;
    Proxy context -&gt; Proxy be -&gt; res -&gt; m res)
-&gt; a
-&gt; m a
</span><a href="Database.Beam.Query.Internal.html#project%27"><span class="hs-identifier hs-var">project'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy AnyType
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Database.Beam.Query.Internal.html#AnyType"><span class="hs-identifier hs-type">AnyType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy ((), TablePrefix)
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-239"></span><span>                                </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Proxy context
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Proxy ()
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679473953"><span class="annot"><span class="annottext">TablePrefix
</span><a href="#local-6989586621679473953"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[TablePrefix] -&gt; WriterT [TablePrefix] Identity ()
forall w (m :: * -&gt; *). MonadWriter w m =&gt; w -&gt; m ()
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">tell</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">TablePrefix
</span><a href="#local-6989586621679473953"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">WriterT [TablePrefix] Identity ()
-&gt; WriterT [TablePrefix] Identity TablePrefix
-&gt; WriterT [TablePrefix] Identity TablePrefix
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix -&gt; WriterT [TablePrefix] Identity TablePrefix
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><a href="#local-6989586621679473953"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-240"></span><span>                                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">table (QField s) -&gt; QExprToField r
</span><a href="#local-6989586621679473970"><span class="hs-identifier hs-var">mkProj</span></a></span><span> </span><span class="annot"><span class="annottext">table (QField s)
</span><a href="#local-6989586621679473963"><span class="hs-identifier hs-var">tblFields</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-241"></span><span>
</span><span id="line-242"></span><span class="hs-comment">-- | Generate a 'SqlInsert' given a table and a source of values.</span><span>
</span><span id="line-243"></span><span id="local-6989586621679473948"><span id="local-6989586621679473949"><span id="local-6989586621679473950"><span id="local-6989586621679473951"><span class="annot"><a href="Database.Beam.Query.html#insert"><span class="hs-identifier hs-type">insert</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473951"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#ProjectibleWithPredicate"><span class="hs-identifier hs-type">ProjectibleWithPredicate</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#AnyType"><span class="hs-identifier hs-type">AnyType</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679473950"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QField"><span class="hs-identifier hs-type">QField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473949"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-244"></span><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#DatabaseEntity"><span class="hs-identifier hs-type">DatabaseEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473951"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473948"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#TableEntity"><span class="hs-identifier hs-type">TableEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473950"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-245"></span><span>          </span><span class="hs-comment">-- ^ Table to insert into</span><span>
</span><span id="line-246"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlInsertValues"><span class="hs-identifier hs-type">SqlInsertValues</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473951"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679473950"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473951"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473949"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-247"></span><span>          </span><span class="hs-comment">-- ^ Values to insert. See 'insertValues', 'insertExpressions', and 'insertFrom' for possibilities.</span><span>
</span><span id="line-248"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlInsert"><span class="hs-identifier hs-type">SqlInsert</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473951"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473950"><span class="hs-identifier hs-type">table</span></a></span></span></span></span></span><span>
</span><span id="line-249"></span><span id="insert"><span class="annot"><span class="annottext">insert :: DatabaseEntity be db (TableEntity table)
-&gt; SqlInsertValues be (table (QExpr be s)) -&gt; SqlInsert be table
</span><a href="Database.Beam.Query.html#insert"><span class="hs-identifier hs-var hs-var">insert</span></a></span></span><span> </span><span id="local-6989586621679473947"><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity table)
</span><a href="#local-6989586621679473947"><span class="hs-identifier hs-var">tbl</span></a></span></span><span> </span><span id="local-6989586621679473946"><span class="annot"><span class="annottext">SqlInsertValues be (table (QExpr be s))
</span><a href="#local-6989586621679473946"><span class="hs-identifier hs-var">values</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity table)
-&gt; (table (QField s) -&gt; QExprToField (table (QExpr be s)))
-&gt; SqlInsertValues be (table (QExpr be s))
-&gt; SqlInsert be table
forall be r (db :: (* -&gt; *) -&gt; *) (table :: (* -&gt; *) -&gt; *) s.
(BeamSqlBackend be,
 ProjectibleWithPredicate
   AnyType () TablePrefix (QExprToField r)) =&gt;
DatabaseEntity be db (TableEntity table)
-&gt; (table (QField s) -&gt; QExprToField r)
-&gt; SqlInsertValues be r
-&gt; SqlInsert be table
</span><a href="Database.Beam.Query.html#insertOnly"><span class="hs-identifier hs-var">insertOnly</span></a></span><span> </span><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity table)
</span><a href="#local-6989586621679473947"><span class="hs-identifier hs-var">tbl</span></a></span><span> </span><span class="annot"><span class="annottext">table (QField s) -&gt; QExprToField (table (QExpr be s))
forall a. a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">id</span></a></span><span> </span><span class="annot"><span class="annottext">SqlInsertValues be (table (QExpr be s))
</span><a href="#local-6989586621679473946"><span class="hs-identifier hs-var">values</span></a></span><span>
</span><span id="line-250"></span><span>
</span><span id="line-251"></span><span class="hs-comment">-- | Run a 'SqlInsert' in a 'MonadBeam'</span><span>
</span><span id="line-252"></span><span id="local-6989586621679473942"><span id="local-6989586621679473943"><span id="local-6989586621679473944"><span class="annot"><a href="Database.Beam.Query.html#runInsert"><span class="hs-identifier hs-type">runInsert</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473944"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#MonadBeam"><span class="hs-identifier hs-type">MonadBeam</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473944"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473943"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-253"></span><span>          </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlInsert"><span class="hs-identifier hs-type">SqlInsert</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473944"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473942"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679473943"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-254"></span><span id="runInsert"><span class="annot"><span class="annottext">runInsert :: SqlInsert be table -&gt; m ()
</span><a href="Database.Beam.Query.html#runInsert"><span class="hs-identifier hs-var hs-var">runInsert</span></a></span></span><span> </span><span class="annot"><span class="annottext">SqlInsert be table
</span><a href="Database.Beam.Query.html#SqlInsertNoRows"><span class="hs-identifier hs-var">SqlInsertNoRows</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; m ()
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-255"></span><span class="annot"><a href="Database.Beam.Query.html#runInsert"><span class="hs-identifier hs-var">runInsert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.html#SqlInsert"><span class="hs-identifier hs-type">SqlInsert</span></a></span><span> </span><span class="annot"><span class="annottext">TableSettings table
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679473941"><span class="annot"><span class="annottext">BeamSqlBackendInsertSyntax be
</span><a href="#local-6989586621679473941"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendSyntax be -&gt; m ()
forall be (m :: * -&gt; *).
MonadBeam be m =&gt;
BeamSqlBackendSyntax be -&gt; m ()
</span><a href="Database.Beam.Backend.SQL.html#runNoReturn"><span class="hs-identifier hs-var">runNoReturn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BeamSqlBackendInsertSyntax be -&gt; BeamSqlBackendSyntax be
forall cmd. IsSql92Syntax cmd =&gt; Sql92InsertSyntax cmd -&gt; cmd
</span><a href="Database.Beam.Backend.SQL.SQL92.html#insertCmd"><span class="hs-identifier hs-var">insertCmd</span></a></span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendInsertSyntax be
</span><a href="#local-6989586621679473941"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-256"></span><span>
</span><span id="line-257"></span><span class="hs-comment">-- | Represents a source of values that can be inserted into a table shaped like</span><span>
</span><span id="line-258"></span><span class="hs-comment">--   'tbl'.</span><span>
</span><span id="line-259"></span><span class="hs-keyword">data</span><span> </span><span id="SqlInsertValues"><span class="annot"><a href="Database.Beam.Query.html#SqlInsertValues"><span class="hs-identifier hs-var">SqlInsertValues</span></a></span></span><span> </span><span id="local-6989586621679474355"><span class="annot"><a href="#local-6989586621679474355"><span class="hs-identifier hs-type">be</span></a></span></span><span> </span><span id="local-6989586621679474354"><span class="annot"><a href="#local-6989586621679474354"><span class="hs-identifier hs-type">proj</span></a></span></span><span>
</span><span id="line-260"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="SqlInsertValues"><span class="annot"><a href="Database.Beam.Query.html#SqlInsertValues"><span class="hs-identifier hs-var">SqlInsertValues</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackendInsertValuesSyntax"><span class="hs-identifier hs-type">BeamSqlBackendInsertValuesSyntax</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474355"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-261"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="SqlInsertValuesEmpty"><span class="annot"><a href="Database.Beam.Query.html#SqlInsertValuesEmpty"><span class="hs-identifier hs-var">SqlInsertValuesEmpty</span></a></span></span><span>
</span><span id="line-262"></span><span>
</span><span id="line-263"></span><span class="hs-comment">-- | Build a 'SqlInsertValues' from series of expressions in tables</span><span>
</span><span id="line-264"></span><span class="annot"><a href="Database.Beam.Query.html#insertExpressions"><span class="hs-identifier hs-type">insertExpressions</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679474337"><span class="annot"><a href="#local-6989586621679474337"><span class="hs-identifier hs-type">be</span></a></span></span><span> </span><span id="local-6989586621679474336"><span class="annot"><a href="#local-6989586621679474336"><span class="hs-identifier hs-type">table</span></a></span></span><span> </span><span id="local-6989586621679474335"><span class="annot"><a href="#local-6989586621679474335"><span class="hs-identifier hs-type">s</span></a></span></span><span>
</span><span id="line-265"></span><span>                   </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474337"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Beamable"><span class="hs-identifier hs-type">Beamable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474336"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-266"></span><span>                  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679474359"><span class="annot"><a href="#local-6989586621679474359"><span class="hs-identifier hs-type">s'</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="#local-6989586621679474336"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474337"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474359"><span class="hs-identifier hs-type">s'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-267"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlInsertValues"><span class="hs-identifier hs-type">SqlInsertValues</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474337"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679474336"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474337"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474335"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-268"></span><span id="insertExpressions"><span class="annot"><span class="annottext">insertExpressions :: (forall s'. [table (QExpr be s')])
-&gt; SqlInsertValues be (table (QExpr be s))
</span><a href="Database.Beam.Query.html#insertExpressions"><span class="hs-identifier hs-var hs-var">insertExpressions</span></a></span></span><span> </span><span id="local-6989586621679473938"><span class="annot"><span class="annottext">forall s'. [table (QExpr be s')]
</span><a href="#local-6989586621679473938"><span class="hs-identifier hs-var">tbls</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-269"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[[Sql92UpdateExpressionSyntax
    (Sql92UpdateSyntax (BeamSqlBackendSyntax be))]]
</span><a href="#local-6989586621679473937"><span class="hs-identifier hs-var">sqlExprs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-270"></span><span>    </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SqlInsertValues be (table (QExpr be s))
forall be proj. SqlInsertValues be proj
</span><a href="Database.Beam.Query.html#SqlInsertValuesEmpty"><span class="hs-identifier hs-var">SqlInsertValuesEmpty</span></a></span><span>
</span><span id="line-271"></span><span>    </span><span class="annot"><span class="annottext">[[Sql92UpdateExpressionSyntax
    (Sql92UpdateSyntax (BeamSqlBackendSyntax be))]]
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendInsertValuesSyntax be
-&gt; SqlInsertValues be (table (QExpr be s))
forall be proj.
BeamSqlBackendInsertValuesSyntax be -&gt; SqlInsertValues be proj
</span><a href="Database.Beam.Query.html#SqlInsertValues"><span class="hs-identifier hs-var">SqlInsertValues</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[[Sql92InsertValuesExpressionSyntax
    (BeamSqlBackendInsertValuesSyntax be)]]
-&gt; BeamSqlBackendInsertValuesSyntax be
forall insertValues.
IsSql92InsertValuesSyntax insertValues =&gt;
[[Sql92InsertValuesExpressionSyntax insertValues]] -&gt; insertValues
</span><a href="Database.Beam.Backend.SQL.SQL92.html#insertSqlExpressions"><span class="hs-identifier hs-var">insertSqlExpressions</span></a></span><span> </span><span class="annot"><span class="annottext">[[Sql92UpdateExpressionSyntax
    (Sql92UpdateSyntax (BeamSqlBackendSyntax be))]]
[[Sql92InsertValuesExpressionSyntax
    (BeamSqlBackendInsertValuesSyntax be)]]
</span><a href="#local-6989586621679473937"><span class="hs-identifier hs-var">sqlExprs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-272"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-273"></span><span>      </span><span id="local-6989586621679473937"><span class="annot"><span class="annottext">sqlExprs :: [[Sql92UpdateExpressionSyntax
    (Sql92UpdateSyntax (BeamSqlBackendSyntax be))]]
</span><a href="#local-6989586621679473937"><span class="hs-identifier hs-var hs-var">sqlExprs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(table (QExpr be Any)
 -&gt; [Sql92UpdateExpressionSyntax
       (Sql92UpdateSyntax (BeamSqlBackendSyntax be))])
-&gt; [table (QExpr be Any)]
-&gt; [[Sql92UpdateExpressionSyntax
       (Sql92UpdateSyntax (BeamSqlBackendSyntax be))]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">table (QExpr be Any)
-&gt; [Sql92UpdateExpressionSyntax
      (Sql92UpdateSyntax (BeamSqlBackendSyntax be))]
forall s'.
table (QExpr be s') -&gt; [BeamSqlBackendExpressionSyntax be]
</span><a href="#local-6989586621679473935"><span class="hs-identifier hs-var">mkSqlExprs</span></a></span><span> </span><span class="annot"><span class="annottext">[table (QExpr be Any)]
forall s'. [table (QExpr be s')]
</span><a href="#local-6989586621679473938"><span class="hs-identifier hs-var">tbls</span></a></span><span>
</span><span id="line-274"></span><span>
</span><span id="line-275"></span><span>      </span><span class="annot"><a href="#local-6989586621679473935"><span class="hs-identifier hs-type">mkSqlExprs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679474348"><span class="annot"><a href="#local-6989586621679474348"><span class="hs-identifier hs-type">s'</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679474336"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474337"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474348"><span class="hs-identifier hs-type">s'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackendExpressionSyntax"><span class="hs-identifier hs-type">BeamSqlBackendExpressionSyntax</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474337"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-276"></span><span>      </span><span id="local-6989586621679473935"><span class="annot"><span class="annottext">mkSqlExprs :: table (QExpr be s') -&gt; [BeamSqlBackendExpressionSyntax be]
</span><a href="#local-6989586621679473935"><span class="hs-identifier hs-var hs-var">mkSqlExprs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall a.
 Columnar' (QExpr be s') a
 -&gt; Sql92UpdateExpressionSyntax
      (Sql92UpdateSyntax (BeamSqlBackendSyntax be)))
-&gt; table (QExpr be s')
-&gt; [Sql92UpdateExpressionSyntax
      (Sql92UpdateSyntax (BeamSqlBackendSyntax be))]
forall (table :: (* -&gt; *) -&gt; *) (f :: * -&gt; *) b.
Beamable table =&gt;
(forall a. Columnar' f a -&gt; b) -&gt; table f -&gt; [b]
</span><a href="Database.Beam.Schema.Tables.html#allBeamValues"><span class="hs-identifier hs-var">allBeamValues</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Columnar%27"><span class="hs-identifier hs-type">Columnar'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span id="local-6989586621679473932"><span class="annot"><a href="#local-6989586621679473932"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TablePrefix -&gt; BeamSqlBackendExpressionSyntax be
</span><a href="#local-6989586621679473932"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><span class="hs-string">&quot;t&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-277"></span><span>
</span><span id="line-278"></span><span class="hs-comment">-- | Build a 'SqlInsertValues' from concrete table values</span><span>
</span><span id="line-279"></span><span class="annot"><a href="Database.Beam.Query.html#insertValues"><span class="hs-identifier hs-type">insertValues</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679473931"><span class="annot"><a href="#local-6989586621679473931"><span class="hs-identifier hs-type">be</span></a></span></span><span> </span><span id="local-6989586621679473930"><span class="annot"><a href="#local-6989586621679473930"><span class="hs-identifier hs-type">table</span></a></span></span><span> </span><span id="local-6989586621679473929"><span class="annot"><a href="#local-6989586621679473929"><span class="hs-identifier hs-type">s</span></a></span></span><span>
</span><span id="line-280"></span><span>              </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473931"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Beamable"><span class="hs-identifier hs-type">Beamable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473930"><span class="hs-identifier hs-type">table</span></a></span><span>
</span><span id="line-281"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#FieldsFulfillConstraint"><span class="hs-identifier hs-type">FieldsFulfillConstraint</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackendCanSerialize"><span class="hs-identifier hs-type">BeamSqlBackendCanSerialize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473931"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679473930"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-282"></span><span>             </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="#local-6989586621679473930"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-283"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlInsertValues"><span class="hs-identifier hs-type">SqlInsertValues</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473931"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679473930"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473931"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473929"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-284"></span><span id="insertValues"><span class="annot"><span class="annottext">insertValues :: [table Identity] -&gt; SqlInsertValues be (table (QExpr be s))
</span><a href="Database.Beam.Query.html#insertValues"><span class="hs-identifier hs-var hs-var">insertValues</span></a></span></span><span> </span><span id="local-6989586621679473926"><span class="annot"><span class="annottext">[table Identity]
</span><a href="#local-6989586621679473926"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s'. [table (QExpr be s')])
-&gt; SqlInsertValues be (table (QExpr be s))
forall be (table :: (* -&gt; *) -&gt; *) s.
(BeamSqlBackend be, Beamable table) =&gt;
(forall s'. [table (QExpr be s')])
-&gt; SqlInsertValues be (table (QExpr be s))
</span><a href="Database.Beam.Query.html#insertExpressions"><span class="hs-identifier hs-var">insertExpressions</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(table Identity -&gt; table (QExpr be s'))
-&gt; [table Identity] -&gt; [table (QExpr be s')]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">table Identity -&gt; table (QExpr be s')
forall a. SqlValable a =&gt; HaskellLiteralForQExpr a -&gt; a
</span><a href="Database.Beam.Query.Combinators.html#val_"><span class="hs-identifier hs-var">val_</span></a></span><span> </span><span class="annot"><span class="annottext">[table Identity]
</span><a href="#local-6989586621679473926"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679473925"><span class="annot"><a href="#local-6989586621679473925"><span class="hs-identifier hs-type">s'</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679473930"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473931"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473925"><span class="hs-identifier hs-type">s'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-285"></span><span>
</span><span id="line-286"></span><span class="hs-comment">-- | Build a 'SqlInsertValues' from arbitrarily shaped data containing expressions</span><span>
</span><span id="line-287"></span><span class="annot"><a href="Database.Beam.Query.html#insertData"><span class="hs-identifier hs-type">insertData</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679473924"><span class="annot"><a href="#local-6989586621679473924"><span class="hs-identifier hs-type">be</span></a></span></span><span> </span><span id="local-6989586621679473923"><span class="annot"><a href="#local-6989586621679473923"><span class="hs-identifier hs-type">r</span></a></span></span><span>
</span><span id="line-288"></span><span>            </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#Projectible"><span class="hs-identifier hs-type">Projectible</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473924"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473923"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473924"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-289"></span><span>           </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="#local-6989586621679473923"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlInsertValues"><span class="hs-identifier hs-type">SqlInsertValues</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473924"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473923"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-290"></span><span id="insertData"><span class="annot"><span class="annottext">insertData :: [r] -&gt; SqlInsertValues be r
</span><a href="Database.Beam.Query.html#insertData"><span class="hs-identifier hs-var hs-var">insertData</span></a></span></span><span> </span><span id="local-6989586621679473922"><span class="annot"><span class="annottext">[r]
</span><a href="#local-6989586621679473922"><span class="hs-identifier hs-var">rows</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-291"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[r]
</span><a href="#local-6989586621679473922"><span class="hs-identifier hs-var">rows</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-292"></span><span>    </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SqlInsertValues be r
forall be proj. SqlInsertValues be proj
</span><a href="Database.Beam.Query.html#SqlInsertValuesEmpty"><span class="hs-identifier hs-var">SqlInsertValuesEmpty</span></a></span><span>
</span><span id="line-293"></span><span>    </span><span class="annot"><span class="annottext">[r]
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendInsertValuesSyntax be -&gt; SqlInsertValues be r
forall be proj.
BeamSqlBackendInsertValuesSyntax be -&gt; SqlInsertValues be proj
</span><a href="Database.Beam.Query.html#SqlInsertValues"><span class="hs-identifier hs-var">SqlInsertValues</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[[Sql92InsertValuesExpressionSyntax
    (BeamSqlBackendInsertValuesSyntax be)]]
-&gt; BeamSqlBackendInsertValuesSyntax be
forall insertValues.
IsSql92InsertValuesSyntax insertValues =&gt;
[[Sql92InsertValuesExpressionSyntax insertValues]] -&gt; insertValues
</span><a href="Database.Beam.Backend.SQL.SQL92.html#insertSqlExpressions"><span class="hs-identifier hs-var">insertSqlExpressions</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(r
 -&gt; [Sql92UpdateExpressionSyntax
       (Sql92UpdateSyntax (BeamSqlBackendSyntax be))])
-&gt; [r]
-&gt; [[Sql92UpdateExpressionSyntax
       (Sql92UpdateSyntax (BeamSqlBackendSyntax be))]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679473921"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679473921"><span class="hs-identifier hs-var">row</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Proxy be
-&gt; r -&gt; WithExprContext [BeamSqlBackendExpressionSyntax be]
forall be a.
Projectible be a =&gt;
Proxy be
-&gt; a -&gt; WithExprContext [BeamSqlBackendExpressionSyntax be]
</span><a href="Database.Beam.Query.Internal.html#project"><span class="hs-identifier hs-var">project</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy be
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679473924"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679473921"><span class="hs-identifier hs-var">row</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><span class="hs-string">&quot;t&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[r]
</span><a href="#local-6989586621679473922"><span class="hs-identifier hs-var">rows</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span>
</span><span id="line-295"></span><span class="hs-comment">-- | Build a 'SqlInsertValues' from a 'SqlSelect' that returns the same table</span><span>
</span><span id="line-296"></span><span id="local-6989586621679473917"><span id="local-6989586621679473918"><span id="local-6989586621679473919"><span class="annot"><a href="Database.Beam.Query.html#insertFrom"><span class="hs-identifier hs-type">insertFrom</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473919"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Types.html#HasQBuilder"><span class="hs-identifier hs-type">HasQBuilder</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473919"><span class="hs-identifier hs-type">be</span></a></span><span>
</span><span id="line-297"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#Projectible"><span class="hs-identifier hs-type">Projectible</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473919"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473918"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-298"></span><span>           </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#Q"><span class="hs-identifier hs-type">Q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473919"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473917"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Query.html#QBaseScope"><span class="hs-identifier hs-type">QBaseScope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473918"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-299"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlInsertValues"><span class="hs-identifier hs-type">SqlInsertValues</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473919"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473918"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span>
</span><span id="line-300"></span><span id="insertFrom"><span class="annot"><span class="annottext">insertFrom :: Q be db QBaseScope r -&gt; SqlInsertValues be r
</span><a href="Database.Beam.Query.html#insertFrom"><span class="hs-identifier hs-var hs-var">insertFrom</span></a></span></span><span> </span><span id="local-6989586621679473916"><span class="annot"><span class="annottext">Q be db QBaseScope r
</span><a href="#local-6989586621679473916"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendInsertValuesSyntax be -&gt; SqlInsertValues be r
forall be proj.
BeamSqlBackendInsertValuesSyntax be -&gt; SqlInsertValues be proj
</span><a href="Database.Beam.Query.html#SqlInsertValues"><span class="hs-identifier hs-var">SqlInsertValues</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sql92InsertValuesSelectSyntax (BeamSqlBackendInsertValuesSyntax be)
-&gt; BeamSqlBackendInsertValuesSyntax be
forall insertValues.
IsSql92InsertValuesSyntax insertValues =&gt;
Sql92InsertValuesSelectSyntax insertValues -&gt; insertValues
</span><a href="Database.Beam.Backend.SQL.SQL92.html#insertFromSql"><span class="hs-identifier hs-var">insertFromSql</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TablePrefix
-&gt; Q be db QBaseScope r -&gt; BeamSqlBackendSelectSyntax be
forall be a (db :: (* -&gt; *) -&gt; *) s.
(HasQBuilder be, Projectible be a) =&gt;
TablePrefix -&gt; Q be db s a -&gt; BeamSqlBackendSelectSyntax be
</span><a href="Database.Beam.Query.Types.html#buildSqlQuery"><span class="hs-identifier hs-var">buildSqlQuery</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><span class="hs-string">&quot;t&quot;</span></span><span> </span><span class="annot"><span class="annottext">Q be db QBaseScope r
</span><a href="#local-6989586621679473916"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-301"></span><span>
</span><span id="line-302"></span><span class="hs-comment">-- * UPDATE</span><span>
</span><span id="line-303"></span><span>
</span><span id="line-304"></span><span class="hs-comment">-- | Represents a SQL @UPDATE@ statement for the given @table@.</span><span>
</span><span id="line-305"></span><span class="hs-keyword">data</span><span> </span><span id="SqlUpdate"><span class="annot"><a href="Database.Beam.Query.html#SqlUpdate"><span class="hs-identifier hs-var">SqlUpdate</span></a></span></span><span> </span><span id="local-6989586621679474314"><span class="annot"><a href="#local-6989586621679474314"><span class="hs-identifier hs-type">be</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679474313"><span class="annot"><a href="#local-6989586621679474313"><span class="hs-identifier hs-type">table</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-306"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="SqlUpdate"><span class="annot"><a href="Database.Beam.Query.html#SqlUpdate"><span class="hs-identifier hs-var">SqlUpdate</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#TableSettings"><span class="hs-identifier hs-type">TableSettings</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474313"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackendUpdateSyntax"><span class="hs-identifier hs-type">BeamSqlBackendUpdateSyntax</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474314"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-307"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SqlIdentityUpdate"><span class="annot"><a href="Database.Beam.Query.html#SqlIdentityUpdate"><span class="hs-identifier hs-var">SqlIdentityUpdate</span></a></span></span><span> </span><span class="hs-comment">-- An update with no assignments</span><span>
</span><span id="line-308"></span><span>
</span><span id="line-309"></span><span class="hs-comment">-- | Build a 'SqlUpdate' given a table, a list of assignments, and a way to</span><span>
</span><span id="line-310"></span><span class="hs-comment">--   build a @WHERE@ clause.</span><span>
</span><span id="line-311"></span><span class="hs-comment">--</span><span>
</span><span id="line-312"></span><span class="hs-comment">--   An internal implementation for 'update' and 'update'' functions.</span><span>
</span><span id="line-313"></span><span class="hs-comment">--   Allows to choose boolean type in the @WHERE@ clause.</span><span>
</span><span id="line-314"></span><span class="annot"><a href="Database.Beam.Query.html#updateImpl"><span class="hs-identifier hs-type">updateImpl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679474285"><span class="annot"><a href="#local-6989586621679474285"><span class="hs-identifier hs-type">bool</span></a></span></span><span> </span><span id="local-6989586621679474287"><span class="annot"><a href="#local-6989586621679474287"><span class="hs-identifier hs-type">table</span></a></span></span><span> </span><span id="local-6989586621679474286"><span class="annot"><a href="#local-6989586621679474286"><span class="hs-identifier hs-type">db</span></a></span></span><span> </span><span id="local-6989586621679474288"><span class="annot"><a href="#local-6989586621679474288"><span class="hs-identifier hs-type">be</span></a></span></span><span>
</span><span id="line-315"></span><span>            </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474288"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Beamable"><span class="hs-identifier hs-type">Beamable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474287"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-316"></span><span>           </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#DatabaseEntity"><span class="hs-identifier hs-type">DatabaseEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474288"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474286"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#TableEntity"><span class="hs-identifier hs-type">TableEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474287"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-317"></span><span>              </span><span class="hs-comment">-- ^ The table to insert into</span><span>
</span><span id="line-318"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679474320"><span class="annot"><a href="#local-6989586621679474320"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679474287"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QField"><span class="hs-identifier hs-type">QField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474320"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QAssignment"><span class="hs-identifier hs-type">QAssignment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474288"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474320"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-319"></span><span>              </span><span class="hs-comment">-- ^ A sequence of assignments to make.</span><span>
</span><span id="line-320"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679474318"><span class="annot"><a href="#local-6989586621679474318"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679474287"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474288"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474318"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474288"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474318"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474285"><span class="hs-identifier hs-type">bool</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-321"></span><span>              </span><span class="hs-comment">-- ^ Build a @WHERE@ clause given a table containing expressions</span><span>
</span><span id="line-322"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlUpdate"><span class="hs-identifier hs-type">SqlUpdate</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474288"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474287"><span class="hs-identifier hs-type">table</span></a></span><span>
</span><span id="line-323"></span><span id="updateImpl"><span class="annot"><span class="annottext">updateImpl :: DatabaseEntity be db (TableEntity table)
-&gt; (forall s. table (QField s) -&gt; QAssignment be s)
-&gt; (forall s. table (QExpr be s) -&gt; QExpr be s bool)
-&gt; SqlUpdate be table
</span><a href="Database.Beam.Query.html#updateImpl"><span class="hs-identifier hs-var hs-var">updateImpl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#DatabaseEntity"><span class="hs-identifier hs-type">DatabaseEntity</span></a></span><span> </span><span id="local-6989586621679473911"><span class="annot"><span class="annottext">dt :: DatabaseEntityDescriptor be (TableEntity table)
</span><a href="#local-6989586621679473911"><span class="hs-identifier hs-var">dt</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#DatabaseTable"><span class="hs-identifier hs-type">DatabaseTable</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679473910"><span class="annot"><span class="annottext">forall s. table (QField s) -&gt; QAssignment be s
</span><a href="#local-6989586621679473910"><span class="hs-identifier hs-var">mkAssignments</span></a></span></span><span> </span><span id="local-6989586621679473909"><span class="annot"><span class="annottext">forall s. table (QExpr be s) -&gt; QExpr be s bool
</span><a href="#local-6989586621679473909"><span class="hs-identifier hs-var">mkWhere</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-324"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[(BeamSqlBackendFieldNameSyntax be,
  BeamSqlBackendExpressionSyntax be)]
</span><a href="#local-6989586621679473908"><span class="hs-identifier hs-var">assignments</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-325"></span><span>    </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SqlUpdate be table
forall be (table :: (* -&gt; *) -&gt; *). SqlUpdate be table
</span><a href="Database.Beam.Query.html#SqlIdentityUpdate"><span class="hs-identifier hs-var">SqlIdentityUpdate</span></a></span><span>
</span><span id="line-326"></span><span>    </span><span class="annot"><span class="annottext">[(BeamSqlBackendFieldNameSyntax be,
  BeamSqlBackendExpressionSyntax be)]
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TableSettings table
-&gt; BeamSqlBackendUpdateSyntax be -&gt; SqlUpdate be table
forall be (table :: (* -&gt; *) -&gt; *).
TableSettings table
-&gt; BeamSqlBackendUpdateSyntax be -&gt; SqlUpdate be table
</span><a href="Database.Beam.Query.html#SqlUpdate"><span class="hs-identifier hs-var">SqlUpdate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DatabaseEntityDescriptor be (TableEntity table)
-&gt; TableSettings table
forall be (tbl :: (* -&gt; *) -&gt; *).
DatabaseEntityDescriptor be (TableEntity tbl) -&gt; TableSettings tbl
</span><a href="Database.Beam.Schema.Tables.html#dbTableSettings"><span class="hs-identifier hs-var hs-var">dbTableSettings</span></a></span><span> </span><span class="annot"><span class="annottext">DatabaseEntityDescriptor be (TableEntity table)
</span><a href="#local-6989586621679473911"><span class="hs-identifier hs-var">dt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-327"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sql92UpdateTableNameSyntax (BeamSqlBackendUpdateSyntax be)
-&gt; [(Sql92UpdateFieldNameSyntax (BeamSqlBackendUpdateSyntax be),
     Sql92UpdateExpressionSyntax (BeamSqlBackendUpdateSyntax be))]
-&gt; Maybe
     (Sql92UpdateExpressionSyntax (BeamSqlBackendUpdateSyntax be))
-&gt; BeamSqlBackendUpdateSyntax be
forall update.
IsSql92UpdateSyntax update =&gt;
Sql92UpdateTableNameSyntax update
-&gt; [(Sql92UpdateFieldNameSyntax update,
     Sql92UpdateExpressionSyntax update)]
-&gt; Maybe (Sql92UpdateExpressionSyntax update)
-&gt; update
</span><a href="Database.Beam.Backend.SQL.SQL92.html#updateStmt"><span class="hs-identifier hs-var">updateStmt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DatabaseEntityDescriptor be (TableEntity table)
-&gt; Sql92UpdateTableNameSyntax (BeamSqlBackendUpdateSyntax be)
forall name be (tbl :: (* -&gt; *) -&gt; *).
IsSql92TableNameSyntax name =&gt;
DatabaseEntityDescriptor be (TableEntity tbl) -&gt; name
</span><a href="Database.Beam.Query.Internal.html#tableNameFromEntity"><span class="hs-identifier hs-var">tableNameFromEntity</span></a></span><span> </span><span class="annot"><span class="annottext">DatabaseEntityDescriptor be (TableEntity table)
</span><a href="#local-6989586621679473911"><span class="hs-identifier hs-var">dt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-328"></span><span>                       </span><span class="annot"><span class="annottext">[(BeamSqlBackendFieldNameSyntax be,
  BeamSqlBackendExpressionSyntax be)]
[(Sql92UpdateFieldNameSyntax (BeamSqlBackendUpdateSyntax be),
  Sql92UpdateExpressionSyntax (BeamSqlBackendUpdateSyntax be))]
</span><a href="#local-6989586621679473908"><span class="hs-identifier hs-var">assignments</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sql92UpdateExpressionSyntax (BeamSqlBackendUpdateSyntax be)
-&gt; Maybe
     (Sql92UpdateExpressionSyntax (BeamSqlBackendUpdateSyntax be))
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TablePrefix -&gt; BeamSqlBackendExpressionSyntax be
</span><a href="#local-6989586621679473906"><span class="hs-identifier hs-var">where_</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><span class="hs-string">&quot;t&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-329"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-330"></span><span>    </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QAssignment"><span class="hs-identifier hs-type">QAssignment</span></a></span><span> </span><span id="local-6989586621679473908"><span class="annot"><span class="annottext">[(BeamSqlBackendFieldNameSyntax be,
  BeamSqlBackendExpressionSyntax be)]
</span><a href="#local-6989586621679473908"><span class="hs-identifier hs-var">assignments</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">table (QField Any) -&gt; QAssignment be Any
forall s. table (QField s) -&gt; QAssignment be s
</span><a href="#local-6989586621679473910"><span class="hs-identifier hs-var">mkAssignments</span></a></span><span> </span><span class="annot"><span class="annottext">table (QField Any)
</span><a href="#local-6989586621679473904"><span class="hs-identifier hs-var">tblFields</span></a></span><span>
</span><span id="line-331"></span><span>    </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span id="local-6989586621679473906"><span class="annot"><span class="annottext">TablePrefix -&gt; BeamSqlBackendExpressionSyntax be
</span><a href="#local-6989586621679473906"><span class="hs-identifier hs-var">where_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">table (QExpr be Any) -&gt; QGenExpr QValueContext be Any bool
forall s. table (QExpr be s) -&gt; QExpr be s bool
</span><a href="#local-6989586621679473909"><span class="hs-identifier hs-var">mkWhere</span></a></span><span> </span><span class="annot"><span class="annottext">table (QExpr be Any)
</span><a href="#local-6989586621679473903"><span class="hs-identifier hs-var">tblFieldExprs</span></a></span><span>
</span><span id="line-332"></span><span>
</span><span id="line-333"></span><span>    </span><span id="local-6989586621679473904"><span class="annot"><span class="annottext">tblFields :: table (QField Any)
</span><a href="#local-6989586621679473904"><span class="hs-identifier hs-var hs-var">tblFields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall a.
 Columnar' (TableField table) a -&gt; Columnar' (QField Any) a)
-&gt; TableSettings table -&gt; table (QField Any)
forall (table :: (* -&gt; *) -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *).
Beamable table =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a) -&gt; table f -&gt; table g
</span><a href="Database.Beam.Schema.Tables.html#changeBeamRep"><span class="hs-identifier hs-var">changeBeamRep</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Columnar%27"><span class="hs-identifier hs-type">Columnar'</span></a></span><span> </span><span id="local-6989586621679473902"><span class="annot"><span class="annottext">Columnar (TableField table) a
</span><a href="#local-6989586621679473902"><span class="hs-identifier hs-var">fd</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Columnar (QField Any) a -&gt; Columnar' (QField Any) a
forall (f :: * -&gt; *) a. Columnar f a -&gt; Columnar' f a
</span><a href="Database.Beam.Schema.Tables.html#Columnar%27"><span class="hs-identifier hs-var">Columnar'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; TablePrefix -&gt; TablePrefix -&gt; QField Any a
forall s ty. Bool -&gt; TablePrefix -&gt; TablePrefix -&gt; QField s ty
</span><a href="Database.Beam.Query.Internal.html#QField"><span class="hs-identifier hs-var">QField</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">False</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DatabaseEntityDescriptor be (TableEntity table) -&gt; TablePrefix
forall be (tbl :: (* -&gt; *) -&gt; *).
DatabaseEntityDescriptor be (TableEntity tbl) -&gt; TablePrefix
</span><a href="Database.Beam.Schema.Tables.html#dbTableCurrentName"><span class="hs-identifier hs-var hs-var">dbTableCurrentName</span></a></span><span> </span><span class="annot"><span class="annottext">DatabaseEntityDescriptor be (TableEntity table)
</span><a href="#local-6989586621679473911"><span class="hs-identifier hs-var">dt</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TableField table a
Columnar (TableField table) a
</span><a href="#local-6989586621679473902"><span class="hs-identifier hs-var">fd</span></a></span><span> </span><span class="annot"><span class="annottext">TableField table a
-&gt; Getting TablePrefix (TableField table a) TablePrefix
-&gt; TablePrefix
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="../../../../microlens/html/src"><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting TablePrefix (TableField table a) TablePrefix
forall (table :: (* -&gt; *) -&gt; *) ty.
Lens' (TableField table ty) TablePrefix
</span><a href="Database.Beam.Schema.Tables.html#fieldName"><span class="hs-identifier hs-var">fieldName</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-334"></span><span>                              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DatabaseEntityDescriptor be (TableEntity table)
-&gt; TableSettings table
forall be (tbl :: (* -&gt; *) -&gt; *).
DatabaseEntityDescriptor be (TableEntity tbl) -&gt; TableSettings tbl
</span><a href="Database.Beam.Schema.Tables.html#dbTableSettings"><span class="hs-identifier hs-var hs-var">dbTableSettings</span></a></span><span> </span><span class="annot"><span class="annottext">DatabaseEntityDescriptor be (TableEntity table)
</span><a href="#local-6989586621679473911"><span class="hs-identifier hs-var">dt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-335"></span><span>    </span><span id="local-6989586621679473903"><span class="annot"><span class="annottext">tblFieldExprs :: table (QExpr be Any)
</span><a href="#local-6989586621679473903"><span class="hs-identifier hs-var hs-var">tblFieldExprs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall a. Columnar' (QField Any) a -&gt; Columnar' (QExpr be Any) a)
-&gt; table (QField Any) -&gt; table (QExpr be Any)
forall (table :: (* -&gt; *) -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *).
Beamable table =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a) -&gt; table f -&gt; table g
</span><a href="Database.Beam.Schema.Tables.html#changeBeamRep"><span class="hs-identifier hs-var">changeBeamRep</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Columnar%27"><span class="hs-identifier hs-type">Columnar'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QField"><span class="hs-identifier hs-type">QField</span></a></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679473901"><span class="annot"><a href="#local-6989586621679473901"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Columnar (QExpr be Any) a -&gt; Columnar' (QExpr be Any) a
forall (f :: * -&gt; *) a. Columnar f a -&gt; Columnar' f a
</span><a href="Database.Beam.Schema.Tables.html#Columnar%27"><span class="hs-identifier hs-var">Columnar'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TablePrefix -&gt; BeamSqlBackendExpressionSyntax be)
-&gt; QGenExpr QValueContext be Any a
forall context be s t.
(TablePrefix -&gt; BeamSqlBackendExpressionSyntax be)
-&gt; QGenExpr context be s t
</span><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-var">QExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sql92UpdateExpressionSyntax (BeamSqlBackendUpdateSyntax be)
-&gt; TablePrefix
-&gt; Sql92UpdateExpressionSyntax (BeamSqlBackendUpdateSyntax be)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sql92ExpressionFieldNameSyntax
  (Sql92UpdateExpressionSyntax (BeamSqlBackendUpdateSyntax be))
-&gt; Sql92UpdateExpressionSyntax (BeamSqlBackendUpdateSyntax be)
forall expr.
IsSql92ExpressionSyntax expr =&gt;
Sql92ExpressionFieldNameSyntax expr -&gt; expr
</span><a href="Database.Beam.Backend.SQL.SQL92.html#fieldE"><span class="hs-identifier hs-var">fieldE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TablePrefix
-&gt; Sql92ExpressionFieldNameSyntax
     (Sql92InsertValuesExpressionSyntax
        (Sql92InsertValuesSyntax
           (Sql92InsertSyntax (BeamSqlBackendSyntax be))))
forall fn. IsSql92FieldNameSyntax fn =&gt; TablePrefix -&gt; fn
</span><a href="Database.Beam.Backend.SQL.SQL92.html#unqualifiedField"><span class="hs-identifier hs-var">unqualifiedField</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><a href="#local-6989586621679473901"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">table (QField Any)
</span><a href="#local-6989586621679473904"><span class="hs-identifier hs-var">tblFields</span></a></span><span>
</span><span id="line-336"></span><span>
</span><span id="line-337"></span><span class="hs-comment">-- | Build a 'SqlUpdate' given a table, a list of assignments, and a way to</span><span>
</span><span id="line-338"></span><span class="hs-comment">--   build a @WHERE@ clause.</span><span>
</span><span id="line-339"></span><span class="hs-comment">--</span><span>
</span><span id="line-340"></span><span class="hs-comment">--   Use 'update'' for comparisons with 'SqlBool'.</span><span>
</span><span id="line-341"></span><span class="hs-comment">--</span><span>
</span><span id="line-342"></span><span class="hs-comment">--   See the '(&lt;-.)' operator for ways to build assignments. The argument to the</span><span>
</span><span id="line-343"></span><span class="hs-comment">--   second argument is a the table parameterized over 'QField', which</span><span>
</span><span id="line-344"></span><span class="hs-comment">--   represents the left hand side of assignments. Sometimes, you'd like to also</span><span>
</span><span id="line-345"></span><span class="hs-comment">--   get the current value of a particular column. You can use the 'current_'</span><span>
</span><span id="line-346"></span><span class="hs-comment">--   function to convert a 'QField' to a 'QExpr'.</span><span>
</span><span id="line-347"></span><span id="local-6989586621679474272"><span id="local-6989586621679474273"><span id="local-6989586621679474274"><span class="annot"><a href="Database.Beam.Query.html#update"><span class="hs-identifier hs-type">update</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474274"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Beamable"><span class="hs-identifier hs-type">Beamable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474273"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-348"></span><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#DatabaseEntity"><span class="hs-identifier hs-type">DatabaseEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474274"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474272"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#TableEntity"><span class="hs-identifier hs-type">TableEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474273"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-349"></span><span>          </span><span class="hs-comment">-- ^ The table to insert into</span><span>
</span><span id="line-350"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679474290"><span class="annot"><a href="#local-6989586621679474290"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679474273"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QField"><span class="hs-identifier hs-type">QField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474290"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QAssignment"><span class="hs-identifier hs-type">QAssignment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474274"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474290"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-351"></span><span>          </span><span class="hs-comment">-- ^ A sequence of assignments to make.</span><span>
</span><span id="line-352"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679474289"><span class="annot"><a href="#local-6989586621679474289"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679474273"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474274"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474289"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474274"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474289"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-353"></span><span>          </span><span class="hs-comment">-- ^ Build a @WHERE@ clause given a table containing expressions</span><span>
</span><span id="line-354"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlUpdate"><span class="hs-identifier hs-type">SqlUpdate</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474274"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474273"><span class="hs-identifier hs-type">table</span></a></span></span></span></span><span>
</span><span id="line-355"></span><span id="update"><span class="annot"><span class="annottext">update :: DatabaseEntity be db (TableEntity table)
-&gt; (forall s. table (QField s) -&gt; QAssignment be s)
-&gt; (forall s. table (QExpr be s) -&gt; QExpr be s Bool)
-&gt; SqlUpdate be table
</span><a href="Database.Beam.Query.html#update"><span class="hs-identifier hs-var hs-var">update</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall bool (table :: (* -&gt; *) -&gt; *) (db :: (* -&gt; *) -&gt; *) be.
(BeamSqlBackend be, Beamable table) =&gt;
DatabaseEntity be db (TableEntity table)
-&gt; (forall s. table (QField s) -&gt; QAssignment be s)
-&gt; (forall s. table (QExpr be s) -&gt; QExpr be s bool)
-&gt; SqlUpdate be table
forall (table :: (* -&gt; *) -&gt; *) (db :: (* -&gt; *) -&gt; *) be.
(BeamSqlBackend be, Beamable table) =&gt;
DatabaseEntity be db (TableEntity table)
-&gt; (forall s. table (QField s) -&gt; QAssignment be s)
-&gt; (forall s. table (QExpr be s) -&gt; QExpr be s Bool)
-&gt; SqlUpdate be table
</span><a href="Database.Beam.Query.html#updateImpl"><span class="hs-identifier hs-var">updateImpl</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-356"></span><span>
</span><span id="line-357"></span><span class="hs-comment">-- | Build a 'SqlUpdate' given a table, a list of assignments, and a way to</span><span>
</span><span id="line-358"></span><span class="hs-comment">--   build a @WHERE@ clause.</span><span>
</span><span id="line-359"></span><span class="hs-comment">--</span><span>
</span><span id="line-360"></span><span class="hs-comment">--   Uses a 'SqlBool' comparison. Use 'update' for comparisons with 'Bool'.</span><span>
</span><span id="line-361"></span><span class="hs-comment">--</span><span>
</span><span id="line-362"></span><span class="hs-comment">--   See the '(&lt;-.)' operator for ways to build assignments. The argument to the</span><span>
</span><span id="line-363"></span><span class="hs-comment">--   second argument is a the table parameterized over 'QField', which</span><span>
</span><span id="line-364"></span><span class="hs-comment">--   represents the left hand side of assignments. Sometimes, you'd like to also</span><span>
</span><span id="line-365"></span><span class="hs-comment">--   get the current value of a particular column. You can use the 'current_'</span><span>
</span><span id="line-366"></span><span class="hs-comment">--   function to convert a 'QField' to a 'QExpr'.</span><span>
</span><span id="line-367"></span><span id="local-6989586621679474259"><span id="local-6989586621679474260"><span id="local-6989586621679474261"><span class="annot"><a href="Database.Beam.Query.html#update%27"><span class="hs-identifier hs-type">update'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474261"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Beamable"><span class="hs-identifier hs-type">Beamable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474260"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-368"></span><span>        </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#DatabaseEntity"><span class="hs-identifier hs-type">DatabaseEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474261"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474259"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#TableEntity"><span class="hs-identifier hs-type">TableEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474260"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-369"></span><span>           </span><span class="hs-comment">-- ^ The table to insert into</span><span>
</span><span id="line-370"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679474281"><span class="annot"><a href="#local-6989586621679474281"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679474260"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QField"><span class="hs-identifier hs-type">QField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474281"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QAssignment"><span class="hs-identifier hs-type">QAssignment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474261"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474281"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-371"></span><span>           </span><span class="hs-comment">-- ^ A sequence of assignments to make.</span><span>
</span><span id="line-372"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679474280"><span class="annot"><a href="#local-6989586621679474280"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679474260"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474261"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474280"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474261"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474280"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Query.Operator.html#SqlBool"><span class="hs-identifier hs-type">SqlBool</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-373"></span><span>           </span><span class="hs-comment">-- ^ Build a @WHERE@ clause given a table containing expressions</span><span>
</span><span id="line-374"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlUpdate"><span class="hs-identifier hs-type">SqlUpdate</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474261"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474260"><span class="hs-identifier hs-type">table</span></a></span></span></span></span><span>
</span><span id="line-375"></span><span id="update%27"><span class="annot"><span class="annottext">update' :: DatabaseEntity be db (TableEntity table)
-&gt; (forall s. table (QField s) -&gt; QAssignment be s)
-&gt; (forall s. table (QExpr be s) -&gt; QExpr be s SqlBool)
-&gt; SqlUpdate be table
</span><a href="Database.Beam.Query.html#update%27"><span class="hs-identifier hs-var hs-var">update'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall bool (table :: (* -&gt; *) -&gt; *) (db :: (* -&gt; *) -&gt; *) be.
(BeamSqlBackend be, Beamable table) =&gt;
DatabaseEntity be db (TableEntity table)
-&gt; (forall s. table (QField s) -&gt; QAssignment be s)
-&gt; (forall s. table (QExpr be s) -&gt; QExpr be s bool)
-&gt; SqlUpdate be table
forall (table :: (* -&gt; *) -&gt; *) (db :: (* -&gt; *) -&gt; *) be.
(BeamSqlBackend be, Beamable table) =&gt;
DatabaseEntity be db (TableEntity table)
-&gt; (forall s. table (QField s) -&gt; QAssignment be s)
-&gt; (forall s. table (QExpr be s) -&gt; QExpr be s SqlBool)
-&gt; SqlUpdate be table
</span><a href="Database.Beam.Query.html#updateImpl"><span class="hs-identifier hs-var">updateImpl</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Database.Beam.Query.Operator.html#SqlBool"><span class="hs-identifier hs-type">SqlBool</span></a></span><span>
</span><span id="line-376"></span><span>
</span><span id="line-377"></span><span class="hs-comment">-- | A specialization of 'update' that matches the given (already existing) row.</span><span>
</span><span id="line-378"></span><span class="hs-comment">--</span><span>
</span><span id="line-379"></span><span class="hs-comment">--   Use 'updateRow'' for an internal 'SqlBool' comparison.</span><span>
</span><span id="line-380"></span><span id="local-6989586621679473896"><span id="local-6989586621679473897"><span id="local-6989586621679473898"><span class="annot"><a href="Database.Beam.Query.html#updateRow"><span class="hs-identifier hs-type">updateRow</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473898"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Table"><span class="hs-identifier hs-type">Table</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473897"><span class="hs-identifier hs-type">table</span></a></span><span>
</span><span id="line-381"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#HasTableEquality"><span class="hs-identifier hs-type">HasTableEquality</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473898"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473897"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-382"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Combinators.html#SqlValableTable"><span class="hs-identifier hs-type">SqlValableTable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473898"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473897"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-383"></span><span>          </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#DatabaseEntity"><span class="hs-identifier hs-type">DatabaseEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473898"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473896"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#TableEntity"><span class="hs-identifier hs-type">TableEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473897"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-384"></span><span>             </span><span class="hs-comment">-- ^ The table to insert into</span><span>
</span><span id="line-385"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679473897"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span>
</span><span id="line-386"></span><span>             </span><span class="hs-comment">-- ^ The row to update</span><span>
</span><span id="line-387"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679474275"><span class="annot"><a href="#local-6989586621679474275"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679473897"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QField"><span class="hs-identifier hs-type">QField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474275"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QAssignment"><span class="hs-identifier hs-type">QAssignment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473898"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474275"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-388"></span><span>             </span><span class="hs-comment">-- ^ A sequence of assignments to make.</span><span>
</span><span id="line-389"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlUpdate"><span class="hs-identifier hs-type">SqlUpdate</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473898"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473897"><span class="hs-identifier hs-type">table</span></a></span></span></span></span><span>
</span><span id="line-390"></span><span id="updateRow"><span class="annot"><span class="annottext">updateRow :: DatabaseEntity be db (TableEntity table)
-&gt; table Identity
-&gt; (forall s. table (QField s) -&gt; QAssignment be s)
-&gt; SqlUpdate be table
</span><a href="Database.Beam.Query.html#updateRow"><span class="hs-identifier hs-var hs-var">updateRow</span></a></span></span><span> </span><span id="local-6989586621679473895"><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity table)
</span><a href="#local-6989586621679473895"><span class="hs-identifier hs-var">tbl</span></a></span></span><span> </span><span id="local-6989586621679473894"><span class="annot"><span class="annottext">table Identity
</span><a href="#local-6989586621679473894"><span class="hs-identifier hs-var">row</span></a></span></span><span> </span><span id="local-6989586621679473893"><span class="annot"><span class="annottext">forall s. table (QField s) -&gt; QAssignment be s
</span><a href="#local-6989586621679473893"><span class="hs-identifier hs-var">assignments</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-391"></span><span>  </span><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity table)
-&gt; (forall s. table (QField s) -&gt; QAssignment be s)
-&gt; (forall s. table (QExpr be s) -&gt; QExpr be s Bool)
-&gt; SqlUpdate be table
forall be (table :: (* -&gt; *) -&gt; *) (db :: (* -&gt; *) -&gt; *).
(BeamSqlBackend be, Beamable table) =&gt;
DatabaseEntity be db (TableEntity table)
-&gt; (forall s. table (QField s) -&gt; QAssignment be s)
-&gt; (forall s. table (QExpr be s) -&gt; QExpr be s Bool)
-&gt; SqlUpdate be table
</span><a href="Database.Beam.Query.html#update"><span class="hs-identifier hs-var">update</span></a></span><span> </span><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity table)
</span><a href="#local-6989586621679473895"><span class="hs-identifier hs-var">tbl</span></a></span><span> </span><span class="annot"><span class="annottext">forall s. table (QField s) -&gt; QAssignment be s
</span><a href="#local-6989586621679473893"><span class="hs-identifier hs-var">assignments</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrimaryKey table (QGenExpr QValueContext be s)
-&gt; table (QGenExpr QValueContext be s)
-&gt; QGenExpr QValueContext be s Bool
forall (t :: (* -&gt; *) -&gt; *) be ctxt s.
(Table t, BeamSqlBackend be, HasTableEquality be (PrimaryKey t)) =&gt;
PrimaryKey t (QGenExpr ctxt be s)
-&gt; t (QGenExpr ctxt be s) -&gt; QGenExpr ctxt be s Bool
</span><a href="Database.Beam.Query.Combinators.html#references_"><span class="hs-identifier hs-var">references_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HaskellLiteralForQExpr
  (PrimaryKey table (QGenExpr QValueContext be s))
-&gt; PrimaryKey table (QGenExpr QValueContext be s)
forall a. SqlValable a =&gt; HaskellLiteralForQExpr a -&gt; a
</span><a href="Database.Beam.Query.Combinators.html#val_"><span class="hs-identifier hs-var">val_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">table Identity -&gt; PrimaryKey table Identity
forall (t :: (* -&gt; *) -&gt; *) (f :: * -&gt; *).
Table t =&gt;
t f -&gt; PrimaryKey t f
</span><a href="Database.Beam.Schema.Tables.html#pk"><span class="hs-identifier hs-var">pk</span></a></span><span> </span><span class="annot"><span class="annottext">table Identity
</span><a href="#local-6989586621679473894"><span class="hs-identifier hs-var">row</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-392"></span><span>
</span><span id="line-393"></span><span class="hs-comment">-- | A specialization of 'update'' that matches the given (already existing) row.</span><span>
</span><span id="line-394"></span><span class="hs-comment">--</span><span>
</span><span id="line-395"></span><span class="hs-comment">--   Use 'updateRow' for an internal 'Bool' comparison.</span><span>
</span><span id="line-396"></span><span id="local-6989586621679473889"><span id="local-6989586621679473890"><span id="local-6989586621679473891"><span class="annot"><a href="Database.Beam.Query.html#updateRow%27"><span class="hs-identifier hs-type">updateRow'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473891"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Table"><span class="hs-identifier hs-type">Table</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473890"><span class="hs-identifier hs-type">table</span></a></span><span>
</span><span id="line-397"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#HasTableEquality"><span class="hs-identifier hs-type">HasTableEquality</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473891"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473890"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-398"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Combinators.html#SqlValableTable"><span class="hs-identifier hs-type">SqlValableTable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473891"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473890"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-399"></span><span>           </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#DatabaseEntity"><span class="hs-identifier hs-type">DatabaseEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473891"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473889"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#TableEntity"><span class="hs-identifier hs-type">TableEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473890"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-400"></span><span>              </span><span class="hs-comment">-- ^ The table to insert into</span><span>
</span><span id="line-401"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679473890"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span>
</span><span id="line-402"></span><span>              </span><span class="hs-comment">-- ^ The row to update</span><span>
</span><span id="line-403"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679474262"><span class="annot"><a href="#local-6989586621679474262"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679473890"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QField"><span class="hs-identifier hs-type">QField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474262"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QAssignment"><span class="hs-identifier hs-type">QAssignment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473891"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474262"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-404"></span><span>              </span><span class="hs-comment">-- ^ A sequence of assignments to make.</span><span>
</span><span id="line-405"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlUpdate"><span class="hs-identifier hs-type">SqlUpdate</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473891"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473890"><span class="hs-identifier hs-type">table</span></a></span></span></span></span><span>
</span><span id="line-406"></span><span id="updateRow%27"><span class="annot"><span class="annottext">updateRow' :: DatabaseEntity be db (TableEntity table)
-&gt; table Identity
-&gt; (forall s. table (QField s) -&gt; QAssignment be s)
-&gt; SqlUpdate be table
</span><a href="Database.Beam.Query.html#updateRow%27"><span class="hs-identifier hs-var hs-var">updateRow'</span></a></span></span><span> </span><span id="local-6989586621679473888"><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity table)
</span><a href="#local-6989586621679473888"><span class="hs-identifier hs-var">tbl</span></a></span></span><span> </span><span id="local-6989586621679473887"><span class="annot"><span class="annottext">table Identity
</span><a href="#local-6989586621679473887"><span class="hs-identifier hs-var">row</span></a></span></span><span> </span><span id="local-6989586621679473886"><span class="annot"><span class="annottext">forall s. table (QField s) -&gt; QAssignment be s
</span><a href="#local-6989586621679473886"><span class="hs-identifier hs-var">assignments</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-407"></span><span>  </span><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity table)
-&gt; (forall s. table (QField s) -&gt; QAssignment be s)
-&gt; (forall s. table (QExpr be s) -&gt; QExpr be s SqlBool)
-&gt; SqlUpdate be table
forall be (table :: (* -&gt; *) -&gt; *) (db :: (* -&gt; *) -&gt; *).
(BeamSqlBackend be, Beamable table) =&gt;
DatabaseEntity be db (TableEntity table)
-&gt; (forall s. table (QField s) -&gt; QAssignment be s)
-&gt; (forall s. table (QExpr be s) -&gt; QExpr be s SqlBool)
-&gt; SqlUpdate be table
</span><a href="Database.Beam.Query.html#update%27"><span class="hs-identifier hs-var">update'</span></a></span><span> </span><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity table)
</span><a href="#local-6989586621679473888"><span class="hs-identifier hs-var">tbl</span></a></span><span> </span><span class="annot"><span class="annottext">forall s. table (QField s) -&gt; QAssignment be s
</span><a href="#local-6989586621679473886"><span class="hs-identifier hs-var">assignments</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrimaryKey table (QGenExpr QValueContext be s)
-&gt; table (QGenExpr QValueContext be s)
-&gt; QGenExpr QValueContext be s SqlBool
forall (t :: (* -&gt; *) -&gt; *) be ctxt s.
(Table t, BeamSqlBackend be, HasTableEquality be (PrimaryKey t)) =&gt;
PrimaryKey t (QGenExpr ctxt be s)
-&gt; t (QGenExpr ctxt be s) -&gt; QGenExpr ctxt be s SqlBool
</span><a href="Database.Beam.Query.Combinators.html#references_%27"><span class="hs-identifier hs-var">references_'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HaskellLiteralForQExpr
  (PrimaryKey table (QGenExpr QValueContext be s))
-&gt; PrimaryKey table (QGenExpr QValueContext be s)
forall a. SqlValable a =&gt; HaskellLiteralForQExpr a -&gt; a
</span><a href="Database.Beam.Query.Combinators.html#val_"><span class="hs-identifier hs-var">val_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">table Identity -&gt; PrimaryKey table Identity
forall (t :: (* -&gt; *) -&gt; *) (f :: * -&gt; *).
Table t =&gt;
t f -&gt; PrimaryKey t f
</span><a href="Database.Beam.Schema.Tables.html#pk"><span class="hs-identifier hs-var">pk</span></a></span><span> </span><span class="annot"><span class="annottext">table Identity
</span><a href="#local-6989586621679473887"><span class="hs-identifier hs-var">row</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-408"></span><span>
</span><span id="line-409"></span><span class="hs-comment">-- | A specialization of 'update' that is more convenient for normal tables.</span><span>
</span><span id="line-410"></span><span class="hs-comment">--</span><span>
</span><span id="line-411"></span><span class="hs-comment">--   An internal implementation of 'updateTable' and 'updateTable'' functions.</span><span>
</span><span id="line-412"></span><span class="hs-comment">--   Allows choosing between 'Bool' and 'SqlBool'.</span><span>
</span><span id="line-413"></span><span class="annot"><a href="Database.Beam.Query.html#updateTableImpl"><span class="hs-identifier hs-type">updateTableImpl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679474222"><span class="annot"><a href="#local-6989586621679474222"><span class="hs-identifier hs-type">bool</span></a></span></span><span> </span><span id="local-6989586621679474224"><span class="annot"><a href="#local-6989586621679474224"><span class="hs-identifier hs-type">table</span></a></span></span><span> </span><span id="local-6989586621679474223"><span class="annot"><a href="#local-6989586621679474223"><span class="hs-identifier hs-type">db</span></a></span></span><span> </span><span id="local-6989586621679474225"><span class="annot"><a href="#local-6989586621679474225"><span class="hs-identifier hs-type">be</span></a></span></span><span>
</span><span id="line-414"></span><span>                 </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474225"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Beamable"><span class="hs-identifier hs-type">Beamable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474224"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-415"></span><span>                </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#DatabaseEntity"><span class="hs-identifier hs-type">DatabaseEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474225"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474223"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#TableEntity"><span class="hs-identifier hs-type">TableEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474224"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-416"></span><span>                   </span><span class="hs-comment">-- ^ The table to update</span><span>
</span><span id="line-417"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679474224"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QFieldAssignment"><span class="hs-identifier hs-type">QFieldAssignment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474225"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474224"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-418"></span><span>                   </span><span class="hs-comment">-- ^ Updates to be made (use 'set' to construct an empty field)</span><span>
</span><span id="line-419"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679474249"><span class="annot"><a href="#local-6989586621679474249"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679474224"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474225"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474249"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474225"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474249"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474222"><span class="hs-identifier hs-type">bool</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-420"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlUpdate"><span class="hs-identifier hs-type">SqlUpdate</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474225"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474224"><span class="hs-identifier hs-type">table</span></a></span><span>
</span><span id="line-421"></span><span id="updateTableImpl"><span class="annot"><span class="annottext">updateTableImpl :: DatabaseEntity be db (TableEntity table)
-&gt; table (QFieldAssignment be table)
-&gt; (forall s. table (QExpr be s) -&gt; QExpr be s bool)
-&gt; SqlUpdate be table
</span><a href="Database.Beam.Query.html#updateTableImpl"><span class="hs-identifier hs-var hs-var">updateTableImpl</span></a></span></span><span> </span><span id="local-6989586621679473883"><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity table)
</span><a href="#local-6989586621679473883"><span class="hs-identifier hs-var">tblEntity</span></a></span></span><span> </span><span id="local-6989586621679473882"><span class="annot"><span class="annottext">table (QFieldAssignment be table)
</span><a href="#local-6989586621679473882"><span class="hs-identifier hs-var">assignments</span></a></span></span><span> </span><span id="local-6989586621679473881"><span class="annot"><span class="annottext">forall s. table (QExpr be s) -&gt; QExpr be s bool
</span><a href="#local-6989586621679473881"><span class="hs-identifier hs-var">mkWhere</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-422"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621679473880"><span class="hs-identifier hs-type">mkAssignments</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679473879"><span class="annot"><a href="#local-6989586621679473879"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679474224"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QField"><span class="hs-identifier hs-type">QField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473879"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QAssignment"><span class="hs-identifier hs-type">QAssignment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474225"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473879"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-423"></span><span>      </span><span id="local-6989586621679473880"><span class="annot"><span class="annottext">mkAssignments :: table (QField s) -&gt; QAssignment be s
</span><a href="#local-6989586621679473880"><span class="hs-identifier hs-var hs-var">mkAssignments</span></a></span></span><span> </span><span id="local-6989586621679473878"><span class="annot"><span class="annottext">table (QField s)
</span><a href="#local-6989586621679473878"><span class="hs-identifier hs-var">tblFields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-424"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679473877"><span class="annot"><span class="annottext">tblExprs :: table (QExpr be s)
</span><a href="#local-6989586621679473877"><span class="hs-identifier hs-var hs-var">tblExprs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall a. Columnar' (QField s) a -&gt; Columnar' (QExpr be s) a)
-&gt; table (QField s) -&gt; table (QExpr be s)
forall (table :: (* -&gt; *) -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *).
Beamable table =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a) -&gt; table f -&gt; table g
</span><a href="Database.Beam.Schema.Tables.html#changeBeamRep"><span class="hs-identifier hs-var">changeBeamRep</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Columnar%27"><span class="hs-identifier hs-type">Columnar'</span></a></span><span> </span><span id="local-6989586621679473876"><span class="annot"><span class="annottext">Columnar (QField s) a
</span><a href="#local-6989586621679473876"><span class="hs-identifier hs-var">fd</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Columnar (QExpr be s) a -&gt; Columnar' (QExpr be s) a
forall (f :: * -&gt; *) a. Columnar f a -&gt; Columnar' f a
</span><a href="Database.Beam.Schema.Tables.html#Columnar%27"><span class="hs-identifier hs-var">Columnar'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QField s a -&gt; QExpr be s a
forall be s ty. BeamSqlBackend be =&gt; QField s ty -&gt; QExpr be s ty
</span><a href="Database.Beam.Query.Combinators.html#current_"><span class="hs-identifier hs-var">current_</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar (QField s) a
QField s a
</span><a href="#local-6989586621679473876"><span class="hs-identifier hs-var">fd</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">table (QField s)
</span><a href="#local-6989586621679473878"><span class="hs-identifier hs-var">tblFields</span></a></span><span>
</span><span id="line-425"></span><span>        </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Writer (QAssignment be s) (table (QFieldAssignment be table))
-&gt; QAssignment be s
forall w a. Writer w a -&gt; w
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">execWriter</span></a></span><span> </span><span class="annot"><span class="annottext">(Writer (QAssignment be s) (table (QFieldAssignment be table))
 -&gt; QAssignment be s)
-&gt; Writer (QAssignment be s) (table (QFieldAssignment be table))
-&gt; QAssignment be s
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-426"></span><span>           </span><span class="annot"><span class="annottext">(forall a.
 Columnar' (QField s) a
 -&gt; Columnar' (QFieldAssignment be table) a
 -&gt; WriterT
      (QAssignment be s)
      Identity
      (Columnar' (QFieldAssignment be table) a))
-&gt; table (QField s)
-&gt; table (QFieldAssignment be table)
-&gt; Writer (QAssignment be s) (table (QFieldAssignment be table))
forall (table :: (* -&gt; *) -&gt; *) (m :: * -&gt; *) (f :: * -&gt; *)
       (g :: * -&gt; *) (h :: * -&gt; *).
(Beamable table, Applicative m) =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; table f -&gt; table g -&gt; m (table h)
</span><a href="Database.Beam.Schema.Tables.html#zipBeamFieldsM"><span class="hs-identifier hs-var">zipBeamFieldsM</span></a></span><span>
</span><span id="line-427"></span><span>             </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679473873"><span class="annot"><a href="Database.Beam.Schema.Tables.html#Columnar%27"><span class="hs-identifier hs-type">Columnar'</span></a></span><span> </span><span id="local-6989586621679473872"><span class="annot"><a href="#local-6989586621679473872"><span class="hs-identifier hs-var">field</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Columnar%27"><span class="hs-identifier hs-type">Columnar'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QField"><span class="hs-identifier hs-type">QField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473879"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679473873"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-428"></span><span>               </span><span id="local-6989586621679473871"><span class="annot"><span class="annottext">c :: Columnar' (QFieldAssignment be table) a
</span><a href="#local-6989586621679473871"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Columnar%27"><span class="hs-identifier hs-type">Columnar'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QFieldAssignment"><span class="hs-identifier hs-type">QFieldAssignment</span></a></span><span> </span><span id="local-6989586621679473869"><span class="annot"><a href="#local-6989586621679473869"><span class="hs-identifier hs-var">mkAssignment</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-429"></span><span>                </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">table (QExpr be s) -&gt; Maybe (QExpr be s a)
forall s. table (QExpr be s) -&gt; Maybe (QExpr be s a)
</span><a href="#local-6989586621679473869"><span class="hs-identifier hs-var">mkAssignment</span></a></span><span> </span><span class="annot"><span class="annottext">table (QExpr be s)
</span><a href="#local-6989586621679473877"><span class="hs-identifier hs-var">tblExprs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-430"></span><span>                  </span><span class="annot"><span class="annottext">Maybe (QExpr be s a)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Columnar' (QFieldAssignment be table) a
-&gt; WriterT
     (QAssignment be s)
     Identity
     (Columnar' (QFieldAssignment be table) a)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar' (QFieldAssignment be table) a
</span><a href="#local-6989586621679473871"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-431"></span><span>                  </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679473868"><span class="annot"><span class="annottext">QExpr be s a
</span><a href="#local-6989586621679473868"><span class="hs-identifier hs-var">newValue</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-432"></span><span>                    </span><span class="annot"><span class="annottext">QAssignment be s -&gt; WriterT (QAssignment be s) Identity ()
forall w (m :: * -&gt; *). MonadWriter w m =&gt; w -&gt; m ()
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">tell</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Columnar (QField s) a
QField s a
</span><a href="#local-6989586621679473872"><span class="hs-identifier hs-var">field</span></a></span><span> </span><span class="annot"><span class="annottext">QField s a -&gt; QExpr be s a -&gt; QAssignment be s
forall be s lhs rhs.
SqlUpdatable be s lhs rhs =&gt;
lhs -&gt; rhs -&gt; QAssignment be s
</span><a href="Database.Beam.Query.Combinators.html#%3C-."><span class="hs-operator hs-var">&lt;-.</span></a></span><span> </span><span class="annot"><span class="annottext">QExpr be s a
</span><a href="#local-6989586621679473868"><span class="hs-identifier hs-var">newValue</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-433"></span><span>                    </span><span class="annot"><span class="annottext">Columnar' (QFieldAssignment be table) a
-&gt; WriterT
     (QAssignment be s)
     Identity
     (Columnar' (QFieldAssignment be table) a)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar' (QFieldAssignment be table) a
</span><a href="#local-6989586621679473871"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-434"></span><span>             </span><span class="annot"><span class="annottext">table (QField s)
</span><a href="#local-6989586621679473878"><span class="hs-identifier hs-var">tblFields</span></a></span><span> </span><span class="annot"><span class="annottext">table (QFieldAssignment be table)
</span><a href="#local-6989586621679473882"><span class="hs-identifier hs-var">assignments</span></a></span><span>
</span><span id="line-435"></span><span>
</span><span id="line-436"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity table)
-&gt; (forall s. table (QField s) -&gt; QAssignment be s)
-&gt; (forall s. table (QExpr be s) -&gt; QExpr be s bool)
-&gt; SqlUpdate be table
forall bool (table :: (* -&gt; *) -&gt; *) (db :: (* -&gt; *) -&gt; *) be.
(BeamSqlBackend be, Beamable table) =&gt;
DatabaseEntity be db (TableEntity table)
-&gt; (forall s. table (QField s) -&gt; QAssignment be s)
-&gt; (forall s. table (QExpr be s) -&gt; QExpr be s bool)
-&gt; SqlUpdate be table
</span><a href="Database.Beam.Query.html#updateImpl"><span class="hs-identifier hs-var">updateImpl</span></a></span><span> </span><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity table)
</span><a href="#local-6989586621679473883"><span class="hs-identifier hs-var">tblEntity</span></a></span><span> </span><span class="annot"><span class="annottext">forall s. table (QField s) -&gt; QAssignment be s
</span><a href="#local-6989586621679473880"><span class="hs-identifier hs-var">mkAssignments</span></a></span><span> </span><span class="annot"><span class="annottext">forall s. table (QExpr be s) -&gt; QExpr be s bool
</span><a href="#local-6989586621679473881"><span class="hs-identifier hs-var">mkWhere</span></a></span><span>
</span><span id="line-437"></span><span>
</span><span id="line-438"></span><span class="hs-comment">-- | A specialization of 'update' that is more convenient for normal tables.</span><span>
</span><span id="line-439"></span><span class="hs-comment">--</span><span>
</span><span id="line-440"></span><span class="hs-comment">--   Use 'updateTable'' for comparisons with 'SqlBool'.</span><span>
</span><span id="line-441"></span><span class="annot"><a href="Database.Beam.Query.html#updateTable"><span class="hs-identifier hs-type">updateTable</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679473866"><span class="annot"><a href="#local-6989586621679473866"><span class="hs-identifier hs-type">table</span></a></span></span><span> </span><span id="local-6989586621679473865"><span class="annot"><a href="#local-6989586621679473865"><span class="hs-identifier hs-type">db</span></a></span></span><span> </span><span id="local-6989586621679473864"><span class="annot"><a href="#local-6989586621679473864"><span class="hs-identifier hs-type">be</span></a></span></span><span>
</span><span id="line-442"></span><span>             </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473864"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Beamable"><span class="hs-identifier hs-type">Beamable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473866"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-443"></span><span>            </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#DatabaseEntity"><span class="hs-identifier hs-type">DatabaseEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473864"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473865"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#TableEntity"><span class="hs-identifier hs-type">TableEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473866"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-444"></span><span>               </span><span class="hs-comment">-- ^ The table to update</span><span>
</span><span id="line-445"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679473866"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QFieldAssignment"><span class="hs-identifier hs-type">QFieldAssignment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473864"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473866"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-446"></span><span>               </span><span class="hs-comment">-- ^ Updates to be made (use 'set' to construct an empty field)</span><span>
</span><span id="line-447"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679474226"><span class="annot"><a href="#local-6989586621679474226"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679473866"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473864"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474226"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473864"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474226"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-448"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlUpdate"><span class="hs-identifier hs-type">SqlUpdate</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473864"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473866"><span class="hs-identifier hs-type">table</span></a></span><span>
</span><span id="line-449"></span><span id="updateTable"><span class="annot"><span class="annottext">updateTable :: DatabaseEntity be db (TableEntity table)
-&gt; table (QFieldAssignment be table)
-&gt; (forall s. table (QExpr be s) -&gt; QExpr be s Bool)
-&gt; SqlUpdate be table
</span><a href="Database.Beam.Query.html#updateTable"><span class="hs-identifier hs-var hs-var">updateTable</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall bool (table :: (* -&gt; *) -&gt; *) (db :: (* -&gt; *) -&gt; *) be.
(BeamSqlBackend be, Beamable table) =&gt;
DatabaseEntity be db (TableEntity table)
-&gt; table (QFieldAssignment be table)
-&gt; (forall s. table (QExpr be s) -&gt; QExpr be s bool)
-&gt; SqlUpdate be table
forall (table :: (* -&gt; *) -&gt; *) (db :: (* -&gt; *) -&gt; *) be.
(BeamSqlBackend be, Beamable table) =&gt;
DatabaseEntity be db (TableEntity table)
-&gt; table (QFieldAssignment be table)
-&gt; (forall s. table (QExpr be s) -&gt; QExpr be s Bool)
-&gt; SqlUpdate be table
</span><a href="Database.Beam.Query.html#updateTableImpl"><span class="hs-identifier hs-var">updateTableImpl</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-450"></span><span>
</span><span id="line-451"></span><span class="hs-comment">-- | A specialization of 'update'' that is more convenient for normal tables.</span><span>
</span><span id="line-452"></span><span class="hs-comment">--</span><span>
</span><span id="line-453"></span><span class="hs-comment">--   Use 'updateTable' for comparisons with 'Bool'.</span><span>
</span><span id="line-454"></span><span class="annot"><a href="Database.Beam.Query.html#updateTable%27"><span class="hs-identifier hs-type">updateTable'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679473863"><span class="annot"><a href="#local-6989586621679473863"><span class="hs-identifier hs-type">table</span></a></span></span><span> </span><span id="local-6989586621679473862"><span class="annot"><a href="#local-6989586621679473862"><span class="hs-identifier hs-type">db</span></a></span></span><span> </span><span id="local-6989586621679473861"><span class="annot"><a href="#local-6989586621679473861"><span class="hs-identifier hs-type">be</span></a></span></span><span>
</span><span id="line-455"></span><span>              </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473861"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Beamable"><span class="hs-identifier hs-type">Beamable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473863"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-456"></span><span>             </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#DatabaseEntity"><span class="hs-identifier hs-type">DatabaseEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473861"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473862"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#TableEntity"><span class="hs-identifier hs-type">TableEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473863"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-457"></span><span>                </span><span class="hs-comment">-- ^ The table to update</span><span>
</span><span id="line-458"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679473863"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QFieldAssignment"><span class="hs-identifier hs-type">QFieldAssignment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473861"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473863"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-459"></span><span>                </span><span class="hs-comment">-- ^ Updates to be made (use 'set' to construct an empty field)</span><span>
</span><span id="line-460"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679474218"><span class="annot"><a href="#local-6989586621679474218"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679473863"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473861"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474218"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473861"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474218"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Query.Operator.html#SqlBool"><span class="hs-identifier hs-type">SqlBool</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-461"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlUpdate"><span class="hs-identifier hs-type">SqlUpdate</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473861"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473863"><span class="hs-identifier hs-type">table</span></a></span><span>
</span><span id="line-462"></span><span id="updateTable%27"><span class="annot"><span class="annottext">updateTable' :: DatabaseEntity be db (TableEntity table)
-&gt; table (QFieldAssignment be table)
-&gt; (forall s. table (QExpr be s) -&gt; QExpr be s SqlBool)
-&gt; SqlUpdate be table
</span><a href="Database.Beam.Query.html#updateTable%27"><span class="hs-identifier hs-var hs-var">updateTable'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall bool (table :: (* -&gt; *) -&gt; *) (db :: (* -&gt; *) -&gt; *) be.
(BeamSqlBackend be, Beamable table) =&gt;
DatabaseEntity be db (TableEntity table)
-&gt; table (QFieldAssignment be table)
-&gt; (forall s. table (QExpr be s) -&gt; QExpr be s bool)
-&gt; SqlUpdate be table
forall (table :: (* -&gt; *) -&gt; *) (db :: (* -&gt; *) -&gt; *) be.
(BeamSqlBackend be, Beamable table) =&gt;
DatabaseEntity be db (TableEntity table)
-&gt; table (QFieldAssignment be table)
-&gt; (forall s. table (QExpr be s) -&gt; QExpr be s SqlBool)
-&gt; SqlUpdate be table
</span><a href="Database.Beam.Query.html#updateTableImpl"><span class="hs-identifier hs-var">updateTableImpl</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Database.Beam.Query.Operator.html#SqlBool"><span class="hs-identifier hs-type">SqlBool</span></a></span><span>
</span><span id="line-463"></span><span>
</span><span id="line-464"></span><span class="hs-comment">-- | Convenience form of 'updateTable' that generates a @WHERE@ clause</span><span>
</span><span id="line-465"></span><span class="hs-comment">-- that matches only the already existing entity.</span><span>
</span><span id="line-466"></span><span class="hs-comment">--</span><span>
</span><span id="line-467"></span><span class="hs-comment">-- Use 'updateTableRow'' for an internal 'SqlBool' comparison.</span><span>
</span><span id="line-468"></span><span id="local-6989586621679474134"><span id="local-6989586621679474136"><span id="local-6989586621679474137"><span class="annot"><a href="Database.Beam.Query.html#updateTableRow"><span class="hs-identifier hs-type">updateTableRow</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474137"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Table"><span class="hs-identifier hs-type">Table</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474136"><span class="hs-identifier hs-type">table</span></a></span><span>
</span><span id="line-469"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#HasTableEquality"><span class="hs-identifier hs-type">HasTableEquality</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474137"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474136"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-470"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Combinators.html#SqlValableTable"><span class="hs-identifier hs-type">SqlValableTable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474137"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474136"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-471"></span><span>               </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#DatabaseEntity"><span class="hs-identifier hs-type">DatabaseEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474137"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474134"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#TableEntity"><span class="hs-identifier hs-type">TableEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474136"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-472"></span><span>                  </span><span class="hs-comment">-- ^ The table to update</span><span>
</span><span id="line-473"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679474136"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span>
</span><span id="line-474"></span><span>                  </span><span class="hs-comment">-- ^ The row to update</span><span>
</span><span id="line-475"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679474136"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QFieldAssignment"><span class="hs-identifier hs-type">QFieldAssignment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474137"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474136"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-476"></span><span>                  </span><span class="hs-comment">-- ^ Updates to be made (use 'set' to construct an empty field)</span><span>
</span><span id="line-477"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlUpdate"><span class="hs-identifier hs-type">SqlUpdate</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474137"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474136"><span class="hs-identifier hs-type">table</span></a></span></span></span></span><span>
</span><span id="line-478"></span><span id="updateTableRow"><span class="annot"><span class="annottext">updateTableRow :: DatabaseEntity be db (TableEntity table)
-&gt; table Identity
-&gt; table (QFieldAssignment be table)
-&gt; SqlUpdate be table
</span><a href="Database.Beam.Query.html#updateTableRow"><span class="hs-identifier hs-var hs-var">updateTableRow</span></a></span></span><span> </span><span id="local-6989586621679473860"><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity table)
</span><a href="#local-6989586621679473860"><span class="hs-identifier hs-var">tbl</span></a></span></span><span> </span><span id="local-6989586621679473859"><span class="annot"><span class="annottext">table Identity
</span><a href="#local-6989586621679473859"><span class="hs-identifier hs-var">row</span></a></span></span><span> </span><span id="local-6989586621679473858"><span class="annot"><span class="annottext">table (QFieldAssignment be table)
</span><a href="#local-6989586621679473858"><span class="hs-identifier hs-var">assignments</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-479"></span><span>  </span><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity table)
-&gt; table (QFieldAssignment be table)
-&gt; (forall s. table (QExpr be s) -&gt; QExpr be s Bool)
-&gt; SqlUpdate be table
forall (table :: (* -&gt; *) -&gt; *) (db :: (* -&gt; *) -&gt; *) be.
(BeamSqlBackend be, Beamable table) =&gt;
DatabaseEntity be db (TableEntity table)
-&gt; table (QFieldAssignment be table)
-&gt; (forall s. table (QExpr be s) -&gt; QExpr be s Bool)
-&gt; SqlUpdate be table
</span><a href="Database.Beam.Query.html#updateTable"><span class="hs-identifier hs-var">updateTable</span></a></span><span> </span><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity table)
</span><a href="#local-6989586621679473860"><span class="hs-identifier hs-var">tbl</span></a></span><span> </span><span class="annot"><span class="annottext">table (QFieldAssignment be table)
</span><a href="#local-6989586621679473858"><span class="hs-identifier hs-var">assignments</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrimaryKey table (QGenExpr QValueContext be s)
-&gt; table (QGenExpr QValueContext be s)
-&gt; QGenExpr QValueContext be s Bool
forall (t :: (* -&gt; *) -&gt; *) be ctxt s.
(Table t, BeamSqlBackend be, HasTableEquality be (PrimaryKey t)) =&gt;
PrimaryKey t (QGenExpr ctxt be s)
-&gt; t (QGenExpr ctxt be s) -&gt; QGenExpr ctxt be s Bool
</span><a href="Database.Beam.Query.Combinators.html#references_"><span class="hs-identifier hs-var">references_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HaskellLiteralForQExpr
  (PrimaryKey table (QGenExpr QValueContext be s))
-&gt; PrimaryKey table (QGenExpr QValueContext be s)
forall a. SqlValable a =&gt; HaskellLiteralForQExpr a -&gt; a
</span><a href="Database.Beam.Query.Combinators.html#val_"><span class="hs-identifier hs-var">val_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">table Identity -&gt; PrimaryKey table Identity
forall (t :: (* -&gt; *) -&gt; *) (f :: * -&gt; *).
Table t =&gt;
t f -&gt; PrimaryKey t f
</span><a href="Database.Beam.Schema.Tables.html#pk"><span class="hs-identifier hs-var">pk</span></a></span><span> </span><span class="annot"><span class="annottext">table Identity
</span><a href="#local-6989586621679473859"><span class="hs-identifier hs-var">row</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-480"></span><span>
</span><span id="line-481"></span><span class="hs-comment">-- | Convenience form of 'updateTable'' that generates a @WHERE@ clause</span><span>
</span><span id="line-482"></span><span class="hs-comment">-- that matches only the already existing entity.</span><span>
</span><span id="line-483"></span><span class="hs-comment">--</span><span>
</span><span id="line-484"></span><span class="hs-comment">-- Uses 'update'' with a 'SqlBool' comparison.</span><span>
</span><span id="line-485"></span><span class="hs-comment">-- Use 'updateTableRow' for an internal 'Bool' comparison.</span><span>
</span><span id="line-486"></span><span id="local-6989586621679473855"><span id="local-6989586621679473856"><span id="local-6989586621679473857"><span class="annot"><a href="Database.Beam.Query.html#updateTableRow%27"><span class="hs-identifier hs-type">updateTableRow'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473857"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Table"><span class="hs-identifier hs-type">Table</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473856"><span class="hs-identifier hs-type">table</span></a></span><span>
</span><span id="line-487"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#HasTableEquality"><span class="hs-identifier hs-type">HasTableEquality</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473857"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473856"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-488"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Combinators.html#SqlValableTable"><span class="hs-identifier hs-type">SqlValableTable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473857"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473856"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-489"></span><span>                </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#DatabaseEntity"><span class="hs-identifier hs-type">DatabaseEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473857"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473855"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#TableEntity"><span class="hs-identifier hs-type">TableEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473856"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-490"></span><span>                   </span><span class="hs-comment">-- ^ The table to update</span><span>
</span><span id="line-491"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679473856"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span>
</span><span id="line-492"></span><span>                   </span><span class="hs-comment">-- ^ The row to update</span><span>
</span><span id="line-493"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679473856"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QFieldAssignment"><span class="hs-identifier hs-type">QFieldAssignment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473857"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473856"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-494"></span><span>                   </span><span class="hs-comment">-- ^ Updates to be made (use 'set' to construct an empty field)</span><span>
</span><span id="line-495"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlUpdate"><span class="hs-identifier hs-type">SqlUpdate</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473857"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473856"><span class="hs-identifier hs-type">table</span></a></span></span></span></span><span>
</span><span id="line-496"></span><span id="updateTableRow%27"><span class="annot"><span class="annottext">updateTableRow' :: DatabaseEntity be db (TableEntity table)
-&gt; table Identity
-&gt; table (QFieldAssignment be table)
-&gt; SqlUpdate be table
</span><a href="Database.Beam.Query.html#updateTableRow%27"><span class="hs-identifier hs-var hs-var">updateTableRow'</span></a></span></span><span> </span><span id="local-6989586621679473854"><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity table)
</span><a href="#local-6989586621679473854"><span class="hs-identifier hs-var">tbl</span></a></span></span><span> </span><span id="local-6989586621679473853"><span class="annot"><span class="annottext">table Identity
</span><a href="#local-6989586621679473853"><span class="hs-identifier hs-var">row</span></a></span></span><span> </span><span id="local-6989586621679473852"><span class="annot"><span class="annottext">table (QFieldAssignment be table)
</span><a href="#local-6989586621679473852"><span class="hs-identifier hs-var">assignments</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-497"></span><span>  </span><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity table)
-&gt; table (QFieldAssignment be table)
-&gt; (forall s. table (QExpr be s) -&gt; QExpr be s SqlBool)
-&gt; SqlUpdate be table
forall (table :: (* -&gt; *) -&gt; *) (db :: (* -&gt; *) -&gt; *) be.
(BeamSqlBackend be, Beamable table) =&gt;
DatabaseEntity be db (TableEntity table)
-&gt; table (QFieldAssignment be table)
-&gt; (forall s. table (QExpr be s) -&gt; QExpr be s SqlBool)
-&gt; SqlUpdate be table
</span><a href="Database.Beam.Query.html#updateTable%27"><span class="hs-identifier hs-var">updateTable'</span></a></span><span> </span><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity table)
</span><a href="#local-6989586621679473854"><span class="hs-identifier hs-var">tbl</span></a></span><span> </span><span class="annot"><span class="annottext">table (QFieldAssignment be table)
</span><a href="#local-6989586621679473852"><span class="hs-identifier hs-var">assignments</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrimaryKey table (QGenExpr QValueContext be s)
-&gt; table (QGenExpr QValueContext be s)
-&gt; QGenExpr QValueContext be s SqlBool
forall (t :: (* -&gt; *) -&gt; *) be ctxt s.
(Table t, BeamSqlBackend be, HasTableEquality be (PrimaryKey t)) =&gt;
PrimaryKey t (QGenExpr ctxt be s)
-&gt; t (QGenExpr ctxt be s) -&gt; QGenExpr ctxt be s SqlBool
</span><a href="Database.Beam.Query.Combinators.html#references_%27"><span class="hs-identifier hs-var">references_'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HaskellLiteralForQExpr
  (PrimaryKey table (QGenExpr QValueContext be s))
-&gt; PrimaryKey table (QGenExpr QValueContext be s)
forall a. SqlValable a =&gt; HaskellLiteralForQExpr a -&gt; a
</span><a href="Database.Beam.Query.Combinators.html#val_"><span class="hs-identifier hs-var">val_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">table Identity -&gt; PrimaryKey table Identity
forall (t :: (* -&gt; *) -&gt; *) (f :: * -&gt; *).
Table t =&gt;
t f -&gt; PrimaryKey t f
</span><a href="Database.Beam.Schema.Tables.html#pk"><span class="hs-identifier hs-var">pk</span></a></span><span> </span><span class="annot"><span class="annottext">table Identity
</span><a href="#local-6989586621679473853"><span class="hs-identifier hs-var">row</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-498"></span><span>
</span><span id="line-499"></span><span class="annot"><a href="Database.Beam.Query.html#set"><span class="hs-identifier hs-type">set</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679473851"><span class="annot"><a href="#local-6989586621679473851"><span class="hs-identifier hs-type">table</span></a></span></span><span> </span><span id="local-6989586621679473850"><span class="annot"><a href="#local-6989586621679473850"><span class="hs-identifier hs-type">be</span></a></span></span><span> </span><span id="local-6989586621679473849"><span class="annot"><a href="#local-6989586621679473849"><span class="hs-identifier hs-type">table'</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Beamable"><span class="hs-identifier hs-type">Beamable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473851"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679473851"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QFieldAssignment"><span class="hs-identifier hs-type">QFieldAssignment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473850"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473849"><span class="hs-identifier hs-type">table'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-500"></span><span id="set"><span class="annot"><span class="annottext">set :: table (QFieldAssignment be table')
</span><a href="Database.Beam.Query.html#set"><span class="hs-identifier hs-var hs-var">set</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall a.
 Columnar' Ignored a -&gt; Columnar' (QFieldAssignment be table') a)
-&gt; table Ignored -&gt; table (QFieldAssignment be table')
forall (table :: (* -&gt; *) -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *).
Beamable table =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a) -&gt; table f -&gt; table g
</span><a href="Database.Beam.Schema.Tables.html#changeBeamRep"><span class="hs-identifier hs-var">changeBeamRep</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Columnar' Ignored a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Columnar (QFieldAssignment be table') a
-&gt; Columnar' (QFieldAssignment be table') a
forall (f :: * -&gt; *) a. Columnar f a -&gt; Columnar' f a
</span><a href="Database.Beam.Schema.Tables.html#Columnar%27"><span class="hs-identifier hs-var">Columnar'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall s. table' (QExpr be s) -&gt; Maybe (QExpr be s a))
-&gt; QFieldAssignment be table' a
forall be (tbl :: (* -&gt; *) -&gt; *) a.
(forall s. tbl (QExpr be s) -&gt; Maybe (QExpr be s a))
-&gt; QFieldAssignment be tbl a
</span><a href="Database.Beam.Query.Internal.html#QFieldAssignment"><span class="hs-identifier hs-var">QFieldAssignment</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">table' (QExpr be s)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (QExpr be s a)
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">table Ignored
forall (table :: (* -&gt; *) -&gt; *).
Beamable table =&gt;
TableSkeleton table
</span><a href="Database.Beam.Schema.Tables.html#tblSkeleton"><span class="hs-identifier hs-var">tblSkeleton</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#TableSkeleton"><span class="hs-identifier hs-type">TableSkeleton</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473851"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-501"></span><span>
</span><span id="line-502"></span><span class="annot"><a href="Database.Beam.Query.html#setFieldsTo"><span class="hs-identifier hs-type">setFieldsTo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679474133"><span class="annot"><a href="#local-6989586621679474133"><span class="hs-identifier hs-type">table</span></a></span></span><span> </span><span id="local-6989586621679474132"><span class="annot"><a href="#local-6989586621679474132"><span class="hs-identifier hs-type">be</span></a></span></span><span> </span><span id="local-6989586621679474131"><span class="annot"><a href="#local-6989586621679474131"><span class="hs-identifier hs-type">table'</span></a></span></span><span>
</span><span id="line-503"></span><span>             </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Table"><span class="hs-identifier hs-type">Table</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474133"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679474197"><span class="annot"><a href="#local-6989586621679474197"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679474133"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474132"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474197"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679474133"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QFieldAssignment"><span class="hs-identifier hs-type">QFieldAssignment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474132"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474131"><span class="hs-identifier hs-type">table'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-504"></span><span id="setFieldsTo"><span class="annot"><span class="annottext">setFieldsTo :: (forall s. table (QExpr be s))
-&gt; table (QFieldAssignment be table')
</span><a href="Database.Beam.Query.html#setFieldsTo"><span class="hs-identifier hs-var hs-var">setFieldsTo</span></a></span></span><span> </span><span id="local-6989586621679473847"><span class="annot"><span class="annottext">forall s. table (QExpr be s)
</span><a href="#local-6989586621679473847"><span class="hs-identifier hs-var">tbl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-505"></span><span>
</span><span id="line-506"></span><span>  </span><span class="annot"><span class="annottext">Identity (table (QFieldAssignment be table'))
-&gt; table (QFieldAssignment be table')
forall a. Identity a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var">runIdentity</span></a></span><span> </span><span class="annot"><span class="annottext">(Identity (table (QFieldAssignment be table'))
 -&gt; table (QFieldAssignment be table'))
-&gt; Identity (table (QFieldAssignment be table'))
-&gt; table (QFieldAssignment be table')
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-507"></span><span>  </span><span class="annot"><span class="annottext">(forall a.
 Columnar' (Const Int) a
 -&gt; Columnar' (QExpr be Any) a
 -&gt; Identity (Columnar' (QFieldAssignment be table') a))
-&gt; table (Const Int)
-&gt; table (QExpr be Any)
-&gt; Identity (table (QFieldAssignment be table'))
forall (table :: (* -&gt; *) -&gt; *) (m :: * -&gt; *) (f :: * -&gt; *)
       (g :: * -&gt; *) (h :: * -&gt; *).
(Beamable table, Applicative m) =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; table f -&gt; table g -&gt; m (table h)
</span><a href="Database.Beam.Schema.Tables.html#zipBeamFieldsM"><span class="hs-identifier hs-var">zipBeamFieldsM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Columnar%27"><span class="hs-identifier hs-type">Columnar'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Const</span></a></span><span> </span><span id="local-6989586621679473844"><span class="annot"><a href="#local-6989586621679473844"><span class="hs-identifier hs-var">columnIx</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-508"></span><span>                   </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Columnar%27"><span class="hs-identifier hs-type">Columnar'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span id="local-6989586621679473843"><span class="annot"><a href="#local-6989586621679473843"><span class="hs-identifier hs-var">newValue</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-509"></span><span>                    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679473844"><span class="hs-identifier hs-var">columnIx</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Int] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621679473841"><span class="hs-identifier hs-var">primaryKeyIndices</span></a></span><span>
</span><span id="line-510"></span><span>                    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Columnar' (QFieldAssignment be table') a
-&gt; Identity (Columnar' (QFieldAssignment be table') a)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Columnar' (QFieldAssignment be table') a
 -&gt; Identity (Columnar' (QFieldAssignment be table') a))
-&gt; Columnar' (QFieldAssignment be table') a
-&gt; Identity (Columnar' (QFieldAssignment be table') a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar (QFieldAssignment be table') a
-&gt; Columnar' (QFieldAssignment be table') a
forall (f :: * -&gt; *) a. Columnar f a -&gt; Columnar' f a
</span><a href="Database.Beam.Schema.Tables.html#Columnar%27"><span class="hs-identifier hs-var">Columnar'</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar (QFieldAssignment be table') a
forall be (table :: (* -&gt; *) -&gt; *) a. QFieldAssignment be table a
</span><a href="Database.Beam.Query.html#toOldValue"><span class="hs-identifier hs-var">toOldValue</span></a></span><span>
</span><span id="line-511"></span><span>                    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Columnar' (QFieldAssignment be table') a
-&gt; Identity (Columnar' (QFieldAssignment be table') a)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Columnar' (QFieldAssignment be table') a
 -&gt; Identity (Columnar' (QFieldAssignment be table') a))
-&gt; Columnar' (QFieldAssignment be table') a
-&gt; Identity (Columnar' (QFieldAssignment be table') a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar (QFieldAssignment be table') a
-&gt; Columnar' (QFieldAssignment be table') a
forall (f :: * -&gt; *) a. Columnar f a -&gt; Columnar' f a
</span><a href="Database.Beam.Schema.Tables.html#Columnar%27"><span class="hs-identifier hs-var">Columnar'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall s. QExpr be s a) -&gt; QFieldAssignment be table' a
forall be a (table :: (* -&gt; *) -&gt; *).
(forall s. QExpr be s a) -&gt; QFieldAssignment be table a
</span><a href="Database.Beam.Query.html#toNewValue"><span class="hs-identifier hs-var">toNewValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TablePrefix -&gt; BeamSqlBackendExpressionSyntax be)
-&gt; QGenExpr QValueContext be s a
forall context be s t.
(TablePrefix -&gt; BeamSqlBackendExpressionSyntax be)
-&gt; QGenExpr context be s t
</span><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-var">QExpr</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix -&gt; BeamSqlBackendExpressionSyntax be
</span><a href="#local-6989586621679473843"><span class="hs-identifier hs-var">newValue</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-512"></span><span>                 </span><span class="annot"><span class="annottext">table (Const Int)
</span><a href="#local-6989586621679473840"><span class="hs-identifier hs-var">indexedTable</span></a></span><span> </span><span class="annot"><span class="annottext">table (QExpr be Any)
forall s. table (QExpr be s)
</span><a href="#local-6989586621679473847"><span class="hs-identifier hs-var">tbl</span></a></span><span>
</span><span id="line-513"></span><span>
</span><span id="line-514"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-515"></span><span>    </span><span class="annot"><a href="#local-6989586621679473840"><span class="hs-identifier hs-type">indexedTable</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679474133"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Const</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-516"></span><span>    </span><span id="local-6989586621679473840"><span class="annot"><span class="annottext">indexedTable :: table (Const Int)
</span><a href="#local-6989586621679473840"><span class="hs-identifier hs-var hs-var">indexedTable</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-517"></span><span>      </span><span class="annot"><span class="annottext">(State Int (table (Const Int)) -&gt; Int -&gt; table (Const Int))
-&gt; Int -&gt; State Int (table (Const Int)) -&gt; table (Const Int)
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">State Int (table (Const Int)) -&gt; Int -&gt; table (Const Int)
forall s a. State s a -&gt; s -&gt; a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">evalState</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">(State Int (table (Const Int)) -&gt; table (Const Int))
-&gt; State Int (table (Const Int)) -&gt; table (Const Int)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-518"></span><span>      </span><span class="annot"><span class="annottext">(forall a.
 Columnar' Ignored a
 -&gt; Columnar' Ignored a
 -&gt; StateT Int Identity (Columnar' (Const Int) a))
-&gt; table Ignored -&gt; table Ignored -&gt; State Int (table (Const Int))
forall (table :: (* -&gt; *) -&gt; *) (m :: * -&gt; *) (f :: * -&gt; *)
       (g :: * -&gt; *) (h :: * -&gt; *).
(Beamable table, Applicative m) =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a -&gt; m (Columnar' h a))
-&gt; table f -&gt; table g -&gt; m (table h)
</span><a href="Database.Beam.Schema.Tables.html#zipBeamFieldsM"><span class="hs-identifier hs-var">zipBeamFieldsM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Columnar' Ignored a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Columnar' Ignored a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-519"></span><span>                         </span><span id="local-6989586621679473838"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679473838"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">StateT Int Identity Int
forall s (m :: * -&gt; *). MonadState s m =&gt; m s
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">get</span></a></span><span>
</span><span id="line-520"></span><span>                         </span><span class="annot"><span class="annottext">Int -&gt; StateT Int Identity ()
forall s (m :: * -&gt; *). MonadState s m =&gt; s -&gt; m ()
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">put</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679473838"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-521"></span><span>                         </span><span class="annot"><span class="annottext">Columnar' (Const Int) a
-&gt; StateT Int Identity (Columnar' (Const Int) a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Columnar (Const Int) a -&gt; Columnar' (Const Int) a
forall (f :: * -&gt; *) a. Columnar f a -&gt; Columnar' f a
</span><a href="Database.Beam.Schema.Tables.html#Columnar%27"><span class="hs-identifier hs-var">Columnar'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Const Int a
forall k a (b :: k). a -&gt; Const a b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Const</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679473838"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-522"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">table Ignored
forall (table :: (* -&gt; *) -&gt; *).
Beamable table =&gt;
TableSkeleton table
</span><a href="Database.Beam.Schema.Tables.html#tblSkeleton"><span class="hs-identifier hs-var">tblSkeleton</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#TableSkeleton"><span class="hs-identifier hs-type">TableSkeleton</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474133"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">table Ignored
forall (table :: (* -&gt; *) -&gt; *).
Beamable table =&gt;
TableSkeleton table
</span><a href="Database.Beam.Schema.Tables.html#tblSkeleton"><span class="hs-identifier hs-var">tblSkeleton</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#TableSkeleton"><span class="hs-identifier hs-type">TableSkeleton</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474133"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-523"></span><span>
</span><span id="line-524"></span><span>    </span><span class="annot"><a href="#local-6989586621679473841"><span class="hs-identifier hs-type">primaryKeyIndices</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-525"></span><span>    </span><span id="local-6989586621679473841"><span class="annot"><span class="annottext">primaryKeyIndices :: [Int]
</span><a href="#local-6989586621679473841"><span class="hs-identifier hs-var hs-var">primaryKeyIndices</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall a. Columnar' (Const Int) a -&gt; Int)
-&gt; PrimaryKey table (Const Int) -&gt; [Int]
forall (table :: (* -&gt; *) -&gt; *) (f :: * -&gt; *) b.
Beamable table =&gt;
(forall a. Columnar' f a -&gt; b) -&gt; table f -&gt; [b]
</span><a href="Database.Beam.Schema.Tables.html#allBeamValues"><span class="hs-identifier hs-var">allBeamValues</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Columnar%27"><span class="hs-identifier hs-type">Columnar'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Const</span></a></span><span> </span><span id="local-6989586621679473834"><span class="annot"><a href="#local-6989586621679473834"><span class="hs-identifier hs-var">ix</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679473834"><span class="hs-identifier hs-var">ix</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">table (Const Int) -&gt; PrimaryKey table (Const Int)
forall (table :: (* -&gt; *) -&gt; *) (column :: * -&gt; *).
Table table =&gt;
table column -&gt; PrimaryKey table column
</span><a href="Database.Beam.Schema.Tables.html#primaryKey"><span class="hs-identifier hs-var">primaryKey</span></a></span><span> </span><span class="annot"><span class="annottext">table (Const Int)
</span><a href="#local-6989586621679473840"><span class="hs-identifier hs-var">indexedTable</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-526"></span><span>
</span><span id="line-527"></span><span class="hs-comment">-- | Use with 'set' to set a field to an explicit new value that does</span><span>
</span><span id="line-528"></span><span class="hs-comment">-- not depend on any other value</span><span>
</span><span id="line-529"></span><span id="local-6989586621679474184"><span id="local-6989586621679474185"><span id="local-6989586621679474186"><span class="annot"><a href="Database.Beam.Query.html#toNewValue"><span class="hs-identifier hs-type">toNewValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679474187"><span class="annot"><a href="#local-6989586621679474187"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474186"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474187"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474185"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QFieldAssignment"><span class="hs-identifier hs-type">QFieldAssignment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474186"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474184"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474185"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-530"></span><span id="toNewValue"><span class="annot"><span class="annottext">toNewValue :: (forall s. QExpr be s a) -&gt; QFieldAssignment be table a
</span><a href="Database.Beam.Query.html#toNewValue"><span class="hs-identifier hs-var hs-var">toNewValue</span></a></span></span><span> </span><span id="local-6989586621679473832"><span class="annot"><span class="annottext">forall s. QExpr be s a
</span><a href="#local-6989586621679473832"><span class="hs-identifier hs-var">newVal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s. table (QExpr be s) -&gt; QExpr be s a)
-&gt; QFieldAssignment be table a
forall (table :: (* -&gt; *) -&gt; *) be a.
(forall s. table (QExpr be s) -&gt; QExpr be s a)
-&gt; QFieldAssignment be table a
</span><a href="Database.Beam.Query.html#toUpdatedValue"><span class="hs-identifier hs-var">toUpdatedValue</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">table (QExpr be s)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">QExpr be s a
forall s. QExpr be s a
</span><a href="#local-6989586621679473832"><span class="hs-identifier hs-var">newVal</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-531"></span><span>
</span><span id="line-532"></span><span class="hs-comment">-- | Use with 'set' to not modify the field</span><span>
</span><span id="line-533"></span><span id="local-6989586621679474188"><span id="local-6989586621679474189"><span id="local-6989586621679474190"><span class="annot"><a href="Database.Beam.Query.html#toOldValue"><span class="hs-identifier hs-type">toOldValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QFieldAssignment"><span class="hs-identifier hs-type">QFieldAssignment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474190"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474189"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474188"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-534"></span><span id="toOldValue"><span class="annot"><span class="annottext">toOldValue :: QFieldAssignment be table a
</span><a href="Database.Beam.Query.html#toOldValue"><span class="hs-identifier hs-var hs-var">toOldValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s. table (QExpr be s) -&gt; Maybe (QExpr be s a))
-&gt; QFieldAssignment be table a
forall (table :: (* -&gt; *) -&gt; *) be a.
(forall s. table (QExpr be s) -&gt; Maybe (QExpr be s a))
-&gt; QFieldAssignment be table a
</span><a href="Database.Beam.Query.html#toUpdatedValueMaybe"><span class="hs-identifier hs-var">toUpdatedValueMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">table (QExpr be s)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (QExpr be s a)
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-535"></span><span>
</span><span id="line-536"></span><span class="hs-comment">-- | Use with 'set' to set a field to a new value that is calculated</span><span>
</span><span id="line-537"></span><span class="hs-comment">-- based on one or more fields from the existing row</span><span>
</span><span id="line-538"></span><span id="local-6989586621679474160"><span id="local-6989586621679474161"><span id="local-6989586621679474162"><span class="annot"><a href="Database.Beam.Query.html#toUpdatedValue"><span class="hs-identifier hs-type">toUpdatedValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679474163"><span class="annot"><a href="#local-6989586621679474163"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679474162"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474161"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474163"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474161"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474163"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474160"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QFieldAssignment"><span class="hs-identifier hs-type">QFieldAssignment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474161"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474162"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474160"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-539"></span><span id="toUpdatedValue"><span class="annot"><span class="annottext">toUpdatedValue :: (forall s. table (QExpr be s) -&gt; QExpr be s a)
-&gt; QFieldAssignment be table a
</span><a href="Database.Beam.Query.html#toUpdatedValue"><span class="hs-identifier hs-var hs-var">toUpdatedValue</span></a></span></span><span> </span><span id="local-6989586621679473831"><span class="annot"><span class="annottext">forall s. table (QExpr be s) -&gt; QExpr be s a
</span><a href="#local-6989586621679473831"><span class="hs-identifier hs-var">mkNewVal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s. table (QExpr be s) -&gt; Maybe (QExpr be s a))
-&gt; QFieldAssignment be table a
forall (table :: (* -&gt; *) -&gt; *) be a.
(forall s. table (QExpr be s) -&gt; Maybe (QExpr be s a))
-&gt; QFieldAssignment be table a
</span><a href="Database.Beam.Query.html#toUpdatedValueMaybe"><span class="hs-identifier hs-var">toUpdatedValueMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QExpr be s a -&gt; Maybe (QExpr be s a)
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(QExpr be s a -&gt; Maybe (QExpr be s a))
-&gt; (table (QExpr be s) -&gt; QExpr be s a)
-&gt; table (QExpr be s)
-&gt; Maybe (QExpr be s a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">table (QExpr be s) -&gt; QExpr be s a
forall s. table (QExpr be s) -&gt; QExpr be s a
</span><a href="#local-6989586621679473831"><span class="hs-identifier hs-var">mkNewVal</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-540"></span><span>
</span><span id="line-541"></span><span class="hs-comment">-- | Use with 'set' to optionally set a fiield to a new value,</span><span>
</span><span id="line-542"></span><span class="hs-comment">-- calculated based on one or more fields from the existing row</span><span>
</span><span id="line-543"></span><span id="local-6989586621679474152"><span id="local-6989586621679474153"><span id="local-6989586621679474154"><span class="annot"><a href="Database.Beam.Query.html#toUpdatedValueMaybe"><span class="hs-identifier hs-type">toUpdatedValueMaybe</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679474155"><span class="annot"><a href="#local-6989586621679474155"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679474154"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474153"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474155"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474153"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474155"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474152"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QFieldAssignment"><span class="hs-identifier hs-type">QFieldAssignment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474153"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474154"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474152"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-544"></span><span id="toUpdatedValueMaybe"><span class="annot"><span class="annottext">toUpdatedValueMaybe :: (forall s. table (QExpr be s) -&gt; Maybe (QExpr be s a))
-&gt; QFieldAssignment be table a
</span><a href="Database.Beam.Query.html#toUpdatedValueMaybe"><span class="hs-identifier hs-var hs-var">toUpdatedValueMaybe</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s. table (QExpr be s) -&gt; Maybe (QExpr be s a))
-&gt; QFieldAssignment be table a
forall be (tbl :: (* -&gt; *) -&gt; *) a.
(forall s. tbl (QExpr be s) -&gt; Maybe (QExpr be s a))
-&gt; QFieldAssignment be tbl a
</span><a href="Database.Beam.Query.Internal.html#QFieldAssignment"><span class="hs-identifier hs-var">QFieldAssignment</span></a></span><span>
</span><span id="line-545"></span><span>
</span><span id="line-546"></span><span class="hs-comment">-- | Generate a 'SqlUpdate' that will update the given table row with the given value.</span><span>
</span><span id="line-547"></span><span class="hs-comment">--</span><span>
</span><span id="line-548"></span><span class="hs-comment">--   The SQL @UPDATE@ that is generated will set every non-primary key field for</span><span>
</span><span id="line-549"></span><span class="hs-comment">--   the row where each primary key field is exactly what is given.</span><span>
</span><span id="line-550"></span><span class="hs-comment">--</span><span>
</span><span id="line-551"></span><span class="hs-comment">--   Note: This is a pure SQL @UPDATE@ command. This does not upsert or merge values.</span><span>
</span><span id="line-552"></span><span class="hs-comment">--</span><span>
</span><span id="line-553"></span><span class="hs-comment">--   Use 'save'' for an internal 'SqlBool' comparison.</span><span>
</span><span id="line-554"></span><span class="annot"><a href="Database.Beam.Query.html#save"><span class="hs-identifier hs-type">save</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679473829"><span class="annot"><a href="#local-6989586621679473829"><span class="hs-identifier hs-type">table</span></a></span></span><span> </span><span id="local-6989586621679473828"><span class="annot"><a href="#local-6989586621679473828"><span class="hs-identifier hs-type">be</span></a></span></span><span> </span><span id="local-6989586621679473827"><span class="annot"><a href="#local-6989586621679473827"><span class="hs-identifier hs-type">db</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-555"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Table"><span class="hs-identifier hs-type">Table</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473829"><span class="hs-identifier hs-type">table</span></a></span><span>
</span><span id="line-556"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473828"><span class="hs-identifier hs-type">be</span></a></span><span>
</span><span id="line-557"></span><span>
</span><span id="line-558"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Combinators.html#SqlValableTable"><span class="hs-identifier hs-type">SqlValableTable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473828"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473829"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-559"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Combinators.html#SqlValableTable"><span class="hs-identifier hs-type">SqlValableTable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473828"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473829"><span class="hs-identifier hs-type">table</span></a></span><span>
</span><span id="line-560"></span><span>
</span><span id="line-561"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#HasTableEquality"><span class="hs-identifier hs-type">HasTableEquality</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473828"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473829"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-562"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-563"></span><span>     </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#DatabaseEntity"><span class="hs-identifier hs-type">DatabaseEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473828"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473827"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#TableEntity"><span class="hs-identifier hs-type">TableEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473829"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-564"></span><span>        </span><span class="hs-comment">-- ^ Table to update</span><span>
</span><span id="line-565"></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679473829"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span>
</span><span id="line-566"></span><span>        </span><span class="hs-comment">-- ^ Value to set to</span><span>
</span><span id="line-567"></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlUpdate"><span class="hs-identifier hs-type">SqlUpdate</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473828"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473829"><span class="hs-identifier hs-type">table</span></a></span><span>
</span><span id="line-568"></span><span id="save"><span class="annot"><span class="annottext">save :: DatabaseEntity be db (TableEntity table)
-&gt; table Identity -&gt; SqlUpdate be table
</span><a href="Database.Beam.Query.html#save"><span class="hs-identifier hs-var hs-var">save</span></a></span></span><span> </span><span id="local-6989586621679473826"><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity table)
</span><a href="#local-6989586621679473826"><span class="hs-identifier hs-var">tbl</span></a></span></span><span> </span><span id="local-6989586621679473825"><span class="annot"><span class="annottext">table Identity
</span><a href="#local-6989586621679473825"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-569"></span><span>  </span><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity table)
-&gt; table Identity
-&gt; table (QFieldAssignment be table)
-&gt; SqlUpdate be table
forall be (table :: (* -&gt; *) -&gt; *) (db :: (* -&gt; *) -&gt; *).
(BeamSqlBackend be, Table table,
 HasTableEquality be (PrimaryKey table),
 SqlValableTable be (PrimaryKey table)) =&gt;
DatabaseEntity be db (TableEntity table)
-&gt; table Identity
-&gt; table (QFieldAssignment be table)
-&gt; SqlUpdate be table
</span><a href="Database.Beam.Query.html#updateTableRow"><span class="hs-identifier hs-var">updateTableRow</span></a></span><span> </span><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity table)
</span><a href="#local-6989586621679473826"><span class="hs-identifier hs-var">tbl</span></a></span><span> </span><span class="annot"><span class="annottext">table Identity
</span><a href="#local-6989586621679473825"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-570"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall s. table (QExpr be s)) -&gt; table (QFieldAssignment be table)
forall (table :: (* -&gt; *) -&gt; *) be (table' :: (* -&gt; *) -&gt; *).
Table table =&gt;
(forall s. table (QExpr be s))
-&gt; table (QFieldAssignment be table')
</span><a href="Database.Beam.Query.html#setFieldsTo"><span class="hs-identifier hs-var">setFieldsTo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HaskellLiteralForQExpr (table (QExpr be s)) -&gt; table (QExpr be s)
forall a. SqlValable a =&gt; HaskellLiteralForQExpr a -&gt; a
</span><a href="Database.Beam.Query.Combinators.html#val_"><span class="hs-identifier hs-var">val_</span></a></span><span> </span><span class="annot"><span class="annottext">table Identity
HaskellLiteralForQExpr (table (QExpr be s))
</span><a href="#local-6989586621679473825"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-571"></span><span>
</span><span id="line-572"></span><span class="hs-comment">-- | Generate a 'SqlUpdate' that will update the given table row with the given value.</span><span>
</span><span id="line-573"></span><span class="hs-comment">-- This is a variant using 'update'' and a 'SqlBool' comparison.</span><span>
</span><span id="line-574"></span><span class="hs-comment">--</span><span>
</span><span id="line-575"></span><span class="hs-comment">--   The SQL @UPDATE@ that is generated will set every non-primary key field for</span><span>
</span><span id="line-576"></span><span class="hs-comment">--   the row where each primary key field is exactly what is given.</span><span>
</span><span id="line-577"></span><span class="hs-comment">--</span><span>
</span><span id="line-578"></span><span class="hs-comment">--   Note: This is a pure SQL @UPDATE@ command. This does not upsert or merge values.</span><span>
</span><span id="line-579"></span><span class="hs-comment">--</span><span>
</span><span id="line-580"></span><span class="hs-comment">--   Use 'save' for an internal 'Bool' comparison.</span><span>
</span><span id="line-581"></span><span class="annot"><a href="Database.Beam.Query.html#save%27"><span class="hs-identifier hs-type">save'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679473824"><span class="annot"><a href="#local-6989586621679473824"><span class="hs-identifier hs-type">table</span></a></span></span><span> </span><span id="local-6989586621679473823"><span class="annot"><a href="#local-6989586621679473823"><span class="hs-identifier hs-type">be</span></a></span></span><span> </span><span id="local-6989586621679473822"><span class="annot"><a href="#local-6989586621679473822"><span class="hs-identifier hs-type">db</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-582"></span><span>         </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Table"><span class="hs-identifier hs-type">Table</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473824"><span class="hs-identifier hs-type">table</span></a></span><span>
</span><span id="line-583"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473823"><span class="hs-identifier hs-type">be</span></a></span><span>
</span><span id="line-584"></span><span>
</span><span id="line-585"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Combinators.html#SqlValableTable"><span class="hs-identifier hs-type">SqlValableTable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473823"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473824"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-586"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Combinators.html#SqlValableTable"><span class="hs-identifier hs-type">SqlValableTable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473823"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473824"><span class="hs-identifier hs-type">table</span></a></span><span>
</span><span id="line-587"></span><span>
</span><span id="line-588"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#HasTableEquality"><span class="hs-identifier hs-type">HasTableEquality</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473823"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473824"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-589"></span><span>         </span><span class="hs-special">)</span><span>
</span><span id="line-590"></span><span>      </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#DatabaseEntity"><span class="hs-identifier hs-type">DatabaseEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473823"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473822"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#TableEntity"><span class="hs-identifier hs-type">TableEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473824"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-591"></span><span>         </span><span class="hs-comment">-- ^ Table to update</span><span>
</span><span id="line-592"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679473824"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span>
</span><span id="line-593"></span><span>         </span><span class="hs-comment">-- ^ Value to set to</span><span>
</span><span id="line-594"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlUpdate"><span class="hs-identifier hs-type">SqlUpdate</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473823"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473824"><span class="hs-identifier hs-type">table</span></a></span><span>
</span><span id="line-595"></span><span id="save%27"><span class="annot"><span class="annottext">save' :: DatabaseEntity be db (TableEntity table)
-&gt; table Identity -&gt; SqlUpdate be table
</span><a href="Database.Beam.Query.html#save%27"><span class="hs-identifier hs-var hs-var">save'</span></a></span></span><span> </span><span id="local-6989586621679473821"><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity table)
</span><a href="#local-6989586621679473821"><span class="hs-identifier hs-var">tbl</span></a></span></span><span> </span><span id="local-6989586621679473820"><span class="annot"><span class="annottext">table Identity
</span><a href="#local-6989586621679473820"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-596"></span><span>  </span><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity table)
-&gt; table Identity
-&gt; table (QFieldAssignment be table)
-&gt; SqlUpdate be table
forall be (table :: (* -&gt; *) -&gt; *) (db :: (* -&gt; *) -&gt; *).
(BeamSqlBackend be, Table table,
 HasTableEquality be (PrimaryKey table),
 SqlValableTable be (PrimaryKey table)) =&gt;
DatabaseEntity be db (TableEntity table)
-&gt; table Identity
-&gt; table (QFieldAssignment be table)
-&gt; SqlUpdate be table
</span><a href="Database.Beam.Query.html#updateTableRow%27"><span class="hs-identifier hs-var">updateTableRow'</span></a></span><span> </span><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity table)
</span><a href="#local-6989586621679473821"><span class="hs-identifier hs-var">tbl</span></a></span><span> </span><span class="annot"><span class="annottext">table Identity
</span><a href="#local-6989586621679473820"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-597"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall s. table (QExpr be s)) -&gt; table (QFieldAssignment be table)
forall (table :: (* -&gt; *) -&gt; *) be (table' :: (* -&gt; *) -&gt; *).
Table table =&gt;
(forall s. table (QExpr be s))
-&gt; table (QFieldAssignment be table')
</span><a href="Database.Beam.Query.html#setFieldsTo"><span class="hs-identifier hs-var">setFieldsTo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HaskellLiteralForQExpr (table (QExpr be s)) -&gt; table (QExpr be s)
forall a. SqlValable a =&gt; HaskellLiteralForQExpr a -&gt; a
</span><a href="Database.Beam.Query.Combinators.html#val_"><span class="hs-identifier hs-var">val_</span></a></span><span> </span><span class="annot"><span class="annottext">table Identity
HaskellLiteralForQExpr (table (QExpr be s))
</span><a href="#local-6989586621679473820"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-598"></span><span>
</span><span id="line-599"></span><span class="hs-comment">-- | Run a 'SqlUpdate' in a 'MonadBeam'.</span><span>
</span><span id="line-600"></span><span id="local-6989586621679473817"><span id="local-6989586621679473818"><span id="local-6989586621679473819"><span class="annot"><a href="Database.Beam.Query.html#runUpdate"><span class="hs-identifier hs-type">runUpdate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473819"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#MonadBeam"><span class="hs-identifier hs-type">MonadBeam</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473819"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473818"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-601"></span><span>          </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlUpdate"><span class="hs-identifier hs-type">SqlUpdate</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473819"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473817"><span class="hs-identifier hs-type">tbl</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679473818"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-602"></span><span id="runUpdate"><span class="annot"><span class="annottext">runUpdate :: SqlUpdate be tbl -&gt; m ()
</span><a href="Database.Beam.Query.html#runUpdate"><span class="hs-identifier hs-var hs-var">runUpdate</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.html#SqlUpdate"><span class="hs-identifier hs-type">SqlUpdate</span></a></span><span> </span><span class="annot"><span class="annottext">TableSettings tbl
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679473816"><span class="annot"><span class="annottext">BeamSqlBackendUpdateSyntax be
</span><a href="#local-6989586621679473816"><span class="hs-identifier hs-var">u</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendSyntax be -&gt; m ()
forall be (m :: * -&gt; *).
MonadBeam be m =&gt;
BeamSqlBackendSyntax be -&gt; m ()
</span><a href="Database.Beam.Backend.SQL.html#runNoReturn"><span class="hs-identifier hs-var">runNoReturn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BeamSqlBackendUpdateSyntax be -&gt; BeamSqlBackendSyntax be
forall cmd. IsSql92Syntax cmd =&gt; Sql92UpdateSyntax cmd -&gt; cmd
</span><a href="Database.Beam.Backend.SQL.SQL92.html#updateCmd"><span class="hs-identifier hs-var">updateCmd</span></a></span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendUpdateSyntax be
</span><a href="#local-6989586621679473816"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-603"></span><span class="annot"><a href="Database.Beam.Query.html#runUpdate"><span class="hs-identifier hs-var">runUpdate</span></a></span><span> </span><span class="annot"><span class="annottext">SqlUpdate be tbl
</span><a href="Database.Beam.Query.html#SqlIdentityUpdate"><span class="hs-identifier hs-var">SqlIdentityUpdate</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; m ()
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-604"></span><span>
</span><span id="line-605"></span><span class="hs-comment">-- * DELETE</span><span>
</span><span id="line-606"></span><span>
</span><span id="line-607"></span><span class="hs-comment">-- | Represents a SQL @DELETE@ statement for the given @table@</span><span>
</span><span id="line-608"></span><span class="hs-keyword">data</span><span> </span><span id="SqlDelete"><span class="annot"><a href="Database.Beam.Query.html#SqlDelete"><span class="hs-identifier hs-var">SqlDelete</span></a></span></span><span> </span><span id="local-6989586621679474114"><span class="annot"><a href="#local-6989586621679474114"><span class="hs-identifier hs-type">be</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679474115"><span class="annot"><a href="#local-6989586621679474115"><span class="hs-identifier hs-type">table</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-609"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="SqlDelete"><span class="annot"><a href="Database.Beam.Query.html#SqlDelete"><span class="hs-identifier hs-var">SqlDelete</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#TableSettings"><span class="hs-identifier hs-type">TableSettings</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474115"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackendDeleteSyntax"><span class="hs-identifier hs-type">BeamSqlBackendDeleteSyntax</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474114"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-610"></span><span>
</span><span id="line-611"></span><span class="hs-comment">-- | Build a 'SqlDelete' from a table and a way to build a @WHERE@ clause</span><span>
</span><span id="line-612"></span><span class="annot"><a href="Database.Beam.Query.html#delete"><span class="hs-identifier hs-type">delete</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679473813"><span class="annot"><a href="#local-6989586621679473813"><span class="hs-identifier hs-type">be</span></a></span></span><span> </span><span id="local-6989586621679473812"><span class="annot"><a href="#local-6989586621679473812"><span class="hs-identifier hs-type">db</span></a></span></span><span> </span><span id="local-6989586621679473811"><span class="annot"><a href="#local-6989586621679473811"><span class="hs-identifier hs-type">table</span></a></span></span><span>
</span><span id="line-613"></span><span>        </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473813"><span class="hs-identifier hs-type">be</span></a></span><span>
</span><span id="line-614"></span><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#DatabaseEntity"><span class="hs-identifier hs-type">DatabaseEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473813"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473812"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#TableEntity"><span class="hs-identifier hs-type">TableEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473811"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-615"></span><span>          </span><span class="hs-comment">-- ^ Table to delete from</span><span>
</span><span id="line-616"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679474118"><span class="annot"><a href="#local-6989586621679474118"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679474119"><span class="annot"><a href="#local-6989586621679474119"><span class="hs-identifier hs-type">s'</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679473811"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473813"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474119"><span class="hs-identifier hs-type">s'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473813"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679474118"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-617"></span><span>          </span><span class="hs-comment">-- ^ Build a @WHERE@ clause given a table containing expressions</span><span>
</span><span id="line-618"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlDelete"><span class="hs-identifier hs-type">SqlDelete</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473813"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473811"><span class="hs-identifier hs-type">table</span></a></span><span>
</span><span id="line-619"></span><span id="delete"><span class="annot"><span class="annottext">delete :: DatabaseEntity be db (TableEntity table)
-&gt; (forall s. (forall s'. table (QExpr be s')) -&gt; QExpr be s Bool)
-&gt; SqlDelete be table
</span><a href="Database.Beam.Query.html#delete"><span class="hs-identifier hs-var hs-var">delete</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#DatabaseEntity"><span class="hs-identifier hs-type">DatabaseEntity</span></a></span><span> </span><span id="local-6989586621679473810"><span class="annot"><span class="annottext">dt :: DatabaseEntityDescriptor be (TableEntity table)
</span><a href="#local-6989586621679473810"><span class="hs-identifier hs-var">dt</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#DatabaseTable"><span class="hs-identifier hs-type">DatabaseTable</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679473809"><span class="annot"><span class="annottext">forall s. (forall s'. table (QExpr be s')) -&gt; QExpr be s Bool
</span><a href="#local-6989586621679473809"><span class="hs-identifier hs-var">mkWhere</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-620"></span><span>  </span><span class="annot"><span class="annottext">TableSettings table
-&gt; BeamSqlBackendDeleteSyntax be -&gt; SqlDelete be table
forall be (table :: (* -&gt; *) -&gt; *).
TableSettings table
-&gt; BeamSqlBackendDeleteSyntax be -&gt; SqlDelete be table
</span><a href="Database.Beam.Query.html#SqlDelete"><span class="hs-identifier hs-var">SqlDelete</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DatabaseEntityDescriptor be (TableEntity table)
-&gt; TableSettings table
forall be (tbl :: (* -&gt; *) -&gt; *).
DatabaseEntityDescriptor be (TableEntity tbl) -&gt; TableSettings tbl
</span><a href="Database.Beam.Schema.Tables.html#dbTableSettings"><span class="hs-identifier hs-var hs-var">dbTableSettings</span></a></span><span> </span><span class="annot"><span class="annottext">DatabaseEntityDescriptor be (TableEntity table)
</span><a href="#local-6989586621679473810"><span class="hs-identifier hs-var">dt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-621"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sql92DeleteTableNameSyntax (BeamSqlBackendDeleteSyntax be)
-&gt; Maybe TablePrefix
-&gt; Maybe
     (Sql92DeleteExpressionSyntax (BeamSqlBackendDeleteSyntax be))
-&gt; BeamSqlBackendDeleteSyntax be
forall delete.
IsSql92DeleteSyntax delete =&gt;
Sql92DeleteTableNameSyntax delete
-&gt; Maybe TablePrefix
-&gt; Maybe (Sql92DeleteExpressionSyntax delete)
-&gt; delete
</span><a href="Database.Beam.Backend.SQL.SQL92.html#deleteStmt"><span class="hs-identifier hs-var">deleteStmt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DatabaseEntityDescriptor be (TableEntity table)
-&gt; Sql92DeleteTableNameSyntax (BeamSqlBackendDeleteSyntax be)
forall name be (tbl :: (* -&gt; *) -&gt; *).
IsSql92TableNameSyntax name =&gt;
DatabaseEntityDescriptor be (TableEntity tbl) -&gt; name
</span><a href="Database.Beam.Query.Internal.html#tableNameFromEntity"><span class="hs-identifier hs-var">tableNameFromEntity</span></a></span><span> </span><span class="annot"><span class="annottext">DatabaseEntityDescriptor be (TableEntity table)
</span><a href="#local-6989586621679473810"><span class="hs-identifier hs-var">dt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe TablePrefix
</span><a href="#local-6989586621679473807"><span class="hs-identifier hs-var">alias</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sql92UpdateExpressionSyntax
  (Sql92UpdateSyntax (BeamSqlBackendSyntax be))
-&gt; Maybe
     (Sql92UpdateExpressionSyntax
        (Sql92UpdateSyntax (BeamSqlBackendSyntax be)))
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TablePrefix -&gt; BeamSqlBackendExpressionSyntax be
</span><a href="#local-6989586621679473806"><span class="hs-identifier hs-var">where_</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><span class="hs-string">&quot;t&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-622"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-623"></span><span>    </span><span id="local-6989586621679473805"><span class="annot"><span class="annottext">supportsAlias :: Bool
</span><a href="#local-6989586621679473805"><span class="hs-identifier hs-var hs-var">supportsAlias</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy (BeamSqlBackendDeleteSyntax be) -&gt; Bool
forall delete. IsSql92DeleteSyntax delete =&gt; Proxy delete -&gt; Bool
</span><a href="Database.Beam.Backend.SQL.SQL92.html#deleteSupportsAlias"><span class="hs-identifier hs-var">deleteSupportsAlias</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy (BeamSqlBackendDeleteSyntax be)
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackendDeleteSyntax"><span class="hs-identifier hs-type">BeamSqlBackendDeleteSyntax</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473813"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-624"></span><span>
</span><span id="line-625"></span><span>    </span><span id="local-6989586621679473803"><span class="annot"><span class="annottext">tgtName :: TablePrefix
</span><a href="#local-6989586621679473803"><span class="hs-identifier hs-var hs-var">tgtName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><span class="hs-string">&quot;delete_target&quot;</span></span><span>
</span><span id="line-626"></span><span>    </span><span id="local-6989586621679473807"><span class="annot"><span class="annottext">alias :: Maybe TablePrefix
</span><a href="#local-6989586621679473807"><span class="hs-identifier hs-var hs-var">alias</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679473805"><span class="hs-identifier hs-var">supportsAlias</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">TablePrefix -&gt; Maybe TablePrefix
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><a href="#local-6989586621679473803"><span class="hs-identifier hs-var">tgtName</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Maybe TablePrefix
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-627"></span><span>    </span><span id="local-6989586621679473802"><span class="annot"><span class="annottext">mkField :: TablePrefix
-&gt; Sql92ExpressionFieldNameSyntax
     (Sql92InsertValuesExpressionSyntax
        (Sql92InsertValuesSyntax
           (Sql92InsertSyntax (BeamSqlBackendSyntax be))))
</span><a href="#local-6989586621679473802"><span class="hs-identifier hs-var hs-var">mkField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679473805"><span class="hs-identifier hs-var">supportsAlias</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">TablePrefix
-&gt; TablePrefix
-&gt; Sql92ExpressionFieldNameSyntax
     (Sql92InsertValuesExpressionSyntax
        (Sql92InsertValuesSyntax
           (Sql92InsertSyntax (BeamSqlBackendSyntax be))))
forall fn.
IsSql92FieldNameSyntax fn =&gt;
TablePrefix -&gt; TablePrefix -&gt; fn
</span><a href="Database.Beam.Backend.SQL.SQL92.html#qualifiedField"><span class="hs-identifier hs-var">qualifiedField</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><a href="#local-6989586621679473803"><span class="hs-identifier hs-var">tgtName</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">TablePrefix
-&gt; Sql92ExpressionFieldNameSyntax
     (Sql92InsertValuesExpressionSyntax
        (Sql92InsertValuesSyntax
           (Sql92InsertSyntax (BeamSqlBackendSyntax be))))
forall fn. IsSql92FieldNameSyntax fn =&gt; TablePrefix -&gt; fn
</span><a href="Database.Beam.Backend.SQL.SQL92.html#unqualifiedField"><span class="hs-identifier hs-var">unqualifiedField</span></a></span><span>
</span><span id="line-628"></span><span>
</span><span id="line-629"></span><span>    </span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span id="local-6989586621679473806"><span class="annot"><span class="annottext">TablePrefix -&gt; BeamSqlBackendExpressionSyntax be
</span><a href="#local-6989586621679473806"><span class="hs-identifier hs-var">where_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s'. table (QExpr be s'))
-&gt; QGenExpr QValueContext be Any Bool
forall s. (forall s'. table (QExpr be s')) -&gt; QExpr be s Bool
</span><a href="#local-6989586621679473809"><span class="hs-identifier hs-var">mkWhere</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall a.
 Columnar' (TableField table) a -&gt; Columnar' (QExpr be s') a)
-&gt; TableSettings table -&gt; table (QExpr be s')
forall (table :: (* -&gt; *) -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *).
Beamable table =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a) -&gt; table f -&gt; table g
</span><a href="Database.Beam.Schema.Tables.html#changeBeamRep"><span class="hs-identifier hs-var">changeBeamRep</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Columnar%27"><span class="hs-identifier hs-type">Columnar'</span></a></span><span> </span><span id="local-6989586621679473800"><span class="annot"><span class="annottext">Columnar (TableField table) a
</span><a href="#local-6989586621679473800"><span class="hs-identifier hs-var">fd</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Columnar (QExpr be s') a -&gt; Columnar' (QExpr be s') a
forall (f :: * -&gt; *) a. Columnar f a -&gt; Columnar' f a
</span><a href="Database.Beam.Schema.Tables.html#Columnar%27"><span class="hs-identifier hs-var">Columnar'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TablePrefix -&gt; BeamSqlBackendExpressionSyntax be)
-&gt; QGenExpr QValueContext be s' a
forall context be s t.
(TablePrefix -&gt; BeamSqlBackendExpressionSyntax be)
-&gt; QGenExpr context be s t
</span><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-var">QExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sql92UpdateExpressionSyntax
  (Sql92UpdateSyntax (BeamSqlBackendSyntax be))
-&gt; TablePrefix
-&gt; Sql92UpdateExpressionSyntax
     (Sql92UpdateSyntax (BeamSqlBackendSyntax be))
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sql92ExpressionFieldNameSyntax
  (Sql92UpdateExpressionSyntax
     (Sql92UpdateSyntax (BeamSqlBackendSyntax be)))
-&gt; Sql92UpdateExpressionSyntax
     (Sql92UpdateSyntax (BeamSqlBackendSyntax be))
forall expr.
IsSql92ExpressionSyntax expr =&gt;
Sql92ExpressionFieldNameSyntax expr -&gt; expr
</span><a href="Database.Beam.Backend.SQL.SQL92.html#fieldE"><span class="hs-identifier hs-var">fieldE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TablePrefix
-&gt; Sql92ExpressionFieldNameSyntax
     (Sql92InsertValuesExpressionSyntax
        (Sql92InsertValuesSyntax
           (Sql92InsertSyntax (BeamSqlBackendSyntax be))))
</span><a href="#local-6989586621679473802"><span class="hs-identifier hs-var">mkField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TableField table a
Columnar (TableField table) a
</span><a href="#local-6989586621679473800"><span class="hs-identifier hs-var">fd</span></a></span><span> </span><span class="annot"><span class="annottext">TableField table a
-&gt; Getting TablePrefix (TableField table a) TablePrefix
-&gt; TablePrefix
forall s a. s -&gt; Getting a s a -&gt; a
</span><a href="../../../../microlens/html/src"><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">Getting TablePrefix (TableField table a) TablePrefix
forall (table :: (* -&gt; *) -&gt; *) ty.
Lens' (TableField table ty) TablePrefix
</span><a href="Database.Beam.Schema.Tables.html#fieldName"><span class="hs-identifier hs-var">fieldName</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-630"></span><span>                             </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DatabaseEntityDescriptor be (TableEntity table)
-&gt; TableSettings table
forall be (tbl :: (* -&gt; *) -&gt; *).
DatabaseEntityDescriptor be (TableEntity tbl) -&gt; TableSettings tbl
</span><a href="Database.Beam.Schema.Tables.html#dbTableSettings"><span class="hs-identifier hs-var hs-var">dbTableSettings</span></a></span><span> </span><span class="annot"><span class="annottext">DatabaseEntityDescriptor be (TableEntity table)
</span><a href="#local-6989586621679473810"><span class="hs-identifier hs-var">dt</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-631"></span><span>
</span><span id="line-632"></span><span class="hs-comment">-- | Run a 'SqlDelete' in a 'MonadBeam'</span><span>
</span><span id="line-633"></span><span id="local-6989586621679473797"><span id="local-6989586621679473798"><span id="local-6989586621679473799"><span class="annot"><a href="Database.Beam.Query.html#runDelete"><span class="hs-identifier hs-type">runDelete</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473799"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#MonadBeam"><span class="hs-identifier hs-type">MonadBeam</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473799"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473798"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-634"></span><span>          </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.html#SqlDelete"><span class="hs-identifier hs-type">SqlDelete</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473799"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679473797"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679473798"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-635"></span><span id="runDelete"><span class="annot"><span class="annottext">runDelete :: SqlDelete be table -&gt; m ()
</span><a href="Database.Beam.Query.html#runDelete"><span class="hs-identifier hs-var hs-var">runDelete</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.html#SqlDelete"><span class="hs-identifier hs-type">SqlDelete</span></a></span><span> </span><span class="annot"><span class="annottext">TableSettings table
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679473796"><span class="annot"><span class="annottext">BeamSqlBackendDeleteSyntax be
</span><a href="#local-6989586621679473796"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendSyntax be -&gt; m ()
forall be (m :: * -&gt; *).
MonadBeam be m =&gt;
BeamSqlBackendSyntax be -&gt; m ()
</span><a href="Database.Beam.Backend.SQL.html#runNoReturn"><span class="hs-identifier hs-var">runNoReturn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BeamSqlBackendDeleteSyntax be -&gt; BeamSqlBackendSyntax be
forall cmd. IsSql92Syntax cmd =&gt; Sql92DeleteSyntax cmd -&gt; cmd
</span><a href="Database.Beam.Backend.SQL.SQL92.html#deleteCmd"><span class="hs-identifier hs-var">deleteCmd</span></a></span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendDeleteSyntax be
</span><a href="#local-6989586621679473796"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-636"></span></pre></body></html>