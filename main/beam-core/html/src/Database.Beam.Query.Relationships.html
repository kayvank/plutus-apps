<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-- | Combinators and types specific to relationships.</span><span>
</span><span id="line-2"></span><span class="hs-comment">--</span><span>
</span><span id="line-3"></span><span class="hs-comment">--   These types and functions correspond with the relationships section in the</span><span>
</span><span id="line-4"></span><span class="hs-comment">--   &lt;https://haskell-beam.github.io/beam/user-guide/queries/relationships/ user guide&gt;.</span><span>
</span><span id="line-5"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Database.Beam.Query.Relationships</span><span>
</span><span id="line-6"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * Relationships</span></span><span>
</span><span id="line-7"></span><span>
</span><span id="line-8"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Many-to-many relationships</span></span><span>
</span><span id="line-9"></span><span>    </span><span class="annot"><a href="Database.Beam.Query.Relationships.html#ManyToMany"><span class="hs-identifier">ManyToMany</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Relationships.html#ManyToManyThrough"><span class="hs-identifier">ManyToManyThrough</span></a></span><span>
</span><span id="line-10"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Relationships.html#manyToMany_"><span class="hs-identifier">manyToMany_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Relationships.html#manyToManyPassthrough_"><span class="hs-identifier">manyToManyPassthrough_</span></a></span><span>
</span><span id="line-11"></span><span>
</span><span id="line-12"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** One-to-many relationships</span></span><span>
</span><span id="line-13"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Relationships.html#OneToMany"><span class="hs-identifier">OneToMany</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Relationships.html#OneToManyOptional"><span class="hs-identifier">OneToManyOptional</span></a></span><span>
</span><span id="line-14"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Relationships.html#oneToMany_"><span class="hs-identifier">oneToMany_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Relationships.html#oneToManyOptional_"><span class="hs-identifier">oneToManyOptional_</span></a></span><span>
</span><span id="line-15"></span><span>
</span><span id="line-16"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** One-to-one relationshships</span></span><span>
</span><span id="line-17"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Relationships.html#OneToOne"><span class="hs-identifier">OneToOne</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Relationships.html#OneToMaybe"><span class="hs-identifier">OneToMaybe</span></a></span><span>
</span><span id="line-18"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Relationships.html#oneToOne_"><span class="hs-identifier">oneToOne_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Relationships.html#oneToMaybe_"><span class="hs-identifier">oneToMaybe_</span></a></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-19"></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Beam.Query.Combinators.html"><span class="hs-identifier">Database.Beam.Query.Combinators</span></a></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Beam.Query.Operator.html"><span class="hs-identifier">Database.Beam.Query.Operator</span></a></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html"><span class="hs-identifier">Database.Beam.Query.Internal</span></a></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html"><span class="hs-identifier">Database.Beam.Query.Ord</span></a></span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Beam.Schema.html"><span class="hs-identifier">Database.Beam.Schema</span></a></span><span>
</span><span id="line-26"></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html"><span class="hs-identifier">Database.Beam.Backend.SQL</span></a></span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span>
</span><span id="line-30"></span><span class="hs-comment">-- | Synonym of 'OneToMany'. Useful for giving more meaningful types, when the</span><span>
</span><span id="line-31"></span><span class="hs-comment">--   relationship is meant to be one-to-one.</span><span>
</span><span id="line-32"></span><span class="hs-keyword">type</span><span> </span><span id="OneToOne"><span class="annot"><a href="Database.Beam.Query.Relationships.html#OneToOne"><span class="hs-identifier hs-var">OneToOne</span></a></span></span><span> </span><span id="local-6989586621679472600"><span class="annot"><a href="#local-6989586621679472600"><span class="hs-identifier hs-type">be</span></a></span></span><span> </span><span id="local-6989586621679472599"><span class="annot"><a href="#local-6989586621679472599"><span class="hs-identifier hs-type">db</span></a></span></span><span> </span><span id="local-6989586621679472598"><span class="annot"><a href="#local-6989586621679472598"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679472597"><span class="annot"><a href="#local-6989586621679472597"><span class="hs-identifier hs-type">one</span></a></span></span><span> </span><span id="local-6989586621679472596"><span class="annot"><a href="#local-6989586621679472596"><span class="hs-identifier hs-type">many</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Database.Beam.Query.Relationships.html#OneToMany"><span class="hs-identifier hs-type">OneToMany</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472600"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472599"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472598"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472597"><span class="hs-identifier hs-type">one</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472596"><span class="hs-identifier hs-type">many</span></a></span><span>
</span><span id="line-33"></span><span>
</span><span id="line-34"></span><span class="hs-comment">-- | Convenience type to declare one-to-many relationships. See the manual</span><span>
</span><span id="line-35"></span><span class="hs-comment">--   section on</span><span>
</span><span id="line-36"></span><span class="hs-comment">--   &lt;https://haskell-beam.github.io/beam/user-guide/queries/relationships/ relationships&gt;</span><span>
</span><span id="line-37"></span><span class="hs-comment">--   for more information</span><span>
</span><span id="line-38"></span><span class="hs-keyword">type</span><span> </span><span id="OneToMany"><span class="annot"><a href="Database.Beam.Query.Relationships.html#OneToMany"><span class="hs-identifier hs-var">OneToMany</span></a></span></span><span> </span><span id="local-6989586621679472595"><span class="annot"><a href="#local-6989586621679472595"><span class="hs-identifier hs-type">be</span></a></span></span><span> </span><span id="local-6989586621679472594"><span class="annot"><a href="#local-6989586621679472594"><span class="hs-identifier hs-type">db</span></a></span></span><span> </span><span id="local-6989586621679472593"><span class="annot"><a href="#local-6989586621679472593"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679472592"><span class="annot"><a href="#local-6989586621679472592"><span class="hs-identifier hs-type">one</span></a></span></span><span> </span><span id="local-6989586621679472591"><span class="annot"><a href="#local-6989586621679472591"><span class="hs-identifier hs-type">many</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-39"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472595"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackendCanSerialize"><span class="hs-identifier hs-type">BeamSqlBackendCanSerialize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472595"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-40"></span><span>  </span><span class="annot"><a href="#local-6989586621679472592"><span class="hs-identifier hs-type">one</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472595"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472593"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#Q"><span class="hs-identifier hs-type">Q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472595"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472594"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472593"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679472591"><span class="hs-identifier hs-type">many</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472595"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472593"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span class="hs-comment">-- | Synonym of 'OneToManyOptional'. Useful for giving more meaningful types,</span><span>
</span><span id="line-43"></span><span class="hs-comment">--   when the relationship is meant to be one-to-one.</span><span>
</span><span id="line-44"></span><span class="hs-keyword">type</span><span> </span><span id="OneToMaybe"><span class="annot"><a href="Database.Beam.Query.Relationships.html#OneToMaybe"><span class="hs-identifier hs-var">OneToMaybe</span></a></span></span><span> </span><span id="local-6989586621679472589"><span class="annot"><a href="#local-6989586621679472589"><span class="hs-identifier hs-type">be</span></a></span></span><span> </span><span id="local-6989586621679472588"><span class="annot"><a href="#local-6989586621679472588"><span class="hs-identifier hs-type">db</span></a></span></span><span> </span><span id="local-6989586621679472587"><span class="annot"><a href="#local-6989586621679472587"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679472586"><span class="annot"><a href="#local-6989586621679472586"><span class="hs-identifier hs-type">tbl</span></a></span></span><span> </span><span id="local-6989586621679472585"><span class="annot"><a href="#local-6989586621679472585"><span class="hs-identifier hs-type">rel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Database.Beam.Query.Relationships.html#OneToManyOptional"><span class="hs-identifier hs-type">OneToManyOptional</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472589"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472588"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472587"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472586"><span class="hs-identifier hs-type">tbl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472585"><span class="hs-identifier hs-type">rel</span></a></span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span class="hs-comment">-- | Convenience type to declare one-to-many relationships with a nullable</span><span>
</span><span id="line-47"></span><span class="hs-comment">--   foreign key. See the manual section on</span><span>
</span><span id="line-48"></span><span class="hs-comment">--   &lt;https://haskell-beam.github.io/beam/user-guide/queries/relationships/ relationships&gt;</span><span>
</span><span id="line-49"></span><span class="hs-comment">--   for more information</span><span>
</span><span id="line-50"></span><span class="hs-keyword">type</span><span> </span><span id="OneToManyOptional"><span class="annot"><a href="Database.Beam.Query.Relationships.html#OneToManyOptional"><span class="hs-identifier hs-var">OneToManyOptional</span></a></span></span><span> </span><span id="local-6989586621679472584"><span class="annot"><a href="#local-6989586621679472584"><span class="hs-identifier hs-type">be</span></a></span></span><span> </span><span id="local-6989586621679472583"><span class="annot"><a href="#local-6989586621679472583"><span class="hs-identifier hs-type">db</span></a></span></span><span> </span><span id="local-6989586621679472582"><span class="annot"><a href="#local-6989586621679472582"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span id="local-6989586621679472581"><span class="annot"><a href="#local-6989586621679472581"><span class="hs-identifier hs-type">tbl</span></a></span></span><span> </span><span id="local-6989586621679472580"><span class="annot"><a href="#local-6989586621679472580"><span class="hs-identifier hs-type">rel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472584"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackendCanSerialize"><span class="hs-identifier hs-type">BeamSqlBackendCanSerialize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472584"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-52"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackendCanSerialize"><span class="hs-identifier hs-type">BeamSqlBackendCanSerialize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472584"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.Types.html#SqlNull"><span class="hs-identifier hs-type">SqlNull</span></a></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-53"></span><span>  </span><span class="annot"><a href="#local-6989586621679472581"><span class="hs-identifier hs-type">tbl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472584"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472582"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#Q"><span class="hs-identifier hs-type">Q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472584"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472583"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472582"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679472580"><span class="hs-identifier hs-type">rel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Backend.Types.html#Nullable"><span class="hs-identifier hs-type">Nullable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472584"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472582"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span>
</span><span id="line-55"></span><span class="hs-comment">-- | Used to define one-to-many (or one-to-one) relationships. Takes the table</span><span>
</span><span id="line-56"></span><span class="hs-comment">--   to fetch, a way to extract the foreign key from that table, and the table to</span><span>
</span><span id="line-57"></span><span class="hs-comment">--   relate to.</span><span>
</span><span id="line-58"></span><span id="local-6989586621679472679"><span id="local-6989586621679472680"><span id="local-6989586621679472682"><span id="local-6989586621679472683"><span id="local-6989586621679472684"><span class="annot"><a href="Database.Beam.Query.Relationships.html#oneToMany_"><span class="hs-identifier hs-type">oneToMany_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Relationships.html#oneToOne_"><span class="hs-identifier hs-type">oneToOne_</span></a></span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Database"><span class="hs-identifier hs-type">Database</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472684"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472683"><span class="hs-identifier hs-type">db</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472684"><span class="hs-identifier hs-type">be</span></a></span><span>
</span><span id="line-60"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#HasTableEquality"><span class="hs-identifier hs-type">HasTableEquality</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472684"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472682"><span class="hs-identifier hs-type">tbl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-61"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Table"><span class="hs-identifier hs-type">Table</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472682"><span class="hs-identifier hs-type">tbl</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Table"><span class="hs-identifier hs-type">Table</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472680"><span class="hs-identifier hs-type">rel</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#DatabaseEntity"><span class="hs-identifier hs-type">DatabaseEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472684"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472683"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#TableEntity"><span class="hs-identifier hs-type">TableEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472680"><span class="hs-identifier hs-type">rel</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">{-^ Table to fetch (many) -}</span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679472680"><span class="hs-identifier hs-type">rel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472684"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472679"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472682"><span class="hs-identifier hs-type">tbl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472684"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472679"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-64"></span><span>     </span><span class="hs-comment">{-^ Foreign key -}</span><span>
</span><span id="line-65"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679472682"><span class="hs-identifier hs-type">tbl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472684"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472679"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#Q"><span class="hs-identifier hs-type">Q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472684"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472683"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472679"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679472680"><span class="hs-identifier hs-type">rel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472684"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472679"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-67"></span><span id="oneToMany_"><span class="annot"><span class="annottext">oneToMany_ :: DatabaseEntity be db (TableEntity rel)
-&gt; (rel (QExpr be s) -&gt; PrimaryKey tbl (QExpr be s))
-&gt; tbl (QExpr be s)
-&gt; Q be db s (rel (QExpr be s))
</span><a href="Database.Beam.Query.Relationships.html#oneToMany_"><span class="hs-identifier hs-var hs-var">oneToMany_</span></a></span></span><span> </span><span id="local-6989586621679472578"><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity rel)
</span><a href="#local-6989586621679472578"><span class="hs-identifier hs-var">rel</span></a></span></span><span> </span><span id="local-6989586621679472577"><span class="annot"><span class="annottext">rel (QExpr be s) -&gt; PrimaryKey tbl (QExpr be s)
</span><a href="#local-6989586621679472577"><span class="hs-identifier hs-var">getKey</span></a></span></span><span> </span><span id="local-6989586621679472576"><span class="annot"><span class="annottext">tbl (QExpr be s)
</span><a href="#local-6989586621679472576"><span class="hs-identifier hs-var">tbl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-68"></span><span>  </span><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity rel)
-&gt; (rel (QExpr be s) -&gt; QExpr be s Bool)
-&gt; Q be db s (rel (QExpr be s))
forall be (db :: (* -&gt; *) -&gt; *) (table :: (* -&gt; *) -&gt; *) s.
(Database be db, Table table, BeamSqlBackend be) =&gt;
DatabaseEntity be db (TableEntity table)
-&gt; (table (QExpr be s) -&gt; QExpr be s Bool)
-&gt; Q be db s (table (QExpr be s))
</span><a href="Database.Beam.Query.Combinators.html#join_"><span class="hs-identifier hs-var">join_</span></a></span><span> </span><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity rel)
</span><a href="#local-6989586621679472578"><span class="hs-identifier hs-var">rel</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679472574"><span class="annot"><span class="annottext">rel (QExpr be s)
</span><a href="#local-6989586621679472574"><span class="hs-identifier hs-var">rel'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">rel (QExpr be s) -&gt; PrimaryKey tbl (QExpr be s)
</span><a href="#local-6989586621679472577"><span class="hs-identifier hs-var">getKey</span></a></span><span> </span><span class="annot"><span class="annottext">rel (QExpr be s)
</span><a href="#local-6989586621679472574"><span class="hs-identifier hs-var">rel'</span></a></span><span> </span><span class="annot"><span class="annottext">PrimaryKey tbl (QExpr be s)
-&gt; PrimaryKey tbl (QExpr be s) -&gt; QExpr be s Bool
forall (expr :: * -&gt; *) a. SqlEq expr a =&gt; a -&gt; a -&gt; expr Bool
</span><a href="Database.Beam.Query.Ord.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">tbl (QExpr be s) -&gt; PrimaryKey tbl (QExpr be s)
forall (t :: (* -&gt; *) -&gt; *) (f :: * -&gt; *).
Table t =&gt;
t f -&gt; PrimaryKey t f
</span><a href="Database.Beam.Schema.Tables.html#pk"><span class="hs-identifier hs-var">pk</span></a></span><span> </span><span class="annot"><span class="annottext">tbl (QExpr be s)
</span><a href="#local-6989586621679472576"><span class="hs-identifier hs-var">tbl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span id="oneToOne_"><span class="annot"><span class="annottext">oneToOne_ :: DatabaseEntity be db (TableEntity rel)
-&gt; (rel (QExpr be s) -&gt; PrimaryKey tbl (QExpr be s))
-&gt; tbl (QExpr be s)
-&gt; Q be db s (rel (QExpr be s))
</span><a href="Database.Beam.Query.Relationships.html#oneToOne_"><span class="hs-identifier hs-var hs-var">oneToOne_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity rel)
-&gt; (rel (QExpr be s) -&gt; PrimaryKey tbl (QExpr be s))
-&gt; tbl (QExpr be s)
-&gt; Q be db s (rel (QExpr be s))
forall be (db :: (* -&gt; *) -&gt; *) (tbl :: (* -&gt; *) -&gt; *)
       (rel :: (* -&gt; *) -&gt; *) s.
(Database be db, BeamSqlBackend be,
 HasTableEquality be (PrimaryKey tbl), Table tbl, Table rel) =&gt;
DatabaseEntity be db (TableEntity rel)
-&gt; (rel (QExpr be s) -&gt; PrimaryKey tbl (QExpr be s))
-&gt; tbl (QExpr be s)
-&gt; Q be db s (rel (QExpr be s))
</span><a href="Database.Beam.Query.Relationships.html#oneToMany_"><span class="hs-identifier hs-var">oneToMany_</span></a></span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span class="hs-comment">-- | Used to define one-to-many (or one-to-one) relationships with a nullable</span><span>
</span><span id="line-72"></span><span class="hs-comment">--   foreign key. Takes the table to fetch, a way to extract the foreign key</span><span>
</span><span id="line-73"></span><span class="hs-comment">--   from that table, and the table to relate to.</span><span>
</span><span id="line-74"></span><span id="local-6989586621679472645"><span id="local-6989586621679472647"><span id="local-6989586621679472648"><span id="local-6989586621679472649"><span id="local-6989586621679472650"><span class="annot"><a href="Database.Beam.Query.Relationships.html#oneToManyOptional_"><span class="hs-identifier hs-type">oneToManyOptional_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Relationships.html#oneToMaybe_"><span class="hs-identifier hs-type">oneToMaybe_</span></a></span><span>
</span><span id="line-75"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472650"><span class="hs-identifier hs-type">be</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Database"><span class="hs-identifier hs-type">Database</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472650"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472649"><span class="hs-identifier hs-type">db</span></a></span><span>
</span><span id="line-76"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Table"><span class="hs-identifier hs-type">Table</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472648"><span class="hs-identifier hs-type">tbl</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Table"><span class="hs-identifier hs-type">Table</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472647"><span class="hs-identifier hs-type">rel</span></a></span><span>
</span><span id="line-77"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#HasTableEqualityNullable"><span class="hs-identifier hs-type">HasTableEqualityNullable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472650"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472648"><span class="hs-identifier hs-type">tbl</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-78"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#DatabaseEntity"><span class="hs-identifier hs-type">DatabaseEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472650"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472649"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#TableEntity"><span class="hs-identifier hs-type">TableEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472647"><span class="hs-identifier hs-type">rel</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">{-^ Table to fetch -}</span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679472647"><span class="hs-identifier hs-type">rel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472650"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472645"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472648"><span class="hs-identifier hs-type">tbl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Backend.Types.html#Nullable"><span class="hs-identifier hs-type">Nullable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472650"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472645"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span>     </span><span class="hs-comment">{-^ Foreign key -}</span><span>
</span><span id="line-81"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679472648"><span class="hs-identifier hs-type">tbl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472650"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472645"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#Q"><span class="hs-identifier hs-type">Q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472650"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472649"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472645"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679472647"><span class="hs-identifier hs-type">rel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Backend.Types.html#Nullable"><span class="hs-identifier hs-type">Nullable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472650"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472645"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-83"></span><span id="oneToManyOptional_"><span class="annot"><span class="annottext">oneToManyOptional_ :: DatabaseEntity be db (TableEntity rel)
-&gt; (rel (QExpr be s) -&gt; PrimaryKey tbl (Nullable (QExpr be s)))
-&gt; tbl (QExpr be s)
-&gt; Q be db s (rel (Nullable (QExpr be s)))
</span><a href="Database.Beam.Query.Relationships.html#oneToManyOptional_"><span class="hs-identifier hs-var hs-var">oneToManyOptional_</span></a></span></span><span> </span><span id="local-6989586621679472571"><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity rel)
</span><a href="#local-6989586621679472571"><span class="hs-identifier hs-var">rel</span></a></span></span><span> </span><span id="local-6989586621679472570"><span class="annot"><span class="annottext">rel (QExpr be s) -&gt; PrimaryKey tbl (Nullable (QExpr be s))
</span><a href="#local-6989586621679472570"><span class="hs-identifier hs-var">getKey</span></a></span></span><span> </span><span id="local-6989586621679472569"><span class="annot"><span class="annottext">tbl (QExpr be s)
</span><a href="#local-6989586621679472569"><span class="hs-identifier hs-var">tbl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-84"></span><span>  </span><span class="annot"><span class="annottext">Q be db (QNested s) (rel (QExpr be (QNested s)))
-&gt; (WithRewrittenThread (QNested s) s (rel (QExpr be (QNested s)))
    -&gt; QExpr be s Bool)
-&gt; Q be
     db
     s
     (Retag
        Nullable
        (WithRewrittenThread (QNested s) s (rel (QExpr be (QNested s)))))
forall s r be (db :: (* -&gt; *) -&gt; *).
(BeamSqlBackend be, Projectible be r,
 ThreadRewritable (QNested s) r,
 Retaggable (QExpr be s) (WithRewrittenThread (QNested s) s r)) =&gt;
Q be db (QNested s) r
-&gt; (WithRewrittenThread (QNested s) s r -&gt; QExpr be s Bool)
-&gt; Q be db s (Retag Nullable (WithRewrittenThread (QNested s) s r))
</span><a href="Database.Beam.Query.Combinators.html#leftJoin_"><span class="hs-identifier hs-var">leftJoin_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity rel)
-&gt; Q be db (QNested s) (rel (QExpr be (QNested s)))
forall be (db :: (* -&gt; *) -&gt; *) (table :: (* -&gt; *) -&gt; *) s.
(Database be db, BeamSqlBackend be) =&gt;
DatabaseEntity be db (TableEntity table)
-&gt; Q be db s (table (QExpr be s))
</span><a href="Database.Beam.Query.Combinators.html#all_"><span class="hs-identifier hs-var">all_</span></a></span><span> </span><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity rel)
</span><a href="#local-6989586621679472571"><span class="hs-identifier hs-var">rel</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679472566"><span class="annot"><span class="annottext">WithRewrittenThread (QNested s) s (rel (QExpr be (QNested s)))
</span><a href="#local-6989586621679472566"><span class="hs-identifier hs-var">rel'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">rel (QExpr be s) -&gt; PrimaryKey tbl (Nullable (QExpr be s))
</span><a href="#local-6989586621679472570"><span class="hs-identifier hs-var">getKey</span></a></span><span> </span><span class="annot"><span class="annottext">rel (QExpr be s)
WithRewrittenThread (QNested s) s (rel (QExpr be (QNested s)))
</span><a href="#local-6989586621679472566"><span class="hs-identifier hs-var">rel'</span></a></span><span> </span><span class="annot"><span class="annottext">PrimaryKey tbl (Nullable (QExpr be s))
-&gt; PrimaryKey tbl (Nullable (QExpr be s)) -&gt; QExpr be s Bool
forall (expr :: * -&gt; *) a. SqlEq expr a =&gt; a -&gt; a -&gt; expr Bool
</span><a href="Database.Beam.Query.Ord.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">PrimaryKey tbl (QExpr be s)
-&gt; PrimaryKey tbl (Nullable (QExpr be s))
forall a b. SqlJustable a b =&gt; a -&gt; b
</span><a href="Database.Beam.Query.Combinators.html#just_"><span class="hs-identifier hs-var">just_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">tbl (QExpr be s) -&gt; PrimaryKey tbl (QExpr be s)
forall (t :: (* -&gt; *) -&gt; *) (f :: * -&gt; *).
Table t =&gt;
t f -&gt; PrimaryKey t f
</span><a href="Database.Beam.Schema.Tables.html#pk"><span class="hs-identifier hs-var">pk</span></a></span><span> </span><span class="annot"><span class="annottext">tbl (QExpr be s)
</span><a href="#local-6989586621679472569"><span class="hs-identifier hs-var">tbl</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span id="oneToMaybe_"><span class="annot"><span class="annottext">oneToMaybe_ :: DatabaseEntity be db (TableEntity rel)
-&gt; (rel (QExpr be s) -&gt; PrimaryKey tbl (Nullable (QExpr be s)))
-&gt; tbl (QExpr be s)
-&gt; Q be db s (rel (Nullable (QExpr be s)))
</span><a href="Database.Beam.Query.Relationships.html#oneToMaybe_"><span class="hs-identifier hs-var hs-var">oneToMaybe_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity rel)
-&gt; (rel (QExpr be s) -&gt; PrimaryKey tbl (Nullable (QExpr be s)))
-&gt; tbl (QExpr be s)
-&gt; Q be db s (rel (Nullable (QExpr be s)))
forall be (db :: (* -&gt; *) -&gt; *) (tbl :: (* -&gt; *) -&gt; *)
       (rel :: (* -&gt; *) -&gt; *) s.
(BeamSqlBackend be, Database be db, Table tbl, Table rel,
 HasTableEqualityNullable be (PrimaryKey tbl)) =&gt;
DatabaseEntity be db (TableEntity rel)
-&gt; (rel (QExpr be s) -&gt; PrimaryKey tbl (Nullable (QExpr be s)))
-&gt; tbl (QExpr be s)
-&gt; Q be db s (rel (Nullable (QExpr be s)))
</span><a href="Database.Beam.Query.Relationships.html#oneToManyOptional_"><span class="hs-identifier hs-var">oneToManyOptional_</span></a></span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span class="hs-comment">-- ** Many-to-many relationships</span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span class="hs-comment">-- | Convenience type to declare many-to-many relationships. See the manual</span><span>
</span><span id="line-90"></span><span class="hs-comment">--   section on</span><span>
</span><span id="line-91"></span><span class="hs-comment">--   &lt;https://haskell-beam.github.io/beam/user-guide/queries/relationships/ relationships&gt;</span><span>
</span><span id="line-92"></span><span class="hs-comment">--   for more information</span><span>
</span><span id="line-93"></span><span class="hs-keyword">type</span><span> </span><span id="ManyToMany"><span class="annot"><a href="Database.Beam.Query.Relationships.html#ManyToMany"><span class="hs-identifier hs-var">ManyToMany</span></a></span></span><span> </span><span id="local-6989586621679472564"><span class="annot"><a href="#local-6989586621679472564"><span class="hs-identifier hs-type">be</span></a></span></span><span> </span><span id="local-6989586621679472563"><span class="annot"><a href="#local-6989586621679472563"><span class="hs-identifier hs-type">db</span></a></span></span><span> </span><span id="local-6989586621679472562"><span class="annot"><a href="#local-6989586621679472562"><span class="hs-identifier hs-type">left</span></a></span></span><span> </span><span id="local-6989586621679472561"><span class="annot"><a href="#local-6989586621679472561"><span class="hs-identifier hs-type">right</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-94"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679472560"><span class="annot"><a href="#local-6989586621679472560"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472564"><span class="hs-identifier hs-type">be</span></a></span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#SqlEq"><span class="hs-identifier hs-type">SqlEq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472564"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472560"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472562"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472564"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472560"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#SqlEq"><span class="hs-identifier hs-type">SqlEq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472564"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472560"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472561"><span class="hs-identifier hs-type">right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472564"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472560"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-99"></span><span>  </span><span class="annot"><a href="Database.Beam.Query.Internal.html#Q"><span class="hs-identifier hs-type">Q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472564"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472563"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472560"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679472562"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472564"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472560"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#Q"><span class="hs-identifier hs-type">Q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472564"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472563"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472560"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679472561"><span class="hs-identifier hs-type">right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472564"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472560"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-100"></span><span>  </span><span class="annot"><a href="Database.Beam.Query.Internal.html#Q"><span class="hs-identifier hs-type">Q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472564"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472563"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472560"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679472562"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472564"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472560"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679472561"><span class="hs-identifier hs-type">right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472564"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472560"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span class="hs-comment">-- | Convenience type to declare many-to-many relationships with additional</span><span>
</span><span id="line-103"></span><span class="hs-comment">--   data. See the manual section on</span><span>
</span><span id="line-104"></span><span class="hs-comment">--   &lt;https://haskell-beam.github.io/beam/user-guide/queries/relationships/ relationships&gt;</span><span>
</span><span id="line-105"></span><span class="hs-comment">--   for more information</span><span>
</span><span id="line-106"></span><span class="hs-keyword">type</span><span> </span><span id="ManyToManyThrough"><span class="annot"><a href="Database.Beam.Query.Relationships.html#ManyToManyThrough"><span class="hs-identifier hs-var">ManyToManyThrough</span></a></span></span><span> </span><span id="local-6989586621679472559"><span class="annot"><a href="#local-6989586621679472559"><span class="hs-identifier hs-type">be</span></a></span></span><span> </span><span id="local-6989586621679472558"><span class="annot"><a href="#local-6989586621679472558"><span class="hs-identifier hs-type">db</span></a></span></span><span> </span><span id="local-6989586621679472557"><span class="annot"><a href="#local-6989586621679472557"><span class="hs-identifier hs-type">through</span></a></span></span><span> </span><span id="local-6989586621679472556"><span class="annot"><a href="#local-6989586621679472556"><span class="hs-identifier hs-type">left</span></a></span></span><span> </span><span id="local-6989586621679472555"><span class="annot"><a href="#local-6989586621679472555"><span class="hs-identifier hs-type">right</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-107"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679472554"><span class="annot"><a href="#local-6989586621679472554"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-108"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472559"><span class="hs-identifier hs-type">be</span></a></span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#SqlEq"><span class="hs-identifier hs-type">SqlEq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472559"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472554"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472556"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472559"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472554"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-111"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#SqlEq"><span class="hs-identifier hs-type">SqlEq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472559"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472554"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472555"><span class="hs-identifier hs-type">right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472559"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472554"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-112"></span><span>  </span><span class="annot"><a href="Database.Beam.Query.Internal.html#Q"><span class="hs-identifier hs-type">Q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472559"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472558"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472554"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679472556"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472559"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472554"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#Q"><span class="hs-identifier hs-type">Q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472559"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472558"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472554"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679472555"><span class="hs-identifier hs-type">right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472559"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472554"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-113"></span><span>  </span><span class="annot"><a href="Database.Beam.Query.Internal.html#Q"><span class="hs-identifier hs-type">Q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472559"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472558"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472554"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679472557"><span class="hs-identifier hs-type">through</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472559"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472554"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679472556"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472559"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472554"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679472555"><span class="hs-identifier hs-type">right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472559"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472554"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span class="hs-comment">-- | Used to define many-to-many relationships without any additional data.</span><span>
</span><span id="line-116"></span><span class="hs-comment">--   Takes the join table and two key extraction functions from that table to the</span><span>
</span><span id="line-117"></span><span class="hs-comment">--   related tables. Also takes two `Q`s representing the table sources to relate.</span><span>
</span><span id="line-118"></span><span class="hs-comment">--</span><span>
</span><span id="line-119"></span><span class="hs-comment">--   See &lt;https://haskell-beam.github.io/beam/user-guide/queries/relationships/ the manual&gt;</span><span>
</span><span id="line-120"></span><span class="hs-comment">--   for more information.</span><span>
</span><span id="line-121"></span><span id="local-6989586621679472548"><span id="local-6989586621679472549"><span id="local-6989586621679472550"><span id="local-6989586621679472551"><span id="local-6989586621679472552"><span id="local-6989586621679472553"><span class="annot"><a href="Database.Beam.Query.Relationships.html#manyToMany_"><span class="hs-identifier hs-type">manyToMany_</span></a></span><span>
</span><span id="line-122"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Database"><span class="hs-identifier hs-type">Database</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472553"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472552"><span class="hs-identifier hs-type">db</span></a></span><span>
</span><span id="line-123"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Table"><span class="hs-identifier hs-type">Table</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472551"><span class="hs-identifier hs-type">joinThrough</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Table"><span class="hs-identifier hs-type">Table</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472550"><span class="hs-identifier hs-type">left</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Table"><span class="hs-identifier hs-type">Table</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472549"><span class="hs-identifier hs-type">right</span></a></span><span>
</span><span id="line-124"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472553"><span class="hs-identifier hs-type">be</span></a></span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#SqlEq"><span class="hs-identifier hs-type">SqlEq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472553"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472548"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472550"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472553"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472548"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-127"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#SqlEq"><span class="hs-identifier hs-type">SqlEq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472553"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472548"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472549"><span class="hs-identifier hs-type">right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472553"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472548"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-128"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#DatabaseEntity"><span class="hs-identifier hs-type">DatabaseEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472553"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472552"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#TableEntity"><span class="hs-identifier hs-type">TableEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472551"><span class="hs-identifier hs-type">joinThrough</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-129"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679472551"><span class="hs-identifier hs-type">joinThrough</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472553"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472548"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472550"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472553"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472548"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679472551"><span class="hs-identifier hs-type">joinThrough</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472553"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472548"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472549"><span class="hs-identifier hs-type">right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472553"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472548"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-131"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#Q"><span class="hs-identifier hs-type">Q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472553"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472552"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472548"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679472550"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472553"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472548"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#Q"><span class="hs-identifier hs-type">Q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472553"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472552"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472548"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679472549"><span class="hs-identifier hs-type">right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472553"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472548"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-132"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#Q"><span class="hs-identifier hs-type">Q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472553"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472552"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472548"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679472550"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472553"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472548"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679472549"><span class="hs-identifier hs-type">right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472553"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472548"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-133"></span><span id="manyToMany_"><span class="annot"><span class="annottext">manyToMany_ :: DatabaseEntity be db (TableEntity joinThrough)
-&gt; (joinThrough (QExpr be s) -&gt; PrimaryKey left (QExpr be s))
-&gt; (joinThrough (QExpr be s) -&gt; PrimaryKey right (QExpr be s))
-&gt; Q be db s (left (QExpr be s))
-&gt; Q be db s (right (QExpr be s))
-&gt; Q be db s (left (QExpr be s), right (QExpr be s))
</span><a href="Database.Beam.Query.Relationships.html#manyToMany_"><span class="hs-identifier hs-var hs-var">manyToMany_</span></a></span></span><span> </span><span id="local-6989586621679472547"><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity joinThrough)
</span><a href="#local-6989586621679472547"><span class="hs-identifier hs-var">joinTbl</span></a></span></span><span> </span><span id="local-6989586621679472546"><span class="annot"><span class="annottext">joinThrough (QExpr be s) -&gt; PrimaryKey left (QExpr be s)
</span><a href="#local-6989586621679472546"><span class="hs-identifier hs-var">leftKey</span></a></span></span><span> </span><span id="local-6989586621679472545"><span class="annot"><span class="annottext">joinThrough (QExpr be s) -&gt; PrimaryKey right (QExpr be s)
</span><a href="#local-6989586621679472545"><span class="hs-identifier hs-var">rightKey</span></a></span></span><span> </span><span id="local-6989586621679472544"><span class="annot"><span class="annottext">Q be db s (left (QExpr be s))
</span><a href="#local-6989586621679472544"><span class="hs-identifier hs-var">left</span></a></span></span><span> </span><span id="local-6989586621679472543"><span class="annot"><span class="annottext">Q be db s (right (QExpr be s))
</span><a href="#local-6989586621679472543"><span class="hs-identifier hs-var">right</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((joinThrough (QExpr be s), left (QExpr be s), right (QExpr be s))
 -&gt; (left (QExpr be s), right (QExpr be s)))
-&gt; Q be
     db
     s
     (joinThrough (QExpr be s), left (QExpr be s), right (QExpr be s))
-&gt; Q be db s (left (QExpr be s), right (QExpr be s))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="annottext">joinThrough (QExpr be s)
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679472542"><span class="annot"><span class="annottext">left (QExpr be s)
</span><a href="#local-6989586621679472542"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679472541"><span class="annot"><span class="annottext">right (QExpr be s)
</span><a href="#local-6989586621679472541"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">left (QExpr be s)
</span><a href="#local-6989586621679472542"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">right (QExpr be s)
</span><a href="#local-6989586621679472541"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Q be
   db
   s
   (joinThrough (QExpr be s), left (QExpr be s), right (QExpr be s))
 -&gt; Q be db s (left (QExpr be s), right (QExpr be s)))
-&gt; Q be
     db
     s
     (joinThrough (QExpr be s), left (QExpr be s), right (QExpr be s))
-&gt; Q be db s (left (QExpr be s), right (QExpr be s))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-134"></span><span>                                                  </span><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity joinThrough)
-&gt; (joinThrough (QExpr be s) -&gt; PrimaryKey left (QExpr be s))
-&gt; (joinThrough (QExpr be s) -&gt; PrimaryKey right (QExpr be s))
-&gt; Q be db s (left (QExpr be s))
-&gt; Q be db s (right (QExpr be s))
-&gt; Q be
     db
     s
     (joinThrough (QExpr be s), left (QExpr be s), right (QExpr be s))
forall be (db :: (* -&gt; *) -&gt; *) (joinThrough :: (* -&gt; *) -&gt; *)
       (left :: (* -&gt; *) -&gt; *) (right :: (* -&gt; *) -&gt; *) s.
(Database be db, Table joinThrough, Table left, Table right,
 BeamSqlBackend be,
 SqlEq (QExpr be s) (PrimaryKey left (QExpr be s)),
 SqlEq (QExpr be s) (PrimaryKey right (QExpr be s))) =&gt;
DatabaseEntity be db (TableEntity joinThrough)
-&gt; (joinThrough (QExpr be s) -&gt; PrimaryKey left (QExpr be s))
-&gt; (joinThrough (QExpr be s) -&gt; PrimaryKey right (QExpr be s))
-&gt; Q be db s (left (QExpr be s))
-&gt; Q be db s (right (QExpr be s))
-&gt; Q be
     db
     s
     (joinThrough (QExpr be s), left (QExpr be s), right (QExpr be s))
</span><a href="Database.Beam.Query.Relationships.html#manyToManyPassthrough_"><span class="hs-identifier hs-var">manyToManyPassthrough_</span></a></span><span> </span><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity joinThrough)
</span><a href="#local-6989586621679472547"><span class="hs-identifier hs-var">joinTbl</span></a></span><span> </span><span class="annot"><span class="annottext">joinThrough (QExpr be s) -&gt; PrimaryKey left (QExpr be s)
</span><a href="#local-6989586621679472546"><span class="hs-identifier hs-var">leftKey</span></a></span><span> </span><span class="annot"><span class="annottext">joinThrough (QExpr be s) -&gt; PrimaryKey right (QExpr be s)
</span><a href="#local-6989586621679472545"><span class="hs-identifier hs-var">rightKey</span></a></span><span> </span><span class="annot"><span class="annottext">Q be db s (left (QExpr be s))
</span><a href="#local-6989586621679472544"><span class="hs-identifier hs-var">left</span></a></span><span> </span><span class="annot"><span class="annottext">Q be db s (right (QExpr be s))
</span><a href="#local-6989586621679472543"><span class="hs-identifier hs-var">right</span></a></span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span class="hs-comment">-- | Used to define many-to-many relationships with additional data. Takes the</span><span>
</span><span id="line-137"></span><span class="hs-comment">--   join table and two key extraction functions from that table to the related</span><span>
</span><span id="line-138"></span><span class="hs-comment">--   tables. Also takes two `Q`s representing the table sources to relate.</span><span>
</span><span id="line-139"></span><span class="hs-comment">--</span><span>
</span><span id="line-140"></span><span class="hs-comment">--   See &lt;https://haskell-beam.github.io/beam/user-guide/queries/relationships/ the manual&gt;</span><span>
</span><span id="line-141"></span><span class="hs-comment">--   for more information.</span><span>
</span><span id="line-142"></span><span id="local-6989586621679472627"><span id="local-6989586621679472628"><span id="local-6989586621679472629"><span id="local-6989586621679472630"><span id="local-6989586621679472631"><span id="local-6989586621679472632"><span class="annot"><a href="Database.Beam.Query.Relationships.html#manyToManyPassthrough_"><span class="hs-identifier hs-type">manyToManyPassthrough_</span></a></span><span>
</span><span id="line-143"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Database"><span class="hs-identifier hs-type">Database</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472632"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472631"><span class="hs-identifier hs-type">db</span></a></span><span>
</span><span id="line-144"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Table"><span class="hs-identifier hs-type">Table</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472630"><span class="hs-identifier hs-type">joinThrough</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Table"><span class="hs-identifier hs-type">Table</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472629"><span class="hs-identifier hs-type">left</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#Table"><span class="hs-identifier hs-type">Table</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472628"><span class="hs-identifier hs-type">right</span></a></span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Backend.SQL.html#BeamSqlBackend"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472632"><span class="hs-identifier hs-type">be</span></a></span><span>
</span><span id="line-147"></span><span>
</span><span id="line-148"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#SqlEq"><span class="hs-identifier hs-type">SqlEq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472632"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472627"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472629"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472632"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472627"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-149"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Query.Ord.html#SqlEq"><span class="hs-identifier hs-type">SqlEq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472632"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472627"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472628"><span class="hs-identifier hs-type">right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472632"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472627"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-150"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#DatabaseEntity"><span class="hs-identifier hs-type">DatabaseEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472632"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472631"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Schema.Tables.html#TableEntity"><span class="hs-identifier hs-type">TableEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472630"><span class="hs-identifier hs-type">joinThrough</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-151"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679472630"><span class="hs-identifier hs-type">joinThrough</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472632"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472627"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472629"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472632"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472627"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-152"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679472630"><span class="hs-identifier hs-type">joinThrough</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472632"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472627"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Schema.Tables.html#PrimaryKey"><span class="hs-identifier hs-type">PrimaryKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472628"><span class="hs-identifier hs-type">right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472632"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472627"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-153"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#Q"><span class="hs-identifier hs-type">Q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472632"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472631"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472627"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679472629"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472632"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472627"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-154"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#Q"><span class="hs-identifier hs-type">Q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472632"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472631"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472627"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679472628"><span class="hs-identifier hs-type">right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472632"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472627"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Query.Internal.html#Q"><span class="hs-identifier hs-type">Q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472632"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472631"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472627"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="#local-6989586621679472630"><span class="hs-identifier hs-type">joinThrough</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472632"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472627"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-156"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679472629"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472632"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472627"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-157"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679472628"><span class="hs-identifier hs-type">right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Query.Internal.html#QExpr"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472632"><span class="hs-identifier hs-type">be</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679472627"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-158"></span><span id="manyToManyPassthrough_"><span class="annot"><span class="annottext">manyToManyPassthrough_ :: DatabaseEntity be db (TableEntity joinThrough)
-&gt; (joinThrough (QExpr be s) -&gt; PrimaryKey left (QExpr be s))
-&gt; (joinThrough (QExpr be s) -&gt; PrimaryKey right (QExpr be s))
-&gt; Q be db s (left (QExpr be s))
-&gt; Q be db s (right (QExpr be s))
-&gt; Q be
     db
     s
     (joinThrough (QExpr be s), left (QExpr be s), right (QExpr be s))
</span><a href="Database.Beam.Query.Relationships.html#manyToManyPassthrough_"><span class="hs-identifier hs-var hs-var">manyToManyPassthrough_</span></a></span></span><span> </span><span id="local-6989586621679472540"><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity joinThrough)
</span><a href="#local-6989586621679472540"><span class="hs-identifier hs-var">joinTbl</span></a></span></span><span> </span><span id="local-6989586621679472539"><span class="annot"><span class="annottext">joinThrough (QExpr be s) -&gt; PrimaryKey left (QExpr be s)
</span><a href="#local-6989586621679472539"><span class="hs-identifier hs-var">leftKey</span></a></span></span><span> </span><span id="local-6989586621679472538"><span class="annot"><span class="annottext">joinThrough (QExpr be s) -&gt; PrimaryKey right (QExpr be s)
</span><a href="#local-6989586621679472538"><span class="hs-identifier hs-var">rightKey</span></a></span></span><span> </span><span id="local-6989586621679472537"><span class="annot"><span class="annottext">Q be db s (left (QExpr be s))
</span><a href="#local-6989586621679472537"><span class="hs-identifier hs-var">left</span></a></span></span><span> </span><span id="local-6989586621679472536"><span class="annot"><span class="annottext">Q be db s (right (QExpr be s))
</span><a href="#local-6989586621679472536"><span class="hs-identifier hs-var">right</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-159"></span><span>  </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621679472535"><span class="annot"><span class="annottext">left (QExpr be s)
</span><a href="#local-6989586621679472535"><span class="hs-identifier hs-var">left_</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Q be db s (left (QExpr be s))
</span><a href="#local-6989586621679472537"><span class="hs-identifier hs-var">left</span></a></span><span>
</span><span id="line-160"></span><span>     </span><span id="local-6989586621679472534"><span class="annot"><span class="annottext">right (QExpr be s)
</span><a href="#local-6989586621679472534"><span class="hs-identifier hs-var">right_</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Q be db s (right (QExpr be s))
</span><a href="#local-6989586621679472536"><span class="hs-identifier hs-var">right</span></a></span><span>
</span><span id="line-161"></span><span>     </span><span id="local-6989586621679472533"><span class="annot"><span class="annottext">joinThrough (QExpr be s)
</span><a href="#local-6989586621679472533"><span class="hs-identifier hs-var">joinTbl_</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity joinThrough)
-&gt; (joinThrough (QExpr be s) -&gt; QExpr be s Bool)
-&gt; Q be db s (joinThrough (QExpr be s))
forall be (db :: (* -&gt; *) -&gt; *) (table :: (* -&gt; *) -&gt; *) s.
(Database be db, Table table, BeamSqlBackend be) =&gt;
DatabaseEntity be db (TableEntity table)
-&gt; (table (QExpr be s) -&gt; QExpr be s Bool)
-&gt; Q be db s (table (QExpr be s))
</span><a href="Database.Beam.Query.Combinators.html#join_"><span class="hs-identifier hs-var">join_</span></a></span><span> </span><span class="annot"><span class="annottext">DatabaseEntity be db (TableEntity joinThrough)
</span><a href="#local-6989586621679472540"><span class="hs-identifier hs-var">joinTbl</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679472532"><span class="annot"><span class="annottext">joinThrough (QExpr be s)
</span><a href="#local-6989586621679472532"><span class="hs-identifier hs-var">joinTbl_</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">joinThrough (QExpr be s) -&gt; PrimaryKey left (QExpr be s)
</span><a href="#local-6989586621679472539"><span class="hs-identifier hs-var">leftKey</span></a></span><span> </span><span class="annot"><span class="annottext">joinThrough (QExpr be s)
</span><a href="#local-6989586621679472532"><span class="hs-identifier hs-var">joinTbl_</span></a></span><span> </span><span class="annot"><span class="annottext">PrimaryKey left (QExpr be s)
-&gt; PrimaryKey left (QExpr be s) -&gt; QExpr be s Bool
forall (expr :: * -&gt; *) a. SqlEq expr a =&gt; a -&gt; a -&gt; expr Bool
</span><a href="Database.Beam.Query.Ord.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">left (QExpr be s) -&gt; PrimaryKey left (QExpr be s)
forall (table :: (* -&gt; *) -&gt; *) (column :: * -&gt; *).
Table table =&gt;
table column -&gt; PrimaryKey table column
</span><a href="Database.Beam.Schema.Tables.html#primaryKey"><span class="hs-identifier hs-var">primaryKey</span></a></span><span> </span><span class="annot"><span class="annottext">left (QExpr be s)
</span><a href="#local-6989586621679472535"><span class="hs-identifier hs-var">left_</span></a></span><span> </span><span class="annot"><span class="annottext">QExpr be s Bool -&gt; QExpr be s Bool -&gt; QExpr be s Bool
forall be context s.
BeamSqlBackend be =&gt;
QGenExpr context be s Bool
-&gt; QGenExpr context be s Bool -&gt; QGenExpr context be s Bool
</span><a href="Database.Beam.Query.Operator.html#%26%26."><span class="hs-operator hs-var">&amp;&amp;.</span></a></span><span>
</span><span id="line-162"></span><span>                                             </span><span class="annot"><span class="annottext">joinThrough (QExpr be s) -&gt; PrimaryKey right (QExpr be s)
</span><a href="#local-6989586621679472538"><span class="hs-identifier hs-var">rightKey</span></a></span><span> </span><span class="annot"><span class="annottext">joinThrough (QExpr be s)
</span><a href="#local-6989586621679472532"><span class="hs-identifier hs-var">joinTbl_</span></a></span><span> </span><span class="annot"><span class="annottext">PrimaryKey right (QExpr be s)
-&gt; PrimaryKey right (QExpr be s) -&gt; QExpr be s Bool
forall (expr :: * -&gt; *) a. SqlEq expr a =&gt; a -&gt; a -&gt; expr Bool
</span><a href="Database.Beam.Query.Ord.html#%3D%3D."><span class="hs-operator hs-var">==.</span></a></span><span> </span><span class="annot"><span class="annottext">right (QExpr be s) -&gt; PrimaryKey right (QExpr be s)
forall (table :: (* -&gt; *) -&gt; *) (column :: * -&gt; *).
Table table =&gt;
table column -&gt; PrimaryKey table column
</span><a href="Database.Beam.Schema.Tables.html#primaryKey"><span class="hs-identifier hs-var">primaryKey</span></a></span><span> </span><span class="annot"><span class="annottext">right (QExpr be s)
</span><a href="#local-6989586621679472534"><span class="hs-identifier hs-var">right_</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-163"></span><span>     </span><span class="annot"><span class="annottext">(joinThrough (QExpr be s), left (QExpr be s), right (QExpr be s))
-&gt; Q be
     db
     s
     (joinThrough (QExpr be s), left (QExpr be s), right (QExpr be s))
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">joinThrough (QExpr be s)
</span><a href="#local-6989586621679472533"><span class="hs-identifier hs-var">joinTbl_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">left (QExpr be s)
</span><a href="#local-6989586621679472535"><span class="hs-identifier hs-var">left_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">right (QExpr be s)
</span><a href="#local-6989586621679472534"><span class="hs-identifier hs-var">right_</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-164"></span><span>
</span><span id="line-165"></span><span>
</span><span id="line-166"></span><span>
</span><span id="line-167"></span></pre></body></html>