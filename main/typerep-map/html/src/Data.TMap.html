<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE AllowAmbiguousTypes #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE Rank2Types          #-}</span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="hs-comment">{- |
Module                  : Data.TMap
Copyright               : (c) 2017-2022 Kowainik
SPDX-License-Identifier : MPL-2.0
Maintainer              : Kowainik &lt;xrom.xkov@gmail.com&gt;
Stability               : Stable
Portability             : Portable

'TMap' is a heterogeneous data structure similar in its essence to
'Data.Map.Map' with types as keys, where each value has the type of its key.

Here is an example of a 'TMap' with a comparison to 'Data.Map.Map':

@
 'Data.Map.Map' 'Prelude.String' 'Prelude.String'             'TMap'
--------------------     -----------------
 \&quot;Int\&quot;  -&gt; \&quot;5\&quot;             'Prelude.Int'  -&gt; 5
 \&quot;Bool\&quot; -&gt; \&quot;True\&quot;          'Prelude.Bool' -&gt; 'Prelude.True'
 \&quot;Char\&quot; -&gt; \&quot;\'x\'\&quot;           'Prelude.Char' -&gt; \'x\'
@

The runtime representation of 'TMap' is an array, not a tree. This makes
'lookup' significantly more efficient.
-}</span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Data.TMap</span><span>
</span><span id="line-30"></span><span>       </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * Map type</span></span><span>
</span><span id="line-31"></span><span>         </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier">TMap</span></a></span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span>         </span><span class="annot"><span class="hs-comment">-- * Construction</span></span><span>
</span><span id="line-34"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.TMap.html#empty"><span class="hs-identifier">empty</span></a></span><span>
</span><span id="line-35"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.TMap.html#one"><span class="hs-identifier">one</span></a></span><span>
</span><span id="line-36"></span><span>
</span><span id="line-37"></span><span>         </span><span class="annot"><span class="hs-comment">-- * Modification</span></span><span>
</span><span id="line-38"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.TMap.html#insert"><span class="hs-identifier">insert</span></a></span><span>
</span><span id="line-39"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.TMap.html#delete"><span class="hs-identifier">delete</span></a></span><span>
</span><span id="line-40"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.TMap.html#unionWith"><span class="hs-identifier">unionWith</span></a></span><span>
</span><span id="line-41"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.TMap.html#union"><span class="hs-identifier">union</span></a></span><span>
</span><span id="line-42"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.TMap.html#intersectionWith"><span class="hs-identifier">intersectionWith</span></a></span><span>
</span><span id="line-43"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.TMap.html#intersection"><span class="hs-identifier">intersection</span></a></span><span>
</span><span id="line-44"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.TMap.html#map"><span class="hs-identifier">map</span></a></span><span>
</span><span id="line-45"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.TMap.html#adjust"><span class="hs-identifier">adjust</span></a></span><span>
</span><span id="line-46"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.TMap.html#alter"><span class="hs-identifier">alter</span></a></span><span>
</span><span id="line-47"></span><span>
</span><span id="line-48"></span><span>         </span><span class="annot"><span class="hs-comment">-- * Query</span></span><span>
</span><span id="line-49"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.TMap.html#lookup"><span class="hs-identifier">lookup</span></a></span><span>
</span><span id="line-50"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.TMap.html#member"><span class="hs-identifier">member</span></a></span><span>
</span><span id="line-51"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.TMap.html#size"><span class="hs-identifier">size</span></a></span><span>
</span><span id="line-52"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.TMap.html#keys"><span class="hs-identifier">keys</span></a></span><span>
</span><span id="line-53"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.TMap.html#keysWith"><span class="hs-identifier">keysWith</span></a></span><span>
</span><span id="line-54"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.TMap.html#toListWith"><span class="hs-identifier">toListWith</span></a></span><span>
</span><span id="line-55"></span><span>       </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-56"></span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Prelude</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">lookup</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">map</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Functor.Identity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Identity</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Typeable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Typeable</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">GHC.Exts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier">coerce</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Type.Reflection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">SomeTypeRep</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">TypeRep</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Data.TypeRepMap.html"><span class="hs-identifier">Data.TypeRepMap</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">F</span></span><span>
</span><span id="line-65"></span><span>
</span><span id="line-66"></span><span class="hs-comment">-- | 'TMap' is a special case of 'F.TypeRepMap' when the interpretation is</span><span>
</span><span id="line-67"></span><span class="hs-comment">-- 'Identity'.</span><span>
</span><span id="line-68"></span><span class="hs-keyword">type</span><span> </span><span id="TMap"><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-var">TMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Data.TypeRepMap.Internal.html#TypeRepMap"><span class="hs-identifier hs-type">F.TypeRepMap</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span class="hs-comment">{- |

A 'TMap' with no values stored in it.

prop&gt; size empty == 0
prop&gt; member @a empty == False

-}</span><span>
</span><span id="line-78"></span><span class="annot"><a href="Data.TMap.html#empty"><span class="hs-identifier hs-type">empty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span>
</span><span id="line-79"></span><span id="empty"><span class="annot"><span class="annottext">empty :: TMap
</span><a href="Data.TMap.html#empty"><span class="hs-identifier hs-var hs-var">empty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TMap
forall k (f :: k -&gt; *). TypeRepMap f
</span><a href="Data.TypeRepMap.Internal.html#empty"><span class="hs-identifier hs-var">F.empty</span></a></span><span>
</span><span id="line-80"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.TMap.html#empty"><span class="hs-pragma hs-type">empty</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="hs-comment">{- |

Construct a 'TMap' with a single element.

prop&gt; size (one x) == 1
prop&gt; member @a (one (x :: a)) == True

-}</span><span>
</span><span id="line-90"></span><span class="annot"><a href="Data.TMap.html#one"><span class="hs-identifier hs-type">one</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679051991"><span class="annot"><a href="#local-6989586621679051991"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679051991"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679051991"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span>
</span><span id="line-91"></span><span id="one"><span class="annot"><span class="annottext">one :: a -&gt; TMap
</span><a href="Data.TMap.html#one"><span class="hs-identifier hs-var hs-var">one</span></a></span></span><span> </span><span id="local-6989586621679051990"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679051990"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TMap -&gt; TMap
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">coerce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Typeable a =&gt; Identity a -&gt; TMap
forall k (a :: k) (f :: k -&gt; *). Typeable a =&gt; f a -&gt; TypeRepMap f
</span><a href="Data.TypeRepMap.Internal.html#one"><span class="hs-identifier hs-var">F.one</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679051991"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span> </span><span class="annot"><span class="annottext">(Identity a -&gt; TMap) -&gt; Identity a -&gt; TMap
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Identity a
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">coerce</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679051990"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.TMap.html#one"><span class="hs-pragma hs-type">one</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span class="hs-comment">{- |

Insert a value into a 'TMap'.
TMap optimizes for fast reads rather than inserts, as a trade-off inserts are @O(n)@.

prop&gt; size (insert v tm) &gt;= size tm
prop&gt; member @a (insert (x :: a) tm) == True

-}</span><span>
</span><span id="line-103"></span><span class="annot"><a href="Data.TMap.html#insert"><span class="hs-identifier hs-type">insert</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679051988"><span class="annot"><a href="#local-6989586621679051988"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679051988"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679051988"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span>
</span><span id="line-104"></span><span id="insert"><span class="annot"><span class="annottext">insert :: a -&gt; TMap -&gt; TMap
</span><a href="Data.TMap.html#insert"><span class="hs-identifier hs-var hs-var">insert</span></a></span></span><span> </span><span id="local-6989586621679051987"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679051987"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TMap -&gt; TMap) -&gt; TMap -&gt; TMap
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">coerce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Typeable a =&gt; Identity a -&gt; TMap -&gt; TMap
forall k (a :: k) (f :: k -&gt; *).
Typeable a =&gt;
f a -&gt; TypeRepMap f -&gt; TypeRepMap f
</span><a href="Data.TypeRepMap.Internal.html#insert"><span class="hs-identifier hs-var">F.insert</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679051988"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span> </span><span class="annot"><span class="annottext">(Identity a -&gt; TMap -&gt; TMap) -&gt; Identity a -&gt; TMap -&gt; TMap
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Identity a
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">coerce</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679051987"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-105"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.TMap.html#insert"><span class="hs-pragma hs-type">insert</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span class="hs-comment">{- | Delete a value from a 'TMap'.

TMap optimizes for fast reads rather than modifications, as a trade-off deletes are @O(n)@,
with an @O(log(n))@ optimization for when the element is already missing.

prop&gt; size (delete @a tm) &lt;= size tm
prop&gt; member @a (delete @a tm) == False

&gt;&gt;&gt; tm = delete @Bool $ insert True $ one 'a'
&gt;&gt;&gt; size tm
1
&gt;&gt;&gt; member @Bool tm
False
&gt;&gt;&gt; member @Char tm
True
-}</span><span>
</span><span id="line-123"></span><span class="annot"><a href="Data.TMap.html#delete"><span class="hs-identifier hs-type">delete</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679051985"><span class="annot"><a href="#local-6989586621679051985"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679051985"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span>
</span><span id="line-124"></span><span id="delete"><span class="annot"><span class="annottext">delete :: TMap -&gt; TMap
</span><a href="Data.TMap.html#delete"><span class="hs-identifier hs-var hs-var">delete</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Typeable a =&gt; TMap -&gt; TMap
forall k (a :: k) (f :: k -&gt; *).
Typeable a =&gt;
TypeRepMap f -&gt; TypeRepMap f
</span><a href="Data.TypeRepMap.Internal.html#delete"><span class="hs-identifier hs-var">F.delete</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679051985"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span>
</span><span id="line-125"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.TMap.html#delete"><span class="hs-pragma hs-type">delete</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-126"></span><span>
</span><span id="line-127"></span><span class="hs-comment">-- | The union of two 'TMap's using a combining function.</span><span>
</span><span id="line-128"></span><span class="annot"><a href="Data.TMap.html#unionWith"><span class="hs-identifier hs-type">unionWith</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679052066"><span class="annot"><a href="#local-6989586621679052066"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679052066"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679052066"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679052066"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679052066"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span>
</span><span id="line-129"></span><span id="unionWith"><span class="annot"><span class="annottext">unionWith :: (forall x. Typeable x =&gt; x -&gt; x -&gt; x) -&gt; TMap -&gt; TMap -&gt; TMap
</span><a href="Data.TMap.html#unionWith"><span class="hs-identifier hs-var hs-var">unionWith</span></a></span></span><span> </span><span id="local-6989586621679051983"><span class="annot"><span class="annottext">forall x. Typeable x =&gt; x -&gt; x -&gt; x
</span><a href="#local-6989586621679051983"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall x. Typeable x =&gt; Identity x -&gt; Identity x -&gt; Identity x)
-&gt; TMap -&gt; TMap -&gt; TMap
forall k (f :: k -&gt; *).
(forall (x :: k). Typeable x =&gt; f x -&gt; f x -&gt; f x)
-&gt; TypeRepMap f -&gt; TypeRepMap f -&gt; TypeRepMap f
</span><a href="Data.TypeRepMap.Internal.html#unionWith"><span class="hs-identifier hs-var">F.unionWith</span></a></span><span> </span><span class="annot"><span class="annottext">forall x. Typeable x =&gt; Identity x -&gt; Identity x -&gt; Identity x
</span><a href="#local-6989586621679051981"><span class="hs-identifier hs-var">fId</span></a></span><span>
</span><span id="line-130"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-131"></span><span>    </span><span class="annot"><a href="#local-6989586621679051981"><span class="hs-identifier hs-type">fId</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679051980"><span class="annot"><a href="#local-6989586621679051980"><span class="hs-identifier hs-type">y</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679051980"><span class="hs-identifier hs-type">y</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679051980"><span class="hs-identifier hs-type">y</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679051980"><span class="hs-identifier hs-type">y</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679051980"><span class="hs-identifier hs-type">y</span></a></span><span>
</span><span id="line-132"></span><span>    </span><span id="local-6989586621679051981"><span class="annot"><span class="annottext">fId :: Identity y -&gt; Identity y -&gt; Identity y
</span><a href="#local-6989586621679051981"><span class="hs-identifier hs-var hs-var">fId</span></a></span></span><span> </span><span id="local-6989586621679051979"><span class="annot"><span class="annottext">Identity y
</span><a href="#local-6989586621679051979"><span class="hs-identifier hs-var">y1</span></a></span></span><span> </span><span id="local-6989586621679051978"><span class="annot"><span class="annottext">Identity y
</span><a href="#local-6989586621679051978"><span class="hs-identifier hs-var">y2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">y -&gt; Identity y
forall a. a -&gt; Identity a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Identity</span></a></span><span> </span><span class="annot"><span class="annottext">(y -&gt; Identity y) -&gt; y -&gt; Identity y
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">y -&gt; y -&gt; y
forall x. Typeable x =&gt; x -&gt; x -&gt; x
</span><a href="#local-6989586621679051983"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Identity y -&gt; y
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">coerce</span></a></span><span> </span><span class="annot"><span class="annottext">Identity y
</span><a href="#local-6989586621679051979"><span class="hs-identifier hs-var">y1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Identity y -&gt; y
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">coerce</span></a></span><span> </span><span class="annot"><span class="annottext">Identity y
</span><a href="#local-6989586621679051978"><span class="hs-identifier hs-var">y2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.TMap.html#unionWith"><span class="hs-pragma hs-type">unionWith</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-134"></span><span>
</span><span id="line-135"></span><span class="hs-comment">-- | The (left-biased) union of two 'TMap's. It prefers the first map when</span><span>
</span><span id="line-136"></span><span class="hs-comment">-- duplicate keys are encountered, i.e. @'union' == 'unionWith' const@.</span><span>
</span><span id="line-137"></span><span class="annot"><a href="Data.TMap.html#union"><span class="hs-identifier hs-type">union</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span>
</span><span id="line-138"></span><span id="union"><span class="annot"><span class="annottext">union :: TMap -&gt; TMap -&gt; TMap
</span><a href="Data.TMap.html#union"><span class="hs-identifier hs-var hs-var">union</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TMap -&gt; TMap -&gt; TMap
forall k (f :: k -&gt; *).
TypeRepMap f -&gt; TypeRepMap f -&gt; TypeRepMap f
</span><a href="Data.TypeRepMap.Internal.html#union"><span class="hs-identifier hs-var">F.union</span></a></span><span>
</span><span id="line-139"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.TMap.html#union"><span class="hs-pragma hs-type">union</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-140"></span><span>
</span><span id="line-141"></span><span class="hs-comment">-- | The intersection of two 'TMap's using a combining function.</span><span>
</span><span id="line-142"></span><span class="hs-comment">--</span><span>
</span><span id="line-143"></span><span class="hs-comment">-- @O(n + m)@</span><span>
</span><span id="line-144"></span><span class="annot"><a href="Data.TMap.html#intersectionWith"><span class="hs-identifier hs-type">intersectionWith</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679051975"><span class="annot"><a href="#local-6989586621679051975"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679051975"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679051975"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679051975"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679051975"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span>
</span><span id="line-145"></span><span id="intersectionWith"><span class="annot"><span class="annottext">intersectionWith :: (forall x. Typeable x =&gt; x -&gt; x -&gt; x) -&gt; TMap -&gt; TMap -&gt; TMap
</span><a href="Data.TMap.html#intersectionWith"><span class="hs-identifier hs-var hs-var">intersectionWith</span></a></span></span><span> </span><span id="local-6989586621679051974"><span class="annot"><span class="annottext">forall x. Typeable x =&gt; x -&gt; x -&gt; x
</span><a href="#local-6989586621679051974"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall x. Typeable x =&gt; Identity x -&gt; Identity x -&gt; Identity x)
-&gt; TMap -&gt; TMap -&gt; TMap
forall k (f :: k -&gt; *).
(forall (x :: k). Typeable x =&gt; f x -&gt; f x -&gt; f x)
-&gt; TypeRepMap f -&gt; TypeRepMap f -&gt; TypeRepMap f
</span><a href="Data.TypeRepMap.Internal.html#intersectionWith"><span class="hs-identifier hs-var">F.intersectionWith</span></a></span><span> </span><span class="annot"><span class="annottext">forall x. Typeable x =&gt; Identity x -&gt; Identity x -&gt; Identity x
</span><a href="#local-6989586621679051972"><span class="hs-identifier hs-var">fId</span></a></span><span>
</span><span id="line-146"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-147"></span><span>    </span><span class="annot"><a href="#local-6989586621679051972"><span class="hs-identifier hs-type">fId</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679051971"><span class="annot"><a href="#local-6989586621679051971"><span class="hs-identifier hs-type">y</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679051971"><span class="hs-identifier hs-type">y</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679051971"><span class="hs-identifier hs-type">y</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679051971"><span class="hs-identifier hs-type">y</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679051971"><span class="hs-identifier hs-type">y</span></a></span><span>
</span><span id="line-148"></span><span>    </span><span id="local-6989586621679051972"><span class="annot"><span class="annottext">fId :: Identity y -&gt; Identity y -&gt; Identity y
</span><a href="#local-6989586621679051972"><span class="hs-identifier hs-var hs-var">fId</span></a></span></span><span> </span><span id="local-6989586621679051970"><span class="annot"><span class="annottext">Identity y
</span><a href="#local-6989586621679051970"><span class="hs-identifier hs-var">y1</span></a></span></span><span> </span><span id="local-6989586621679051969"><span class="annot"><span class="annottext">Identity y
</span><a href="#local-6989586621679051969"><span class="hs-identifier hs-var">y2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Identity y -&gt; Identity y -&gt; Identity y
forall x. Typeable x =&gt; x -&gt; x -&gt; x
</span><a href="#local-6989586621679051974"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Identity y -&gt; Identity y
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">coerce</span></a></span><span> </span><span class="annot"><span class="annottext">Identity y
</span><a href="#local-6989586621679051970"><span class="hs-identifier hs-var">y1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Identity y -&gt; Identity y
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">coerce</span></a></span><span> </span><span class="annot"><span class="annottext">Identity y
</span><a href="#local-6989586621679051969"><span class="hs-identifier hs-var">y2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-149"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.TMap.html#intersectionWith"><span class="hs-pragma hs-type">intersectionWith</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-150"></span><span>
</span><span id="line-151"></span><span class="hs-comment">-- | The intersection of two 'TMap's.</span><span>
</span><span id="line-152"></span><span class="hs-comment">-- It keeps all values from the first map whose keys are present in the second.</span><span>
</span><span id="line-153"></span><span class="hs-comment">--</span><span>
</span><span id="line-154"></span><span class="hs-comment">-- @O(n + m)@</span><span>
</span><span id="line-155"></span><span class="annot"><a href="Data.TMap.html#intersection"><span class="hs-identifier hs-type">intersection</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span>
</span><span id="line-156"></span><span id="intersection"><span class="annot"><span class="annottext">intersection :: TMap -&gt; TMap -&gt; TMap
</span><a href="Data.TMap.html#intersection"><span class="hs-identifier hs-var hs-var">intersection</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TMap -&gt; TMap -&gt; TMap
forall k (f :: k -&gt; *).
TypeRepMap f -&gt; TypeRepMap f -&gt; TypeRepMap f
</span><a href="Data.TypeRepMap.Internal.html#intersection"><span class="hs-identifier hs-var">F.intersection</span></a></span><span>
</span><span id="line-157"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.TMap.html#intersection"><span class="hs-pragma hs-type">intersection</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span class="hs-comment">{- | Lookup a value of the given type in a 'TMap'.

&gt;&gt;&gt; x = lookup $ insert (11 :: Int) empty
&gt;&gt;&gt; x :: Maybe Int
Just 11
&gt;&gt;&gt; x :: Maybe ()
Nothing
-}</span><span>
</span><span id="line-167"></span><span class="annot"><a href="Data.TMap.html#lookup"><span class="hs-identifier hs-type">lookup</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679051967"><span class="annot"><a href="#local-6989586621679051967"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679051967"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679051967"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-168"></span><span id="lookup"><span class="annot"><span class="annottext">lookup :: TMap -&gt; Maybe a
</span><a href="Data.TMap.html#lookup"><span class="hs-identifier hs-var hs-var">lookup</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TMap -&gt; Maybe (Identity a)) -&gt; TMap -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">coerce</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Typeable a =&gt; TMap -&gt; Maybe (Identity a)
forall k (a :: k) (f :: k -&gt; *).
Typeable a =&gt;
TypeRepMap f -&gt; Maybe (f a)
</span><a href="Data.TypeRepMap.Internal.html#lookup"><span class="hs-identifier hs-var">F.lookup</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679051967"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.TMap.html#lookup"><span class="hs-pragma hs-type">lookup</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-170"></span><span>
</span><span id="line-171"></span><span class="hs-comment">{- | Check if a value of the given type is present in a 'TMap'.

&gt;&gt;&gt; member @Char $ one 'a'
True
&gt;&gt;&gt; member @Bool $ one 'a'
False
-}</span><span>
</span><span id="line-178"></span><span class="annot"><a href="Data.TMap.html#member"><span class="hs-identifier hs-type">member</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679051965"><span class="annot"><a href="#local-6989586621679051965"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679051965"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-179"></span><span id="member"><span class="annot"><span class="annottext">member :: TMap -&gt; Bool
</span><a href="Data.TMap.html#member"><span class="hs-identifier hs-var hs-var">member</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Typeable a =&gt; TMap -&gt; Bool
forall k (a :: k) (f :: k -&gt; *). Typeable a =&gt; TypeRepMap f -&gt; Bool
</span><a href="Data.TypeRepMap.Internal.html#member"><span class="hs-identifier hs-var">F.member</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679051965"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span>
</span><span id="line-180"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.TMap.html#member"><span class="hs-pragma hs-type">member</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span class="hs-comment">-- | Get the amount of elements in a 'TMap'.</span><span>
</span><span id="line-183"></span><span class="annot"><a href="Data.TMap.html#size"><span class="hs-identifier hs-type">size</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-184"></span><span id="size"><span class="annot"><span class="annottext">size :: TMap -&gt; Int
</span><a href="Data.TMap.html#size"><span class="hs-identifier hs-var hs-var">size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TMap -&gt; Int
forall k (f :: k -&gt; *). TypeRepMap f -&gt; Int
</span><a href="Data.TypeRepMap.Internal.html#size"><span class="hs-identifier hs-var">F.size</span></a></span><span>
</span><span id="line-185"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.TMap.html#size"><span class="hs-pragma hs-type">size</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span class="hs-comment">-- | Returns the list of 'SomeTypeRep's from keys.</span><span>
</span><span id="line-188"></span><span class="annot"><a href="Data.TMap.html#keys"><span class="hs-identifier hs-type">keys</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">SomeTypeRep</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-189"></span><span id="keys"><span class="annot"><span class="annottext">keys :: TMap -&gt; [SomeTypeRep]
</span><a href="Data.TMap.html#keys"><span class="hs-identifier hs-var hs-var">keys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TMap -&gt; [SomeTypeRep]
forall k (f :: k -&gt; *). TypeRepMap f -&gt; [SomeTypeRep]
</span><a href="Data.TypeRepMap.Internal.html#keys"><span class="hs-identifier hs-var">F.keys</span></a></span><span>
</span><span id="line-190"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.TMap.html#keys"><span class="hs-pragma hs-type">keys</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-191"></span><span>
</span><span id="line-192"></span><span class="hs-comment">-- | Return the list of keys by wrapping them with a user-provided function.</span><span>
</span><span id="line-193"></span><span id="local-6989586621679051961"><span class="annot"><a href="Data.TMap.html#keysWith"><span class="hs-identifier hs-type">keysWith</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679052045"><span class="annot"><a href="#local-6989586621679052045"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">TypeRep</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679052045"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679051961"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679051961"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-194"></span><span id="keysWith"><span class="annot"><span class="annottext">keysWith :: (forall a. TypeRep a -&gt; r) -&gt; TMap -&gt; [r]
</span><a href="Data.TMap.html#keysWith"><span class="hs-identifier hs-var hs-var">keysWith</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall a. TypeRep a -&gt; r) -&gt; TMap -&gt; [r]
forall k (f :: k -&gt; *) r.
(forall (a :: k). TypeRep a -&gt; r) -&gt; TypeRepMap f -&gt; [r]
</span><a href="Data.TypeRepMap.Internal.html#keysWith"><span class="hs-identifier hs-var">F.keysWith</span></a></span><span>
</span><span id="line-195"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.TMap.html#keysWith"><span class="hs-pragma hs-type">keysWith</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-196"></span><span>
</span><span id="line-197"></span><span class="hs-comment">-- | Return the list of key-value pairs by wrapping them with a user-provided function.</span><span>
</span><span id="line-198"></span><span id="local-6989586621679051959"><span class="annot"><a href="Data.TMap.html#toListWith"><span class="hs-identifier hs-type">toListWith</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679052039"><span class="annot"><a href="#local-6989586621679052039"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679052039"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679052039"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679051959"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679051959"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-199"></span><span id="toListWith"><span class="annot"><span class="annottext">toListWith :: (forall a. Typeable a =&gt; a -&gt; r) -&gt; TMap -&gt; [r]
</span><a href="Data.TMap.html#toListWith"><span class="hs-identifier hs-var hs-var">toListWith</span></a></span></span><span> </span><span id="local-6989586621679051958"><span class="annot"><span class="annottext">forall a. Typeable a =&gt; a -&gt; r
</span><a href="#local-6989586621679051958"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall a. Typeable a =&gt; Identity a -&gt; r) -&gt; TMap -&gt; [r]
forall k (f :: k -&gt; *) r.
(forall (a :: k). Typeable a =&gt; f a -&gt; r) -&gt; TypeRepMap f -&gt; [r]
</span><a href="Data.TypeRepMap.Internal.html#toListWith"><span class="hs-identifier hs-var">F.toListWith</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; r
forall a. Typeable a =&gt; a -&gt; r
</span><a href="#local-6989586621679051958"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; r) -&gt; (Identity a -&gt; a) -&gt; Identity a -&gt; r
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Identity a -&gt; a
forall a. Identity a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var">runIdentity</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-200"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.TMap.html#toListWith"><span class="hs-pragma hs-type">toListWith</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-201"></span><span>
</span><span id="line-202"></span><span class="hs-comment">-- | Map a function over the values.</span><span>
</span><span id="line-203"></span><span class="annot"><a href="Data.TMap.html#map"><span class="hs-identifier hs-type">map</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679052028"><span class="annot"><a href="#local-6989586621679052028"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679052028"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679052028"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679052028"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span>
</span><span id="line-204"></span><span id="map"><span class="annot"><span class="annottext">map :: (forall a. Typeable a =&gt; a -&gt; a) -&gt; TMap -&gt; TMap
</span><a href="Data.TMap.html#map"><span class="hs-identifier hs-var hs-var">map</span></a></span></span><span> </span><span id="local-6989586621679051954"><span class="annot"><span class="annottext">forall a. Typeable a =&gt; a -&gt; a
</span><a href="#local-6989586621679051954"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall x. Typeable x =&gt; Identity x -&gt; Identity x) -&gt; TMap -&gt; TMap
forall k (f :: k -&gt; *) (g :: k -&gt; *).
(forall (x :: k). Typeable x =&gt; f x -&gt; g x)
-&gt; TypeRepMap f -&gt; TypeRepMap g
</span><a href="Data.TypeRepMap.Internal.html#hoistWithKey"><span class="hs-identifier hs-var">F.hoistWithKey</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(x -&gt; x) -&gt; Identity x -&gt; Identity x
forall a. (a -&gt; a) -&gt; Identity a -&gt; Identity a
</span><a href="Data.TMap.html#liftToIdentity"><span class="hs-identifier hs-var">liftToIdentity</span></a></span><span> </span><span class="annot"><span class="annottext">x -&gt; x
forall a. Typeable a =&gt; a -&gt; a
</span><a href="#local-6989586621679051954"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-205"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.TMap.html#map"><span class="hs-pragma hs-type">map</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span class="hs-comment">-- | Update a value with the result of the provided function.</span><span>
</span><span id="line-208"></span><span id="local-6989586621679051951"><span class="annot"><a href="Data.TMap.html#adjust"><span class="hs-identifier hs-type">adjust</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679051951"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679051951"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679051951"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span></span><span>
</span><span id="line-209"></span><span id="adjust"><span class="annot"><span class="annottext">adjust :: (a -&gt; a) -&gt; TMap -&gt; TMap
</span><a href="Data.TMap.html#adjust"><span class="hs-identifier hs-var hs-var">adjust</span></a></span></span><span> </span><span id="local-6989586621679051950"><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621679051950"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Identity a -&gt; Identity a) -&gt; TMap -&gt; TMap
forall k (a :: k) (f :: k -&gt; *).
Typeable a =&gt;
(f a -&gt; f a) -&gt; TypeRepMap f -&gt; TypeRepMap f
</span><a href="Data.TypeRepMap.Internal.html#adjust"><span class="hs-identifier hs-var">F.adjust</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; Identity a -&gt; Identity a
forall a. (a -&gt; a) -&gt; Identity a -&gt; Identity a
</span><a href="Data.TMap.html#liftToIdentity"><span class="hs-identifier hs-var">liftToIdentity</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621679051950"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-210"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.TMap.html#adjust"><span class="hs-pragma hs-type">adjust</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span class="hs-comment">-- | Updates a value at a specific key, whether or not it exists.</span><span>
</span><span id="line-213"></span><span class="hs-comment">--   This can be used to insert, delete, or update a value of a given type in the map.</span><span>
</span><span id="line-214"></span><span id="local-6989586621679051948"><span class="annot"><a href="Data.TMap.html#alter"><span class="hs-identifier hs-type">alter</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679051948"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679051948"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679051948"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.TMap.html#TMap"><span class="hs-identifier hs-type">TMap</span></a></span></span><span>
</span><span id="line-215"></span><span id="alter"><span class="annot"><span class="annottext">alter :: (Maybe a -&gt; Maybe a) -&gt; TMap -&gt; TMap
</span><a href="Data.TMap.html#alter"><span class="hs-identifier hs-var hs-var">alter</span></a></span></span><span> </span><span id="local-6989586621679051947"><span class="annot"><span class="annottext">Maybe a -&gt; Maybe a
</span><a href="#local-6989586621679051947"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Maybe (Identity a) -&gt; Maybe (Identity a)) -&gt; TMap -&gt; TMap
forall k (a :: k) (f :: k -&gt; *).
Typeable a =&gt;
(Maybe (f a) -&gt; Maybe (f a)) -&gt; TypeRepMap f -&gt; TypeRepMap f
</span><a href="Data.TypeRepMap.Internal.html#alter"><span class="hs-identifier hs-var">F.alter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Maybe a -&gt; Maybe a) -&gt; Maybe (Identity a) -&gt; Maybe (Identity a)
forall a.
(Maybe a -&gt; Maybe a) -&gt; Maybe (Identity a) -&gt; Maybe (Identity a)
</span><a href="#local-6989586621679051945"><span class="hs-identifier hs-var">liftF</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; Maybe a
</span><a href="#local-6989586621679051947"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-216"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-217"></span><span>    </span><span class="annot"><a href="#local-6989586621679051945"><span class="hs-identifier hs-type">liftF</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679052013"><span class="annot"><a href="#local-6989586621679052013"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679052013"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679052013"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679052013"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679052013"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-218"></span><span>    </span><span id="local-6989586621679051945"><span class="annot"><span class="annottext">liftF :: (Maybe a -&gt; Maybe a) -&gt; Maybe (Identity a) -&gt; Maybe (Identity a)
</span><a href="#local-6989586621679051945"><span class="hs-identifier hs-var hs-var">liftF</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Maybe a -&gt; Maybe a) -&gt; Maybe (Identity a) -&gt; Maybe (Identity a)
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">coerce</span></a></span><span>
</span><span id="line-219"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Data.TMap.html#alter"><span class="hs-pragma hs-type">alter</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span class="annot"><a href="Data.TMap.html#liftToIdentity"><span class="hs-identifier hs-type">liftToIdentity</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679052022"><span class="annot"><a href="#local-6989586621679052022"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679052022"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679052022"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679052022"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679052022"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-222"></span><span id="liftToIdentity"><span class="annot"><span class="annottext">liftToIdentity :: (a -&gt; a) -&gt; Identity a -&gt; Identity a
</span><a href="Data.TMap.html#liftToIdentity"><span class="hs-identifier hs-var hs-var">liftToIdentity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; Identity a -&gt; Identity a
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">coerce</span></a></span><span>
</span><span id="line-223"></span></pre></body></html>