<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-orphans #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE BangPatterns #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE InstanceSigs #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE GeneralizedNewtypeDeriving #-}</span><span>
</span><span id="line-8"></span><span>
</span><span id="line-9"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Database.Beam.Sqlite.Connection</span><span>
</span><span id="line-10"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier">Sqlite</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#SqliteM"><span class="hs-identifier">SqliteM</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-11"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#sqliteUriSyntax"><span class="hs-identifier">sqliteUriSyntax</span></a></span><span>
</span><span id="line-12"></span><span>
</span><span id="line-13"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#runBeamSqlite"><span class="hs-identifier">runBeamSqlite</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#runBeamSqliteDebug"><span class="hs-identifier">runBeamSqliteDebug</span></a></span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Emulated @INSERT RETURNING@ support</span></span><span>
</span><span id="line-16"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#insertReturning"><span class="hs-identifier">insertReturning</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#runInsertReturningList"><span class="hs-identifier">runInsertReturningList</span></a></span><span>
</span><span id="line-17"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Prelude</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">fail</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier">Database.Beam.Backend</span></a></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier">Database.Beam.Backend.Internal.Compat</span></a></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier">Database.Beam.Backend.SQL.BeamExtensions</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Beam</span></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier">Database.Beam.Backend.URI</span></a></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier">Database.Beam.Migrate.Generics</span></a></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier">Database.Beam.Migrate.SQL</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier">BeamMigrateOnlySqlBackend</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier">FieldReturnType</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier">Database.Beam.Migrate.SQL</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Beam</span></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier">Database.Beam.Migrate.SQL.BeamExtensions</span></a></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier">Database.Beam.Query</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier">SqlInsert</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier">SqlInsertValues</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span>                                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier">HasQBuilder</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier">HasSqlEqualityCheck</span></a></span><span>
</span><span id="line-31"></span><span>                                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier">HasSqlQuantifiedEqualityCheck</span></a></span><span>
</span><span id="line-32"></span><span>                                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier">DataType</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span>                                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier">HasSqlInTable</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span>                                     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier">insert</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier">current_</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier">Database.Beam.Query.Internal</span></a></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier">Database.Beam.Query.SQL92</span></a></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier">Database.Beam.Schema.Tables</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier">Beamable</span></a></span><span>
</span><span id="line-38"></span><span>                                             </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier">Columnar'</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span>                                             </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier">DatabaseEntity</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span>                                             </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier">DatabaseEntityDescriptor</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span>                                             </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier">TableEntity</span></a></span><span>
</span><span id="line-42"></span><span>                                             </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier">TableField</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span>                                             </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier">allBeamValues</span></a></span><span>
</span><span id="line-44"></span><span>                                             </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier">changeBeamRep</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Database.Beam.Sqlite.Syntax.html"><span class="hs-identifier">Database.Beam.Sqlite.Syntax</span></a></span><span>
</span><span id="line-46"></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">Database.SQLite.Simple</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">Connection</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">ToRow</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">FromRow</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span>                                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">Query</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../direct-sqlite/html/src"><span class="hs-identifier">SQLData</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">field</span></a></span><span>
</span><span id="line-49"></span><span>                                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">execute</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">execute_</span></a></span><span>
</span><span id="line-50"></span><span>                                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">withStatement</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">bind</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">nextRow</span></a></span><span>
</span><span id="line-51"></span><span>                                        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">query_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">open</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">close</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">Database.SQLite.Simple.FromField</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">FromField</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">ResultError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-53"></span><span>                                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">returnError</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">fieldData</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">Database.SQLite.Simple.Internal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">RowParser</span></a></span><span class="hs-special">(</span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">RP</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">unRP</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">Database.SQLite.Simple.Ok</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">Ok</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">Database.SQLite.Simple.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier">Null</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Exception</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">SomeException</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">bracket_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">onException</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">mask</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Monad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">forM_</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../transformers-base/html/src"><span class="hs-identifier">Control.Monad.Base</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../transformers-base/html/src"><span class="hs-identifier">MonadBase</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Monad.Fail</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">MonadFail</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../free/html/src"><span class="hs-identifier">Control.Monad.Free.Church</span></a></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Monad.IO.Class</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">MonadIO</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier">Control.Monad.Identity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Identity</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier">Control.Monad.Reader</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">ReaderT</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier">MonadReader</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">runReaderT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier">Control.Monad.State.Strict</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier">MonadState</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">StateT</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">runStateT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier">Control.Monad.Trans</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">lift</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../monad-control/html/src"><span class="hs-identifier">Control.Monad.Trans.Control</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../monad-control/html/src"><span class="hs-identifier">MonadBaseControl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier">Control.Monad.Writer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier">tell</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">execWriter</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">Data.ByteString.Builder</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">toLazyByteString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">Data.ByteString.Char8</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BS</span></span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">Data.ByteString.Lazy.Char8</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BL</span></span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../dlist/html/src"><span class="hs-identifier">Data.DList</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">D</span></span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Int</span></a></span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">mapMaybe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Proxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Proxy</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../scientific/html/src"><span class="hs-identifier">Data.Scientific</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../scientific/html/src"><span class="hs-identifier">Scientific</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.String</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">fromString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Data.Text.Encoding</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">decodeUtf8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Data.Text.Lazy</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TL</span></span><span>
</span><span id="line-83"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Data.Text.Lazy.Encoding</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TL</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">decodeUtf8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier">Data.Time</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier">LocalTime</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier">UTCTime</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier">Day</span></a></span><span>
</span><span id="line-85"></span><span>                           </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier">ZonedTime</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier">utc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier">utcToLocalTime</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Typeable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">cast</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Word</span></a></span><span>
</span><span id="line-88"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">GHC.TypeLits</span></a></span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../network-uri/html/src"><span class="hs-identifier">Network.URI</span></a></span><span class="hs-cpp">

#ifdef UNIX
</span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../unix/html/src"><span class="hs-identifier">System.Posix.Process</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../unix/html/src"><span class="hs-identifier">getProcessID</span></a></span><span class="hs-special">)</span><span class="hs-cpp">
#elif defined(WINDOWS)
</span><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">System.Win32.Process</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">getCurrentProcessId</span><span class="hs-special">)</span><span class="hs-cpp">
#else
</span><span class="hs-cpp">#error Need either POSIX or Win32 API for MonadBeamInsertReturning
</span><span class="hs-cpp">#endif
</span><span>
</span><span id="line-100"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Text.Read</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">readMaybe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span class="hs-comment">-- | The SQLite backend. Used to parameterize 'MonadBeam' and 'FromBackendRow'</span><span>
</span><span id="line-103"></span><span class="hs-comment">-- to provide support for SQLite databases. See the documentation for</span><span>
</span><span id="line-104"></span><span class="hs-comment">-- 'MonadBeam' and the &lt;https://haskell-beam.github.io/beam/ user guide&gt; for more</span><span>
</span><span id="line-105"></span><span class="hs-comment">-- information on how to use this backend.</span><span>
</span><span id="line-106"></span><span class="hs-keyword">data</span><span> </span><span id="Sqlite"><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-var">Sqlite</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Sqlite"><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-var">Sqlite</span></a></span></span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">BeamBackend</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-109"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="BackendFromField"><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">BackendFromField</span></a></span></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">FromField</span></a></span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">HasQBuilder</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-112"></span><span>  </span><span id="local-6989586621679139446"><span class="annot"><span class="annottext">buildSqlQuery :: TablePrefix -&gt; Q Sqlite db s a -&gt; BeamSqlBackendSelectSyntax Sqlite
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">buildSqlQuery</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; TablePrefix
-&gt; Q Sqlite db s a
-&gt; BeamSqlBackendSelectSyntax Sqlite
forall be (db :: (* -&gt; *) -&gt; *) s a.
(BeamSqlBackend be, Projectible be a) =&gt;
Bool -&gt; TablePrefix -&gt; Q be db s a -&gt; BeamSqlBackendSelectSyntax be
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">buildSql92Query'</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">False</span></a></span><span> </span><span class="hs-comment">-- SQLite does not support arbitrarily nesting UNION, INTERSECT, and EXCEPT</span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">HasSqlInTable</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-115"></span><span>  </span><span id="local-6989586621679139440"><span class="annot"><span class="annottext">inRowValuesE :: Proxy Sqlite
-&gt; BeamSqlBackendExpressionSyntax Sqlite
-&gt; [BeamSqlBackendExpressionSyntax Sqlite]
-&gt; BeamSqlBackendExpressionSyntax Sqlite
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">inRowValuesE</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy Sqlite
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span id="local-6989586621679139437"><span class="annot"><span class="annottext">BeamSqlBackendExpressionSyntax Sqlite
</span><a href="#local-6989586621679139437"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621679139436"><span class="annot"><span class="annottext">[BeamSqlBackendExpressionSyntax Sqlite]
</span><a href="#local-6989586621679139436"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SqliteSyntax -&gt; SqliteExpressionSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#SqliteExpressionSyntax"><span class="hs-identifier hs-var">SqliteExpressionSyntax</span></a></span><span> </span><span class="annot"><span class="annottext">(SqliteSyntax -&gt; SqliteExpressionSyntax)
-&gt; SqliteSyntax -&gt; SqliteExpressionSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[SqliteSyntax] -&gt; SqliteSyntax
forall a. Monoid a =&gt; [a] -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mconcat</span></a></span><span>
</span><span id="line-116"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">SqliteSyntax -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#parens"><span class="hs-identifier hs-var">parens</span></a></span><span> </span><span class="annot"><span class="annottext">(SqliteSyntax -&gt; SqliteSyntax) -&gt; SqliteSyntax -&gt; SqliteSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SqliteExpressionSyntax -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#fromSqliteExpression"><span class="hs-identifier hs-var">fromSqliteExpression</span></a></span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendExpressionSyntax Sqlite
SqliteExpressionSyntax
</span><a href="#local-6989586621679139437"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-117"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#emit"><span class="hs-identifier hs-var">emit</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot; IN &quot;</span></span><span>
</span><span id="line-118"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SqliteSyntax -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#parens"><span class="hs-identifier hs-var">parens</span></a></span><span> </span><span class="annot"><span class="annottext">(SqliteSyntax -&gt; SqliteSyntax) -&gt; SqliteSyntax -&gt; SqliteSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#emit"><span class="hs-identifier hs-var">emit</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;VALUES &quot;</span></span><span> </span><span class="annot"><span class="annottext">SqliteSyntax -&gt; SqliteSyntax -&gt; SqliteSyntax
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[SqliteSyntax] -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#commas"><span class="hs-identifier hs-var">commas</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SqliteExpressionSyntax -&gt; SqliteSyntax)
-&gt; [SqliteExpressionSyntax] -&gt; [SqliteSyntax]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">SqliteExpressionSyntax -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#fromSqliteExpression"><span class="hs-identifier hs-var">fromSqliteExpression</span></a></span><span> </span><span class="annot"><span class="annottext">[BeamSqlBackendExpressionSyntax Sqlite]
[SqliteExpressionSyntax]
</span><a href="#local-6989586621679139436"><span class="hs-identifier hs-var">es</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-119"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">BeamSqlBackendIsString</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">T.Text</span></a></span><span>
</span><span id="line-122"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">BeamSqlBackendIsString</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679139424"><span id="local-6989586621679139426"><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span></span></span><span>
</span><span id="line-125"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679139418"><span id="local-6989586621679139420"><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Double</span></a></span></span></span><span>
</span><span id="line-126"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679139413"><span id="local-6989586621679139415"><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Float</span></a></span></span></span><span>
</span><span id="line-127"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679139408"><span id="local-6989586621679139410"><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Int8</span></a></span></span></span><span>
</span><span id="line-128"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679139403"><span id="local-6989586621679139405"><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Int16</span></a></span></span></span><span>
</span><span id="line-129"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679139398"><span id="local-6989586621679139400"><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Int32</span></a></span></span></span><span>
</span><span id="line-130"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679139393"><span id="local-6989586621679139395"><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Int64</span></a></span></span></span><span>
</span><span id="line-131"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679139388"><span id="local-6989586621679139390"><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/integer-gmp-1.0.3.0/src"><span class="hs-identifier hs-type">Integer</span></a></span></span></span><span>
</span><span id="line-132"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679139383"><span id="local-6989586621679139385"><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Word8</span></a></span></span></span><span>
</span><span id="line-133"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679139378"><span id="local-6989586621679139380"><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Word16</span></a></span></span></span><span>
</span><span id="line-134"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679139373"><span id="local-6989586621679139375"><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Word32</span></a></span></span></span><span>
</span><span id="line-135"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679139368"><span id="local-6989586621679139370"><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Word64</span></a></span></span></span><span>
</span><span id="line-136"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679139363"><span id="local-6989586621679139365"><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">BS.ByteString</span></a></span></span></span><span>
</span><span id="line-137"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679139358"><span id="local-6989586621679139360"><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">BL.ByteString</span></a></span></span></span><span>
</span><span id="line-138"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679139353"><span id="local-6989586621679139355"><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">T.Text</span></a></span></span></span><span>
</span><span id="line-139"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679139348"><span id="local-6989586621679139350"><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">TL.Text</span></a></span></span></span><span>
</span><span id="line-140"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679139343"><span id="local-6989586621679139345"><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier hs-type">UTCTime</span></a></span></span></span><span>
</span><span id="line-141"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679139338"><span id="local-6989586621679139340"><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier hs-type">Day</span></a></span></span></span><span>
</span><span id="line-142"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679139333"><span id="local-6989586621679139335"><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">Null</span></a></span></span></span><span>
</span><span id="line-143"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679139329"><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Char</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-144"></span><span>  </span><span id="local-6989586621679139328"><span class="annot"><span class="annottext">fromBackendRow :: FromBackendRowM Sqlite Char
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromBackendRow</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-145"></span><span>    </span><span id="local-6989586621679139326"><span class="annot"><span class="annottext">TablePrefix
</span><a href="#local-6989586621679139326"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FromBackendRowM Sqlite TablePrefix
forall be a. FromBackendRow be a =&gt; FromBackendRowM be a
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">fromBackendRow</span></a></span><span>
</span><span id="line-146"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TablePrefix -&gt; Maybe (Char, TablePrefix)
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">T.uncons</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><a href="#local-6989586621679139326"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-147"></span><span>      </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679139324"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679139324"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Char -&gt; FromBackendRowM Sqlite Char
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679139324"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-148"></span><span>      </span><span class="annot"><span class="annottext">Maybe (Char, TablePrefix)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; FromBackendRowM Sqlite Char
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Need string of size one to parse Char&quot;</span></span><span>
</span><span id="line-149"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679139320"><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">SqlNull</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-150"></span><span>  </span><span id="local-6989586621679139319"><span class="annot"><span class="annottext">fromBackendRow :: FromBackendRowM Sqlite SqlNull
</span><a href="#local-6989586621679139319"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromBackendRow</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-151"></span><span>    </span><span class="annot"><span class="annottext">SqlNull
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">SqlNull</span></a></span><span> </span><span class="annot"><span class="annottext">SqlNull
-&gt; FromBackendRowM Sqlite Null -&gt; FromBackendRowM Sqlite SqlNull
forall (f :: * -&gt; *) a b. Functor f =&gt; a -&gt; f b -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FromBackendRowM Sqlite Null
forall be a. FromBackendRow be a =&gt; FromBackendRowM be a
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">fromBackendRow</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRowM</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">Null</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-152"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679139313"><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier hs-type">LocalTime</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-153"></span><span>  </span><span id="local-6989586621679139312"><span class="annot"><span class="annottext">fromBackendRow :: FromBackendRowM Sqlite LocalTime
</span><a href="#local-6989586621679139312"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromBackendRow</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TimeZone -&gt; UTCTime -&gt; LocalTime
</span><a href="../../../../time/html/src"><span class="hs-identifier hs-var">utcToLocalTime</span></a></span><span> </span><span class="annot"><span class="annottext">TimeZone
</span><a href="../../../../time/html/src"><span class="hs-identifier hs-var">utc</span></a></span><span> </span><span class="annot"><span class="annottext">(UTCTime -&gt; LocalTime)
-&gt; FromBackendRowM Sqlite UTCTime
-&gt; FromBackendRowM Sqlite LocalTime
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FromBackendRowM Sqlite UTCTime
forall be a. FromBackendRow be a =&gt; FromBackendRowM be a
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">fromBackendRow</span></a></span><span>
</span><span id="line-154"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679139307"><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../scientific/html/src"><span class="hs-identifier hs-type">Scientific</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-155"></span><span>  </span><span id="local-6989586621679139306"><span class="annot"><span class="annottext">fromBackendRow :: FromBackendRowM Sqlite Scientific
</span><a href="#local-6989586621679139306"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromBackendRow</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SqliteScientific -&gt; Scientific
</span><a href="Database.Beam.Sqlite.Connection.html#unSqliteScientific"><span class="hs-identifier hs-var hs-var">unSqliteScientific</span></a></span><span> </span><span class="annot"><span class="annottext">(SqliteScientific -&gt; Scientific)
-&gt; FromBackendRowM Sqlite SqliteScientific
-&gt; FromBackendRowM Sqlite Scientific
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FromBackendRowM Sqlite SqliteScientific
forall be a. FromBackendRow be a =&gt; FromBackendRowM be a
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">fromBackendRow</span></a></span><span>
</span><span id="line-156"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679139300"><span id="local-6989586621679139302"><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#SqliteScientific"><span class="hs-identifier hs-type">SqliteScientific</span></a></span></span></span><span>
</span><span id="line-157"></span><span>
</span><span id="line-158"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679139295"><span id="local-6989586621679139297"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">TypeError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">PreferExplicitSize</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Int32</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span></span></span><span>
</span><span id="line-159"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679139290"><span id="local-6989586621679139292"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">TypeError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">PreferExplicitSize</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Word</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Word32</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Word</span></a></span></span></span><span>
</span><span id="line-160"></span><span>
</span><span id="line-161"></span><span class="hs-keyword">newtype</span><span> </span><span id="SqliteScientific"><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#SqliteScientific"><span class="hs-identifier hs-var">SqliteScientific</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SqliteScientific"><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#SqliteScientific"><span class="hs-identifier hs-var">SqliteScientific</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unSqliteScientific"><span class="annot"><span class="annottext">SqliteScientific -&gt; Scientific
</span><a href="Database.Beam.Sqlite.Connection.html#unSqliteScientific"><span class="hs-identifier hs-var hs-var">unSqliteScientific</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../scientific/html/src"><span class="hs-identifier hs-type">Scientific</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-162"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#SqliteScientific"><span class="hs-identifier hs-type">SqliteScientific</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-163"></span><span>  </span><span id="local-6989586621679139286"><span class="annot"><span class="annottext">fromField :: FieldParser SqliteScientific
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679139284"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679139284"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-164"></span><span>    </span><span class="annot"><span class="annottext">Scientific -&gt; SqliteScientific
</span><a href="Database.Beam.Sqlite.Connection.html#SqliteScientific"><span class="hs-identifier hs-var">SqliteScientific</span></a></span><span> </span><span class="annot"><span class="annottext">(Scientific -&gt; SqliteScientific)
-&gt; Ok Scientific -&gt; Ok SqliteScientific
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span>
</span><span id="line-165"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Field -&gt; SQLData
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">fieldData</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679139284"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-166"></span><span>      </span><span class="annot"><a href="../../../../direct-sqlite/html/src"><span class="hs-identifier hs-type">SQLInteger</span></a></span><span> </span><span id="local-6989586621679139282"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679139282"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Ok Scientific
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int64 -&gt; Scientific
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679139282"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span>      </span><span class="annot"><a href="../../../../direct-sqlite/html/src"><span class="hs-identifier hs-type">SQLFloat</span></a></span><span> </span><span id="local-6989586621679139280"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679139280"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Ok Scientific
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Scientific -&gt; Ok Scientific)
-&gt; (Double -&gt; Scientific) -&gt; Double -&gt; Ok Scientific
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Scientific
forall a. Fractional a =&gt; Rational -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromRational</span></a></span><span> </span><span class="annot"><span class="annottext">(Rational -&gt; Scientific)
-&gt; (Double -&gt; Rational) -&gt; Double -&gt; Scientific
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Rational
forall a. Real a =&gt; a -&gt; Rational
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">toRational</span></a></span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Ok Scientific) -&gt; Double -&gt; Ok Scientific
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679139280"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-168"></span><span>      </span><span class="annot"><a href="../../../../direct-sqlite/html/src"><span class="hs-identifier hs-type">SQLText</span></a></span><span> </span><span id="local-6989586621679139277"><span class="annot"><span class="annottext">TablePrefix
</span><a href="#local-6989586621679139277"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Ok Scientific
</span><a href="#local-6989586621679139276"><span class="hs-identifier hs-var">tryRead</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TablePrefix -&gt; String
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">T.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><a href="#local-6989586621679139277"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span>      </span><span class="annot"><a href="../../../../direct-sqlite/html/src"><span class="hs-identifier hs-type">SQLBlob</span></a></span><span> </span><span id="local-6989586621679139273"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679139273"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Ok Scientific
</span><a href="#local-6989586621679139276"><span class="hs-identifier hs-var">tryRead</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; String
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">BS.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679139273"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-170"></span><span>      </span><span class="annot"><span class="annottext">SQLData
</span><a href="../../../../direct-sqlite/html/src"><span class="hs-identifier hs-var">SQLNull</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(String -&gt; String -&gt; String -&gt; ResultError)
-&gt; Field -&gt; String -&gt; Ok Scientific
forall a err.
(Typeable a, Exception err) =&gt;
(String -&gt; String -&gt; String -&gt; err) -&gt; Field -&gt; String -&gt; Ok a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">returnError</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String -&gt; ResultError
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">UnexpectedNull</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679139284"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;null&quot;</span></span><span>
</span><span id="line-171"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-172"></span><span>      </span><span id="local-6989586621679139276"><span class="annot"><span class="annottext">tryRead :: String -&gt; Ok Scientific
</span><a href="#local-6989586621679139276"><span class="hs-identifier hs-var hs-var">tryRead</span></a></span></span><span> </span><span id="local-6989586621679139269"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679139269"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-173"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Scientific
forall a. Read a =&gt; String -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">readMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679139269"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-174"></span><span>          </span><span class="annot"><span class="annottext">Maybe Scientific
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(String -&gt; String -&gt; String -&gt; ResultError)
-&gt; Field -&gt; String -&gt; Ok Scientific
forall a err.
(Typeable a, Exception err) =&gt;
(String -&gt; String -&gt; String -&gt; err) -&gt; Field -&gt; String -&gt; Ok a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">returnError</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String -&gt; ResultError
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">ConversionFailed</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679139284"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Ok Scientific) -&gt; String -&gt; Ok Scientific
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-175"></span><span>                     </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;No conversion to Scientific for '&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679139269"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span>
</span><span id="line-176"></span><span>          </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679139267"><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621679139267"><span class="hs-identifier hs-var">s'</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Scientific -&gt; Ok Scientific
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Scientific
</span><a href="#local-6989586621679139267"><span class="hs-identifier hs-var">s'</span></a></span><span>
</span><span id="line-177"></span><span>
</span><span id="line-178"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">BeamSqlBackend</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span>
</span><span id="line-179"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-type">BeamMigrateOnlySqlBackend</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span>
</span><span id="line-180"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">instance</span><span> </span><span id="BeamSqlBackendSyntax"><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">BeamSqlBackendSyntax</span></a></span></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Syntax.html#SqliteCommandSyntax"><span class="hs-identifier hs-type">SqliteCommandSyntax</span></a></span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span class="hs-keyword">data</span><span> </span><span id="SqliteHasDefault"><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#SqliteHasDefault"><span class="hs-identifier hs-var">SqliteHasDefault</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SqliteHasDefault"><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#SqliteHasDefault"><span class="hs-identifier hs-var">SqliteHasDefault</span></a></span></span><span>
</span><span id="line-183"></span><span id="local-6989586621679139244"><span id="local-6989586621679139245"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-type">FieldReturnType</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">True</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">False</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679139245"><span class="hs-identifier hs-type">resTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679139244"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-184"></span><span>         </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-type">FieldReturnType</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">False</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">False</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679139245"><span class="hs-identifier hs-type">resTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#SqliteHasDefault"><span class="hs-identifier hs-type">SqliteHasDefault</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679139244"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-185"></span><span>  </span><span id="local-6989586621679139241"><span class="annot"><span class="annottext">field' :: Proxy 'False
-&gt; Proxy 'False
-&gt; TablePrefix
-&gt; BeamMigrateSqlBackendDataTypeSyntax Sqlite
-&gt; Maybe (BeamSqlBackendExpressionSyntax Sqlite)
-&gt; Maybe TablePrefix
-&gt; [BeamSqlBackendColumnConstraintDefinitionSyntax Sqlite]
-&gt; SqliteHasDefault
-&gt; a
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">field'</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy 'False
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Proxy 'False
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679139239"><span class="annot"><span class="annottext">TablePrefix
</span><a href="#local-6989586621679139239"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621679139238"><span class="annot"><span class="annottext">BeamMigrateSqlBackendDataTypeSyntax Sqlite
</span><a href="#local-6989586621679139238"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe (BeamSqlBackendExpressionSyntax Sqlite)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679139237"><span class="annot"><span class="annottext">Maybe TablePrefix
</span><a href="#local-6989586621679139237"><span class="hs-identifier hs-var">collation</span></a></span></span><span> </span><span id="local-6989586621679139236"><span class="annot"><span class="annottext">[BeamSqlBackendColumnConstraintDefinitionSyntax Sqlite]
</span><a href="#local-6989586621679139236"><span class="hs-identifier hs-var">constraints</span></a></span></span><span> </span><span class="annot"><span class="annottext">SqliteHasDefault
</span><a href="Database.Beam.Sqlite.Connection.html#SqliteHasDefault"><span class="hs-identifier hs-var">SqliteHasDefault</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-186"></span><span>    </span><span class="annot"><span class="annottext">Proxy 'True
-&gt; Proxy 'False
-&gt; TablePrefix
-&gt; BeamMigrateSqlBackendDataTypeSyntax Sqlite
-&gt; Maybe (BeamSqlBackendExpressionSyntax Sqlite)
-&gt; Maybe TablePrefix
-&gt; [BeamSqlBackendColumnConstraintDefinitionSyntax Sqlite]
-&gt; a
forall (defaultGiven :: Bool) (collationGiven :: Bool) be resTy a.
(FieldReturnType defaultGiven collationGiven be resTy a,
 BeamMigrateSqlBackend be) =&gt;
Proxy defaultGiven
-&gt; Proxy collationGiven
-&gt; TablePrefix
-&gt; BeamMigrateSqlBackendDataTypeSyntax be
-&gt; Maybe (BeamSqlBackendExpressionSyntax be)
-&gt; Maybe TablePrefix
-&gt; [BeamSqlBackendColumnConstraintDefinitionSyntax be]
-&gt; a
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">field'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy 'True
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">'</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">True</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy 'False
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">'</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">False</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><a href="#local-6989586621679139239"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">BeamMigrateSqlBackendDataTypeSyntax Sqlite
</span><a href="#local-6989586621679139238"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (BeamSqlBackendExpressionSyntax Sqlite)
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe TablePrefix
</span><a href="#local-6989586621679139237"><span class="hs-identifier hs-var">collation</span></a></span><span> </span><span class="annot"><span class="annottext">[BeamSqlBackendColumnConstraintDefinitionSyntax Sqlite]
</span><a href="#local-6989586621679139236"><span class="hs-identifier hs-var">constraints</span></a></span></span></span><span>
</span><span id="line-187"></span><span>
</span><span id="line-188"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-type">BeamSqlBackendHasSerial</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-189"></span><span>  </span><span id="local-6989586621679139232"><span class="annot"><span class="annottext">genericSerial :: TablePrefix -&gt; a
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">genericSerial</span></a></span></span><span> </span><span id="local-6989586621679139230"><span class="annot"><span class="annottext">TablePrefix
</span><a href="#local-6989586621679139230"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TablePrefix
-&gt; DataType Sqlite (SqlSerial Int) -&gt; SqliteHasDefault -&gt; a
forall be resTy a.
(BeamMigrateSqlBackend be,
 FieldReturnType 'False 'False be resTy a) =&gt;
TablePrefix -&gt; DataType be resTy -&gt; a
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Beam.field</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><a href="#local-6989586621679139230"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Sqlite
-&gt; DataType Sqlite (SqlSerial Int)
forall be a. BeamSqlBackendCastTargetSyntax be -&gt; DataType be a
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">DataType</span></a></span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Sqlite
SqliteDataTypeSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#sqliteSerialType"><span class="hs-identifier hs-var">sqliteSerialType</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SqliteHasDefault
</span><a href="Database.Beam.Sqlite.Connection.html#SqliteHasDefault"><span class="hs-identifier hs-var">SqliteHasDefault</span></a></span><span>
</span><span id="line-190"></span><span>
</span><span id="line-191"></span><span class="hs-comment">-- | 'MonadBeam' instance inside which SQLite queries are run. See the</span><span>
</span><span id="line-192"></span><span class="hs-comment">-- &lt;https://haskell-beam.github.io/beam/ user guide&gt; for more information</span><span>
</span><span id="line-193"></span><span class="hs-keyword">newtype</span><span> </span><span id="SqliteM"><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#SqliteM"><span class="hs-identifier hs-var">SqliteM</span></a></span></span><span> </span><span id="local-6989586621679139701"><span class="annot"><a href="#local-6989586621679139701"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-194"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="SqliteM"><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#SqliteM"><span class="hs-identifier hs-var">SqliteM</span></a></span></span><span>
</span><span id="line-195"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="runSqliteM"><span class="annot"><span class="annottext">SqliteM a -&gt; ReaderT (String -&gt; IO (), Connection) IO a
</span><a href="Database.Beam.Sqlite.Connection.html#runSqliteM"><span class="hs-identifier hs-var hs-var">runSqliteM</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier hs-type">ReaderT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">Connection</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679139701"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-196"></span><span>    </span><span class="hs-comment">-- ^ Run an IO action with access to a SQLite connection and a debug logging</span><span>
</span><span id="line-197"></span><span>    </span><span class="hs-comment">-- function, called or each query submitted on the connection.</span><span>
</span><span id="line-198"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679139218"><span id="local-6989586621679139220"><span id="local-6989586621679139222"><span class="annot"><span class="annottext">Applicative SqliteM
a -&gt; SqliteM a
Applicative SqliteM
-&gt; (forall a b. SqliteM a -&gt; (a -&gt; SqliteM b) -&gt; SqliteM b)
-&gt; (forall a b. SqliteM a -&gt; SqliteM b -&gt; SqliteM b)
-&gt; (forall a. a -&gt; SqliteM a)
-&gt; Monad SqliteM
SqliteM a -&gt; (a -&gt; SqliteM b) -&gt; SqliteM b
SqliteM a -&gt; SqliteM b -&gt; SqliteM b
forall a. a -&gt; SqliteM a
forall a b. SqliteM a -&gt; SqliteM b -&gt; SqliteM b
forall a b. SqliteM a -&gt; (a -&gt; SqliteM b) -&gt; SqliteM b
forall (m :: * -&gt; *).
Applicative m
-&gt; (forall a b. m a -&gt; (a -&gt; m b) -&gt; m b)
-&gt; (forall a b. m a -&gt; m b -&gt; m b)
-&gt; (forall a. a -&gt; m a)
-&gt; Monad m
return :: a -&gt; SqliteM a
$creturn :: forall a. a -&gt; SqliteM a
&gt;&gt; :: SqliteM a -&gt; SqliteM b -&gt; SqliteM b
$c&gt;&gt; :: forall a b. SqliteM a -&gt; SqliteM b -&gt; SqliteM b
&gt;&gt;= :: SqliteM a -&gt; (a -&gt; SqliteM b) -&gt; SqliteM b
$c&gt;&gt;= :: forall a b. SqliteM a -&gt; (a -&gt; SqliteM b) -&gt; SqliteM b
$cp1Monad :: Applicative SqliteM
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monad</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679139213"><span id="local-6989586621679139215"><span class="annot"><span class="annottext">a -&gt; SqliteM b -&gt; SqliteM a
(a -&gt; b) -&gt; SqliteM a -&gt; SqliteM b
(forall a b. (a -&gt; b) -&gt; SqliteM a -&gt; SqliteM b)
-&gt; (forall a b. a -&gt; SqliteM b -&gt; SqliteM a) -&gt; Functor SqliteM
forall a b. a -&gt; SqliteM b -&gt; SqliteM a
forall a b. (a -&gt; b) -&gt; SqliteM a -&gt; SqliteM b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
&lt;$ :: a -&gt; SqliteM b -&gt; SqliteM a
$c&lt;$ :: forall a b. a -&gt; SqliteM b -&gt; SqliteM a
fmap :: (a -&gt; b) -&gt; SqliteM a -&gt; SqliteM b
$cfmap :: forall a b. (a -&gt; b) -&gt; SqliteM a -&gt; SqliteM b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679139201"><span id="local-6989586621679139203"><span id="local-6989586621679139205"><span id="local-6989586621679139207"><span id="local-6989586621679139209"><span class="annot"><span class="annottext">Functor SqliteM
a -&gt; SqliteM a
Functor SqliteM
-&gt; (forall a. a -&gt; SqliteM a)
-&gt; (forall a b. SqliteM (a -&gt; b) -&gt; SqliteM a -&gt; SqliteM b)
-&gt; (forall a b c.
    (a -&gt; b -&gt; c) -&gt; SqliteM a -&gt; SqliteM b -&gt; SqliteM c)
-&gt; (forall a b. SqliteM a -&gt; SqliteM b -&gt; SqliteM b)
-&gt; (forall a b. SqliteM a -&gt; SqliteM b -&gt; SqliteM a)
-&gt; Applicative SqliteM
SqliteM a -&gt; SqliteM b -&gt; SqliteM b
SqliteM a -&gt; SqliteM b -&gt; SqliteM a
SqliteM (a -&gt; b) -&gt; SqliteM a -&gt; SqliteM b
(a -&gt; b -&gt; c) -&gt; SqliteM a -&gt; SqliteM b -&gt; SqliteM c
forall a. a -&gt; SqliteM a
forall a b. SqliteM a -&gt; SqliteM b -&gt; SqliteM a
forall a b. SqliteM a -&gt; SqliteM b -&gt; SqliteM b
forall a b. SqliteM (a -&gt; b) -&gt; SqliteM a -&gt; SqliteM b
forall a b c. (a -&gt; b -&gt; c) -&gt; SqliteM a -&gt; SqliteM b -&gt; SqliteM c
forall (f :: * -&gt; *).
Functor f
-&gt; (forall a. a -&gt; f a)
-&gt; (forall a b. f (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b c. (a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c)
-&gt; (forall a b. f a -&gt; f b -&gt; f b)
-&gt; (forall a b. f a -&gt; f b -&gt; f a)
-&gt; Applicative f
&lt;* :: SqliteM a -&gt; SqliteM b -&gt; SqliteM a
$c&lt;* :: forall a b. SqliteM a -&gt; SqliteM b -&gt; SqliteM a
*&gt; :: SqliteM a -&gt; SqliteM b -&gt; SqliteM b
$c*&gt; :: forall a b. SqliteM a -&gt; SqliteM b -&gt; SqliteM b
liftA2 :: (a -&gt; b -&gt; c) -&gt; SqliteM a -&gt; SqliteM b -&gt; SqliteM c
$cliftA2 :: forall a b c. (a -&gt; b -&gt; c) -&gt; SqliteM a -&gt; SqliteM b -&gt; SqliteM c
&lt;*&gt; :: SqliteM (a -&gt; b) -&gt; SqliteM a -&gt; SqliteM b
$c&lt;*&gt; :: forall a b. SqliteM (a -&gt; b) -&gt; SqliteM a -&gt; SqliteM b
pure :: a -&gt; SqliteM a
$cpure :: forall a. a -&gt; SqliteM a
$cp1Applicative :: Functor SqliteM
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Applicative</span></a></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679139197"><span class="annot"><span class="annottext">Monad SqliteM
Monad SqliteM -&gt; (forall a. IO a -&gt; SqliteM a) -&gt; MonadIO SqliteM
IO a -&gt; SqliteM a
forall a. IO a -&gt; SqliteM a
forall (m :: * -&gt; *).
Monad m -&gt; (forall a. IO a -&gt; m a) -&gt; MonadIO m
liftIO :: IO a -&gt; SqliteM a
$cliftIO :: forall a. IO a -&gt; SqliteM a
$cp1MonadIO :: Monad SqliteM
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var">MonadIO</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679139193"><span class="annot"><span class="annottext">Monad SqliteM
Monad SqliteM
-&gt; (forall a. String -&gt; SqliteM a) -&gt; MonadFail SqliteM
String -&gt; SqliteM a
forall a. String -&gt; SqliteM a
forall (m :: * -&gt; *).
Monad m -&gt; (forall a. String -&gt; m a) -&gt; MonadFail m
fail :: String -&gt; SqliteM a
$cfail :: forall a. String -&gt; SqliteM a
$cp1MonadFail :: Monad SqliteM
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var">MonadFail</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-199"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679139186"><span class="annot"><a href="../../../../transformers-base/html/src"><span class="hs-identifier hs-type">MonadBase</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679139180"><span id="local-6989586621679139182"><span class="annot"><a href="../../../../monad-control/html/src"><span class="hs-identifier hs-type">MonadBaseControl</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span class="hs-keyword">newtype</span><span> </span><span id="BeamSqliteParams"><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#BeamSqliteParams"><span class="hs-identifier hs-var">BeamSqliteParams</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="BeamSqliteParams"><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#BeamSqliteParams"><span class="hs-identifier hs-var">BeamSqliteParams</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../../../direct-sqlite/html/src"><span class="hs-identifier hs-type">SQLData</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-202"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">ToRow</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#BeamSqliteParams"><span class="hs-identifier hs-type">BeamSqliteParams</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-203"></span><span>  </span><span id="local-6989586621679139175"><span class="annot"><span class="annottext">toRow :: BeamSqliteParams -&gt; [SQLData]
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">toRow</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#BeamSqliteParams"><span class="hs-identifier hs-type">BeamSqliteParams</span></a></span><span> </span><span id="local-6989586621679139173"><span class="annot"><span class="annottext">[SQLData]
</span><a href="#local-6989586621679139173"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SQLData]
</span><a href="#local-6989586621679139173"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-204"></span><span>
</span><span id="line-205"></span><span class="hs-keyword">newtype</span><span> </span><span id="BeamSqliteRow"><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#BeamSqliteRow"><span class="hs-identifier hs-var">BeamSqliteRow</span></a></span></span><span> </span><span id="local-6989586621679139779"><span class="annot"><a href="#local-6989586621679139779"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="BeamSqliteRow"><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#BeamSqliteRow"><span class="hs-identifier hs-var">BeamSqliteRow</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679139779"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-206"></span><span id="local-6989586621679139171"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679139171"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">FromRow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#BeamSqliteRow"><span class="hs-identifier hs-type">BeamSqliteRow</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679139171"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-207"></span><span>  </span><span id="local-6989586621679139168"><span class="annot"><span class="annottext">fromRow :: RowParser (BeamSqliteRow a)
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromRow</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; BeamSqliteRow a
forall a. a -&gt; BeamSqliteRow a
</span><a href="Database.Beam.Sqlite.Connection.html#BeamSqliteRow"><span class="hs-identifier hs-var">BeamSqliteRow</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; BeamSqliteRow a)
-&gt; RowParser a -&gt; RowParser (BeamSqliteRow a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">F (FromBackendRowF Sqlite) a
-&gt; (a -&gt; RowParser a)
-&gt; (FromBackendRowF Sqlite (RowParser a) -&gt; RowParser a)
-&gt; RowParser a
forall (f :: * -&gt; *) a.
F f a -&gt; forall r. (a -&gt; r) -&gt; (f r -&gt; r) -&gt; r
</span><a href="../../../../free/html/src"><span class="hs-identifier hs-var hs-var">runF</span></a></span><span> </span><span class="annot"><span class="annottext">F (FromBackendRowF Sqlite) a
</span><a href="#local-6989586621679139165"><span class="hs-identifier hs-var">fromBackendRow'</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; RowParser a
forall a. a -&gt; RowParser a
</span><a href="#local-6989586621679139164"><span class="hs-identifier hs-var">finish</span></a></span><span> </span><span class="annot"><span class="annottext">FromBackendRowF Sqlite (RowParser a) -&gt; RowParser a
forall a'. FromBackendRowF Sqlite (RowParser a') -&gt; RowParser a'
</span><a href="#local-6989586621679139163"><span class="hs-identifier hs-var">step</span></a></span><span>
</span><span id="line-208"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-209"></span><span>        </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRowM</span></a></span><span> </span><span id="local-6989586621679139165"><span class="annot"><span class="annottext">F (FromBackendRowF Sqlite) a
</span><a href="#local-6989586621679139165"><span class="hs-identifier hs-var">fromBackendRow'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FromBackendRowM Sqlite a
forall be a. FromBackendRow be a =&gt; FromBackendRowM be a
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">fromBackendRow</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRowM</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679139171"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-210"></span><span>
</span><span id="line-211"></span><span>        </span><span class="annot"><a href="#local-6989586621679139161"><span class="hs-identifier hs-type">translateErrors</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">SomeException</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">SomeException</span></a></span><span>
</span><span id="line-212"></span><span>        </span><span id="local-6989586621679139161"><span class="annot"><span class="annottext">translateErrors :: Maybe Int -&gt; SomeException -&gt; Maybe SomeException
</span><a href="#local-6989586621679139161"><span class="hs-identifier hs-var hs-var">translateErrors</span></a></span></span><span> </span><span id="local-6989586621679139160"><span class="annot"><span class="annottext">Maybe Int
</span><a href="#local-6989586621679139160"><span class="hs-identifier hs-var">col</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">SomeException</span></a></span><span> </span><span id="local-6989586621679139158"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679139158"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-213"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">e -&gt; Maybe ResultError
forall a b. (Typeable a, Typeable b) =&gt; a -&gt; Maybe b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">cast</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679139158"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-214"></span><span>            </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">ConversionFailed</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">errSQLType :: ResultError -&gt; String
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">errSQLType</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679139156"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679139156"><span class="hs-identifier hs-var">typeString</span></a></span></span><span>
</span><span id="line-215"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">errHaskellType :: ResultError -&gt; String
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">errHaskellType</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679139154"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679139154"><span class="hs-identifier hs-var">hsString</span></a></span></span><span>
</span><span id="line-216"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">errMessage :: ResultError -&gt; String
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">errMessage</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679139152"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679139152"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-217"></span><span>              </span><span class="annot"><span class="annottext">SomeException -&gt; Maybe SomeException
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BeamRowReadError -&gt; SomeException
forall e. Exception e =&gt; e -&gt; SomeException
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">SomeException</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Int -&gt; ColumnParseError -&gt; BeamRowReadError
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">BeamRowReadError</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int
</span><a href="#local-6989586621679139160"><span class="hs-identifier hs-var">col</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; String -&gt; String -&gt; ColumnParseError
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">ColumnTypeMismatch</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679139154"><span class="hs-identifier hs-var">hsString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679139156"><span class="hs-identifier hs-var">typeString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;conversion failed: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679139152"><span class="hs-identifier hs-var">msg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-218"></span><span>            </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">UnexpectedNull</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-219"></span><span>              </span><span class="annot"><span class="annottext">SomeException -&gt; Maybe SomeException
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BeamRowReadError -&gt; SomeException
forall e. Exception e =&gt; e -&gt; SomeException
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">SomeException</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Int -&gt; ColumnParseError -&gt; BeamRowReadError
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">BeamRowReadError</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int
</span><a href="#local-6989586621679139160"><span class="hs-identifier hs-var">col</span></a></span><span> </span><span class="annot"><span class="annottext">ColumnParseError
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">ColumnUnexpectedNull</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-220"></span><span>            </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">Incompatible</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">errSQLType :: ResultError -&gt; String
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">errSQLType</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679139147"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679139147"><span class="hs-identifier hs-var">typeString</span></a></span></span><span>
</span><span id="line-221"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">errHaskellType :: ResultError -&gt; String
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">errHaskellType</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679139146"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679139146"><span class="hs-identifier hs-var">hsString</span></a></span></span><span>
</span><span id="line-222"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">errMessage :: ResultError -&gt; String
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">errMessage</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679139145"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679139145"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-223"></span><span>              </span><span class="annot"><span class="annottext">SomeException -&gt; Maybe SomeException
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BeamRowReadError -&gt; SomeException
forall e. Exception e =&gt; e -&gt; SomeException
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">SomeException</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Int -&gt; ColumnParseError -&gt; BeamRowReadError
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">BeamRowReadError</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int
</span><a href="#local-6989586621679139160"><span class="hs-identifier hs-var">col</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; String -&gt; String -&gt; ColumnParseError
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">ColumnTypeMismatch</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679139146"><span class="hs-identifier hs-var">hsString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679139147"><span class="hs-identifier hs-var">typeString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;incompatible: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679139145"><span class="hs-identifier hs-var">msg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-224"></span><span>            </span><span class="annot"><span class="annottext">Maybe ResultError
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe SomeException
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-225"></span><span>
</span><span id="line-226"></span><span>        </span><span id="local-6989586621679139164"><span class="annot"><span class="annottext">finish :: a -&gt; RowParser a
</span><a href="#local-6989586621679139164"><span class="hs-identifier hs-var hs-var">finish</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; RowParser a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span>
</span><span id="line-227"></span><span>
</span><span id="line-228"></span><span>        </span><span class="annot"><a href="#local-6989586621679139163"><span class="hs-identifier hs-type">step</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679139772"><span class="annot"><a href="#local-6989586621679139772"><span class="hs-identifier hs-type">a'</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRowF</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">RowParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679139772"><span class="hs-identifier hs-type">a'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">RowParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679139772"><span class="hs-identifier hs-type">a'</span></a></span><span>
</span><span id="line-229"></span><span>        </span><span id="local-6989586621679139163"><span class="annot"><span class="annottext">step :: FromBackendRowF Sqlite (RowParser a') -&gt; RowParser a'
</span><a href="#local-6989586621679139163"><span class="hs-identifier hs-var hs-var">step</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">ParseOneField</span></a></span><span> </span><span id="local-6989586621679139143"><span class="annot"><span class="annottext">a -&gt; RowParser a'
</span><a href="#local-6989586621679139143"><span class="hs-identifier hs-var">next</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-230"></span><span>            </span><span class="annot"><span class="annottext">ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a' -&gt; RowParser a'
forall a.
ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a -&gt; RowParser a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">RP</span></a></span><span> </span><span class="annot"><span class="annottext">(ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a'
 -&gt; RowParser a')
-&gt; ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a'
-&gt; RowParser a'
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(RowParseRO -&gt; StateT (Int, [SQLData]) Ok a')
-&gt; ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a'
forall r (m :: * -&gt; *) a. (r -&gt; m a) -&gt; ReaderT r m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">ReaderT</span></a></span><span> </span><span class="annot"><span class="annottext">((RowParseRO -&gt; StateT (Int, [SQLData]) Ok a')
 -&gt; ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a')
-&gt; (RowParseRO -&gt; StateT (Int, [SQLData]) Ok a')
-&gt; ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a'
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679139141"><span class="annot"><span class="annottext">RowParseRO
</span><a href="#local-6989586621679139141"><span class="hs-identifier hs-var">ro</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">((Int, [SQLData]) -&gt; Ok (a', (Int, [SQLData])))
-&gt; StateT (Int, [SQLData]) Ok a'
forall s (m :: * -&gt; *) a. (s -&gt; m (a, s)) -&gt; StateT s m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">StateT</span></a></span><span> </span><span class="annot"><span class="annottext">(((Int, [SQLData]) -&gt; Ok (a', (Int, [SQLData])))
 -&gt; StateT (Int, [SQLData]) Ok a')
-&gt; ((Int, [SQLData]) -&gt; Ok (a', (Int, [SQLData])))
-&gt; StateT (Int, [SQLData]) Ok a'
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679139139"><span class="annot"><span class="annottext">st :: (Int, [SQLData])
</span><a href="#local-6989586621679139139"><span class="hs-identifier hs-var">st</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621679139138"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679139138"><span class="hs-identifier hs-var">col</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[SQLData]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-231"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">StateT (Int, [SQLData]) Ok a
-&gt; (Int, [SQLData]) -&gt; Ok (a, (Int, [SQLData]))
forall s (m :: * -&gt; *) a. StateT s m a -&gt; s -&gt; m (a, s)
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var hs-var">runStateT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a
-&gt; RowParseRO -&gt; StateT (Int, [SQLData]) Ok a
forall r (m :: * -&gt; *) a. ReaderT r m a -&gt; r -&gt; m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var hs-var">runReaderT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RowParser a -&gt; ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a
forall a.
RowParser a -&gt; ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var hs-var">unRP</span></a></span><span> </span><span class="annot"><span class="annottext">RowParser a
forall a. FromField a =&gt; RowParser a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">field</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">RowParseRO
</span><a href="#local-6989586621679139141"><span class="hs-identifier hs-var">ro</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Int, [SQLData])
</span><a href="#local-6989586621679139139"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-232"></span><span>              </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">Ok</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679139136"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679139136"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679139135"><span class="annot"><span class="annottext">(Int, [SQLData])
</span><a href="#local-6989586621679139135"><span class="hs-identifier hs-var">st'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">StateT (Int, [SQLData]) Ok a'
-&gt; (Int, [SQLData]) -&gt; Ok (a', (Int, [SQLData]))
forall s (m :: * -&gt; *) a. StateT s m a -&gt; s -&gt; m (a, s)
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var hs-var">runStateT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a'
-&gt; RowParseRO -&gt; StateT (Int, [SQLData]) Ok a'
forall r (m :: * -&gt; *) a. ReaderT r m a -&gt; r -&gt; m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var hs-var">runReaderT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RowParser a' -&gt; ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a'
forall a.
RowParser a -&gt; ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var hs-var">unRP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; RowParser a'
</span><a href="#local-6989586621679139143"><span class="hs-identifier hs-var">next</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679139136"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">RowParseRO
</span><a href="#local-6989586621679139141"><span class="hs-identifier hs-var">ro</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Int, [SQLData])
</span><a href="#local-6989586621679139135"><span class="hs-identifier hs-var">st'</span></a></span><span>
</span><span id="line-233"></span><span>              </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">Errors</span></a></span><span> </span><span id="local-6989586621679139133"><span class="annot"><span class="annottext">[SomeException]
</span><a href="#local-6989586621679139133"><span class="hs-identifier hs-var">errs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[SomeException] -&gt; Ok (a', (Int, [SQLData]))
forall a. [SomeException] -&gt; Ok a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">Errors</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SomeException -&gt; Maybe SomeException)
-&gt; [SomeException] -&gt; [SomeException]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Int -&gt; SomeException -&gt; Maybe SomeException
</span><a href="#local-6989586621679139161"><span class="hs-identifier hs-var">translateErrors</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Maybe Int
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679139138"><span class="hs-identifier hs-var">col</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[SomeException]
</span><a href="#local-6989586621679139133"><span class="hs-identifier hs-var">errs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-234"></span><span>        </span><span class="annot"><a href="#local-6989586621679139163"><span class="hs-identifier hs-var">step</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Alt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRowM</span></a></span><span> </span><span id="local-6989586621679139131"><span class="annot"><span class="annottext">F (FromBackendRowF Sqlite) a
</span><a href="#local-6989586621679139131"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRowM</span></a></span><span> </span><span id="local-6989586621679139130"><span class="annot"><span class="annottext">F (FromBackendRowF Sqlite) a
</span><a href="#local-6989586621679139130"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679139129"><span class="annot"><span class="annottext">a -&gt; RowParser a'
</span><a href="#local-6989586621679139129"><span class="hs-identifier hs-var">next</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-235"></span><span>          </span><span class="annot"><span class="annottext">ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a' -&gt; RowParser a'
forall a.
ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a -&gt; RowParser a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">RP</span></a></span><span> </span><span class="annot"><span class="annottext">(ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a'
 -&gt; RowParser a')
-&gt; ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a'
-&gt; RowParser a'
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-236"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">RP</span></a></span><span> </span><span id="local-6989586621679139128"><span class="annot"><span class="annottext">ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a
</span><a href="#local-6989586621679139128"><span class="hs-identifier hs-var">a'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">F (FromBackendRowF Sqlite) a
-&gt; (a -&gt; RowParser a)
-&gt; (FromBackendRowF Sqlite (RowParser a) -&gt; RowParser a)
-&gt; RowParser a
forall (f :: * -&gt; *) a.
F f a -&gt; forall r. (a -&gt; r) -&gt; (f r -&gt; r) -&gt; r
</span><a href="../../../../free/html/src"><span class="hs-identifier hs-var hs-var">runF</span></a></span><span> </span><span class="annot"><span class="annottext">F (FromBackendRowF Sqlite) a
</span><a href="#local-6989586621679139131"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; RowParser a
forall a. a -&gt; RowParser a
</span><a href="#local-6989586621679139164"><span class="hs-identifier hs-var">finish</span></a></span><span> </span><span class="annot"><span class="annottext">FromBackendRowF Sqlite (RowParser a) -&gt; RowParser a
forall a'. FromBackendRowF Sqlite (RowParser a') -&gt; RowParser a'
</span><a href="#local-6989586621679139163"><span class="hs-identifier hs-var">step</span></a></span><span>
</span><span id="line-237"></span><span>                </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">RP</span></a></span><span> </span><span id="local-6989586621679139127"><span class="annot"><span class="annottext">ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a
</span><a href="#local-6989586621679139127"><span class="hs-identifier hs-var">b'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">F (FromBackendRowF Sqlite) a
-&gt; (a -&gt; RowParser a)
-&gt; (FromBackendRowF Sqlite (RowParser a) -&gt; RowParser a)
-&gt; RowParser a
forall (f :: * -&gt; *) a.
F f a -&gt; forall r. (a -&gt; r) -&gt; (f r -&gt; r) -&gt; r
</span><a href="../../../../free/html/src"><span class="hs-identifier hs-var hs-var">runF</span></a></span><span> </span><span class="annot"><span class="annottext">F (FromBackendRowF Sqlite) a
</span><a href="#local-6989586621679139130"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; RowParser a
forall a. a -&gt; RowParser a
</span><a href="#local-6989586621679139164"><span class="hs-identifier hs-var">finish</span></a></span><span> </span><span class="annot"><span class="annottext">FromBackendRowF Sqlite (RowParser a) -&gt; RowParser a
forall a'. FromBackendRowF Sqlite (RowParser a') -&gt; RowParser a'
</span><a href="#local-6989586621679139163"><span class="hs-identifier hs-var">step</span></a></span><span>
</span><span id="line-238"></span><span>
</span><span id="line-239"></span><span>            </span><span id="local-6989586621679139126"><span class="annot"><span class="annottext">(Int, [SQLData])
</span><a href="#local-6989586621679139126"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) (Int, [SQLData])
forall s (m :: * -&gt; *). MonadState s m =&gt; m s
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">get</span></a></span><span>
</span><span id="line-240"></span><span>            </span><span id="local-6989586621679139124"><span class="annot"><span class="annottext">RowParseRO
</span><a href="#local-6989586621679139124"><span class="hs-identifier hs-var">ro</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) RowParseRO
forall r (m :: * -&gt; *). MonadReader r m =&gt; m r
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">ask</span></a></span><span>
</span><span id="line-241"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">StateT (Int, [SQLData]) Ok a
-&gt; (Int, [SQLData]) -&gt; Ok (a, (Int, [SQLData]))
forall s (m :: * -&gt; *) a. StateT s m a -&gt; s -&gt; m (a, s)
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var hs-var">runStateT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a
-&gt; RowParseRO -&gt; StateT (Int, [SQLData]) Ok a
forall r (m :: * -&gt; *) a. ReaderT r m a -&gt; r -&gt; m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var hs-var">runReaderT</span></a></span><span> </span><span class="annot"><span class="annottext">ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a
</span><a href="#local-6989586621679139128"><span class="hs-identifier hs-var">a'</span></a></span><span> </span><span class="annot"><span class="annottext">RowParseRO
</span><a href="#local-6989586621679139124"><span class="hs-identifier hs-var">ro</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Int, [SQLData])
</span><a href="#local-6989586621679139126"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-242"></span><span>              </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">Ok</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679139122"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679139122"><span class="hs-identifier hs-var">ra</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679139121"><span class="annot"><span class="annottext">(Int, [SQLData])
</span><a href="#local-6989586621679139121"><span class="hs-identifier hs-var">st'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-243"></span><span>                </span><span class="annot"><span class="annottext">(Int, [SQLData])
-&gt; ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) ()
forall s (m :: * -&gt; *). MonadState s m =&gt; s -&gt; m ()
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">put</span></a></span><span> </span><span class="annot"><span class="annottext">(Int, [SQLData])
</span><a href="#local-6989586621679139121"><span class="hs-identifier hs-var">st'</span></a></span><span>
</span><span id="line-244"></span><span>                </span><span class="annot"><span class="annottext">RowParser a' -&gt; ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a'
forall a.
RowParser a -&gt; ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var hs-var">unRP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; RowParser a'
</span><a href="#local-6989586621679139129"><span class="hs-identifier hs-var">next</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679139122"><span class="hs-identifier hs-var">ra</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-245"></span><span>              </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">Errors</span></a></span><span> </span><span id="local-6989586621679139119"><span class="annot"><span class="annottext">[SomeException]
</span><a href="#local-6989586621679139119"><span class="hs-identifier hs-var">aErrs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-246"></span><span>                </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">StateT (Int, [SQLData]) Ok a
-&gt; (Int, [SQLData]) -&gt; Ok (a, (Int, [SQLData]))
forall s (m :: * -&gt; *) a. StateT s m a -&gt; s -&gt; m (a, s)
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var hs-var">runStateT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a
-&gt; RowParseRO -&gt; StateT (Int, [SQLData]) Ok a
forall r (m :: * -&gt; *) a. ReaderT r m a -&gt; r -&gt; m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var hs-var">runReaderT</span></a></span><span> </span><span class="annot"><span class="annottext">ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a
</span><a href="#local-6989586621679139127"><span class="hs-identifier hs-var">b'</span></a></span><span> </span><span class="annot"><span class="annottext">RowParseRO
</span><a href="#local-6989586621679139124"><span class="hs-identifier hs-var">ro</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Int, [SQLData])
</span><a href="#local-6989586621679139126"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-247"></span><span>                  </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">Ok</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679139118"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679139118"><span class="hs-identifier hs-var">rb</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679139117"><span class="annot"><span class="annottext">(Int, [SQLData])
</span><a href="#local-6989586621679139117"><span class="hs-identifier hs-var">st'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-248"></span><span>                    </span><span class="annot"><span class="annottext">(Int, [SQLData])
-&gt; ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) ()
forall s (m :: * -&gt; *). MonadState s m =&gt; s -&gt; m ()
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">put</span></a></span><span> </span><span class="annot"><span class="annottext">(Int, [SQLData])
</span><a href="#local-6989586621679139117"><span class="hs-identifier hs-var">st'</span></a></span><span>
</span><span id="line-249"></span><span>                    </span><span class="annot"><span class="annottext">RowParser a' -&gt; ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a'
forall a.
RowParser a -&gt; ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var hs-var">unRP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; RowParser a'
</span><a href="#local-6989586621679139129"><span class="hs-identifier hs-var">next</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679139118"><span class="hs-identifier hs-var">rb</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-250"></span><span>                  </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">Errors</span></a></span><span> </span><span id="local-6989586621679139116"><span class="annot"><span class="annottext">[SomeException]
</span><a href="#local-6989586621679139116"><span class="hs-identifier hs-var">bErrs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-251"></span><span>                    </span><span class="annot"><span class="annottext">StateT (Int, [SQLData]) Ok a'
-&gt; ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a'
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ok a' -&gt; StateT (Int, [SQLData]) Ok a'
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SomeException] -&gt; Ok a'
forall a. [SomeException] -&gt; Ok a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">Errors</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SomeException]
</span><a href="#local-6989586621679139119"><span class="hs-identifier hs-var">aErrs</span></a></span><span> </span><span class="annot"><span class="annottext">[SomeException] -&gt; [SomeException] -&gt; [SomeException]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[SomeException]
</span><a href="#local-6989586621679139116"><span class="hs-identifier hs-var">bErrs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span>        </span><span class="annot"><a href="#local-6989586621679139163"><span class="hs-identifier hs-var">step</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FailParseWith</span></a></span><span> </span><span id="local-6989586621679139114"><span class="annot"><span class="annottext">BeamRowReadError
</span><a href="#local-6989586621679139114"><span class="hs-identifier hs-var">err</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a' -&gt; RowParser a'
forall a.
ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a -&gt; RowParser a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">RP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StateT (Int, [SQLData]) Ok a'
-&gt; ReaderT RowParseRO (StateT (Int, [SQLData]) Ok) a'
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ok a' -&gt; StateT (Int, [SQLData]) Ok a'
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SomeException] -&gt; Ok a'
forall a. [SomeException] -&gt; Ok a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">Errors</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">BeamRowReadError -&gt; SomeException
forall e. Exception e =&gt; e -&gt; SomeException
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">SomeException</span></a></span><span> </span><span class="annot"><span class="annottext">BeamRowReadError
</span><a href="#local-6989586621679139114"><span class="hs-identifier hs-var">err</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-253"></span><span>
</span><span id="line-254"></span><span class="hs-comment">-- * Equality checks</span><span class="hs-cpp">
#define HAS_SQLITE_EQUALITY_CHECK(ty)                       \
  instance HasSqlEqualityCheck Sqlite (ty); \
  instance HasSqlQuantifiedEqualityCheck Sqlite (ty);
</span><span>
</span><span id="line-259"></span><span id="local-6989586621679139105"><span id="local-6989586621679139107"><span id="local-6989586621679139109"><span id="local-6989586621679139111"></span></span></span></span><span class="hs-identifier">HAS_SQLITE_EQUALITY_CHECK</span><span class="hs-special">(</span><span class="hs-identifier">Int8</span><span class="hs-special">)</span><span>
</span><span id="line-260"></span><span id="local-6989586621679139089"><span id="local-6989586621679139091"><span id="local-6989586621679139093"><span id="local-6989586621679139095"></span></span></span></span><span class="hs-identifier">HAS_SQLITE_EQUALITY_CHECK</span><span class="hs-special">(</span><span class="hs-identifier">Int16</span><span class="hs-special">)</span><span>
</span><span id="line-261"></span><span id="local-6989586621679139075"><span id="local-6989586621679139077"><span id="local-6989586621679139079"><span id="local-6989586621679139081"></span></span></span></span><span class="hs-identifier">HAS_SQLITE_EQUALITY_CHECK</span><span class="hs-special">(</span><span class="hs-identifier">Int32</span><span class="hs-special">)</span><span>
</span><span id="line-262"></span><span id="local-6989586621679139061"><span id="local-6989586621679139063"><span id="local-6989586621679139065"><span id="local-6989586621679139067"></span></span></span></span><span class="hs-identifier">HAS_SQLITE_EQUALITY_CHECK</span><span class="hs-special">(</span><span class="hs-identifier">Int64</span><span class="hs-special">)</span><span>
</span><span id="line-263"></span><span id="local-6989586621679139047"><span id="local-6989586621679139049"><span id="local-6989586621679139051"><span id="local-6989586621679139053"></span></span></span></span><span class="hs-identifier">HAS_SQLITE_EQUALITY_CHECK</span><span class="hs-special">(</span><span class="hs-identifier">Word8</span><span class="hs-special">)</span><span>
</span><span id="line-264"></span><span id="local-6989586621679139033"><span id="local-6989586621679139035"><span id="local-6989586621679139037"><span id="local-6989586621679139039"></span></span></span></span><span class="hs-identifier">HAS_SQLITE_EQUALITY_CHECK</span><span class="hs-special">(</span><span class="hs-identifier">Word16</span><span class="hs-special">)</span><span>
</span><span id="line-265"></span><span id="local-6989586621679139019"><span id="local-6989586621679139021"><span id="local-6989586621679139023"><span id="local-6989586621679139025"></span></span></span></span><span class="hs-identifier">HAS_SQLITE_EQUALITY_CHECK</span><span class="hs-special">(</span><span class="hs-identifier">Word32</span><span class="hs-special">)</span><span>
</span><span id="line-266"></span><span id="local-6989586621679139005"><span id="local-6989586621679139007"><span id="local-6989586621679139009"><span id="local-6989586621679139011"></span></span></span></span><span class="hs-identifier">HAS_SQLITE_EQUALITY_CHECK</span><span class="hs-special">(</span><span class="hs-identifier">Word64</span><span class="hs-special">)</span><span>
</span><span id="line-267"></span><span id="local-6989586621679138991"><span id="local-6989586621679138993"><span id="local-6989586621679138995"><span id="local-6989586621679138997"></span></span></span></span><span class="hs-identifier">HAS_SQLITE_EQUALITY_CHECK</span><span class="hs-special">(</span><span class="hs-identifier">Double</span><span class="hs-special">)</span><span>
</span><span id="line-268"></span><span id="local-6989586621679138977"><span id="local-6989586621679138979"><span id="local-6989586621679138981"><span id="local-6989586621679138983"></span></span></span></span><span class="hs-identifier">HAS_SQLITE_EQUALITY_CHECK</span><span class="hs-special">(</span><span class="hs-identifier">Float</span><span class="hs-special">)</span><span>
</span><span id="line-269"></span><span id="local-6989586621679138963"><span id="local-6989586621679138965"><span id="local-6989586621679138967"><span id="local-6989586621679138969"></span></span></span></span><span class="hs-identifier">HAS_SQLITE_EQUALITY_CHECK</span><span class="hs-special">(</span><span class="hs-identifier">Bool</span><span class="hs-special">)</span><span>
</span><span id="line-270"></span><span id="local-6989586621679138949"><span id="local-6989586621679138951"><span id="local-6989586621679138953"><span id="local-6989586621679138955"></span></span></span></span><span class="hs-identifier">HAS_SQLITE_EQUALITY_CHECK</span><span class="hs-special">(</span><span class="hs-identifier">String</span><span class="hs-special">)</span><span>
</span><span id="line-271"></span><span id="local-6989586621679138935"><span id="local-6989586621679138937"><span id="local-6989586621679138939"><span id="local-6989586621679138941"></span></span></span></span><span class="hs-identifier">HAS_SQLITE_EQUALITY_CHECK</span><span class="hs-special">(</span><span class="hs-identifier">T.Text</span><span class="hs-special">)</span><span>
</span><span id="line-272"></span><span id="local-6989586621679138921"><span id="local-6989586621679138923"><span id="local-6989586621679138925"><span id="local-6989586621679138927"></span></span></span></span><span class="hs-identifier">HAS_SQLITE_EQUALITY_CHECK</span><span class="hs-special">(</span><span class="hs-identifier">TL.Text</span><span class="hs-special">)</span><span>
</span><span id="line-273"></span><span id="local-6989586621679138907"><span id="local-6989586621679138909"><span id="local-6989586621679138911"><span id="local-6989586621679138913"></span></span></span></span><span class="hs-identifier">HAS_SQLITE_EQUALITY_CHECK</span><span class="hs-special">(</span><span class="hs-identifier">BS.ByteString</span><span class="hs-special">)</span><span>
</span><span id="line-274"></span><span id="local-6989586621679138893"><span id="local-6989586621679138895"><span id="local-6989586621679138897"><span id="local-6989586621679138899"></span></span></span></span><span class="hs-identifier">HAS_SQLITE_EQUALITY_CHECK</span><span class="hs-special">(</span><span class="hs-identifier">BL.ByteString</span><span class="hs-special">)</span><span>
</span><span id="line-275"></span><span id="local-6989586621679138879"><span id="local-6989586621679138881"><span id="local-6989586621679138883"><span id="local-6989586621679138885"></span></span></span></span><span class="hs-identifier">HAS_SQLITE_EQUALITY_CHECK</span><span class="hs-special">(</span><span class="hs-identifier">UTCTime</span><span class="hs-special">)</span><span>
</span><span id="line-276"></span><span id="local-6989586621679138865"><span id="local-6989586621679138867"><span id="local-6989586621679138869"><span id="local-6989586621679138871"></span></span></span></span><span class="hs-identifier">HAS_SQLITE_EQUALITY_CHECK</span><span class="hs-special">(</span><span class="hs-identifier">LocalTime</span><span class="hs-special">)</span><span>
</span><span id="line-277"></span><span id="local-6989586621679138851"><span id="local-6989586621679138853"><span id="local-6989586621679138855"><span id="local-6989586621679138857"></span></span></span></span><span class="hs-identifier">HAS_SQLITE_EQUALITY_CHECK</span><span class="hs-special">(</span><span class="hs-identifier">ZonedTime</span><span class="hs-special">)</span><span>
</span><span id="line-278"></span><span id="local-6989586621679138837"><span id="local-6989586621679138839"><span id="local-6989586621679138841"><span id="local-6989586621679138843"></span></span></span></span><span class="hs-identifier">HAS_SQLITE_EQUALITY_CHECK</span><span class="hs-special">(</span><span class="hs-identifier">Char</span><span class="hs-special">)</span><span>
</span><span id="line-279"></span><span id="local-6989586621679138823"><span id="local-6989586621679138825"><span id="local-6989586621679138827"><span id="local-6989586621679138829"></span></span></span></span><span class="hs-identifier">HAS_SQLITE_EQUALITY_CHECK</span><span class="hs-special">(</span><span class="hs-identifier">Integer</span><span class="hs-special">)</span><span>
</span><span id="line-280"></span><span id="local-6989586621679138809"><span id="local-6989586621679138811"><span id="local-6989586621679138813"><span id="local-6989586621679138815"></span></span></span></span><span class="hs-identifier">HAS_SQLITE_EQUALITY_CHECK</span><span class="hs-special">(</span><span class="hs-identifier">Scientific</span><span class="hs-special">)</span><span>
</span><span id="line-281"></span><span>
</span><span id="line-282"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679138795"><span id="local-6989586621679138797"><span id="local-6989586621679138799"><span id="local-6989586621679138801"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">TypeError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">PreferExplicitSize</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Int32</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">HasSqlEqualityCheck</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span></span></span></span></span><span>
</span><span id="line-283"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679138790"><span id="local-6989586621679138792"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">TypeError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">PreferExplicitSize</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Int32</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">HasSqlQuantifiedEqualityCheck</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span></span></span><span>
</span><span id="line-284"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679138781"><span id="local-6989586621679138783"><span id="local-6989586621679138785"><span id="local-6989586621679138787"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">TypeError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">PreferExplicitSize</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Word</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Word32</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">HasSqlEqualityCheck</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Word</span></a></span></span></span></span></span><span>
</span><span id="line-285"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679138776"><span id="local-6989586621679138778"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">TypeError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">PreferExplicitSize</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Word</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Word32</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">HasSqlQuantifiedEqualityCheck</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Word</span></a></span></span></span><span>
</span><span id="line-286"></span><span>
</span><span id="line-287"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-type">HasDefaultSqlDataType</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679139720"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="IsSqliteSerialIntegerType"><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#IsSqliteSerialIntegerType"><span class="hs-identifier hs-var">IsSqliteSerialIntegerType</span></a></span></span><span> </span><span id="local-6989586621679139720"><span class="annot"><a href="#local-6989586621679139720"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-288"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#IsSqliteSerialIntegerType"><span class="hs-identifier hs-type">IsSqliteSerialIntegerType</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Int32</span></a></span><span>
</span><span id="line-289"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#IsSqliteSerialIntegerType"><span class="hs-identifier hs-type">IsSqliteSerialIntegerType</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Int64</span></a></span><span>
</span><span id="line-290"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">TypeError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">PreferExplicitSize</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Int32</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#IsSqliteSerialIntegerType"><span class="hs-identifier hs-type">IsSqliteSerialIntegerType</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-291"></span><span>
</span><span id="line-292"></span><span id="local-6989586621679138771"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679138767"><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#IsSqliteSerialIntegerType"><span class="hs-identifier hs-type">IsSqliteSerialIntegerType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679138771"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-type">HasDefaultSqlDataType</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">SqlSerial</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679138771"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-293"></span><span>  </span><span id="local-6989586621679138765"><span class="annot"><span class="annottext">defaultSqlDataType :: Proxy (SqlSerial a)
-&gt; Proxy Sqlite -&gt; Bool -&gt; BeamSqlBackendCastTargetSyntax Sqlite
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">defaultSqlDataType</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy (SqlSerial a)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Proxy Sqlite
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">False</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Sqlite
SqliteDataTypeSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#sqliteSerialType"><span class="hs-identifier hs-var">sqliteSerialType</span></a></span><span>
</span><span id="line-294"></span><span>  </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">defaultSqlDataType</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy (SqlSerial a)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Proxy Sqlite
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">True</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Sqlite
forall dataType. IsSql92DataTypeSyntax dataType =&gt; dataType
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">intType</span></a></span></span><span>
</span><span id="line-295"></span><span>
</span><span id="line-296"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679138759"><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-type">HasDefaultSqlDataType</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">BS.ByteString</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-297"></span><span>  </span><span class="hs-comment">-- TODO we should somehow allow contsraints based on backend</span><span>
</span><span id="line-298"></span><span>  </span><span id="local-6989586621679138758"><span class="annot"><span class="annottext">defaultSqlDataType :: Proxy ByteString
-&gt; Proxy Sqlite -&gt; Bool -&gt; BeamSqlBackendCastTargetSyntax Sqlite
</span><a href="#local-6989586621679138758"><span class="hs-identifier hs-var hs-var hs-var hs-var">defaultSqlDataType</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy ByteString
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Proxy Sqlite
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Sqlite
SqliteDataTypeSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#sqliteBlobType"><span class="hs-identifier hs-var">sqliteBlobType</span></a></span><span>
</span><span id="line-299"></span><span>
</span><span id="line-300"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679138753"><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-type">HasDefaultSqlDataType</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier hs-type">LocalTime</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-301"></span><span>  </span><span id="local-6989586621679138752"><span class="annot"><span class="annottext">defaultSqlDataType :: Proxy LocalTime
-&gt; Proxy Sqlite -&gt; Bool -&gt; BeamSqlBackendCastTargetSyntax Sqlite
</span><a href="#local-6989586621679138752"><span class="hs-identifier hs-var hs-var hs-var hs-var">defaultSqlDataType</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy LocalTime
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Proxy Sqlite
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Word -&gt; Bool -&gt; SqliteDataTypeSyntax
forall dataType.
IsSql92DataTypeSyntax dataType =&gt;
Maybe Word -&gt; Bool -&gt; dataType
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">timestampType</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Word
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-302"></span><span>
</span><span id="line-303"></span><span class="hs-comment">-- | URI syntax for use with 'withDbConnection'. See documentation for</span><span>
</span><span id="line-304"></span><span class="hs-comment">-- 'BeamURIOpeners' for more information.</span><span>
</span><span id="line-305"></span><span id="local-6989586621679138750"><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#sqliteUriSyntax"><span class="hs-identifier hs-type">sqliteUriSyntax</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679138750"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">Connection</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#SqliteM"><span class="hs-identifier hs-type">SqliteM</span></a></span><span>
</span><span id="line-306"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">BeamURIOpeners</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679138750"><span class="hs-identifier hs-type">c</span></a></span></span><span>
</span><span id="line-307"></span><span id="sqliteUriSyntax"><span class="annot"><span class="annottext">sqliteUriSyntax :: c Sqlite Connection SqliteM -&gt; BeamURIOpeners c
</span><a href="Database.Beam.Sqlite.Connection.html#sqliteUriSyntax"><span class="hs-identifier hs-var hs-var">sqliteUriSyntax</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-308"></span><span>  </span><span class="annot"><span class="annottext">(forall a. Connection -&gt; SqliteM a -&gt; IO a)
-&gt; String
-&gt; (URI -&gt; IO (Connection, IO ()))
-&gt; c Sqlite Connection SqliteM
-&gt; BeamURIOpeners c
forall hdl (m :: * -&gt; *) (c :: * -&gt; * -&gt; (* -&gt; *) -&gt; *) be.
(forall a. hdl -&gt; m a -&gt; IO a)
-&gt; String
-&gt; (URI -&gt; IO (hdl, IO ()))
-&gt; c be hdl m
-&gt; BeamURIOpeners c
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">mkUriOpener</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Connection -&gt; SqliteM a -&gt; IO a
</span><a href="Database.Beam.Sqlite.Connection.html#runBeamSqlite"><span class="hs-identifier hs-var">runBeamSqlite</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;sqlite:&quot;</span></span><span>
</span><span id="line-309"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679138748"><span class="annot"><span class="annottext">URI
</span><a href="#local-6989586621679138748"><span class="hs-identifier hs-var">uri</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-310"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679138747"><span class="annot"><span class="annottext">sqliteName :: String
</span><a href="#local-6989586621679138747"><span class="hs-identifier hs-var hs-var">sqliteName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">URI -&gt; String
</span><a href="../../../../network-uri/html/src"><span class="hs-identifier hs-var hs-var">uriPath</span></a></span><span> </span><span class="annot"><span class="annottext">URI
</span><a href="#local-6989586621679138748"><span class="hs-identifier hs-var">uri</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;:memory:&quot;</span></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">URI -&gt; String
</span><a href="../../../../network-uri/html/src"><span class="hs-identifier hs-var hs-var">uriPath</span></a></span><span> </span><span class="annot"><span class="annottext">URI
</span><a href="#local-6989586621679138748"><span class="hs-identifier hs-var">uri</span></a></span><span>
</span><span id="line-311"></span><span>        </span><span id="local-6989586621679138744"><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679138744"><span class="hs-identifier hs-var">hdl</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO Connection
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">open</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679138747"><span class="hs-identifier hs-var">sqliteName</span></a></span><span>
</span><span id="line-312"></span><span>        </span><span class="annot"><span class="annottext">(Connection, IO ()) -&gt; IO (Connection, IO ())
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679138744"><span class="hs-identifier hs-var">hdl</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Connection -&gt; IO ()
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">close</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679138744"><span class="hs-identifier hs-var">hdl</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-313"></span><span>
</span><span id="line-314"></span><span id="local-6989586621679139699"><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#runBeamSqliteDebug"><span class="hs-identifier hs-type">runBeamSqliteDebug</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">Connection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#SqliteM"><span class="hs-identifier hs-type">SqliteM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679139699"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679139699"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-315"></span><span id="runBeamSqliteDebug"><span class="annot"><span class="annottext">runBeamSqliteDebug :: (String -&gt; IO ()) -&gt; Connection -&gt; SqliteM a -&gt; IO a
</span><a href="Database.Beam.Sqlite.Connection.html#runBeamSqliteDebug"><span class="hs-identifier hs-var hs-var">runBeamSqliteDebug</span></a></span></span><span> </span><span id="local-6989586621679138743"><span class="annot"><span class="annottext">String -&gt; IO ()
</span><a href="#local-6989586621679138743"><span class="hs-identifier hs-var">debugStmt</span></a></span></span><span> </span><span id="local-6989586621679138742"><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679138742"><span class="hs-identifier hs-var">conn</span></a></span></span><span> </span><span id="local-6989586621679138741"><span class="annot"><span class="annottext">SqliteM a
</span><a href="#local-6989586621679138741"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ReaderT (String -&gt; IO (), Connection) IO a
-&gt; (String -&gt; IO (), Connection) -&gt; IO a
forall r (m :: * -&gt; *) a. ReaderT r m a -&gt; r -&gt; m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var hs-var">runReaderT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SqliteM a -&gt; ReaderT (String -&gt; IO (), Connection) IO a
forall a. SqliteM a -&gt; ReaderT (String -&gt; IO (), Connection) IO a
</span><a href="Database.Beam.Sqlite.Connection.html#runSqliteM"><span class="hs-identifier hs-var hs-var">runSqliteM</span></a></span><span> </span><span class="annot"><span class="annottext">SqliteM a
</span><a href="#local-6989586621679138741"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; IO ()
</span><a href="#local-6989586621679138743"><span class="hs-identifier hs-var">debugStmt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679138742"><span class="hs-identifier hs-var">conn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-316"></span><span>
</span><span id="line-317"></span><span id="local-6989586621679138740"><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#runBeamSqlite"><span class="hs-identifier hs-type">runBeamSqlite</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">Connection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#SqliteM"><span class="hs-identifier hs-type">SqliteM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679138740"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679138740"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-318"></span><span id="runBeamSqlite"><span class="annot"><span class="annottext">runBeamSqlite :: Connection -&gt; SqliteM a -&gt; IO a
</span><a href="Database.Beam.Sqlite.Connection.html#runBeamSqlite"><span class="hs-identifier hs-var hs-var">runBeamSqlite</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; Connection -&gt; SqliteM a -&gt; IO a
forall a. (String -&gt; IO ()) -&gt; Connection -&gt; SqliteM a -&gt; IO a
</span><a href="Database.Beam.Sqlite.Connection.html#runBeamSqliteDebug"><span class="hs-identifier hs-var">runBeamSqliteDebug</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; IO ()
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-319"></span><span>
</span><span id="line-320"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679138730"><span id="local-6989586621679138732"><span id="local-6989586621679138734"><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">MonadBeam</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#SqliteM"><span class="hs-identifier hs-type">SqliteM</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-321"></span><span>  </span><span id="local-6989586621679138728"><span class="annot"><span class="annottext">runNoReturn :: BeamSqlBackendSyntax Sqlite -&gt; SqliteM ()
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">runNoReturn</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Sqlite.Syntax.html#SqliteCommandSyntax"><span class="hs-identifier hs-type">SqliteCommandSyntax</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Sqlite.Syntax.html#SqliteSyntax"><span class="hs-identifier hs-type">SqliteSyntax</span></a></span><span> </span><span id="local-6989586621679138724"><span class="annot"><a href="#local-6989586621679138724"><span class="hs-identifier hs-var">cmd</span></a></span></span><span> </span><span id="local-6989586621679138723"><span class="annot"><a href="#local-6989586621679138723"><span class="hs-identifier hs-var">vals</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-322"></span><span>    </span><span class="annot"><span class="annottext">ReaderT (String -&gt; IO (), Connection) IO () -&gt; SqliteM ()
forall a. ReaderT (String -&gt; IO (), Connection) IO a -&gt; SqliteM a
</span><a href="Database.Beam.Sqlite.Connection.html#SqliteM"><span class="hs-identifier hs-var">SqliteM</span></a></span><span> </span><span class="annot"><span class="annottext">(ReaderT (String -&gt; IO (), Connection) IO () -&gt; SqliteM ())
-&gt; ReaderT (String -&gt; IO (), Connection) IO () -&gt; SqliteM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-323"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621679138722"><span class="annot"><span class="annottext">String -&gt; IO ()
</span><a href="#local-6989586621679138722"><span class="hs-identifier hs-var">logger</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679138721"><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679138721"><span class="hs-identifier hs-var">conn</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReaderT
  (String -&gt; IO (), Connection) IO (String -&gt; IO (), Connection)
forall r (m :: * -&gt; *). MonadReader r m =&gt; m r
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">ask</span></a></span><span>
</span><span id="line-324"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679138720"><span class="annot"><span class="annottext">cmdString :: String
</span><a href="#local-6989586621679138720"><span class="hs-identifier hs-var hs-var">cmdString</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; String
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">BL.unpack</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Builder -&gt; ByteString
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">toLazyByteString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((SQLData -&gt; Builder) -&gt; Builder) -&gt; Builder
</span><a href="Database.Beam.Sqlite.Syntax.html#withPlaceholders"><span class="hs-identifier hs-var">withPlaceholders</span></a></span><span> </span><span class="annot"><span class="annottext">(SQLData -&gt; Builder) -&gt; Builder
</span><a href="#local-6989586621679138724"><span class="hs-identifier hs-var">cmd</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-325"></span><span>      </span><span class="annot"><span class="annottext">IO () -&gt; ReaderT (String -&gt; IO (), Connection) IO ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; IO ()
</span><a href="#local-6989586621679138722"><span class="hs-identifier hs-var">logger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679138720"><span class="hs-identifier hs-var">cmdString</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;;\n-- With values: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[SQLData] -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DList SQLData -&gt; [SQLData]
forall a. DList a -&gt; [a]
</span><a href="../../../../dlist/html/src"><span class="hs-identifier hs-var">D.toList</span></a></span><span> </span><span class="annot"><span class="annottext">DList SQLData
</span><a href="#local-6989586621679138723"><span class="hs-identifier hs-var">vals</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-326"></span><span>      </span><span class="annot"><span class="annottext">IO () -&gt; ReaderT (String -&gt; IO (), Connection) IO ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Connection -&gt; Query -&gt; [SQLData] -&gt; IO ()
forall q. ToRow q =&gt; Connection -&gt; Query -&gt; q -&gt; IO ()
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">execute</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679138721"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Query
forall a. IsString a =&gt; String -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679138720"><span class="hs-identifier hs-var">cmdString</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DList SQLData -&gt; [SQLData]
forall a. DList a -&gt; [a]
</span><a href="../../../../dlist/html/src"><span class="hs-identifier hs-var">D.toList</span></a></span><span> </span><span class="annot"><span class="annottext">DList SQLData
</span><a href="#local-6989586621679138723"><span class="hs-identifier hs-var">vals</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-327"></span><span>  </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">runNoReturn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Sqlite.Syntax.html#SqliteCommandInsert"><span class="hs-identifier hs-type">SqliteCommandInsert</span></a></span><span> </span><span id="local-6989586621679138713"><span class="annot"><a href="#local-6989586621679138713"><span class="hs-identifier hs-var">insertStmt_</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-328"></span><span>    </span><span class="annot"><span class="annottext">ReaderT (String -&gt; IO (), Connection) IO () -&gt; SqliteM ()
forall a. ReaderT (String -&gt; IO (), Connection) IO a -&gt; SqliteM a
</span><a href="Database.Beam.Sqlite.Connection.html#SqliteM"><span class="hs-identifier hs-var">SqliteM</span></a></span><span> </span><span class="annot"><span class="annottext">(ReaderT (String -&gt; IO (), Connection) IO () -&gt; SqliteM ())
-&gt; ReaderT (String -&gt; IO (), Connection) IO () -&gt; SqliteM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-329"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621679138712"><span class="annot"><span class="annottext">String -&gt; IO ()
</span><a href="#local-6989586621679138712"><span class="hs-identifier hs-var">logger</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679138711"><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679138711"><span class="hs-identifier hs-var">conn</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReaderT
  (String -&gt; IO (), Connection) IO (String -&gt; IO (), Connection)
forall r (m :: * -&gt; *). MonadReader r m =&gt; m r
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">ask</span></a></span><span>
</span><span id="line-330"></span><span>      </span><span class="annot"><span class="annottext">IO () -&gt; ReaderT (String -&gt; IO (), Connection) IO ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; Connection -&gt; SqliteInsertSyntax -&gt; IO ()
</span><a href="Database.Beam.Sqlite.Connection.html#runSqliteInsert"><span class="hs-identifier hs-var">runSqliteInsert</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; IO ()
</span><a href="#local-6989586621679138712"><span class="hs-identifier hs-var">logger</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679138711"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="annot"><span class="annottext">SqliteInsertSyntax
</span><a href="#local-6989586621679138713"><span class="hs-identifier hs-var">insertStmt_</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-331"></span><span>
</span><span id="line-332"></span><span>  </span><span id="local-6989586621679138709"><span class="annot"><span class="annottext">runReturningMany :: BeamSqlBackendSyntax Sqlite
-&gt; (SqliteM (Maybe x) -&gt; SqliteM a) -&gt; SqliteM a
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">runReturningMany</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Sqlite.Syntax.html#SqliteCommandSyntax"><span class="hs-identifier hs-type">SqliteCommandSyntax</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Sqlite.Syntax.html#SqliteSyntax"><span class="hs-identifier hs-type">SqliteSyntax</span></a></span><span> </span><span id="local-6989586621679138707"><span class="annot"><a href="#local-6989586621679138707"><span class="hs-identifier hs-var">cmd</span></a></span></span><span> </span><span id="local-6989586621679138706"><span class="annot"><a href="#local-6989586621679138706"><span class="hs-identifier hs-var">vals</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679138705"><span class="annot"><span class="annottext">SqliteM (Maybe x) -&gt; SqliteM a
</span><a href="#local-6989586621679138705"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-333"></span><span>      </span><span class="annot"><span class="annottext">ReaderT (String -&gt; IO (), Connection) IO a -&gt; SqliteM a
forall a. ReaderT (String -&gt; IO (), Connection) IO a -&gt; SqliteM a
</span><a href="Database.Beam.Sqlite.Connection.html#SqliteM"><span class="hs-identifier hs-var">SqliteM</span></a></span><span> </span><span class="annot"><span class="annottext">(ReaderT (String -&gt; IO (), Connection) IO a -&gt; SqliteM a)
-&gt; ReaderT (String -&gt; IO (), Connection) IO a -&gt; SqliteM a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-334"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679138704"><span class="annot"><span class="annottext">String -&gt; IO ()
</span><a href="#local-6989586621679138704"><span class="hs-identifier hs-var">logger</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679138703"><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679138703"><span class="hs-identifier hs-var">conn</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReaderT
  (String -&gt; IO (), Connection) IO (String -&gt; IO (), Connection)
forall r (m :: * -&gt; *). MonadReader r m =&gt; m r
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">ask</span></a></span><span>
</span><span id="line-335"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679138702"><span class="annot"><span class="annottext">cmdString :: String
</span><a href="#local-6989586621679138702"><span class="hs-identifier hs-var hs-var">cmdString</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; String
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">BL.unpack</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Builder -&gt; ByteString
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">toLazyByteString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((SQLData -&gt; Builder) -&gt; Builder) -&gt; Builder
</span><a href="Database.Beam.Sqlite.Syntax.html#withPlaceholders"><span class="hs-identifier hs-var">withPlaceholders</span></a></span><span> </span><span class="annot"><span class="annottext">(SQLData -&gt; Builder) -&gt; Builder
</span><a href="#local-6989586621679138707"><span class="hs-identifier hs-var">cmd</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-336"></span><span>        </span><span class="annot"><span class="annottext">IO a -&gt; ReaderT (String -&gt; IO (), Connection) IO a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO a -&gt; ReaderT (String -&gt; IO (), Connection) IO a)
-&gt; IO a -&gt; ReaderT (String -&gt; IO (), Connection) IO a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-337"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; IO ()
</span><a href="#local-6989586621679138704"><span class="hs-identifier hs-var">logger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679138702"><span class="hs-identifier hs-var">cmdString</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;;\n-- With values: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[SQLData] -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DList SQLData -&gt; [SQLData]
forall a. DList a -&gt; [a]
</span><a href="../../../../dlist/html/src"><span class="hs-identifier hs-var">D.toList</span></a></span><span> </span><span class="annot"><span class="annottext">DList SQLData
</span><a href="#local-6989586621679138706"><span class="hs-identifier hs-var">vals</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-338"></span><span>          </span><span class="annot"><span class="annottext">Connection -&gt; Query -&gt; (Statement -&gt; IO a) -&gt; IO a
forall a. Connection -&gt; Query -&gt; (Statement -&gt; IO a) -&gt; IO a
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">withStatement</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679138703"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Query
forall a. IsString a =&gt; String -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679138702"><span class="hs-identifier hs-var">cmdString</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Statement -&gt; IO a) -&gt; IO a) -&gt; (Statement -&gt; IO a) -&gt; IO a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679138701"><span class="annot"><span class="annottext">Statement
</span><a href="#local-6989586621679138701"><span class="hs-identifier hs-var">stmt</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-339"></span><span>            </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">Statement -&gt; BeamSqliteParams -&gt; IO ()
forall params. ToRow params =&gt; Statement -&gt; params -&gt; IO ()
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">bind</span></a></span><span> </span><span class="annot"><span class="annottext">Statement
</span><a href="#local-6989586621679138701"><span class="hs-identifier hs-var">stmt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SQLData] -&gt; BeamSqliteParams
</span><a href="Database.Beam.Sqlite.Connection.html#BeamSqliteParams"><span class="hs-identifier hs-var">BeamSqliteParams</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DList SQLData -&gt; [SQLData]
forall a. DList a -&gt; [a]
</span><a href="../../../../dlist/html/src"><span class="hs-identifier hs-var">D.toList</span></a></span><span> </span><span class="annot"><span class="annottext">DList SQLData
</span><a href="#local-6989586621679138706"><span class="hs-identifier hs-var">vals</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-340"></span><span>               </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679138700"><span class="annot"><span class="annottext">nextRow' :: SqliteM (Maybe x)
</span><a href="#local-6989586621679138700"><span class="hs-identifier hs-var hs-var">nextRow'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO (Maybe (BeamSqliteRow (Maybe x)))
-&gt; SqliteM (Maybe (BeamSqliteRow (Maybe x)))
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Statement -&gt; IO (Maybe (BeamSqliteRow (Maybe x)))
forall r. FromRow r =&gt; Statement -&gt; IO (Maybe r)
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">nextRow</span></a></span><span> </span><span class="annot"><span class="annottext">Statement
</span><a href="#local-6989586621679138701"><span class="hs-identifier hs-var">stmt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SqliteM (Maybe (BeamSqliteRow (Maybe x)))
-&gt; (Maybe (BeamSqliteRow (Maybe x)) -&gt; SqliteM (Maybe x))
-&gt; SqliteM (Maybe x)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679138699"><span class="annot"><span class="annottext">Maybe (BeamSqliteRow (Maybe x))
</span><a href="#local-6989586621679138699"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-341"></span><span>                              </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe (BeamSqliteRow (Maybe x))
</span><a href="#local-6989586621679138699"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-342"></span><span>                                </span><span class="annot"><span class="annottext">Maybe (BeamSqliteRow (Maybe x))
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe x -&gt; SqliteM (Maybe x)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe x
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-343"></span><span>                                </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#BeamSqliteRow"><span class="hs-identifier hs-type">BeamSqliteRow</span></a></span><span> </span><span id="local-6989586621679138698"><span class="annot"><span class="annottext">Maybe x
</span><a href="#local-6989586621679138698"><span class="hs-identifier hs-var">row</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe x -&gt; SqliteM (Maybe x)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe x
</span><a href="#local-6989586621679138698"><span class="hs-identifier hs-var">row</span></a></span><span>
</span><span id="line-344"></span><span>               </span><span class="annot"><span class="annottext">ReaderT (String -&gt; IO (), Connection) IO a
-&gt; (String -&gt; IO (), Connection) -&gt; IO a
forall r (m :: * -&gt; *) a. ReaderT r m a -&gt; r -&gt; m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var hs-var">runReaderT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SqliteM a -&gt; ReaderT (String -&gt; IO (), Connection) IO a
forall a. SqliteM a -&gt; ReaderT (String -&gt; IO (), Connection) IO a
</span><a href="Database.Beam.Sqlite.Connection.html#runSqliteM"><span class="hs-identifier hs-var hs-var">runSqliteM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SqliteM (Maybe x) -&gt; SqliteM a
</span><a href="#local-6989586621679138705"><span class="hs-identifier hs-var">action</span></a></span><span> </span><span class="annot"><span class="annottext">SqliteM (Maybe x)
</span><a href="#local-6989586621679138700"><span class="hs-identifier hs-var">nextRow'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; IO ()
</span><a href="#local-6989586621679138704"><span class="hs-identifier hs-var">logger</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679138703"><span class="hs-identifier hs-var">conn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-345"></span><span>  </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">runReturningMany</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Syntax.html#SqliteCommandInsert"><span class="hs-identifier hs-type">SqliteCommandInsert</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="annot"><span class="annottext">SqliteM (Maybe x) -&gt; SqliteM a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-346"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; SqliteM a
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SqliteM a)
-&gt; ([String] -&gt; String) -&gt; [String] -&gt; SqliteM a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
forall a. Monoid a =&gt; [a] -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mconcat</span></a></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; SqliteM a) -&gt; [String] -&gt; SqliteM a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-347"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;runReturningMany{Sqlite}: sqlite does not support returning &quot;</span></span><span>
</span><span id="line-348"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;rows from an insert, use Database.Beam.Sqlite.insertReturning &quot;</span></span><span>
</span><span id="line-349"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;for emulation&quot;</span></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-350"></span><span>
</span><span id="line-351"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Beam.MonadBeamInsertReturning</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#SqliteM"><span class="hs-identifier hs-type">SqliteM</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-352"></span><span>  </span><span id="local-6989586621679138694"><span class="annot"><span class="annottext">runInsertReturningList :: SqlInsert Sqlite table -&gt; SqliteM [table Identity]
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">runInsertReturningList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SqlInsert Sqlite table -&gt; SqliteM [table Identity]
forall (table :: (* -&gt; *) -&gt; *).
(Beamable table, FromBackendRow Sqlite (table Identity)) =&gt;
SqlInsert Sqlite table -&gt; SqliteM [table Identity]
</span><a href="Database.Beam.Sqlite.Connection.html#runInsertReturningList"><span class="hs-identifier hs-var">runInsertReturningList</span></a></span><span>
</span><span id="line-353"></span><span>
</span><span id="line-354"></span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#runSqliteInsert"><span class="hs-identifier hs-type">runSqliteInsert</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-type">Connection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Syntax.html#SqliteInsertSyntax"><span class="hs-identifier hs-type">SqliteInsertSyntax</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-355"></span><span id="runSqliteInsert"><span class="annot"><span class="annottext">runSqliteInsert :: (String -&gt; IO ()) -&gt; Connection -&gt; SqliteInsertSyntax -&gt; IO ()
</span><a href="Database.Beam.Sqlite.Connection.html#runSqliteInsert"><span class="hs-identifier hs-var hs-var">runSqliteInsert</span></a></span></span><span> </span><span id="local-6989586621679138692"><span class="annot"><span class="annottext">String -&gt; IO ()
</span><a href="#local-6989586621679138692"><span class="hs-identifier hs-var">logger</span></a></span></span><span> </span><span id="local-6989586621679138691"><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679138691"><span class="hs-identifier hs-var">conn</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Sqlite.Syntax.html#SqliteInsertSyntax"><span class="hs-identifier hs-type">SqliteInsertSyntax</span></a></span><span> </span><span id="local-6989586621679138689"><span class="annot"><span class="annottext">SqliteTableNameSyntax
</span><a href="#local-6989586621679138689"><span class="hs-identifier hs-var">tbl</span></a></span></span><span> </span><span id="local-6989586621679138688"><span class="annot"><span class="annottext">[TablePrefix]
</span><a href="#local-6989586621679138688"><span class="hs-identifier hs-var">fields</span></a></span></span><span> </span><span id="local-6989586621679138687"><span class="annot"><span class="annottext">SqliteInsertValuesSyntax
</span><a href="#local-6989586621679138687"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span id="local-6989586621679138686"><span class="annot"><span class="annottext">Maybe SqliteOnConflictSyntax
</span><a href="#local-6989586621679138686"><span class="hs-identifier hs-var">onConflict</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-356"></span><span>    </span><span class="hs-comment">-- If all expressions are simple expressions (no default), then just</span><span>
</span><span id="line-357"></span><span>
</span><span id="line-358"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Syntax.html#SqliteInsertExpressions"><span class="hs-identifier hs-type">SqliteInsertExpressions</span></a></span><span> </span><span id="local-6989586621679138684"><span class="annot"><span class="annottext">[[SqliteExpressionSyntax]]
</span><a href="#local-6989586621679138684"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SqliteInsertValuesSyntax
</span><a href="#local-6989586621679138687"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">([SqliteExpressionSyntax] -&gt; Bool)
-&gt; [[SqliteExpressionSyntax]] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SqliteExpressionSyntax -&gt; Bool)
-&gt; [SqliteExpressionSyntax] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">any</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SqliteExpressionSyntax -&gt; SqliteExpressionSyntax -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">SqliteExpressionSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#SqliteExpressionDefault"><span class="hs-identifier hs-var">SqliteExpressionDefault</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[[SqliteExpressionSyntax]]
</span><a href="#local-6989586621679138684"><span class="hs-identifier hs-var">es</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-359"></span><span>      </span><span class="annot"><span class="annottext">[[SqliteExpressionSyntax]]
-&gt; ([SqliteExpressionSyntax] -&gt; IO ()) -&gt; IO ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m ()
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">forM_</span></a></span><span> </span><span class="annot"><span class="annottext">[[SqliteExpressionSyntax]]
</span><a href="#local-6989586621679138684"><span class="hs-identifier hs-var">es</span></a></span><span> </span><span class="annot"><span class="annottext">(([SqliteExpressionSyntax] -&gt; IO ()) -&gt; IO ())
-&gt; ([SqliteExpressionSyntax] -&gt; IO ()) -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679138681"><span class="annot"><span class="annottext">[SqliteExpressionSyntax]
</span><a href="#local-6989586621679138681"><span class="hs-identifier hs-var">row</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-360"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679138680"><span class="annot"><span class="annottext">[TablePrefix]
</span><a href="#local-6989586621679138680"><span class="hs-identifier hs-var">fields'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679138679"><span class="annot"><span class="annottext">[SqliteExpressionSyntax]
</span><a href="#local-6989586621679138679"><span class="hs-identifier hs-var">row'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(TablePrefix, SqliteExpressionSyntax)]
-&gt; ([TablePrefix], [SqliteExpressionSyntax])
forall a b. [(a, b)] -&gt; ([a], [b])
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">unzip</span></a></span><span> </span><span class="annot"><span class="annottext">([(TablePrefix, SqliteExpressionSyntax)]
 -&gt; ([TablePrefix], [SqliteExpressionSyntax]))
-&gt; [(TablePrefix, SqliteExpressionSyntax)]
-&gt; ([TablePrefix], [SqliteExpressionSyntax])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">((TablePrefix, SqliteExpressionSyntax) -&gt; Bool)
-&gt; [(TablePrefix, SqliteExpressionSyntax)]
-&gt; [(TablePrefix, SqliteExpressionSyntax)]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">SqliteExpressionSyntax -&gt; SqliteExpressionSyntax -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">/=</span></a></span><span> </span><span class="annot"><span class="annottext">SqliteExpressionSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#SqliteExpressionDefault"><span class="hs-identifier hs-var">SqliteExpressionDefault</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(SqliteExpressionSyntax -&gt; Bool)
-&gt; ((TablePrefix, SqliteExpressionSyntax)
    -&gt; SqliteExpressionSyntax)
-&gt; (TablePrefix, SqliteExpressionSyntax)
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(TablePrefix, SqliteExpressionSyntax) -&gt; SqliteExpressionSyntax
forall a b. (a, b) -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">snd</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(TablePrefix, SqliteExpressionSyntax)]
 -&gt; [(TablePrefix, SqliteExpressionSyntax)])
-&gt; [(TablePrefix, SqliteExpressionSyntax)]
-&gt; [(TablePrefix, SqliteExpressionSyntax)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[TablePrefix]
-&gt; [SqliteExpressionSyntax]
-&gt; [(TablePrefix, SqliteExpressionSyntax)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="annot"><span class="annottext">[TablePrefix]
</span><a href="#local-6989586621679138688"><span class="hs-identifier hs-var">fields</span></a></span><span> </span><span class="annot"><span class="annottext">[SqliteExpressionSyntax]
</span><a href="#local-6989586621679138681"><span class="hs-identifier hs-var">row</span></a></span><span>
</span><span id="line-361"></span><span>            </span><span class="annot"><a href="Database.Beam.Sqlite.Syntax.html#SqliteSyntax"><span class="hs-identifier hs-type">SqliteSyntax</span></a></span><span> </span><span id="local-6989586621679138676"><span class="annot"><span class="annottext">(SQLData -&gt; Builder) -&gt; Builder
</span><a href="#local-6989586621679138676"><span class="hs-identifier hs-var">cmd</span></a></span></span><span> </span><span id="local-6989586621679138675"><span class="annot"><span class="annottext">DList SQLData
</span><a href="#local-6989586621679138675"><span class="hs-identifier hs-var">vals</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SqliteTableNameSyntax
-&gt; [TablePrefix]
-&gt; SqliteInsertValuesSyntax
-&gt; Maybe SqliteOnConflictSyntax
-&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#formatSqliteInsertOnConflict"><span class="hs-identifier hs-var">formatSqliteInsertOnConflict</span></a></span><span> </span><span class="annot"><span class="annottext">SqliteTableNameSyntax
</span><a href="#local-6989586621679138689"><span class="hs-identifier hs-var">tbl</span></a></span><span> </span><span class="annot"><span class="annottext">[TablePrefix]
</span><a href="#local-6989586621679138680"><span class="hs-identifier hs-var">fields'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[[SqliteExpressionSyntax]] -&gt; SqliteInsertValuesSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#SqliteInsertExpressions"><span class="hs-identifier hs-var">SqliteInsertExpressions</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">[SqliteExpressionSyntax]
</span><a href="#local-6989586621679138679"><span class="hs-identifier hs-var">row'</span></a></span><span> </span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe SqliteOnConflictSyntax
</span><a href="#local-6989586621679138686"><span class="hs-identifier hs-var">onConflict</span></a></span><span>
</span><span id="line-362"></span><span>            </span><span id="local-6989586621679138673"><span class="annot"><span class="annottext">cmdString :: String
</span><a href="#local-6989586621679138673"><span class="hs-identifier hs-var hs-var">cmdString</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; String
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">BL.unpack</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Builder -&gt; ByteString
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">toLazyByteString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((SQLData -&gt; Builder) -&gt; Builder) -&gt; Builder
</span><a href="Database.Beam.Sqlite.Syntax.html#withPlaceholders"><span class="hs-identifier hs-var">withPlaceholders</span></a></span><span> </span><span class="annot"><span class="annottext">(SQLData -&gt; Builder) -&gt; Builder
</span><a href="#local-6989586621679138676"><span class="hs-identifier hs-var">cmd</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-363"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; IO ()
</span><a href="#local-6989586621679138692"><span class="hs-identifier hs-var">logger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679138673"><span class="hs-identifier hs-var">cmdString</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;;\n-- With values: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[SQLData] -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DList SQLData -&gt; [SQLData]
forall a. DList a -&gt; [a]
</span><a href="../../../../dlist/html/src"><span class="hs-identifier hs-var">D.toList</span></a></span><span> </span><span class="annot"><span class="annottext">DList SQLData
</span><a href="#local-6989586621679138675"><span class="hs-identifier hs-var">vals</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-364"></span><span>        </span><span class="annot"><span class="annottext">Connection -&gt; Query -&gt; [SQLData] -&gt; IO ()
forall q. ToRow q =&gt; Connection -&gt; Query -&gt; q -&gt; IO ()
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">execute</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679138691"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Query
forall a. IsString a =&gt; String -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679138673"><span class="hs-identifier hs-var">cmdString</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DList SQLData -&gt; [SQLData]
forall a. DList a -&gt; [a]
</span><a href="../../../../dlist/html/src"><span class="hs-identifier hs-var">D.toList</span></a></span><span> </span><span class="annot"><span class="annottext">DList SQLData
</span><a href="#local-6989586621679138675"><span class="hs-identifier hs-var">vals</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-365"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-366"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Syntax.html#SqliteSyntax"><span class="hs-identifier hs-type">SqliteSyntax</span></a></span><span> </span><span id="local-6989586621679138672"><span class="annot"><span class="annottext">(SQLData -&gt; Builder) -&gt; Builder
</span><a href="#local-6989586621679138672"><span class="hs-identifier hs-var">cmd</span></a></span></span><span> </span><span id="local-6989586621679138671"><span class="annot"><span class="annottext">DList SQLData
</span><a href="#local-6989586621679138671"><span class="hs-identifier hs-var">vals</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SqliteTableNameSyntax
-&gt; [TablePrefix]
-&gt; SqliteInsertValuesSyntax
-&gt; Maybe SqliteOnConflictSyntax
-&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#formatSqliteInsertOnConflict"><span class="hs-identifier hs-var">formatSqliteInsertOnConflict</span></a></span><span> </span><span class="annot"><span class="annottext">SqliteTableNameSyntax
</span><a href="#local-6989586621679138689"><span class="hs-identifier hs-var">tbl</span></a></span><span> </span><span class="annot"><span class="annottext">[TablePrefix]
</span><a href="#local-6989586621679138688"><span class="hs-identifier hs-var">fields</span></a></span><span> </span><span class="annot"><span class="annottext">SqliteInsertValuesSyntax
</span><a href="#local-6989586621679138687"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe SqliteOnConflictSyntax
</span><a href="#local-6989586621679138686"><span class="hs-identifier hs-var">onConflict</span></a></span><span>
</span><span id="line-367"></span><span>          </span><span id="local-6989586621679138670"><span class="annot"><span class="annottext">cmdString :: String
</span><a href="#local-6989586621679138670"><span class="hs-identifier hs-var hs-var">cmdString</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; String
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">BL.unpack</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Builder -&gt; ByteString
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">toLazyByteString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((SQLData -&gt; Builder) -&gt; Builder) -&gt; Builder
</span><a href="Database.Beam.Sqlite.Syntax.html#withPlaceholders"><span class="hs-identifier hs-var">withPlaceholders</span></a></span><span> </span><span class="annot"><span class="annottext">(SQLData -&gt; Builder) -&gt; Builder
</span><a href="#local-6989586621679138672"><span class="hs-identifier hs-var">cmd</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-368"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; IO ()
</span><a href="#local-6989586621679138692"><span class="hs-identifier hs-var">logger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679138670"><span class="hs-identifier hs-var">cmdString</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;;\n-- With values: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[SQLData] -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DList SQLData -&gt; [SQLData]
forall a. DList a -&gt; [a]
</span><a href="../../../../dlist/html/src"><span class="hs-identifier hs-var">D.toList</span></a></span><span> </span><span class="annot"><span class="annottext">DList SQLData
</span><a href="#local-6989586621679138671"><span class="hs-identifier hs-var">vals</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-369"></span><span>      </span><span class="annot"><span class="annottext">Connection -&gt; Query -&gt; [SQLData] -&gt; IO ()
forall q. ToRow q =&gt; Connection -&gt; Query -&gt; q -&gt; IO ()
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">execute</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679138691"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Query
forall a. IsString a =&gt; String -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679138670"><span class="hs-identifier hs-var">cmdString</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DList SQLData -&gt; [SQLData]
forall a. DList a -&gt; [a]
</span><a href="../../../../dlist/html/src"><span class="hs-identifier hs-var">D.toList</span></a></span><span> </span><span class="annot"><span class="annottext">DList SQLData
</span><a href="#local-6989586621679138671"><span class="hs-identifier hs-var">vals</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-370"></span><span>
</span><span id="line-371"></span><span class="hs-comment">-- * emulated INSERT returning support</span><span>
</span><span id="line-372"></span><span>
</span><span id="line-373"></span><span class="hs-comment">-- | Build a 'SqliteInsertReturning' representing inserting the given values</span><span>
</span><span id="line-374"></span><span class="hs-comment">-- into the given table. Use 'runInsertReturningList'</span><span>
</span><span id="line-375"></span><span id="local-6989586621679138667"><span id="local-6989586621679138668"><span id="local-6989586621679138669"><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#insertReturning"><span class="hs-identifier hs-type">insertReturning</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Beamable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679138669"><span class="hs-identifier hs-type">table</span></a></span><span>
</span><span id="line-376"></span><span>                </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">DatabaseEntity</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679138668"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">TableEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679138669"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-377"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">SqlInsertValues</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679138669"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679138667"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-378"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">SqlInsert</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679138669"><span class="hs-identifier hs-type">table</span></a></span></span></span></span><span>
</span><span id="line-379"></span><span id="insertReturning"><span class="annot"><span class="annottext">insertReturning :: DatabaseEntity Sqlite db (TableEntity table)
-&gt; SqlInsertValues Sqlite (table (QExpr Sqlite s))
-&gt; SqlInsert Sqlite table
</span><a href="Database.Beam.Sqlite.Connection.html#insertReturning"><span class="hs-identifier hs-var hs-var">insertReturning</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DatabaseEntity Sqlite db (TableEntity table)
-&gt; SqlInsertValues Sqlite (table (QExpr Sqlite s))
-&gt; SqlInsert Sqlite table
forall be (table :: (* -&gt; *) -&gt; *) s (db :: (* -&gt; *) -&gt; *).
(BeamSqlBackend be,
 ProjectibleWithPredicate
   AnyType () TablePrefix (table (QField s))) =&gt;
DatabaseEntity be db (TableEntity table)
-&gt; SqlInsertValues be (table (QExpr be s)) -&gt; SqlInsert be table
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">insert</span></a></span><span>
</span><span id="line-380"></span><span>
</span><span id="line-381"></span><span class="hs-comment">-- | Runs a 'SqliteInsertReturning' statement and returns a result for each</span><span>
</span><span id="line-382"></span><span class="hs-comment">-- inserted row.</span><span>
</span><span id="line-383"></span><span id="local-6989586621679139665"><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#runInsertReturningList"><span class="hs-identifier hs-type">runInsertReturningList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Beamable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679139665"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">FromBackendRow</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679139665"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-384"></span><span>                       </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">SqlInsert</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679139665"><span class="hs-identifier hs-type">table</span></a></span><span>
</span><span id="line-385"></span><span>                       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#SqliteM"><span class="hs-identifier hs-type">SqliteM</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="#local-6989586621679139665"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span> </span><span class="hs-special">]</span></span><span>
</span><span id="line-386"></span><span id="runInsertReturningList"><span class="annot"><span class="annottext">runInsertReturningList :: SqlInsert Sqlite table -&gt; SqliteM [table Identity]
</span><a href="Database.Beam.Sqlite.Connection.html#runInsertReturningList"><span class="hs-identifier hs-var hs-var">runInsertReturningList</span></a></span></span><span> </span><span class="annot"><span class="annottext">SqlInsert Sqlite table
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">SqlInsertNoRows</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[table Identity] -&gt; SqliteM [table Identity]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-387"></span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#runInsertReturningList"><span class="hs-identifier hs-var">runInsertReturningList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">SqlInsert</span></a></span><span> </span><span id="local-6989586621679138664"><span class="annot"><span class="annottext">TableSettings table
</span><a href="#local-6989586621679138664"><span class="hs-identifier hs-var">tblSettings</span></a></span></span><span> </span><span id="local-6989586621679138663"><span class="annot"><span class="annottext">insertStmt_ :: BeamSqlBackendInsertSyntax Sqlite
</span><a href="#local-6989586621679138663"><span class="hs-identifier hs-var">insertStmt_</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Sqlite.Syntax.html#SqliteInsertSyntax"><span class="hs-identifier hs-type">SqliteInsertSyntax</span></a></span><span> </span><span id="local-6989586621679138662"><span class="annot"><a href="#local-6989586621679138662"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-388"></span><span>  </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679138661"><span class="annot"><span class="annottext">String -&gt; IO ()
</span><a href="#local-6989586621679138661"><span class="hs-identifier hs-var">logger</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679138660"><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679138660"><span class="hs-identifier hs-var">conn</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReaderT
  (String -&gt; IO (), Connection) IO (String -&gt; IO (), Connection)
-&gt; SqliteM (String -&gt; IO (), Connection)
forall a. ReaderT (String -&gt; IO (), Connection) IO a -&gt; SqliteM a
</span><a href="Database.Beam.Sqlite.Connection.html#SqliteM"><span class="hs-identifier hs-var">SqliteM</span></a></span><span> </span><span class="annot"><span class="annottext">ReaderT
  (String -&gt; IO (), Connection) IO (String -&gt; IO (), Connection)
forall r (m :: * -&gt; *). MonadReader r m =&gt; m r
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">ask</span></a></span><span>
</span><span id="line-389"></span><span>     </span><span class="annot"><span class="annottext">ReaderT (String -&gt; IO (), Connection) IO [table Identity]
-&gt; SqliteM [table Identity]
forall a. ReaderT (String -&gt; IO (), Connection) IO a -&gt; SqliteM a
</span><a href="Database.Beam.Sqlite.Connection.html#SqliteM"><span class="hs-identifier hs-var">SqliteM</span></a></span><span> </span><span class="annot"><span class="annottext">(ReaderT (String -&gt; IO (), Connection) IO [table Identity]
 -&gt; SqliteM [table Identity])
-&gt; (IO [table Identity]
    -&gt; ReaderT (String -&gt; IO (), Connection) IO [table Identity])
-&gt; IO [table Identity]
-&gt; SqliteM [table Identity]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IO [table Identity]
-&gt; ReaderT (String -&gt; IO (), Connection) IO [table Identity]
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO [table Identity] -&gt; SqliteM [table Identity])
-&gt; IO [table Identity] -&gt; SqliteM [table Identity]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span class="hs-cpp">

#ifdef UNIX
</span><span>       </span><span id="local-6989586621679138659"><span class="annot"><span class="annottext">TablePrefix
</span><a href="#local-6989586621679138659"><span class="hs-identifier hs-var">processId</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; TablePrefix
forall a. IsString a =&gt; String -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromString</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; TablePrefix)
-&gt; (ProcessID -&gt; String) -&gt; ProcessID -&gt; TablePrefix
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ProcessID -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">(ProcessID -&gt; TablePrefix) -&gt; IO ProcessID -&gt; IO TablePrefix
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IO ProcessID
</span><a href="../../../../unix/html/src"><span class="hs-identifier hs-var">getProcessID</span></a></span><span class="hs-cpp">
#elif defined(WINDOWS)
</span><span>       </span><span class="hs-identifier">processId</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">fromString</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">show</span><span> </span><span class="hs-operator">&lt;$&gt;</span><span> </span><span class="hs-identifier">getCurrentProcessId</span><span class="hs-cpp">
#else
</span><span class="hs-cpp">#error Need either POSIX or Win32 API for MonadBeamInsertReturning
</span><span class="hs-cpp">#endif
</span><span>
</span><span id="line-399"></span><span>       </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679138658"><span class="annot"><span class="annottext">tableNameTxt :: TablePrefix
</span><a href="#local-6989586621679138658"><span class="hs-identifier hs-var hs-var">tableNameTxt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; TablePrefix
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">T.decodeUtf8</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">BL.toStrict</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SqliteSyntax -&gt; ByteString
</span><a href="Database.Beam.Sqlite.Syntax.html#sqliteRenderSyntaxScript"><span class="hs-identifier hs-var">sqliteRenderSyntaxScript</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SqliteTableNameSyntax -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#fromSqliteTableName"><span class="hs-identifier hs-var hs-var">fromSqliteTableName</span></a></span><span> </span><span class="annot"><span class="annottext">SqliteTableNameSyntax
</span><a href="#local-6989586621679138662"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-400"></span><span>
</span><span id="line-401"></span><span>           </span><span id="local-6989586621679138654"><span class="annot"><span class="annottext">startSavepoint :: IO ()
</span><a href="#local-6989586621679138654"><span class="hs-identifier hs-var hs-var">startSavepoint</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-402"></span><span>             </span><span class="annot"><span class="annottext">Connection -&gt; Query -&gt; IO ()
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">execute_</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679138660"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TablePrefix -&gt; Query
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">Query</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TablePrefix
</span><span class="hs-string">&quot;SAVEPOINT insert_savepoint_&quot;</span></span><span> </span><span class="annot"><span class="annottext">TablePrefix -&gt; TablePrefix -&gt; TablePrefix
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><a href="#local-6989586621679138659"><span class="hs-identifier hs-var">processId</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-403"></span><span>           </span><span id="local-6989586621679138652"><span class="annot"><span class="annottext">rollbackToSavepoint :: IO ()
</span><a href="#local-6989586621679138652"><span class="hs-identifier hs-var hs-var">rollbackToSavepoint</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-404"></span><span>             </span><span class="annot"><span class="annottext">Connection -&gt; Query -&gt; IO ()
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">execute_</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679138660"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TablePrefix -&gt; Query
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">Query</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TablePrefix
</span><span class="hs-string">&quot;ROLLBACK TRANSACTION TO SAVEPOINT insert_savepoint_&quot;</span></span><span> </span><span class="annot"><span class="annottext">TablePrefix -&gt; TablePrefix -&gt; TablePrefix
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><a href="#local-6989586621679138659"><span class="hs-identifier hs-var">processId</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-405"></span><span>           </span><span id="local-6989586621679138651"><span class="annot"><span class="annottext">releaseSavepoint :: IO ()
</span><a href="#local-6989586621679138651"><span class="hs-identifier hs-var hs-var">releaseSavepoint</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-406"></span><span>             </span><span class="annot"><span class="annottext">Connection -&gt; Query -&gt; IO ()
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">execute_</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679138660"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TablePrefix -&gt; Query
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">Query</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TablePrefix
</span><span class="hs-string">&quot;RELEASE SAVEPOINT insert_savepoint_&quot;</span></span><span> </span><span class="annot"><span class="annottext">TablePrefix -&gt; TablePrefix -&gt; TablePrefix
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><a href="#local-6989586621679138659"><span class="hs-identifier hs-var">processId</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-407"></span><span>
</span><span id="line-408"></span><span>           </span><span id="local-6989586621679138650"><span class="annot"><span class="annottext">createInsertedValuesTable :: IO ()
</span><a href="#local-6989586621679138650"><span class="hs-identifier hs-var hs-var">createInsertedValuesTable</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-409"></span><span>             </span><span class="annot"><span class="annottext">Connection -&gt; Query -&gt; IO ()
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">execute_</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679138660"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TablePrefix -&gt; Query
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">Query</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TablePrefix
</span><span class="hs-string">&quot;CREATE TEMPORARY TABLE inserted_values_&quot;</span></span><span> </span><span class="annot"><span class="annottext">TablePrefix -&gt; TablePrefix -&gt; TablePrefix
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><a href="#local-6989586621679138659"><span class="hs-identifier hs-var">processId</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix -&gt; TablePrefix -&gt; TablePrefix
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><span class="hs-string">&quot; AS SELECT * FROM &quot;</span></span><span> </span><span class="annot"><span class="annottext">TablePrefix -&gt; TablePrefix -&gt; TablePrefix
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><a href="#local-6989586621679138658"><span class="hs-identifier hs-var">tableNameTxt</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix -&gt; TablePrefix -&gt; TablePrefix
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><span class="hs-string">&quot; LIMIT 0&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-410"></span><span>           </span><span id="local-6989586621679138649"><span class="annot"><span class="annottext">dropInsertedValuesTable :: IO ()
</span><a href="#local-6989586621679138649"><span class="hs-identifier hs-var hs-var">dropInsertedValuesTable</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-411"></span><span>             </span><span class="annot"><span class="annottext">Connection -&gt; Query -&gt; IO ()
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">execute_</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679138660"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TablePrefix -&gt; Query
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">Query</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TablePrefix
</span><span class="hs-string">&quot;DROP TABLE inserted_values_&quot;</span></span><span> </span><span class="annot"><span class="annottext">TablePrefix -&gt; TablePrefix -&gt; TablePrefix
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><a href="#local-6989586621679138659"><span class="hs-identifier hs-var">processId</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-412"></span><span>
</span><span id="line-413"></span><span>           </span><span id="local-6989586621679138648"><span class="annot"><span class="annottext">createInsertTrigger :: IO ()
</span><a href="#local-6989586621679138648"><span class="hs-identifier hs-var hs-var">createInsertTrigger</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-414"></span><span>             </span><span class="annot"><span class="annottext">Connection -&gt; Query -&gt; IO ()
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">execute_</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679138660"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TablePrefix -&gt; Query
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">Query</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TablePrefix
</span><span class="hs-string">&quot;CREATE TEMPORARY TRIGGER insert_trigger_&quot;</span></span><span> </span><span class="annot"><span class="annottext">TablePrefix -&gt; TablePrefix -&gt; TablePrefix
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><a href="#local-6989586621679138659"><span class="hs-identifier hs-var">processId</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix -&gt; TablePrefix -&gt; TablePrefix
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><span class="hs-string">&quot; AFTER INSERT ON &quot;</span></span><span> </span><span class="annot"><span class="annottext">TablePrefix -&gt; TablePrefix -&gt; TablePrefix
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><a href="#local-6989586621679138658"><span class="hs-identifier hs-var">tableNameTxt</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix -&gt; TablePrefix -&gt; TablePrefix
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><span class="hs-string">&quot; BEGIN &quot;</span></span><span> </span><span class="annot"><span class="annottext">TablePrefix -&gt; TablePrefix -&gt; TablePrefix
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>
</span><span id="line-415"></span><span>                                   </span><span class="annot"><span class="annottext">TablePrefix
</span><span class="hs-string">&quot;INSERT INTO inserted_values_&quot;</span></span><span> </span><span class="annot"><span class="annottext">TablePrefix -&gt; TablePrefix -&gt; TablePrefix
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><a href="#local-6989586621679138659"><span class="hs-identifier hs-var">processId</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix -&gt; TablePrefix -&gt; TablePrefix
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><span class="hs-string">&quot; SELECT * FROM &quot;</span></span><span> </span><span class="annot"><span class="annottext">TablePrefix -&gt; TablePrefix -&gt; TablePrefix
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><a href="#local-6989586621679138658"><span class="hs-identifier hs-var">tableNameTxt</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix -&gt; TablePrefix -&gt; TablePrefix
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><span class="hs-string">&quot; WHERE ROWID=last_insert_rowid(); END&quot;</span></span><span> </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-416"></span><span>           </span><span id="local-6989586621679138647"><span class="annot"><span class="annottext">dropInsertTrigger :: IO ()
</span><a href="#local-6989586621679138647"><span class="hs-identifier hs-var hs-var">dropInsertTrigger</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-417"></span><span>             </span><span class="annot"><span class="annottext">Connection -&gt; Query -&gt; IO ()
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">execute_</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679138660"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TablePrefix -&gt; Query
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">Query</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TablePrefix
</span><span class="hs-string">&quot;DROP TRIGGER insert_trigger_&quot;</span></span><span> </span><span class="annot"><span class="annottext">TablePrefix -&gt; TablePrefix -&gt; TablePrefix
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><a href="#local-6989586621679138659"><span class="hs-identifier hs-var">processId</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-418"></span><span>
</span><span id="line-419"></span><span>
</span><span id="line-420"></span><span>       </span><span class="annot"><span class="annottext">((forall a. IO a -&gt; IO a) -&gt; IO [table Identity])
-&gt; IO [table Identity]
forall b. ((forall a. IO a -&gt; IO a) -&gt; IO b) -&gt; IO b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mask</span></a></span><span> </span><span class="annot"><span class="annottext">(((forall a. IO a -&gt; IO a) -&gt; IO [table Identity])
 -&gt; IO [table Identity])
-&gt; ((forall a. IO a -&gt; IO a) -&gt; IO [table Identity])
-&gt; IO [table Identity]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679138646"><span class="annot"><span class="annottext">forall a. IO a -&gt; IO a
</span><a href="#local-6989586621679138646"><span class="hs-identifier hs-var">restore</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-421"></span><span>         </span><span class="annot"><span class="annottext">IO ()
</span><a href="#local-6989586621679138654"><span class="hs-identifier hs-var">startSavepoint</span></a></span><span>
</span><span id="line-422"></span><span>         </span><span class="annot"><span class="annottext">(IO [table Identity] -&gt; IO () -&gt; IO [table Identity])
-&gt; IO () -&gt; IO [table Identity] -&gt; IO [table Identity]
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">IO [table Identity] -&gt; IO () -&gt; IO [table Identity]
forall a b. IO a -&gt; IO b -&gt; IO a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">onException</span></a></span><span> </span><span class="annot"><span class="annottext">IO ()
</span><a href="#local-6989586621679138652"><span class="hs-identifier hs-var">rollbackToSavepoint</span></a></span><span> </span><span class="annot"><span class="annottext">(IO [table Identity] -&gt; IO [table Identity])
-&gt; (IO [table Identity] -&gt; IO [table Identity])
-&gt; IO [table Identity]
-&gt; IO [table Identity]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IO [table Identity] -&gt; IO [table Identity]
forall a. IO a -&gt; IO a
</span><a href="#local-6989586621679138646"><span class="hs-identifier hs-var">restore</span></a></span><span> </span><span class="annot"><span class="annottext">(IO [table Identity] -&gt; IO [table Identity])
-&gt; IO [table Identity] -&gt; IO [table Identity]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-423"></span><span>           </span><span id="local-6989586621679138644"><span class="annot"><span class="annottext">[table Identity]
</span><a href="#local-6989586621679138644"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO () -&gt; IO () -&gt; IO [table Identity] -&gt; IO [table Identity]
forall a b c. IO a -&gt; IO b -&gt; IO c -&gt; IO c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">bracket_</span></a></span><span> </span><span class="annot"><span class="annottext">IO ()
</span><a href="#local-6989586621679138650"><span class="hs-identifier hs-var">createInsertedValuesTable</span></a></span><span> </span><span class="annot"><span class="annottext">IO ()
</span><a href="#local-6989586621679138649"><span class="hs-identifier hs-var">dropInsertedValuesTable</span></a></span><span> </span><span class="annot"><span class="annottext">(IO [table Identity] -&gt; IO [table Identity])
-&gt; IO [table Identity] -&gt; IO [table Identity]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-424"></span><span>                </span><span class="annot"><span class="annottext">IO () -&gt; IO () -&gt; IO [table Identity] -&gt; IO [table Identity]
forall a b c. IO a -&gt; IO b -&gt; IO c -&gt; IO c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">bracket_</span></a></span><span> </span><span class="annot"><span class="annottext">IO ()
</span><a href="#local-6989586621679138648"><span class="hs-identifier hs-var">createInsertTrigger</span></a></span><span> </span><span class="annot"><span class="annottext">IO ()
</span><a href="#local-6989586621679138647"><span class="hs-identifier hs-var">dropInsertTrigger</span></a></span><span> </span><span class="annot"><span class="annottext">(IO [table Identity] -&gt; IO [table Identity])
-&gt; IO [table Identity] -&gt; IO [table Identity]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-425"></span><span>                </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; Connection -&gt; SqliteInsertSyntax -&gt; IO ()
</span><a href="Database.Beam.Sqlite.Connection.html#runSqliteInsert"><span class="hs-identifier hs-var">runSqliteInsert</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; IO ()
</span><a href="#local-6989586621679138661"><span class="hs-identifier hs-var">logger</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679138660"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendInsertSyntax Sqlite
SqliteInsertSyntax
</span><a href="#local-6989586621679138663"><span class="hs-identifier hs-var">insertStmt_</span></a></span><span>
</span><span id="line-426"></span><span>
</span><span id="line-427"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679138643"><span class="annot"><span class="annottext">columns :: TablePrefix
</span><a href="#local-6989586621679138643"><span class="hs-identifier hs-var hs-var">columns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; TablePrefix
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">TL.toStrict</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TablePrefix) -&gt; Text -&gt; TablePrefix
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Text
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">TL.decodeUtf8</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Text) -&gt; ByteString -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-428"></span><span>                              </span><span class="annot"><span class="annottext">SqliteSyntax -&gt; ByteString
</span><a href="Database.Beam.Sqlite.Syntax.html#sqliteRenderSyntaxScript"><span class="hs-identifier hs-var">sqliteRenderSyntaxScript</span></a></span><span> </span><span class="annot"><span class="annottext">(SqliteSyntax -&gt; ByteString) -&gt; SqliteSyntax -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[SqliteSyntax] -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#commas"><span class="hs-identifier hs-var">commas</span></a></span><span> </span><span class="annot"><span class="annottext">([SqliteSyntax] -&gt; SqliteSyntax) -&gt; [SqliteSyntax] -&gt; SqliteSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-429"></span><span>                              </span><span class="annot"><span class="annottext">(forall a. Columnar' (TableField table) a -&gt; SqliteSyntax)
-&gt; TableSettings table -&gt; [SqliteSyntax]
forall (table :: (* -&gt; *) -&gt; *) (f :: * -&gt; *) b.
Beamable table =&gt;
(forall a. Columnar' f a -&gt; b) -&gt; table f -&gt; [b]
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">allBeamValues</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Columnar'</span></a></span><span> </span><span id="local-6989586621679138640"><span class="annot"><span class="annottext">Columnar (TableField table) a
</span><a href="#local-6989586621679138640"><span class="hs-identifier hs-var">projField</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TablePrefix -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#quotedIdentifier"><span class="hs-identifier hs-var">quotedIdentifier</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TableField table a -&gt; TablePrefix
forall (table :: (* -&gt; *) -&gt; *) ty.
TableField table ty -&gt; TablePrefix
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var hs-var">_fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar (TableField table) a
TableField table a
</span><a href="#local-6989586621679138640"><span class="hs-identifier hs-var">projField</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TableSettings table -&gt; [SqliteSyntax])
-&gt; TableSettings table -&gt; [SqliteSyntax]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-430"></span><span>                              </span><span class="annot"><span class="annottext">TableSettings table
</span><a href="#local-6989586621679138664"><span class="hs-identifier hs-var">tblSettings</span></a></span><span>
</span><span id="line-431"></span><span>
</span><span id="line-432"></span><span>                </span><span class="annot"><span class="annottext">(BeamSqliteRow (table Identity) -&gt; table Identity)
-&gt; [BeamSqliteRow (table Identity)] -&gt; [table Identity]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#BeamSqliteRow"><span class="hs-identifier hs-type">BeamSqliteRow</span></a></span><span> </span><span id="local-6989586621679138637"><span class="annot"><span class="annottext">table Identity
</span><a href="#local-6989586621679138637"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">table Identity
</span><a href="#local-6989586621679138637"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([BeamSqliteRow (table Identity)] -&gt; [table Identity])
-&gt; IO [BeamSqliteRow (table Identity)] -&gt; IO [table Identity]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Connection -&gt; Query -&gt; IO [BeamSqliteRow (table Identity)]
forall r. FromRow r =&gt; Connection -&gt; Query -&gt; IO [r]
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">query_</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679138660"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TablePrefix -&gt; Query
</span><a href="../../../../sqlite-simple/html/src"><span class="hs-identifier hs-var">Query</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TablePrefix
</span><span class="hs-string">&quot;SELECT &quot;</span></span><span> </span><span class="annot"><span class="annottext">TablePrefix -&gt; TablePrefix -&gt; TablePrefix
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><a href="#local-6989586621679138643"><span class="hs-identifier hs-var">columns</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix -&gt; TablePrefix -&gt; TablePrefix
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><span class="hs-string">&quot; FROM inserted_values_&quot;</span></span><span> </span><span class="annot"><span class="annottext">TablePrefix -&gt; TablePrefix -&gt; TablePrefix
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><a href="#local-6989586621679138659"><span class="hs-identifier hs-var">processId</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-433"></span><span>           </span><span class="annot"><span class="annottext">IO ()
</span><a href="#local-6989586621679138651"><span class="hs-identifier hs-var">releaseSavepoint</span></a></span><span>
</span><span id="line-434"></span><span>           </span><span class="annot"><span class="annottext">[table Identity] -&gt; IO [table Identity]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">[table Identity]
</span><a href="#local-6989586621679138644"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-435"></span><span>
</span><span id="line-436"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Beam.BeamHasInsertOnConflict</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-437"></span><span>  </span><span class="hs-keyword">newtype</span><span> </span><span id="SqlConflictTarget"><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">SqlConflictTarget</span></a></span></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span id="local-6989586621679139540"><span class="annot"><a href="#local-6989586621679139540"><span class="hs-identifier hs-type hs-type">table</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SqliteConflictTarget"><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#SqliteConflictTarget"><span class="hs-identifier hs-var">SqliteConflictTarget</span></a></span></span><span>
</span><span id="line-438"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="unSqliteConflictTarget"><span class="annot"><span class="annottext">SqlConflictTarget Sqlite table
-&gt; table (QExpr Sqlite QInternal) -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Connection.html#unSqliteConflictTarget"><span class="hs-identifier hs-var hs-var">unSqliteConflictTarget</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679139540"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">QInternal</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Syntax.html#SqliteSyntax"><span class="hs-identifier hs-type">SqliteSyntax</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-439"></span><span>  </span><span class="hs-keyword">newtype</span><span> </span><span id="SqlConflictAction"><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">SqlConflictAction</span></a></span></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span id="local-6989586621679139539"><span class="annot"><a href="#local-6989586621679139539"><span class="hs-identifier hs-type hs-type">table</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SqliteConflictAction"><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#SqliteConflictAction"><span class="hs-identifier hs-var">SqliteConflictAction</span></a></span></span><span>
</span><span id="line-440"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="unSqliteConflictAction"><span class="annot"><span class="annottext">SqlConflictAction Sqlite table
-&gt; forall s. table (QField s) -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Connection.html#unSqliteConflictAction"><span class="hs-identifier hs-var hs-var">unSqliteConflictAction</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679139586"><span class="annot"><a href="#local-6989586621679139586"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="#local-6989586621679139539"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">QField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679139586"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Syntax.html#SqliteSyntax"><span class="hs-identifier hs-type">SqliteSyntax</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-441"></span><span>
</span><span id="line-442"></span><span>  </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">insertOnConflict</span></a></span><span>
</span><span id="line-443"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679138622"><span class="annot"><a href="#local-6989586621679138622"><span class="hs-identifier hs-type">db</span></a></span></span><span> </span><span id="local-6989586621679138621"><span class="annot"><a href="#local-6989586621679138621"><span class="hs-identifier hs-type">table</span></a></span></span><span> </span><span id="local-6989586621679138620"><span class="annot"><a href="#local-6989586621679138620"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Beamable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679138621"><span class="hs-identifier hs-type">table</span></a></span><span>
</span><span id="line-444"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">DatabaseEntity</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679138622"><span class="hs-identifier hs-type">db</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">TableEntity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679138621"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-445"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">SqlInsertValues</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679138621"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679138620"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-446"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Beam.SqlConflictTarget</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679138621"><span class="hs-identifier hs-type">table</span></a></span><span>
</span><span id="line-447"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Beam.SqlConflictAction</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679138621"><span class="hs-identifier hs-type">table</span></a></span><span>
</span><span id="line-448"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">SqlInsert</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679138621"><span class="hs-identifier hs-type">table</span></a></span><span>
</span><span id="line-449"></span><span>  </span><span id="local-6989586621679138619"><span class="annot"><span class="annottext">insertOnConflict :: DatabaseEntity Sqlite db (TableEntity table)
-&gt; SqlInsertValues Sqlite (table (QExpr Sqlite s))
-&gt; SqlConflictTarget Sqlite table
-&gt; SqlConflictAction Sqlite table
-&gt; SqlInsert Sqlite table
</span><a href="#local-6989586621679138619"><span class="hs-identifier hs-var hs-var hs-var hs-var">insertOnConflict</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">DatabaseEntity</span></a></span><span> </span><span id="local-6989586621679138617"><span class="annot"><span class="annottext">DatabaseEntityDescriptor Sqlite (TableEntity table)
</span><a href="#local-6989586621679138617"><span class="hs-identifier hs-var">dt</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679138616"><span class="annot"><span class="annottext">SqlInsertValues Sqlite (table (QExpr Sqlite s))
</span><a href="#local-6989586621679138616"><span class="hs-identifier hs-var">values</span></a></span></span><span> </span><span id="local-6989586621679138615"><span class="annot"><span class="annottext">SqlConflictTarget Sqlite table
</span><a href="#local-6989586621679138615"><span class="hs-identifier hs-var">target</span></a></span></span><span> </span><span id="local-6989586621679138614"><span class="annot"><span class="annottext">SqlConflictAction Sqlite table
</span><a href="#local-6989586621679138614"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SqlInsertValues Sqlite (table (QExpr Sqlite s))
</span><a href="#local-6989586621679138616"><span class="hs-identifier hs-var">values</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-450"></span><span>    </span><span class="annot"><span class="annottext">SqlInsertValues Sqlite (table (QExpr Sqlite s))
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">SqlInsertValuesEmpty</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SqlInsert Sqlite table
forall be (table :: (* -&gt; *) -&gt; *). SqlInsert be table
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">SqlInsertNoRows</span></a></span><span>
</span><span id="line-451"></span><span>    </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">SqlInsertValues</span></a></span><span> </span><span id="local-6989586621679138611"><span class="annot"><span class="annottext">BeamSqlBackendInsertValuesSyntax Sqlite
</span><a href="#local-6989586621679138611"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TableSettings table
-&gt; BeamSqlBackendInsertSyntax Sqlite -&gt; SqlInsert Sqlite table
forall be (table :: (* -&gt; *) -&gt; *).
TableSettings table
-&gt; BeamSqlBackendInsertSyntax be -&gt; SqlInsert be table
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">SqlInsert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DatabaseEntityDescriptor Sqlite (TableEntity table)
-&gt; TableSettings table
forall be (tbl :: (* -&gt; *) -&gt; *).
DatabaseEntityDescriptor be (TableEntity tbl) -&gt; TableSettings tbl
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var hs-var">dbTableSettings</span></a></span><span> </span><span class="annot"><span class="annottext">DatabaseEntityDescriptor Sqlite (TableEntity table)
</span><a href="#local-6989586621679138617"><span class="hs-identifier hs-var">dt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(BeamSqlBackendInsertSyntax Sqlite -&gt; SqlInsert Sqlite table)
-&gt; BeamSqlBackendInsertSyntax Sqlite -&gt; SqlInsert Sqlite table
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-452"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621679138609"><span class="hs-identifier hs-type">getFieldName</span></a></span><span>
</span><span id="line-453"></span><span>            </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679138608"><span class="annot"><a href="#local-6989586621679138608"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-454"></span><span>            </span><span class="hs-operator">.</span><span>  </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Columnar'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">TableField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679138621"><span class="hs-identifier hs-type">table</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679138608"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-455"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Columnar'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">QField</span></a></span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">QInternal</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679138608"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-456"></span><span>          </span><span id="local-6989586621679138609"><span class="annot"><span class="annottext">getFieldName :: Columnar' (TableField table) a -&gt; Columnar' (QField QInternal) a
</span><a href="#local-6989586621679138609"><span class="hs-identifier hs-var hs-var">getFieldName</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Columnar'</span></a></span><span> </span><span id="local-6989586621679138607"><span class="annot"><span class="annottext">Columnar (TableField table) a
</span><a href="#local-6989586621679138607"><span class="hs-identifier hs-var">fd</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-457"></span><span>            </span><span class="annot"><span class="annottext">Columnar (QField QInternal) a -&gt; Columnar' (QField QInternal) a
forall (f :: * -&gt; *) a. Columnar f a -&gt; Columnar' f a
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Columnar'</span></a></span><span> </span><span class="annot"><span class="annottext">(Columnar (QField QInternal) a -&gt; Columnar' (QField QInternal) a)
-&gt; Columnar (QField QInternal) a -&gt; Columnar' (QField QInternal) a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; TablePrefix -&gt; TablePrefix -&gt; QField QInternal a
forall s ty. Bool -&gt; TablePrefix -&gt; TablePrefix -&gt; QField s ty
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">QField</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">False</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DatabaseEntityDescriptor Sqlite (TableEntity table) -&gt; TablePrefix
forall be (tbl :: (* -&gt; *) -&gt; *).
DatabaseEntityDescriptor be (TableEntity tbl) -&gt; TablePrefix
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var hs-var">dbTableCurrentName</span></a></span><span> </span><span class="annot"><span class="annottext">DatabaseEntityDescriptor Sqlite (TableEntity table)
</span><a href="#local-6989586621679138617"><span class="hs-identifier hs-var">dt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TablePrefix -&gt; QField QInternal a)
-&gt; TablePrefix -&gt; QField QInternal a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TableField table a -&gt; TablePrefix
forall (table :: (* -&gt; *) -&gt; *) ty.
TableField table ty -&gt; TablePrefix
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var hs-var">_fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">Columnar (TableField table) a
TableField table a
</span><a href="#local-6989586621679138607"><span class="hs-identifier hs-var">fd</span></a></span><span>
</span><span id="line-458"></span><span>          </span><span id="local-6989586621679138604"><span class="annot"><span class="annottext">tableFields :: table (QField QInternal)
</span><a href="#local-6989586621679138604"><span class="hs-identifier hs-var hs-var">tableFields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall a.
 Columnar' (TableField table) a -&gt; Columnar' (QField QInternal) a)
-&gt; TableSettings table -&gt; table (QField QInternal)
forall (table :: (* -&gt; *) -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *).
Beamable table =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a) -&gt; table f -&gt; table g
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">changeBeamRep</span></a></span><span> </span><span class="annot"><span class="annottext">forall a.
Columnar' (TableField table) a -&gt; Columnar' (QField QInternal) a
</span><a href="#local-6989586621679138609"><span class="hs-identifier hs-var">getFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">(TableSettings table -&gt; table (QField QInternal))
-&gt; TableSettings table -&gt; table (QField QInternal)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DatabaseEntityDescriptor Sqlite (TableEntity table)
-&gt; TableSettings table
forall be (tbl :: (* -&gt; *) -&gt; *).
DatabaseEntityDescriptor be (TableEntity tbl) -&gt; TableSettings tbl
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var hs-var">dbTableSettings</span></a></span><span> </span><span class="annot"><span class="annottext">DatabaseEntityDescriptor Sqlite (TableEntity table)
</span><a href="#local-6989586621679138617"><span class="hs-identifier hs-var">dt</span></a></span><span>
</span><span id="line-459"></span><span>          </span><span id="local-6989586621679138603"><span class="annot"><span class="annottext">tellFieldName :: p -&gt; p -&gt; b -&gt; m b
</span><a href="#local-6989586621679138603"><span class="hs-identifier hs-var hs-var">tellFieldName</span></a></span></span><span> </span><span class="annot"><span class="annottext">p
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">p
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679138602"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679138602"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[b] -&gt; m ()
forall w (m :: * -&gt; *). MonadWriter w m =&gt; w -&gt; m ()
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">tell</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679138602"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">m () -&gt; m b -&gt; m b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; m b
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679138602"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-460"></span><span>          </span><span id="local-6989586621679138601"><span class="annot"><span class="annottext">fieldNames :: [TablePrefix]
</span><a href="#local-6989586621679138601"><span class="hs-identifier hs-var hs-var">fieldNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Writer [TablePrefix] (table (QField QInternal)) -&gt; [TablePrefix]
forall w a. Writer w a -&gt; w
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">execWriter</span></a></span><span> </span><span class="annot"><span class="annottext">(Writer [TablePrefix] (table (QField QInternal)) -&gt; [TablePrefix])
-&gt; Writer [TablePrefix] (table (QField QInternal)) -&gt; [TablePrefix]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-461"></span><span>            </span><span class="annot"><span class="annottext">Proxy AnyType
-&gt; Proxy ((), TablePrefix)
-&gt; (forall context.
    AnyType context =&gt;
    Proxy context
    -&gt; Proxy ()
    -&gt; TablePrefix
    -&gt; WriterT [TablePrefix] Identity TablePrefix)
-&gt; table (QField QInternal)
-&gt; Writer [TablePrefix] (table (QField QInternal))
forall (contextPredicate :: * -&gt; Constraint) be res a
       (m :: * -&gt; *).
(ProjectibleWithPredicate contextPredicate be res a, Monad m) =&gt;
Proxy contextPredicate
-&gt; Proxy (be, res)
-&gt; (forall context.
    contextPredicate context =&gt;
    Proxy context -&gt; Proxy be -&gt; res -&gt; m res)
-&gt; a
-&gt; m a
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">project'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy AnyType
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">AnyType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy ((), TablePrefix)
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">T.Text</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall context.
AnyType context =&gt;
Proxy context
-&gt; Proxy ()
-&gt; TablePrefix
-&gt; WriterT [TablePrefix] Identity TablePrefix
forall (m :: * -&gt; *) b p p. MonadWriter [b] m =&gt; p -&gt; p -&gt; b -&gt; m b
</span><a href="#local-6989586621679138603"><span class="hs-identifier hs-var">tellFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">table (QField QInternal)
</span><a href="#local-6989586621679138604"><span class="hs-identifier hs-var">tableFields</span></a></span><span>
</span><span id="line-462"></span><span>          </span><span class="annot"><a href="#local-6989586621679138599"><span class="hs-identifier hs-type">currentField</span></a></span><span>
</span><span id="line-463"></span><span>            </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679138598"><span class="annot"><a href="#local-6989586621679138598"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-464"></span><span>            </span><span class="hs-operator">.</span><span>  </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Columnar'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">QField</span></a></span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">QInternal</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679138598"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-465"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Columnar'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">QInternal</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679138598"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-466"></span><span>          </span><span id="local-6989586621679138599"><span class="annot"><span class="annottext">currentField :: Columnar' (QField QInternal) a
-&gt; Columnar' (QExpr Sqlite QInternal) a
</span><a href="#local-6989586621679138599"><span class="hs-identifier hs-var hs-var">currentField</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Columnar'</span></a></span><span> </span><span id="local-6989586621679138597"><span class="annot"><span class="annottext">Columnar (QField QInternal) a
</span><a href="#local-6989586621679138597"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Columnar (QExpr Sqlite QInternal) a
-&gt; Columnar' (QExpr Sqlite QInternal) a
forall (f :: * -&gt; *) a. Columnar f a -&gt; Columnar' f a
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Columnar'</span></a></span><span> </span><span class="annot"><span class="annottext">(Columnar (QExpr Sqlite QInternal) a
 -&gt; Columnar' (QExpr Sqlite QInternal) a)
-&gt; Columnar (QExpr Sqlite QInternal) a
-&gt; Columnar' (QExpr Sqlite QInternal) a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">QField QInternal a -&gt; QExpr Sqlite QInternal a
forall be s ty. BeamSqlBackend be =&gt; QField s ty -&gt; QExpr be s ty
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">current_</span></a></span><span> </span><span class="annot"><span class="annottext">QField QInternal a
Columnar (QField QInternal) a
</span><a href="#local-6989586621679138597"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-467"></span><span>          </span><span id="local-6989586621679138596"><span class="annot"><span class="annottext">tableCurrent :: table (QExpr Sqlite QInternal)
</span><a href="#local-6989586621679138596"><span class="hs-identifier hs-var hs-var">tableCurrent</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall a.
 Columnar' (QField QInternal) a
 -&gt; Columnar' (QExpr Sqlite QInternal) a)
-&gt; table (QField QInternal) -&gt; table (QExpr Sqlite QInternal)
forall (table :: (* -&gt; *) -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *).
Beamable table =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a) -&gt; table f -&gt; table g
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">changeBeamRep</span></a></span><span> </span><span class="annot"><span class="annottext">forall a.
Columnar' (QField QInternal) a
-&gt; Columnar' (QExpr Sqlite QInternal) a
</span><a href="#local-6989586621679138599"><span class="hs-identifier hs-var">currentField</span></a></span><span> </span><span class="annot"><span class="annottext">table (QField QInternal)
</span><a href="#local-6989586621679138604"><span class="hs-identifier hs-var">tableFields</span></a></span><span>
</span><span id="line-468"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">SqliteTableNameSyntax
-&gt; [TablePrefix]
-&gt; SqliteInsertValuesSyntax
-&gt; Maybe SqliteOnConflictSyntax
-&gt; SqliteInsertSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#SqliteInsertSyntax"><span class="hs-identifier hs-var">SqliteInsertSyntax</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DatabaseEntityDescriptor Sqlite (TableEntity table)
-&gt; SqliteTableNameSyntax
forall name be (tbl :: (* -&gt; *) -&gt; *).
IsSql92TableNameSyntax name =&gt;
DatabaseEntityDescriptor be (TableEntity tbl) -&gt; name
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">tableNameFromEntity</span></a></span><span> </span><span class="annot"><span class="annottext">DatabaseEntityDescriptor Sqlite (TableEntity table)
</span><a href="#local-6989586621679138617"><span class="hs-identifier hs-var">dt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TablePrefix]
</span><a href="#local-6989586621679138601"><span class="hs-identifier hs-var">fieldNames</span></a></span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendInsertValuesSyntax Sqlite
SqliteInsertValuesSyntax
</span><a href="#local-6989586621679138611"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe SqliteOnConflictSyntax -&gt; SqliteInsertSyntax)
-&gt; Maybe SqliteOnConflictSyntax -&gt; SqliteInsertSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SqliteOnConflictSyntax -&gt; Maybe SqliteOnConflictSyntax
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(SqliteOnConflictSyntax -&gt; Maybe SqliteOnConflictSyntax)
-&gt; SqliteOnConflictSyntax -&gt; Maybe SqliteOnConflictSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-469"></span><span>           </span><span class="annot"><span class="annottext">SqliteSyntax -&gt; SqliteOnConflictSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#SqliteOnConflictSyntax"><span class="hs-identifier hs-var">SqliteOnConflictSyntax</span></a></span><span> </span><span class="annot"><span class="annottext">(SqliteSyntax -&gt; SqliteOnConflictSyntax)
-&gt; SqliteSyntax -&gt; SqliteOnConflictSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[SqliteSyntax] -&gt; SqliteSyntax
forall a. Monoid a =&gt; [a] -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mconcat</span></a></span><span>
</span><span id="line-470"></span><span>             </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#emit"><span class="hs-identifier hs-var">emit</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;ON CONFLICT &quot;</span></span><span>
</span><span id="line-471"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SqlConflictTarget Sqlite table
-&gt; table (QExpr Sqlite QInternal) -&gt; SqliteSyntax
forall (table :: (* -&gt; *) -&gt; *).
SqlConflictTarget Sqlite table
-&gt; table (QExpr Sqlite QInternal) -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Connection.html#unSqliteConflictTarget"><span class="hs-identifier hs-var hs-var">unSqliteConflictTarget</span></a></span><span> </span><span class="annot"><span class="annottext">SqlConflictTarget Sqlite table
</span><a href="#local-6989586621679138615"><span class="hs-identifier hs-var">target</span></a></span><span> </span><span class="annot"><span class="annottext">table (QExpr Sqlite QInternal)
</span><a href="#local-6989586621679138596"><span class="hs-identifier hs-var">tableCurrent</span></a></span><span>
</span><span id="line-472"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#emit"><span class="hs-identifier hs-var">emit</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot; DO &quot;</span></span><span>
</span><span id="line-473"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SqlConflictAction Sqlite table
-&gt; table (QField QInternal) -&gt; SqliteSyntax
forall (table :: (* -&gt; *) -&gt; *).
SqlConflictAction Sqlite table
-&gt; forall s. table (QField s) -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Connection.html#unSqliteConflictAction"><span class="hs-identifier hs-var hs-var">unSqliteConflictAction</span></a></span><span> </span><span class="annot"><span class="annottext">SqlConflictAction Sqlite table
</span><a href="#local-6989586621679138614"><span class="hs-identifier hs-var">action</span></a></span><span> </span><span class="annot"><span class="annottext">table (QField QInternal)
</span><a href="#local-6989586621679138604"><span class="hs-identifier hs-var">tableFields</span></a></span><span>
</span><span id="line-474"></span><span>             </span><span class="hs-special">]</span><span>
</span><span id="line-475"></span><span>
</span><span id="line-476"></span><span>  </span><span id="local-6989586621679138593"><span class="annot"><span class="annottext">anyConflict :: SqlConflictTarget Sqlite table
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">anyConflict</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(table (QExpr Sqlite QInternal) -&gt; SqliteSyntax)
-&gt; SqlConflictTarget Sqlite table
forall (table :: (* -&gt; *) -&gt; *).
(table (QExpr Sqlite QInternal) -&gt; SqliteSyntax)
-&gt; SqlConflictTarget Sqlite table
</span><a href="Database.Beam.Sqlite.Connection.html#SqliteConflictTarget"><span class="hs-identifier hs-var">SqliteConflictTarget</span></a></span><span> </span><span class="annot"><span class="annottext">((table (QExpr Sqlite QInternal) -&gt; SqliteSyntax)
 -&gt; SqlConflictTarget Sqlite table)
-&gt; (table (QExpr Sqlite QInternal) -&gt; SqliteSyntax)
-&gt; SqlConflictTarget Sqlite table
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SqliteSyntax -&gt; table (QExpr Sqlite QInternal) -&gt; SqliteSyntax
forall a b. a -&gt; b -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">SqliteSyntax
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-477"></span><span>  </span><span id="local-6989586621679138590"><span class="annot"><span class="annottext">conflictingFields :: (table (QExpr Sqlite QInternal) -&gt; proj)
-&gt; SqlConflictTarget Sqlite table
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">conflictingFields</span></a></span></span><span> </span><span id="local-6989586621679138588"><span class="annot"><span class="annottext">table (QExpr Sqlite QInternal) -&gt; proj
</span><a href="#local-6989586621679138588"><span class="hs-identifier hs-var">makeProjection</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(table (QExpr Sqlite QInternal) -&gt; SqliteSyntax)
-&gt; SqlConflictTarget Sqlite table
forall (table :: (* -&gt; *) -&gt; *).
(table (QExpr Sqlite QInternal) -&gt; SqliteSyntax)
-&gt; SqlConflictTarget Sqlite table
</span><a href="Database.Beam.Sqlite.Connection.html#SqliteConflictTarget"><span class="hs-identifier hs-var">SqliteConflictTarget</span></a></span><span> </span><span class="annot"><span class="annottext">((table (QExpr Sqlite QInternal) -&gt; SqliteSyntax)
 -&gt; SqlConflictTarget Sqlite table)
-&gt; (table (QExpr Sqlite QInternal) -&gt; SqliteSyntax)
-&gt; SqlConflictTarget Sqlite table
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679138587"><span class="annot"><span class="annottext">table (QExpr Sqlite QInternal)
</span><a href="#local-6989586621679138587"><span class="hs-identifier hs-var">table</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-478"></span><span>    </span><span class="annot"><span class="annottext">SqliteSyntax -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#parens"><span class="hs-identifier hs-var">parens</span></a></span><span> </span><span class="annot"><span class="annottext">(SqliteSyntax -&gt; SqliteSyntax) -&gt; SqliteSyntax -&gt; SqliteSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[SqliteSyntax] -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#commas"><span class="hs-identifier hs-var">commas</span></a></span><span> </span><span class="annot"><span class="annottext">([SqliteSyntax] -&gt; SqliteSyntax) -&gt; [SqliteSyntax] -&gt; SqliteSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(SqliteExpressionSyntax -&gt; SqliteSyntax)
-&gt; [SqliteExpressionSyntax] -&gt; [SqliteSyntax]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">SqliteExpressionSyntax -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#fromSqliteExpression"><span class="hs-identifier hs-var">fromSqliteExpression</span></a></span><span> </span><span class="annot"><span class="annottext">([SqliteExpressionSyntax] -&gt; [SqliteSyntax])
-&gt; [SqliteExpressionSyntax] -&gt; [SqliteSyntax]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-479"></span><span>      </span><span class="annot"><span class="annottext">Proxy Sqlite
-&gt; proj -&gt; WithExprContext [BeamSqlBackendExpressionSyntax Sqlite]
forall be a.
Projectible be a =&gt;
Proxy be
-&gt; a -&gt; WithExprContext [BeamSqlBackendExpressionSyntax be]
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">project</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy Sqlite
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">table (QExpr Sqlite QInternal) -&gt; proj
</span><a href="#local-6989586621679138588"><span class="hs-identifier hs-var">makeProjection</span></a></span><span> </span><span class="annot"><span class="annottext">table (QExpr Sqlite QInternal)
</span><a href="#local-6989586621679138587"><span class="hs-identifier hs-var">table</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><span class="hs-string">&quot;t&quot;</span></span><span>
</span><span id="line-480"></span><span>  </span><span id="local-6989586621679138585"><span class="annot"><span class="annottext">conflictingFieldsWhere :: (table (QExpr Sqlite QInternal) -&gt; proj)
-&gt; (forall s. table (QExpr Sqlite s) -&gt; QExpr Sqlite s Bool)
-&gt; SqlConflictTarget Sqlite table
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">conflictingFieldsWhere</span></a></span></span><span> </span><span id="local-6989586621679138583"><span class="annot"><span class="annottext">table (QExpr Sqlite QInternal) -&gt; proj
</span><a href="#local-6989586621679138583"><span class="hs-identifier hs-var">makeProjection</span></a></span></span><span> </span><span id="local-6989586621679138582"><span class="annot"><span class="annottext">forall s. table (QExpr Sqlite s) -&gt; QExpr Sqlite s Bool
</span><a href="#local-6989586621679138582"><span class="hs-identifier hs-var">makeWhere</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-481"></span><span>    </span><span class="annot"><span class="annottext">(table (QExpr Sqlite QInternal) -&gt; SqliteSyntax)
-&gt; SqlConflictTarget Sqlite table
forall (table :: (* -&gt; *) -&gt; *).
(table (QExpr Sqlite QInternal) -&gt; SqliteSyntax)
-&gt; SqlConflictTarget Sqlite table
</span><a href="Database.Beam.Sqlite.Connection.html#SqliteConflictTarget"><span class="hs-identifier hs-var">SqliteConflictTarget</span></a></span><span> </span><span class="annot"><span class="annottext">((table (QExpr Sqlite QInternal) -&gt; SqliteSyntax)
 -&gt; SqlConflictTarget Sqlite table)
-&gt; (table (QExpr Sqlite QInternal) -&gt; SqliteSyntax)
-&gt; SqlConflictTarget Sqlite table
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679138581"><span class="annot"><span class="annottext">table (QExpr Sqlite QInternal)
</span><a href="#local-6989586621679138581"><span class="hs-identifier hs-var">table</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[SqliteSyntax] -&gt; SqliteSyntax
forall a. Monoid a =&gt; [a] -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mconcat</span></a></span><span>
</span><span id="line-482"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">SqlConflictTarget Sqlite table
-&gt; table (QExpr Sqlite QInternal) -&gt; SqliteSyntax
forall (table :: (* -&gt; *) -&gt; *).
SqlConflictTarget Sqlite table
-&gt; table (QExpr Sqlite QInternal) -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Connection.html#unSqliteConflictTarget"><span class="hs-identifier hs-var hs-var">unSqliteConflictTarget</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(table (QExpr Sqlite QInternal) -&gt; proj)
-&gt; SqlConflictTarget Sqlite table
forall be proj (table :: (* -&gt; *) -&gt; *).
(BeamHasInsertOnConflict be, Projectible be proj) =&gt;
(table (QExpr be QInternal) -&gt; proj) -&gt; SqlConflictTarget be table
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Beam.conflictingFields</span></a></span><span> </span><span class="annot"><span class="annottext">table (QExpr Sqlite QInternal) -&gt; proj
</span><a href="#local-6989586621679138583"><span class="hs-identifier hs-var">makeProjection</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">table (QExpr Sqlite QInternal)
</span><a href="#local-6989586621679138581"><span class="hs-identifier hs-var">table</span></a></span><span>
</span><span id="line-483"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#emit"><span class="hs-identifier hs-var">emit</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot; WHERE &quot;</span></span><span>
</span><span id="line-484"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span id="local-6989586621679138579"><span class="annot"><span class="annottext">TablePrefix -&gt; BeamSqlBackendExpressionSyntax Sqlite
</span><a href="#local-6989586621679138579"><span class="hs-identifier hs-var">mkE</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">table (QExpr Sqlite QInternal)
-&gt; QGenExpr QValueContext Sqlite QInternal Bool
forall s. table (QExpr Sqlite s) -&gt; QExpr Sqlite s Bool
</span><a href="#local-6989586621679138582"><span class="hs-identifier hs-var">makeWhere</span></a></span><span> </span><span class="annot"><span class="annottext">table (QExpr Sqlite QInternal)
</span><a href="#local-6989586621679138581"><span class="hs-identifier hs-var">table</span></a></span><span>
</span><span id="line-485"></span><span>        </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">SqliteExpressionSyntax -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#fromSqliteExpression"><span class="hs-identifier hs-var">fromSqliteExpression</span></a></span><span> </span><span class="annot"><span class="annottext">(SqliteExpressionSyntax -&gt; SqliteSyntax)
-&gt; SqliteExpressionSyntax -&gt; SqliteSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix -&gt; BeamSqlBackendExpressionSyntax Sqlite
</span><a href="#local-6989586621679138579"><span class="hs-identifier hs-var">mkE</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><span class="hs-string">&quot;t&quot;</span></span><span>
</span><span id="line-486"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-487"></span><span>
</span><span id="line-488"></span><span>  </span><span id="local-6989586621679138578"><span class="annot"><span class="annottext">onConflictDoNothing :: SqlConflictAction Sqlite table
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">onConflictDoNothing</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s. table (QField s) -&gt; SqliteSyntax)
-&gt; SqlConflictAction Sqlite table
forall (table :: (* -&gt; *) -&gt; *).
(forall s. table (QField s) -&gt; SqliteSyntax)
-&gt; SqlConflictAction Sqlite table
</span><a href="Database.Beam.Sqlite.Connection.html#SqliteConflictAction"><span class="hs-identifier hs-var">SqliteConflictAction</span></a></span><span> </span><span class="annot"><span class="annottext">((forall s. table (QField s) -&gt; SqliteSyntax)
 -&gt; SqlConflictAction Sqlite table)
-&gt; (forall s. table (QField s) -&gt; SqliteSyntax)
-&gt; SqlConflictAction Sqlite table
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">SqliteSyntax -&gt; table (QField s) -&gt; SqliteSyntax
forall a b. a -&gt; b -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(SqliteSyntax -&gt; table (QField s) -&gt; SqliteSyntax)
-&gt; SqliteSyntax -&gt; table (QField s) -&gt; SqliteSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#emit"><span class="hs-identifier hs-var">emit</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;NOTHING&quot;</span></span><span>
</span><span id="line-489"></span><span>  </span><span id="local-6989586621679138576"><span class="annot"><span class="annottext">onConflictUpdateSet :: (forall s.
 table (QField s) -&gt; table (QExpr Sqlite s) -&gt; QAssignment Sqlite s)
-&gt; SqlConflictAction Sqlite table
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">onConflictUpdateSet</span></a></span></span><span> </span><span id="local-6989586621679138574"><span class="annot"><span class="annottext">forall s.
table (QField s) -&gt; table (QExpr Sqlite s) -&gt; QAssignment Sqlite s
</span><a href="#local-6989586621679138574"><span class="hs-identifier hs-var">makeAssignments</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall s. table (QField s) -&gt; SqliteSyntax)
-&gt; SqlConflictAction Sqlite table
forall (table :: (* -&gt; *) -&gt; *).
(forall s. table (QField s) -&gt; SqliteSyntax)
-&gt; SqlConflictAction Sqlite table
</span><a href="Database.Beam.Sqlite.Connection.html#SqliteConflictAction"><span class="hs-identifier hs-var">SqliteConflictAction</span></a></span><span> </span><span class="annot"><span class="annottext">((forall s. table (QField s) -&gt; SqliteSyntax)
 -&gt; SqlConflictAction Sqlite table)
-&gt; (forall s. table (QField s) -&gt; SqliteSyntax)
-&gt; SqlConflictAction Sqlite table
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679138573"><span class="annot"><span class="annottext">table (QField s)
</span><a href="#local-6989586621679138573"><span class="hs-identifier hs-var">table</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[SqliteSyntax] -&gt; SqliteSyntax
forall a. Monoid a =&gt; [a] -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mconcat</span></a></span><span>
</span><span id="line-490"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#emit"><span class="hs-identifier hs-var">emit</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;UPDATE SET &quot;</span></span><span>
</span><span id="line-491"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">QAssignment</span></a></span><span> </span><span id="local-6989586621679138571"><span class="annot"><span class="annottext">[(BeamSqlBackendFieldNameSyntax Sqlite,
  BeamSqlBackendExpressionSyntax Sqlite)]
</span><a href="#local-6989586621679138571"><span class="hs-identifier hs-var">assignments</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">table (QField s) -&gt; table (QExpr Sqlite s) -&gt; QAssignment Sqlite s
forall s.
table (QField s) -&gt; table (QExpr Sqlite s) -&gt; QAssignment Sqlite s
</span><a href="#local-6989586621679138574"><span class="hs-identifier hs-var">makeAssignments</span></a></span><span> </span><span class="annot"><span class="annottext">table (QField s)
</span><a href="#local-6989586621679138573"><span class="hs-identifier hs-var">table</span></a></span><span> </span><span class="annot"><span class="annottext">(table (QExpr Sqlite s) -&gt; QAssignment Sqlite s)
-&gt; table (QExpr Sqlite s) -&gt; QAssignment Sqlite s
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">table (QField s) -&gt; table (QExpr Sqlite s)
forall (table :: (* -&gt; *) -&gt; *) s.
Beamable table =&gt;
table (QField s) -&gt; table (QExpr Sqlite s)
</span><a href="Database.Beam.Sqlite.Connection.html#excluded"><span class="hs-identifier hs-var">excluded</span></a></span><span> </span><span class="annot"><span class="annottext">table (QField s)
</span><a href="#local-6989586621679138573"><span class="hs-identifier hs-var">table</span></a></span><span>
</span><span id="line-492"></span><span>          </span><span id="local-6989586621679138569"><span class="annot"><span class="annottext">emitAssignment :: (SqliteFieldNameSyntax, SqliteExpressionSyntax) -&gt; SqliteSyntax
</span><a href="#local-6989586621679138569"><span class="hs-identifier hs-var hs-var">emitAssignment</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679138568"><span class="annot"><span class="annottext">SqliteFieldNameSyntax
</span><a href="#local-6989586621679138568"><span class="hs-identifier hs-var">fieldName</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679138567"><span class="annot"><span class="annottext">SqliteExpressionSyntax
</span><a href="#local-6989586621679138567"><span class="hs-identifier hs-var">expr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SqliteSyntax] -&gt; SqliteSyntax
forall a. Monoid a =&gt; [a] -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mconcat</span></a></span><span>
</span><span id="line-493"></span><span>            </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">SqliteFieldNameSyntax -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#fromSqliteFieldNameSyntax"><span class="hs-identifier hs-var hs-var">fromSqliteFieldNameSyntax</span></a></span><span> </span><span class="annot"><span class="annottext">SqliteFieldNameSyntax
</span><a href="#local-6989586621679138568"><span class="hs-identifier hs-var">fieldName</span></a></span><span>
</span><span id="line-494"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#emit"><span class="hs-identifier hs-var">emit</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot; = &quot;</span></span><span>
</span><span id="line-495"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SqliteExpressionSyntax -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#fromSqliteExpression"><span class="hs-identifier hs-var">fromSqliteExpression</span></a></span><span> </span><span class="annot"><span class="annottext">SqliteExpressionSyntax
</span><a href="#local-6989586621679138567"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-496"></span><span>            </span><span class="hs-special">]</span><span>
</span><span id="line-497"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">[SqliteSyntax] -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#commas"><span class="hs-identifier hs-var">commas</span></a></span><span> </span><span class="annot"><span class="annottext">([SqliteSyntax] -&gt; SqliteSyntax) -&gt; [SqliteSyntax] -&gt; SqliteSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">((SqliteFieldNameSyntax, SqliteExpressionSyntax) -&gt; SqliteSyntax)
-&gt; [(SqliteFieldNameSyntax, SqliteExpressionSyntax)]
-&gt; [SqliteSyntax]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(SqliteFieldNameSyntax, SqliteExpressionSyntax) -&gt; SqliteSyntax
</span><a href="#local-6989586621679138569"><span class="hs-identifier hs-var">emitAssignment</span></a></span><span> </span><span class="annot"><span class="annottext">[(BeamSqlBackendFieldNameSyntax Sqlite,
  BeamSqlBackendExpressionSyntax Sqlite)]
[(SqliteFieldNameSyntax, SqliteExpressionSyntax)]
</span><a href="#local-6989586621679138571"><span class="hs-identifier hs-var">assignments</span></a></span><span>
</span><span id="line-498"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-499"></span><span>  </span><span id="local-6989586621679138565"><span class="annot"><span class="annottext">onConflictUpdateSetWhere :: (forall s.
 table (QField s) -&gt; table (QExpr Sqlite s) -&gt; QAssignment Sqlite s)
-&gt; (forall s.
    table (QField s) -&gt; table (QExpr Sqlite s) -&gt; QExpr Sqlite s Bool)
-&gt; SqlConflictAction Sqlite table
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">onConflictUpdateSetWhere</span></a></span></span><span> </span><span id="local-6989586621679138563"><span class="annot"><span class="annottext">forall s.
table (QField s) -&gt; table (QExpr Sqlite s) -&gt; QAssignment Sqlite s
</span><a href="#local-6989586621679138563"><span class="hs-identifier hs-var">makeAssignments</span></a></span></span><span> </span><span id="local-6989586621679138562"><span class="annot"><span class="annottext">forall s.
table (QField s) -&gt; table (QExpr Sqlite s) -&gt; QExpr Sqlite s Bool
</span><a href="#local-6989586621679138562"><span class="hs-identifier hs-var">makeWhere</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-500"></span><span>    </span><span class="annot"><span class="annottext">(forall s. table (QField s) -&gt; SqliteSyntax)
-&gt; SqlConflictAction Sqlite table
forall (table :: (* -&gt; *) -&gt; *).
(forall s. table (QField s) -&gt; SqliteSyntax)
-&gt; SqlConflictAction Sqlite table
</span><a href="Database.Beam.Sqlite.Connection.html#SqliteConflictAction"><span class="hs-identifier hs-var">SqliteConflictAction</span></a></span><span> </span><span class="annot"><span class="annottext">((forall s. table (QField s) -&gt; SqliteSyntax)
 -&gt; SqlConflictAction Sqlite table)
-&gt; (forall s. table (QField s) -&gt; SqliteSyntax)
-&gt; SqlConflictAction Sqlite table
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679138561"><span class="annot"><span class="annottext">table (QField s)
</span><a href="#local-6989586621679138561"><span class="hs-identifier hs-var">table</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[SqliteSyntax] -&gt; SqliteSyntax
forall a. Monoid a =&gt; [a] -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mconcat</span></a></span><span>
</span><span id="line-501"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">SqlConflictAction Sqlite table -&gt; table (QField s) -&gt; SqliteSyntax
forall (table :: (* -&gt; *) -&gt; *).
SqlConflictAction Sqlite table
-&gt; forall s. table (QField s) -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Connection.html#unSqliteConflictAction"><span class="hs-identifier hs-var hs-var">unSqliteConflictAction</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall s.
 table (QField s) -&gt; table (QExpr Sqlite s) -&gt; QAssignment Sqlite s)
-&gt; SqlConflictAction Sqlite table
forall be (table :: (* -&gt; *) -&gt; *).
(BeamHasInsertOnConflict be, Beamable table) =&gt;
(forall s.
 table (QField s) -&gt; table (QExpr be s) -&gt; QAssignment be s)
-&gt; SqlConflictAction be table
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Beam.onConflictUpdateSet</span></a></span><span> </span><span class="annot"><span class="annottext">forall s.
table (QField s) -&gt; table (QExpr Sqlite s) -&gt; QAssignment Sqlite s
</span><a href="#local-6989586621679138563"><span class="hs-identifier hs-var">makeAssignments</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">table (QField s)
</span><a href="#local-6989586621679138561"><span class="hs-identifier hs-var">table</span></a></span><span>
</span><span id="line-502"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#emit"><span class="hs-identifier hs-var">emit</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot; WHERE &quot;</span></span><span>
</span><span id="line-503"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span id="local-6989586621679138560"><span class="annot"><span class="annottext">TablePrefix -&gt; BeamSqlBackendExpressionSyntax Sqlite
</span><a href="#local-6989586621679138560"><span class="hs-identifier hs-var">mkE</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">table (QField s)
-&gt; table (QExpr Sqlite s) -&gt; QGenExpr QValueContext Sqlite s Bool
forall s.
table (QField s) -&gt; table (QExpr Sqlite s) -&gt; QExpr Sqlite s Bool
</span><a href="#local-6989586621679138562"><span class="hs-identifier hs-var">makeWhere</span></a></span><span> </span><span class="annot"><span class="annottext">table (QField s)
</span><a href="#local-6989586621679138561"><span class="hs-identifier hs-var">table</span></a></span><span> </span><span class="annot"><span class="annottext">(table (QExpr Sqlite s) -&gt; QGenExpr QValueContext Sqlite s Bool)
-&gt; table (QExpr Sqlite s) -&gt; QGenExpr QValueContext Sqlite s Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">table (QField s) -&gt; table (QExpr Sqlite s)
forall (table :: (* -&gt; *) -&gt; *) s.
Beamable table =&gt;
table (QField s) -&gt; table (QExpr Sqlite s)
</span><a href="Database.Beam.Sqlite.Connection.html#excluded"><span class="hs-identifier hs-var">excluded</span></a></span><span> </span><span class="annot"><span class="annottext">table (QField s)
</span><a href="#local-6989586621679138561"><span class="hs-identifier hs-var">table</span></a></span><span>
</span><span id="line-504"></span><span>        </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">SqliteExpressionSyntax -&gt; SqliteSyntax
</span><a href="Database.Beam.Sqlite.Syntax.html#fromSqliteExpression"><span class="hs-identifier hs-var">fromSqliteExpression</span></a></span><span> </span><span class="annot"><span class="annottext">(SqliteExpressionSyntax -&gt; SqliteSyntax)
-&gt; SqliteExpressionSyntax -&gt; SqliteSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix -&gt; BeamSqlBackendExpressionSyntax Sqlite
</span><a href="#local-6989586621679138560"><span class="hs-identifier hs-var">mkE</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><span class="hs-string">&quot;t&quot;</span></span><span>
</span><span id="line-505"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-506"></span><span>
</span><span id="line-507"></span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#excluded"><span class="hs-identifier hs-type">excluded</span></a></span><span>
</span><span id="line-508"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679139521"><span class="annot"><a href="#local-6989586621679139521"><span class="hs-identifier hs-type">table</span></a></span></span><span> </span><span id="local-6989586621679139520"><span class="annot"><a href="#local-6989586621679139520"><span class="hs-identifier hs-type">s</span></a></span></span><span>
</span><span id="line-509"></span><span>  </span><span class="hs-operator">.</span><span>  </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Beamable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679139521"><span class="hs-identifier hs-type">table</span></a></span><span>
</span><span id="line-510"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679139521"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">QField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679139520"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-511"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679139521"><span class="hs-identifier hs-type">table</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">QExpr</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Sqlite.Connection.html#Sqlite"><span class="hs-identifier hs-type">Sqlite</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679139520"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-512"></span><span id="excluded"><span class="annot"><span class="annottext">excluded :: table (QField s) -&gt; table (QExpr Sqlite s)
</span><a href="Database.Beam.Sqlite.Connection.html#excluded"><span class="hs-identifier hs-var hs-var">excluded</span></a></span></span><span> </span><span id="local-6989586621679138559"><span class="annot"><span class="annottext">table (QField s)
</span><a href="#local-6989586621679138559"><span class="hs-identifier hs-var">table</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall a. Columnar' (QField s) a -&gt; Columnar' (QExpr Sqlite s) a)
-&gt; table (QField s) -&gt; table (QExpr Sqlite s)
forall (table :: (* -&gt; *) -&gt; *) (f :: * -&gt; *) (g :: * -&gt; *).
Beamable table =&gt;
(forall a. Columnar' f a -&gt; Columnar' g a) -&gt; table f -&gt; table g
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">changeBeamRep</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Columnar' (QField s) a -&gt; Columnar' (QExpr Sqlite s) a
forall be (f :: * -&gt; *) a s ty (f :: * -&gt; *) a context s t.
(IsSql92ExpressionSyntax
   (Sql92SelectTableExpressionSyntax
      (Sql92SelectSelectTableSyntax
         (Sql92SelectSyntax (BeamSqlBackendSyntax be)))),
 Columnar f a ~ QField s ty,
 Columnar f a ~ QGenExpr context be s t) =&gt;
Columnar' f a -&gt; Columnar' f a
</span><a href="#local-6989586621679138558"><span class="hs-identifier hs-var">excludedField</span></a></span><span> </span><span class="annot"><span class="annottext">table (QField s)
</span><a href="#local-6989586621679138559"><span class="hs-identifier hs-var">table</span></a></span><span>
</span><span id="line-513"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679138558"><span class="annot"><span class="annottext">excludedField :: Columnar' f a -&gt; Columnar' f a
</span><a href="#local-6989586621679138558"><span class="hs-identifier hs-var hs-var">excludedField</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Columnar'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">QField</span></a></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679138557"><span class="annot"><a href="#local-6989586621679138557"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-514"></span><span>          </span><span class="annot"><span class="annottext">Columnar f a -&gt; Columnar' f a
forall (f :: * -&gt; *) a. Columnar f a -&gt; Columnar' f a
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Columnar'</span></a></span><span> </span><span class="annot"><span class="annottext">(Columnar f a -&gt; Columnar' f a) -&gt; Columnar f a -&gt; Columnar' f a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(TablePrefix
 -&gt; Sql92SelectTableExpressionSyntax
      (Sql92SelectSelectTableSyntax
         (Sql92SelectSyntax (BeamSqlBackendSyntax be))))
-&gt; QGenExpr context be s t
forall context be s t.
(TablePrefix -&gt; BeamSqlBackendExpressionSyntax be)
-&gt; QGenExpr context be s t
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">QExpr</span></a></span><span> </span><span class="annot"><span class="annottext">((TablePrefix
  -&gt; Sql92SelectTableExpressionSyntax
       (Sql92SelectSelectTableSyntax
          (Sql92SelectSyntax (BeamSqlBackendSyntax be))))
 -&gt; QGenExpr context be s t)
-&gt; (TablePrefix
    -&gt; Sql92SelectTableExpressionSyntax
         (Sql92SelectSelectTableSyntax
            (Sql92SelectSyntax (BeamSqlBackendSyntax be))))
-&gt; QGenExpr context be s t
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Sql92SelectTableExpressionSyntax
  (Sql92SelectSelectTableSyntax
     (Sql92SelectSyntax (BeamSqlBackendSyntax be)))
-&gt; TablePrefix
-&gt; Sql92SelectTableExpressionSyntax
     (Sql92SelectSelectTableSyntax
        (Sql92SelectSyntax (BeamSqlBackendSyntax be)))
forall a b. a -&gt; b -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(Sql92SelectTableExpressionSyntax
   (Sql92SelectSelectTableSyntax
      (Sql92SelectSyntax (BeamSqlBackendSyntax be)))
 -&gt; TablePrefix
 -&gt; Sql92SelectTableExpressionSyntax
      (Sql92SelectSelectTableSyntax
         (Sql92SelectSyntax (BeamSqlBackendSyntax be))))
-&gt; Sql92SelectTableExpressionSyntax
     (Sql92SelectSelectTableSyntax
        (Sql92SelectSyntax (BeamSqlBackendSyntax be)))
-&gt; TablePrefix
-&gt; Sql92SelectTableExpressionSyntax
     (Sql92SelectSelectTableSyntax
        (Sql92SelectSyntax (BeamSqlBackendSyntax be)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Sql92ExpressionFieldNameSyntax
  (Sql92SelectTableExpressionSyntax
     (Sql92SelectSelectTableSyntax
        (Sql92SelectSyntax (BeamSqlBackendSyntax be))))
-&gt; Sql92SelectTableExpressionSyntax
     (Sql92SelectSelectTableSyntax
        (Sql92SelectSyntax (BeamSqlBackendSyntax be)))
forall expr.
IsSql92ExpressionSyntax expr =&gt;
Sql92ExpressionFieldNameSyntax expr -&gt; expr
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">fieldE</span></a></span><span> </span><span class="annot"><span class="annottext">(Sql92ExpressionFieldNameSyntax
   (Sql92SelectTableExpressionSyntax
      (Sql92SelectSelectTableSyntax
         (Sql92SelectSyntax (BeamSqlBackendSyntax be))))
 -&gt; Sql92SelectTableExpressionSyntax
      (Sql92SelectSelectTableSyntax
         (Sql92SelectSyntax (BeamSqlBackendSyntax be))))
-&gt; Sql92ExpressionFieldNameSyntax
     (Sql92SelectTableExpressionSyntax
        (Sql92SelectSelectTableSyntax
           (Sql92SelectSyntax (BeamSqlBackendSyntax be))))
-&gt; Sql92SelectTableExpressionSyntax
     (Sql92SelectSelectTableSyntax
        (Sql92SelectSyntax (BeamSqlBackendSyntax be)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
-&gt; TablePrefix
-&gt; Sql92ExpressionFieldNameSyntax
     (Sql92SelectTableExpressionSyntax
        (Sql92SelectSelectTableSyntax
           (Sql92SelectSyntax (BeamSqlBackendSyntax be))))
forall fn.
IsSql92FieldNameSyntax fn =&gt;
TablePrefix -&gt; TablePrefix -&gt; fn
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">qualifiedField</span></a></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><span class="hs-string">&quot;excluded&quot;</span></span><span> </span><span class="annot"><span class="annottext">TablePrefix
</span><a href="#local-6989586621679138557"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-515"></span></pre></body></html>