<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE BangPatterns #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DeriveAnyClass #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-11"></span><span>
</span><span id="line-12"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Cardano.Ledger.Alonzo.TxInfo</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-13"></span><span>
</span><span id="line-14"></span><span class="hs-comment">-- =============================================</span><span>
</span><span id="line-15"></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-binary/html/src"><span class="hs-identifier">Cardano.Binary</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-binary/html/src"><span class="hs-identifier">FromCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-binary/html/src"><span class="hs-identifier">ToCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-binary/html/src"><span class="hs-identifier">decodeFull'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-crypto-class/html/src"><span class="hs-identifier">Cardano.Crypto.Hash.Class</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-crypto-class/html/src"><span class="hs-identifier">Hash</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-crypto-class/html/src"><span class="hs-identifier">hashToBytes</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">Cardano.Ledger.Address</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">Addr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">RewardAcnt</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Data.html"><span class="hs-identifier">Cardano.Ledger.Alonzo.Data</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.Data.html#Data"><span class="hs-identifier">Data</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Data.html#Datum"><span class="hs-identifier">Datum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Data.html#getPlutusData"><span class="hs-identifier">getPlutusData</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Language.html"><span class="hs-identifier">Cardano.Ledger.Alonzo.Language</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.Language.html#Language"><span class="hs-identifier">Language</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Scripts.html"><span class="hs-identifier">Cardano.Ledger.Alonzo.Scripts</span></a></span><span>
</span><span id="line-22"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Scripts.html#ExUnits"><span class="hs-identifier">ExUnits</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>    </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Scripts.html#Script"><span class="hs-identifier">Script</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>    </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Scripts.html#decodeCostModel"><span class="hs-identifier">decodeCostModel</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>    </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Scripts.html#getEvaluationContext"><span class="hs-identifier">getEvaluationContext</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Tx.html"><span class="hs-identifier">Cardano.Ledger.Alonzo.Tx</span></a></span><span>
</span><span id="line-28"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Scripts.html#CostModel"><span class="hs-identifier">CostModel</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>    </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">DataHash</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>    </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Tx.html#ScriptPurpose"><span class="hs-identifier">ScriptPurpose</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>    </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Tx.html#ValidatedTx"><span class="hs-identifier">ValidatedTx</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>    </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxWitness.html#txdats%27"><span class="hs-identifier">txdats'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxWitness.html"><span class="hs-identifier">Cardano.Ledger.Alonzo.TxWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxWitness.html#RdmrPtr"><span class="hs-identifier">RdmrPtr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxWitness.html#TxWitness"><span class="hs-identifier">TxWitness</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxWitness.html#unTxDats"><span class="hs-identifier">unTxDats</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">Cardano.Ledger.BaseTypes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">ProtVer</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../strict-containers/html/src"><span class="hs-identifier">StrictMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">TxIx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">certIxToInt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">txIxToInt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">Cardano.Ledger.Coin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">Coin</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">Cardano.Ledger.Core</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Core</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">PParams</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">Tx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">TxBody</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">TxOut</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">Value</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">Cardano.Ledger.Core</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Core</span></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">Cardano.Ledger.Credential</span></a></span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">Credential</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">KeyHashObj</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">ScriptHashObj</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>    </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">Ptr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>    </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">StakeReference</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">Cardano.Ledger.Crypto</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">CC</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">Crypto</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">Cardano.Ledger.Era</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">Era</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">getTxOutBootstrapAddress</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">Cardano.Ledger.Hashes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">EraIndependentData</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">Cardano.Ledger.Keys</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">KeyHash</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">KeyRole</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">Witness</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">hashKey</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-shelley-ma/html/src"><span class="hs-identifier">Cardano.Ledger.Mary.Value</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Mary</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-shelley-ma/html/src"><span class="hs-identifier">AssetName</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-shelley-ma/html/src"><span class="hs-identifier">PolicyID</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-shelley-ma/html/src"><span class="hs-identifier">Value</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">Cardano.Ledger.SafeHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">SafeHash</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">extractHash</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">hashAnnotated</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">Cardano.Ledger.Serialization</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">Sized</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">sizedValue</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier">Cardano.Ledger.Shelley.HardForks</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">HardForks</span></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier">Cardano.Ledger.Shelley.Scripts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">ScriptHash</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier">Cardano.Ledger.Shelley.TxBody</span></a></span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier">DCert</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-55"></span><span>    </span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier">DelegCert</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>    </span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier">Delegation</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>    </span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier">PoolCert</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-58"></span><span>    </span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier">PoolParams</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-59"></span><span>    </span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier">Wdrl</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-60"></span><span>    </span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier">WitVKey</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier">Cardano.Ledger.Shelley.UTxO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier">UTxO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-shelley-ma/html/src"><span class="hs-identifier">Cardano.Ledger.ShelleyMA.Timelocks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-shelley-ma/html/src"><span class="hs-identifier">ValidityInterval</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">Cardano.Ledger.TxIn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">TxId</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">TxIn</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">Cardano.Ledger.Val</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier">Val</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier">Cardano.Slotting.EpochInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier">EpochInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier">epochInfoSlotToUTCTime</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier">Cardano.Slotting.Slot</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier">EpochNo</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier">SlotNo</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier">Cardano.Slotting.Time</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier">SystemStart</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../serialise/html/src"><span class="hs-identifier">Codec.Serialise</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Cborg</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../serialise/html/src"><span class="hs-identifier">Serialise</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Arrow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">left</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/deepseq-1.4.4.0/src"><span class="hs-identifier">Control.DeepSeq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/deepseq-1.4.4.0/src"><span class="hs-identifier">deepseq</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">Data.ByteString</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">ByteString</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">length</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../base64-bytestring/html/src"><span class="hs-identifier">Data.ByteString.Base64</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">B64</span></span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">Data.ByteString.Short</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SBS</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">ShortByteString</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">fromShort</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../utf8-string/html/src"><span class="hs-identifier">Data.ByteString.UTF8</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BSU</span></span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-data/html/src"><span class="hs-identifier">Data.Coders</span></a></span><span>
</span><span id="line-77"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../cardano-data/html/src"><span class="hs-identifier">Decode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-78"></span><span>    </span><span class="annot"><a href="../../../../cardano-data/html/src"><span class="hs-identifier">Encode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-79"></span><span>    </span><span class="annot"><a href="../../../../cardano-data/html/src"><span class="hs-identifier">decode</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-80"></span><span>    </span><span class="annot"><a href="../../../../cardano-data/html/src"><span class="hs-identifier">decodeList</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-81"></span><span>    </span><span class="annot"><a href="../../../../cardano-data/html/src"><span class="hs-identifier">encode</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-82"></span><span>    </span><span class="annot"><a href="../../../../cardano-data/html/src"><span class="hs-operator">(!&gt;)</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-83"></span><span>    </span><span class="annot"><a href="../../../../cardano-data/html/src"><span class="hs-operator">(&lt;!)</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-84"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Fixed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">HasResolution</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">resolution</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.List.NonEmpty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">NonEmpty</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../containers/html/src"><span class="hs-identifier">Data.Map.Strict</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-88"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">mapMaybe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../strict-containers/html/src"><span class="hs-identifier">Data.Sequence.Strict</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../strict-containers/html/src"><span class="hs-identifier">StrictSeq</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../containers/html/src"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../containers/html/src"><span class="hs-identifier">Set</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../containers/html/src"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-92"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Text</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">pack</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier">Data.Time.Clock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier">nominalDiffTimeToSeconds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier">Data.Time.Clock.POSIX</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier">utcTimeToPOSIXSeconds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Typeable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Proxy</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Typeable</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">GHC.Generics</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">GHC.Records</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">HasField</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../nothunks/html/src"><span class="hs-identifier">NoThunks.Class</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../nothunks/html/src"><span class="hs-identifier">NoThunks</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Numeric.Natural</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Natural</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">Plutus.V1.Ledger.Api</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PV1</span></span><span>
</span><span id="line-101"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">Plutus.V1.Ledger.Contexts</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-102"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier">Plutus.V2.Ledger.Api</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PV2</span></span><span>
</span><span id="line-103"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../prettyprinter/html/src"><span class="hs-identifier">Prettyprinter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../prettyprinter/html/src"><span class="hs-identifier">Pretty</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span class="hs-comment">-- =========================================================</span><span>
</span><span id="line-106"></span><span class="hs-comment">-- Translate Hashes, Credentials, Certificates etc.</span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span class="hs-comment">-- | A transaction output can be translated because it is a newly created output,</span><span>
</span><span id="line-109"></span><span class="hs-comment">-- or because it is the output which is connected to a transaction input being spent.</span><span>
</span><span id="line-110"></span><span id="local-6989586621679392895"><span id="local-6989586621679392896"></span></span><span class="hs-keyword">data</span><span> </span><span id="TxOutSource"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#TxOutSource"><span class="hs-identifier hs-var">TxOutSource</span></a></span></span><span> </span><span id="local-6989586621679393309"><span class="annot"><a href="#local-6989586621679393309"><span class="hs-identifier hs-type">crypto</span></a></span></span><span>
</span><span id="line-111"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="TxOutFromInput"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#TxOutFromInput"><span class="hs-identifier hs-var">TxOutFromInput</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">TxIn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393309"><span class="hs-identifier hs-type">crypto</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-112"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TxOutFromOutput"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#TxOutFromOutput"><span class="hs-identifier hs-var">TxOutFromOutput</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">TxIx</span></a></span><span>
</span><span id="line-113"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679392889"><span id="local-6989586621679392891"><span class="annot"><span class="annottext">TxOutSource crypto -&gt; TxOutSource crypto -&gt; Bool
(TxOutSource crypto -&gt; TxOutSource crypto -&gt; Bool)
-&gt; (TxOutSource crypto -&gt; TxOutSource crypto -&gt; Bool)
-&gt; Eq (TxOutSource crypto)
forall crypto. TxOutSource crypto -&gt; TxOutSource crypto -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TxOutSource crypto -&gt; TxOutSource crypto -&gt; Bool
$c/= :: forall crypto. TxOutSource crypto -&gt; TxOutSource crypto -&gt; Bool
== :: TxOutSource crypto -&gt; TxOutSource crypto -&gt; Bool
$c== :: forall crypto. TxOutSource crypto -&gt; TxOutSource crypto -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679392882"><span id="local-6989586621679392884"><span id="local-6989586621679392886"><span class="annot"><span class="annottext">Int -&gt; TxOutSource crypto -&gt; ShowS
[TxOutSource crypto] -&gt; ShowS
TxOutSource crypto -&gt; String
(Int -&gt; TxOutSource crypto -&gt; ShowS)
-&gt; (TxOutSource crypto -&gt; String)
-&gt; ([TxOutSource crypto] -&gt; ShowS)
-&gt; Show (TxOutSource crypto)
forall crypto. Int -&gt; TxOutSource crypto -&gt; ShowS
forall crypto. [TxOutSource crypto] -&gt; ShowS
forall crypto. TxOutSource crypto -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TxOutSource crypto] -&gt; ShowS
$cshowList :: forall crypto. [TxOutSource crypto] -&gt; ShowS
show :: TxOutSource crypto -&gt; String
$cshow :: forall crypto. TxOutSource crypto -&gt; String
showsPrec :: Int -&gt; TxOutSource crypto -&gt; ShowS
$cshowsPrec :: forall crypto. Int -&gt; TxOutSource crypto -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. TxOutSource crypto -&gt; Rep (TxOutSource crypto) x)
-&gt; (forall x. Rep (TxOutSource crypto) x -&gt; TxOutSource crypto)
-&gt; Generic (TxOutSource crypto)
forall x. Rep (TxOutSource crypto) x -&gt; TxOutSource crypto
forall x. TxOutSource crypto -&gt; Rep (TxOutSource crypto) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall crypto x. Rep (TxOutSource crypto) x -&gt; TxOutSource crypto
forall crypto x. TxOutSource crypto -&gt; Rep (TxOutSource crypto) x
$cto :: forall crypto x. Rep (TxOutSource crypto) x -&gt; TxOutSource crypto
$cfrom :: forall crypto x. TxOutSource crypto -&gt; Rep (TxOutSource crypto) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679392872"><span id="local-6989586621679392874"><span id="local-6989586621679392876"><span class="annot"><span class="annottext">Context -&gt; TxOutSource crypto -&gt; IO (Maybe ThunkInfo)
Proxy (TxOutSource crypto) -&gt; String
(Context -&gt; TxOutSource crypto -&gt; IO (Maybe ThunkInfo))
-&gt; (Context -&gt; TxOutSource crypto -&gt; IO (Maybe ThunkInfo))
-&gt; (Proxy (TxOutSource crypto) -&gt; String)
-&gt; NoThunks (TxOutSource crypto)
forall crypto.
Context -&gt; TxOutSource crypto -&gt; IO (Maybe ThunkInfo)
forall crypto. Proxy (TxOutSource crypto) -&gt; String
forall a.
(Context -&gt; a -&gt; IO (Maybe ThunkInfo))
-&gt; (Context -&gt; a -&gt; IO (Maybe ThunkInfo))
-&gt; (Proxy a -&gt; String)
-&gt; NoThunks a
showTypeOf :: Proxy (TxOutSource crypto) -&gt; String
$cshowTypeOf :: forall crypto. Proxy (TxOutSource crypto) -&gt; String
wNoThunks :: Context -&gt; TxOutSource crypto -&gt; IO (Maybe ThunkInfo)
$cwNoThunks :: forall crypto.
Context -&gt; TxOutSource crypto -&gt; IO (Maybe ThunkInfo)
noThunks :: Context -&gt; TxOutSource crypto -&gt; IO (Maybe ThunkInfo)
$cnoThunks :: forall crypto.
Context -&gt; TxOutSource crypto -&gt; IO (Maybe ThunkInfo)
</span><a href="../../../../nothunks/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">NoThunks</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span id="local-6989586621679392870"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679392864"><span id="local-6989586621679392866"><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">CC.Crypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392870"><span class="hs-identifier hs-type">crypto</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../cardano-binary/html/src"><span class="hs-identifier hs-type">ToCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#TxOutSource"><span class="hs-identifier hs-type">TxOutSource</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392870"><span class="hs-identifier hs-type">crypto</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-116"></span><span>  </span><span id="local-6989586621679392862"><span class="annot"><span class="annottext">toCBOR :: TxOutSource crypto -&gt; Encoding
</span><a href="../../../../cardano-binary/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">toCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-117"></span><span>    </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#TxOutFromInput"><span class="hs-identifier hs-type">TxOutFromInput</span></a></span><span> </span><span id="local-6989586621679392860"><span class="annot"><span class="annottext">TxIn crypto
</span><a href="#local-6989586621679392860"><span class="hs-identifier hs-var">txIn</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Encode 'Open (TxOutSource crypto) -&gt; Encoding
forall (w :: Wrapped) t. Encode w t -&gt; Encoding
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">(Encode 'Open (TxOutSource crypto) -&gt; Encoding)
-&gt; Encode 'Open (TxOutSource crypto) -&gt; Encoding
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(TxIn crypto -&gt; TxOutSource crypto)
-&gt; Word -&gt; Encode 'Open (TxIn crypto -&gt; TxOutSource crypto)
forall t. t -&gt; Word -&gt; Encode 'Open t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn crypto -&gt; TxOutSource crypto
forall crypto. TxIn crypto -&gt; TxOutSource crypto
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#TxOutFromInput"><span class="hs-identifier hs-var">TxOutFromInput</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open (TxIn crypto -&gt; TxOutSource crypto)
-&gt; Encode ('Closed 'Dense) (TxIn crypto)
-&gt; Encode 'Open (TxOutSource crypto)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn crypto -&gt; Encode ('Closed 'Dense) (TxIn crypto)
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn crypto
</span><a href="#local-6989586621679392860"><span class="hs-identifier hs-var">txIn</span></a></span><span>
</span><span id="line-118"></span><span>    </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#TxOutFromOutput"><span class="hs-identifier hs-type">TxOutFromOutput</span></a></span><span> </span><span id="local-6989586621679392857"><span class="annot"><span class="annottext">TxIx
</span><a href="#local-6989586621679392857"><span class="hs-identifier hs-var">txIx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Encode 'Open (TxOutSource Any) -&gt; Encoding
forall (w :: Wrapped) t. Encode w t -&gt; Encoding
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">(Encode 'Open (TxOutSource Any) -&gt; Encoding)
-&gt; Encode 'Open (TxOutSource Any) -&gt; Encoding
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(TxIx -&gt; TxOutSource Any)
-&gt; Word -&gt; Encode 'Open (TxIx -&gt; TxOutSource Any)
forall t. t -&gt; Word -&gt; Encode 'Open t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="annot"><span class="annottext">TxIx -&gt; TxOutSource Any
forall crypto. TxIx -&gt; TxOutSource crypto
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#TxOutFromOutput"><span class="hs-identifier hs-var">TxOutFromOutput</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open (TxIx -&gt; TxOutSource Any)
-&gt; Encode ('Closed 'Dense) TxIx -&gt; Encode 'Open (TxOutSource Any)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TxIx -&gt; Encode ('Closed 'Dense) TxIx
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">TxIx
</span><a href="#local-6989586621679392857"><span class="hs-identifier hs-var">txIx</span></a></span></span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span id="local-6989586621679392856"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679392852"><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">CC.Crypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392856"><span class="hs-identifier hs-type">crypto</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../cardano-binary/html/src"><span class="hs-identifier hs-type">FromCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#TxOutSource"><span class="hs-identifier hs-type">TxOutSource</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392856"><span class="hs-identifier hs-type">crypto</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-121"></span><span>  </span><span id="local-6989586621679392850"><span class="annot"><span class="annottext">fromCBOR :: Decoder s (TxOutSource crypto)
</span><a href="../../../../cardano-binary/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) (TxOutSource crypto)
-&gt; Decoder s (TxOutSource crypto)
forall (w :: Wrapped) t s. Decode w t -&gt; Decoder s t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">decode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
-&gt; (Word -&gt; Decode 'Open (TxOutSource crypto))
-&gt; Decode ('Closed 'Dense) (TxOutSource crypto)
forall t.
String -&gt; (Word -&gt; Decode 'Open t) -&gt; Decode ('Closed 'Dense) t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">Summands</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;TxOutSource&quot;</span></span><span> </span><span class="annot"><span class="annottext">Word -&gt; Decode 'Open (TxOutSource crypto)
forall crypto.
Crypto crypto =&gt;
Word -&gt; Decode 'Open (TxOutSource crypto)
</span><a href="#local-6989586621679392847"><span class="hs-identifier hs-var">dec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-122"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-123"></span><span>      </span><span id="local-6989586621679392847"><span class="annot"><span class="annottext">dec :: Word -&gt; Decode 'Open (TxOutSource crypto)
</span><a href="#local-6989586621679392847"><span class="hs-identifier hs-var hs-var">dec</span></a></span></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TxIn crypto -&gt; TxOutSource crypto)
-&gt; Decode 'Open (TxIn crypto -&gt; TxOutSource crypto)
forall t. t -&gt; Decode 'Open t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">SumD</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn crypto -&gt; TxOutSource crypto
forall crypto. TxIn crypto -&gt; TxOutSource crypto
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#TxOutFromInput"><span class="hs-identifier hs-var">TxOutFromInput</span></a></span><span> </span><span class="annot"><span class="annottext">Decode 'Open (TxIn crypto -&gt; TxOutSource crypto)
-&gt; Decode ('Closed Any) (TxIn crypto)
-&gt; Decode 'Open (TxOutSource crypto)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) (TxIn crypto)
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">From</span></a></span><span>
</span><span id="line-124"></span><span>      </span><span class="annot"><a href="#local-6989586621679392847"><span class="hs-identifier hs-var">dec</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TxIx -&gt; TxOutSource crypto)
-&gt; Decode 'Open (TxIx -&gt; TxOutSource crypto)
forall t. t -&gt; Decode 'Open t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">SumD</span></a></span><span> </span><span class="annot"><span class="annottext">TxIx -&gt; TxOutSource crypto
forall crypto. TxIx -&gt; TxOutSource crypto
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#TxOutFromOutput"><span class="hs-identifier hs-var">TxOutFromOutput</span></a></span><span> </span><span class="annot"><span class="annottext">Decode 'Open (TxIx -&gt; TxOutSource crypto)
-&gt; Decode ('Closed Any) TxIx -&gt; Decode 'Open (TxOutSource crypto)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) TxIx
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">From</span></a></span><span>
</span><span id="line-125"></span><span>      </span><span class="annot"><a href="#local-6989586621679392847"><span class="hs-identifier hs-var">dec</span></a></span><span> </span><span id="local-6989586621679392844"><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679392844"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word -&gt; Decode 'Open (TxOutSource crypto)
forall (w :: Wrapped) t. Word -&gt; Decode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">Invalid</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679392844"><span class="hs-identifier hs-var">n</span></a></span></span><span>
</span><span id="line-126"></span><span>
</span><span id="line-127"></span><span id="local-6989586621679392841"><span id="local-6989586621679392842"></span></span><span class="hs-keyword">data</span><span> </span><span id="TranslationError"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#TranslationError"><span class="hs-identifier hs-var">TranslationError</span></a></span></span><span> </span><span id="local-6989586621679393274"><span class="annot"><a href="#local-6989586621679393274"><span class="hs-identifier hs-type">crypto</span></a></span></span><span>
</span><span id="line-128"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="ByronTxOutInContext"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#ByronTxOutInContext"><span class="hs-identifier hs-var">ByronTxOutInContext</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#TxOutSource"><span class="hs-identifier hs-type">TxOutSource</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393274"><span class="hs-identifier hs-type">crypto</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-129"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TranslationLogicMissingInput"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#TranslationLogicMissingInput"><span class="hs-identifier hs-var">TranslationLogicMissingInput</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">TxIn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393274"><span class="hs-identifier hs-type">crypto</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="RdmrPtrPointsToNothing"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#RdmrPtrPointsToNothing"><span class="hs-identifier hs-var">RdmrPtrPointsToNothing</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxWitness.html#RdmrPtr"><span class="hs-identifier hs-type">RdmrPtr</span></a></span><span>
</span><span id="line-131"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="LanguageNotSupported"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#LanguageNotSupported"><span class="hs-identifier hs-var">LanguageNotSupported</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Cardano.Ledger.Alonzo.Language.html#Language"><span class="hs-identifier hs-type">Language</span></a></span><span>
</span><span id="line-132"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="InlineDatumsNotSupported"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#InlineDatumsNotSupported"><span class="hs-identifier hs-var">InlineDatumsNotSupported</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#TxOutSource"><span class="hs-identifier hs-type">TxOutSource</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393274"><span class="hs-identifier hs-type">crypto</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ReferenceScriptsNotSupported"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#ReferenceScriptsNotSupported"><span class="hs-identifier hs-var">ReferenceScriptsNotSupported</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#TxOutSource"><span class="hs-identifier hs-type">TxOutSource</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393274"><span class="hs-identifier hs-type">crypto</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-134"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ReferenceInputsNotSupported"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#ReferenceInputsNotSupported"><span class="hs-identifier hs-var">ReferenceInputsNotSupported</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../../../../containers/html/src"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">TxIn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393274"><span class="hs-identifier hs-type">crypto</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-135"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TimeTranslationPastHorizon"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#TimeTranslationPastHorizon"><span class="hs-identifier hs-var">TimeTranslationPastHorizon</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span>
</span><span id="line-136"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679392829"><span id="local-6989586621679392831"><span class="annot"><span class="annottext">TranslationError crypto -&gt; TranslationError crypto -&gt; Bool
(TranslationError crypto -&gt; TranslationError crypto -&gt; Bool)
-&gt; (TranslationError crypto -&gt; TranslationError crypto -&gt; Bool)
-&gt; Eq (TranslationError crypto)
forall crypto.
TranslationError crypto -&gt; TranslationError crypto -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TranslationError crypto -&gt; TranslationError crypto -&gt; Bool
$c/= :: forall crypto.
TranslationError crypto -&gt; TranslationError crypto -&gt; Bool
== :: TranslationError crypto -&gt; TranslationError crypto -&gt; Bool
$c== :: forall crypto.
TranslationError crypto -&gt; TranslationError crypto -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679392823"><span id="local-6989586621679392825"><span id="local-6989586621679392827"><span class="annot"><span class="annottext">Int -&gt; TranslationError crypto -&gt; ShowS
[TranslationError crypto] -&gt; ShowS
TranslationError crypto -&gt; String
(Int -&gt; TranslationError crypto -&gt; ShowS)
-&gt; (TranslationError crypto -&gt; String)
-&gt; ([TranslationError crypto] -&gt; ShowS)
-&gt; Show (TranslationError crypto)
forall crypto. Int -&gt; TranslationError crypto -&gt; ShowS
forall crypto. [TranslationError crypto] -&gt; ShowS
forall crypto. TranslationError crypto -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TranslationError crypto] -&gt; ShowS
$cshowList :: forall crypto. [TranslationError crypto] -&gt; ShowS
show :: TranslationError crypto -&gt; String
$cshow :: forall crypto. TranslationError crypto -&gt; String
showsPrec :: Int -&gt; TranslationError crypto -&gt; ShowS
$cshowsPrec :: forall crypto. Int -&gt; TranslationError crypto -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x.
 TranslationError crypto -&gt; Rep (TranslationError crypto) x)
-&gt; (forall x.
    Rep (TranslationError crypto) x -&gt; TranslationError crypto)
-&gt; Generic (TranslationError crypto)
forall x.
Rep (TranslationError crypto) x -&gt; TranslationError crypto
forall x.
TranslationError crypto -&gt; Rep (TranslationError crypto) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall crypto x.
Rep (TranslationError crypto) x -&gt; TranslationError crypto
forall crypto x.
TranslationError crypto -&gt; Rep (TranslationError crypto) x
$cto :: forall crypto x.
Rep (TranslationError crypto) x -&gt; TranslationError crypto
$cfrom :: forall crypto x.
TranslationError crypto -&gt; Rep (TranslationError crypto) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679392815"><span id="local-6989586621679392817"><span id="local-6989586621679392819"><span class="annot"><span class="annottext">Context -&gt; TranslationError crypto -&gt; IO (Maybe ThunkInfo)
Proxy (TranslationError crypto) -&gt; String
(Context -&gt; TranslationError crypto -&gt; IO (Maybe ThunkInfo))
-&gt; (Context -&gt; TranslationError crypto -&gt; IO (Maybe ThunkInfo))
-&gt; (Proxy (TranslationError crypto) -&gt; String)
-&gt; NoThunks (TranslationError crypto)
forall crypto.
Context -&gt; TranslationError crypto -&gt; IO (Maybe ThunkInfo)
forall crypto. Proxy (TranslationError crypto) -&gt; String
forall a.
(Context -&gt; a -&gt; IO (Maybe ThunkInfo))
-&gt; (Context -&gt; a -&gt; IO (Maybe ThunkInfo))
-&gt; (Proxy a -&gt; String)
-&gt; NoThunks a
showTypeOf :: Proxy (TranslationError crypto) -&gt; String
$cshowTypeOf :: forall crypto. Proxy (TranslationError crypto) -&gt; String
wNoThunks :: Context -&gt; TranslationError crypto -&gt; IO (Maybe ThunkInfo)
$cwNoThunks :: forall crypto.
Context -&gt; TranslationError crypto -&gt; IO (Maybe ThunkInfo)
noThunks :: Context -&gt; TranslationError crypto -&gt; IO (Maybe ThunkInfo)
$cnoThunks :: forall crypto.
Context -&gt; TranslationError crypto -&gt; IO (Maybe ThunkInfo)
</span><a href="#local-6989586621679392815"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">NoThunks</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span id="local-6989586621679392814"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679392808"><span id="local-6989586621679392810"><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">CC.Crypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392814"><span class="hs-identifier hs-type">crypto</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../cardano-binary/html/src"><span class="hs-identifier hs-type">ToCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#TranslationError"><span class="hs-identifier hs-type">TranslationError</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392814"><span class="hs-identifier hs-type">crypto</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-139"></span><span>  </span><span id="local-6989586621679392807"><span class="annot"><span class="annottext">toCBOR :: TranslationError crypto -&gt; Encoding
</span><a href="#local-6989586621679392807"><span class="hs-identifier hs-var hs-var hs-var hs-var">toCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-140"></span><span>    </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#ByronTxOutInContext"><span class="hs-identifier hs-type">ByronTxOutInContext</span></a></span><span> </span><span id="local-6989586621679392806"><span class="annot"><span class="annottext">TxOutSource crypto
</span><a href="#local-6989586621679392806"><span class="hs-identifier hs-var">txOutSource</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-141"></span><span>      </span><span class="annot"><span class="annottext">Encode 'Open (TranslationError crypto) -&gt; Encoding
forall (w :: Wrapped) t. Encode w t -&gt; Encoding
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">(Encode 'Open (TranslationError crypto) -&gt; Encoding)
-&gt; Encode 'Open (TranslationError crypto) -&gt; Encoding
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(TxOutSource crypto -&gt; TranslationError crypto)
-&gt; Word
-&gt; Encode 'Open (TxOutSource crypto -&gt; TranslationError crypto)
forall t. t -&gt; Word -&gt; Encode 'Open t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutSource crypto -&gt; TranslationError crypto
forall crypto. TxOutSource crypto -&gt; TranslationError crypto
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#ByronTxOutInContext"><span class="hs-identifier hs-var">ByronTxOutInContext</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open (TxOutSource crypto -&gt; TranslationError crypto)
-&gt; Encode ('Closed 'Dense) (TxOutSource crypto)
-&gt; Encode 'Open (TranslationError crypto)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutSource crypto -&gt; Encode ('Closed 'Dense) (TxOutSource crypto)
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutSource crypto
</span><a href="#local-6989586621679392806"><span class="hs-identifier hs-var">txOutSource</span></a></span><span>
</span><span id="line-142"></span><span>    </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#TranslationLogicMissingInput"><span class="hs-identifier hs-type">TranslationLogicMissingInput</span></a></span><span> </span><span id="local-6989586621679392805"><span class="annot"><span class="annottext">TxIn crypto
</span><a href="#local-6989586621679392805"><span class="hs-identifier hs-var">txIn</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-143"></span><span>      </span><span class="annot"><span class="annottext">Encode 'Open (TranslationError crypto) -&gt; Encoding
forall (w :: Wrapped) t. Encode w t -&gt; Encoding
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">(Encode 'Open (TranslationError crypto) -&gt; Encoding)
-&gt; Encode 'Open (TranslationError crypto) -&gt; Encoding
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(TxIn crypto -&gt; TranslationError crypto)
-&gt; Word -&gt; Encode 'Open (TxIn crypto -&gt; TranslationError crypto)
forall t. t -&gt; Word -&gt; Encode 'Open t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn crypto -&gt; TranslationError crypto
forall crypto. TxIn crypto -&gt; TranslationError crypto
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#TranslationLogicMissingInput"><span class="hs-identifier hs-var">TranslationLogicMissingInput</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open (TxIn crypto -&gt; TranslationError crypto)
-&gt; Encode ('Closed 'Dense) (TxIn crypto)
-&gt; Encode 'Open (TranslationError crypto)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn crypto -&gt; Encode ('Closed 'Dense) (TxIn crypto)
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn crypto
</span><a href="#local-6989586621679392805"><span class="hs-identifier hs-var">txIn</span></a></span><span>
</span><span id="line-144"></span><span>    </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#RdmrPtrPointsToNothing"><span class="hs-identifier hs-type">RdmrPtrPointsToNothing</span></a></span><span> </span><span id="local-6989586621679392804"><span class="annot"><span class="annottext">RdmrPtr
</span><a href="#local-6989586621679392804"><span class="hs-identifier hs-var">ptr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-145"></span><span>      </span><span class="annot"><span class="annottext">Encode 'Open (TranslationError Any) -&gt; Encoding
forall (w :: Wrapped) t. Encode w t -&gt; Encoding
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">(Encode 'Open (TranslationError Any) -&gt; Encoding)
-&gt; Encode 'Open (TranslationError Any) -&gt; Encoding
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(RdmrPtr -&gt; TranslationError Any)
-&gt; Word -&gt; Encode 'Open (RdmrPtr -&gt; TranslationError Any)
forall t. t -&gt; Word -&gt; Encode 'Open t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="annot"><span class="annottext">RdmrPtr -&gt; TranslationError Any
forall crypto. RdmrPtr -&gt; TranslationError crypto
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#RdmrPtrPointsToNothing"><span class="hs-identifier hs-var">RdmrPtrPointsToNothing</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open (RdmrPtr -&gt; TranslationError Any)
-&gt; Encode ('Closed 'Dense) RdmrPtr
-&gt; Encode 'Open (TranslationError Any)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">RdmrPtr -&gt; Encode ('Closed 'Dense) RdmrPtr
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">RdmrPtr
</span><a href="#local-6989586621679392804"><span class="hs-identifier hs-var">ptr</span></a></span><span>
</span><span id="line-146"></span><span>    </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#LanguageNotSupported"><span class="hs-identifier hs-type">LanguageNotSupported</span></a></span><span> </span><span id="local-6989586621679392803"><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621679392803"><span class="hs-identifier hs-var">lang</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-147"></span><span>      </span><span class="annot"><span class="annottext">Encode 'Open (TranslationError Any) -&gt; Encoding
forall (w :: Wrapped) t. Encode w t -&gt; Encoding
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">(Encode 'Open (TranslationError Any) -&gt; Encoding)
-&gt; Encode 'Open (TranslationError Any) -&gt; Encoding
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Language -&gt; TranslationError Any)
-&gt; Word -&gt; Encode 'Open (Language -&gt; TranslationError Any)
forall t. t -&gt; Word -&gt; Encode 'Open t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="annot"><span class="annottext">Language -&gt; TranslationError Any
forall crypto. Language -&gt; TranslationError crypto
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#LanguageNotSupported"><span class="hs-identifier hs-var">LanguageNotSupported</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">3</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open (Language -&gt; TranslationError Any)
-&gt; Encode ('Closed 'Dense) Language
-&gt; Encode 'Open (TranslationError Any)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Language -&gt; Encode ('Closed 'Dense) Language
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621679392803"><span class="hs-identifier hs-var">lang</span></a></span><span>
</span><span id="line-148"></span><span>    </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#InlineDatumsNotSupported"><span class="hs-identifier hs-type">InlineDatumsNotSupported</span></a></span><span> </span><span id="local-6989586621679392802"><span class="annot"><span class="annottext">TxOutSource crypto
</span><a href="#local-6989586621679392802"><span class="hs-identifier hs-var">txOutSource</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-149"></span><span>      </span><span class="annot"><span class="annottext">Encode 'Open (TranslationError crypto) -&gt; Encoding
forall (w :: Wrapped) t. Encode w t -&gt; Encoding
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">(Encode 'Open (TranslationError crypto) -&gt; Encoding)
-&gt; Encode 'Open (TranslationError crypto) -&gt; Encoding
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(TxOutSource crypto -&gt; TranslationError crypto)
-&gt; Word
-&gt; Encode 'Open (TxOutSource crypto -&gt; TranslationError crypto)
forall t. t -&gt; Word -&gt; Encode 'Open t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutSource crypto -&gt; TranslationError crypto
forall crypto. TxOutSource crypto -&gt; TranslationError crypto
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#InlineDatumsNotSupported"><span class="hs-identifier hs-var">InlineDatumsNotSupported</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">4</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open (TxOutSource crypto -&gt; TranslationError crypto)
-&gt; Encode ('Closed 'Dense) (TxOutSource crypto)
-&gt; Encode 'Open (TranslationError crypto)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutSource crypto -&gt; Encode ('Closed 'Dense) (TxOutSource crypto)
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutSource crypto
</span><a href="#local-6989586621679392802"><span class="hs-identifier hs-var">txOutSource</span></a></span><span>
</span><span id="line-150"></span><span>    </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#ReferenceScriptsNotSupported"><span class="hs-identifier hs-type">ReferenceScriptsNotSupported</span></a></span><span> </span><span id="local-6989586621679392801"><span class="annot"><span class="annottext">TxOutSource crypto
</span><a href="#local-6989586621679392801"><span class="hs-identifier hs-var">txOutSource</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-151"></span><span>      </span><span class="annot"><span class="annottext">Encode 'Open (TranslationError crypto) -&gt; Encoding
forall (w :: Wrapped) t. Encode w t -&gt; Encoding
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">(Encode 'Open (TranslationError crypto) -&gt; Encoding)
-&gt; Encode 'Open (TranslationError crypto) -&gt; Encoding
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(TxOutSource crypto -&gt; TranslationError crypto)
-&gt; Word
-&gt; Encode 'Open (TxOutSource crypto -&gt; TranslationError crypto)
forall t. t -&gt; Word -&gt; Encode 'Open t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutSource crypto -&gt; TranslationError crypto
forall crypto. TxOutSource crypto -&gt; TranslationError crypto
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#ReferenceScriptsNotSupported"><span class="hs-identifier hs-var">ReferenceScriptsNotSupported</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">5</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open (TxOutSource crypto -&gt; TranslationError crypto)
-&gt; Encode ('Closed 'Dense) (TxOutSource crypto)
-&gt; Encode 'Open (TranslationError crypto)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutSource crypto -&gt; Encode ('Closed 'Dense) (TxOutSource crypto)
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutSource crypto
</span><a href="#local-6989586621679392801"><span class="hs-identifier hs-var">txOutSource</span></a></span><span>
</span><span id="line-152"></span><span>    </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#ReferenceInputsNotSupported"><span class="hs-identifier hs-type">ReferenceInputsNotSupported</span></a></span><span> </span><span id="local-6989586621679392800"><span class="annot"><span class="annottext">Set (TxIn crypto)
</span><a href="#local-6989586621679392800"><span class="hs-identifier hs-var">txIns</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-153"></span><span>      </span><span class="annot"><span class="annottext">Encode 'Open (TranslationError crypto) -&gt; Encoding
forall (w :: Wrapped) t. Encode w t -&gt; Encoding
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">(Encode 'Open (TranslationError crypto) -&gt; Encoding)
-&gt; Encode 'Open (TranslationError crypto) -&gt; Encoding
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Set (TxIn crypto) -&gt; TranslationError crypto)
-&gt; Word
-&gt; Encode 'Open (Set (TxIn crypto) -&gt; TranslationError crypto)
forall t. t -&gt; Word -&gt; Encode 'Open t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="annot"><span class="annottext">Set (TxIn crypto) -&gt; TranslationError crypto
forall crypto. Set (TxIn crypto) -&gt; TranslationError crypto
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#ReferenceInputsNotSupported"><span class="hs-identifier hs-var">ReferenceInputsNotSupported</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">6</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open (Set (TxIn crypto) -&gt; TranslationError crypto)
-&gt; Encode ('Closed 'Dense) (Set (TxIn crypto))
-&gt; Encode 'Open (TranslationError crypto)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Set (TxIn crypto) -&gt; Encode ('Closed 'Dense) (Set (TxIn crypto))
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Set (TxIn crypto)
</span><a href="#local-6989586621679392800"><span class="hs-identifier hs-var">txIns</span></a></span><span>
</span><span id="line-154"></span><span>    </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#TimeTranslationPastHorizon"><span class="hs-identifier hs-type">TimeTranslationPastHorizon</span></a></span><span> </span><span id="local-6989586621679392799"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679392799"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-155"></span><span>      </span><span class="annot"><span class="annottext">Encode 'Open (TranslationError Any) -&gt; Encoding
forall (w :: Wrapped) t. Encode w t -&gt; Encoding
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">(Encode 'Open (TranslationError Any) -&gt; Encoding)
-&gt; Encode 'Open (TranslationError Any) -&gt; Encoding
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TranslationError Any)
-&gt; Word -&gt; Encode 'Open (Text -&gt; TranslationError Any)
forall t. t -&gt; Word -&gt; Encode 'Open t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; TranslationError Any
forall crypto. Text -&gt; TranslationError crypto
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#TimeTranslationPastHorizon"><span class="hs-identifier hs-var">TimeTranslationPastHorizon</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">7</span></span><span> </span><span class="annot"><span class="annottext">Encode 'Open (Text -&gt; TranslationError Any)
-&gt; Encode ('Closed 'Dense) Text
-&gt; Encode 'Open (TranslationError Any)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Encode ('Closed 'Dense) Text
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679392799"><span class="hs-identifier hs-var">err</span></a></span></span><span>
</span><span id="line-156"></span><span>
</span><span id="line-157"></span><span id="local-6989586621679392798"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679392794"><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">CC.Crypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392798"><span class="hs-identifier hs-type">crypto</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../cardano-binary/html/src"><span class="hs-identifier hs-type">FromCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#TranslationError"><span class="hs-identifier hs-type">TranslationError</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392798"><span class="hs-identifier hs-type">crypto</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-158"></span><span>  </span><span id="local-6989586621679392793"><span class="annot"><span class="annottext">fromCBOR :: Decoder s (TranslationError crypto)
</span><a href="#local-6989586621679392793"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) (TranslationError crypto)
-&gt; Decoder s (TranslationError crypto)
forall (w :: Wrapped) t s. Decode w t -&gt; Decoder s t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">decode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
-&gt; (Word -&gt; Decode 'Open (TranslationError crypto))
-&gt; Decode ('Closed 'Dense) (TranslationError crypto)
forall t.
String -&gt; (Word -&gt; Decode 'Open t) -&gt; Decode ('Closed 'Dense) t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">Summands</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;TranslationError&quot;</span></span><span> </span><span class="annot"><span class="annottext">Word -&gt; Decode 'Open (TranslationError crypto)
forall crypto.
Crypto crypto =&gt;
Word -&gt; Decode 'Open (TranslationError crypto)
</span><a href="#local-6989586621679392792"><span class="hs-identifier hs-var">dec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-159"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-160"></span><span>      </span><span id="local-6989586621679392792"><span class="annot"><span class="annottext">dec :: Word -&gt; Decode 'Open (TranslationError crypto)
</span><a href="#local-6989586621679392792"><span class="hs-identifier hs-var hs-var">dec</span></a></span></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TxOutSource crypto -&gt; TranslationError crypto)
-&gt; Decode 'Open (TxOutSource crypto -&gt; TranslationError crypto)
forall t. t -&gt; Decode 'Open t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">SumD</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutSource crypto -&gt; TranslationError crypto
forall crypto. TxOutSource crypto -&gt; TranslationError crypto
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#ByronTxOutInContext"><span class="hs-identifier hs-var">ByronTxOutInContext</span></a></span><span> </span><span class="annot"><span class="annottext">Decode 'Open (TxOutSource crypto -&gt; TranslationError crypto)
-&gt; Decode ('Closed Any) (TxOutSource crypto)
-&gt; Decode 'Open (TranslationError crypto)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) (TxOutSource crypto)
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">From</span></a></span><span>
</span><span id="line-161"></span><span>      </span><span class="annot"><a href="#local-6989586621679392792"><span class="hs-identifier hs-var">dec</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TxIn crypto -&gt; TranslationError crypto)
-&gt; Decode 'Open (TxIn crypto -&gt; TranslationError crypto)
forall t. t -&gt; Decode 'Open t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">SumD</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn crypto -&gt; TranslationError crypto
forall crypto. TxIn crypto -&gt; TranslationError crypto
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#TranslationLogicMissingInput"><span class="hs-identifier hs-var">TranslationLogicMissingInput</span></a></span><span> </span><span class="annot"><span class="annottext">Decode 'Open (TxIn crypto -&gt; TranslationError crypto)
-&gt; Decode ('Closed Any) (TxIn crypto)
-&gt; Decode 'Open (TranslationError crypto)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) (TxIn crypto)
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">From</span></a></span><span>
</span><span id="line-162"></span><span>      </span><span class="annot"><a href="#local-6989586621679392792"><span class="hs-identifier hs-var">dec</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">2</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(RdmrPtr -&gt; TranslationError crypto)
-&gt; Decode 'Open (RdmrPtr -&gt; TranslationError crypto)
forall t. t -&gt; Decode 'Open t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">SumD</span></a></span><span> </span><span class="annot"><span class="annottext">RdmrPtr -&gt; TranslationError crypto
forall crypto. RdmrPtr -&gt; TranslationError crypto
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#RdmrPtrPointsToNothing"><span class="hs-identifier hs-var">RdmrPtrPointsToNothing</span></a></span><span> </span><span class="annot"><span class="annottext">Decode 'Open (RdmrPtr -&gt; TranslationError crypto)
-&gt; Decode ('Closed Any) RdmrPtr
-&gt; Decode 'Open (TranslationError crypto)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) RdmrPtr
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">From</span></a></span><span>
</span><span id="line-163"></span><span>      </span><span class="annot"><a href="#local-6989586621679392792"><span class="hs-identifier hs-var">dec</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">3</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Language -&gt; TranslationError crypto)
-&gt; Decode 'Open (Language -&gt; TranslationError crypto)
forall t. t -&gt; Decode 'Open t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">SumD</span></a></span><span> </span><span class="annot"><span class="annottext">Language -&gt; TranslationError crypto
forall crypto. Language -&gt; TranslationError crypto
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#LanguageNotSupported"><span class="hs-identifier hs-var">LanguageNotSupported</span></a></span><span> </span><span class="annot"><span class="annottext">Decode 'Open (Language -&gt; TranslationError crypto)
-&gt; Decode ('Closed Any) Language
-&gt; Decode 'Open (TranslationError crypto)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) Language
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">From</span></a></span><span>
</span><span id="line-164"></span><span>      </span><span class="annot"><a href="#local-6989586621679392792"><span class="hs-identifier hs-var">dec</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">4</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TxOutSource crypto -&gt; TranslationError crypto)
-&gt; Decode 'Open (TxOutSource crypto -&gt; TranslationError crypto)
forall t. t -&gt; Decode 'Open t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">SumD</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutSource crypto -&gt; TranslationError crypto
forall crypto. TxOutSource crypto -&gt; TranslationError crypto
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#InlineDatumsNotSupported"><span class="hs-identifier hs-var">InlineDatumsNotSupported</span></a></span><span> </span><span class="annot"><span class="annottext">Decode 'Open (TxOutSource crypto -&gt; TranslationError crypto)
-&gt; Decode ('Closed Any) (TxOutSource crypto)
-&gt; Decode 'Open (TranslationError crypto)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) (TxOutSource crypto)
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">From</span></a></span><span>
</span><span id="line-165"></span><span>      </span><span class="annot"><a href="#local-6989586621679392792"><span class="hs-identifier hs-var">dec</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">5</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TxOutSource crypto -&gt; TranslationError crypto)
-&gt; Decode 'Open (TxOutSource crypto -&gt; TranslationError crypto)
forall t. t -&gt; Decode 'Open t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">SumD</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutSource crypto -&gt; TranslationError crypto
forall crypto. TxOutSource crypto -&gt; TranslationError crypto
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#ReferenceScriptsNotSupported"><span class="hs-identifier hs-var">ReferenceScriptsNotSupported</span></a></span><span> </span><span class="annot"><span class="annottext">Decode 'Open (TxOutSource crypto -&gt; TranslationError crypto)
-&gt; Decode ('Closed Any) (TxOutSource crypto)
-&gt; Decode 'Open (TranslationError crypto)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) (TxOutSource crypto)
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">From</span></a></span><span>
</span><span id="line-166"></span><span>      </span><span class="annot"><a href="#local-6989586621679392792"><span class="hs-identifier hs-var">dec</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">6</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Set (TxIn crypto) -&gt; TranslationError crypto)
-&gt; Decode 'Open (Set (TxIn crypto) -&gt; TranslationError crypto)
forall t. t -&gt; Decode 'Open t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">SumD</span></a></span><span> </span><span class="annot"><span class="annottext">Set (TxIn crypto) -&gt; TranslationError crypto
forall crypto. Set (TxIn crypto) -&gt; TranslationError crypto
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#ReferenceInputsNotSupported"><span class="hs-identifier hs-var">ReferenceInputsNotSupported</span></a></span><span> </span><span class="annot"><span class="annottext">Decode 'Open (Set (TxIn crypto) -&gt; TranslationError crypto)
-&gt; Decode ('Closed Any) (Set (TxIn crypto))
-&gt; Decode 'Open (TranslationError crypto)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) (Set (TxIn crypto))
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">From</span></a></span><span>
</span><span id="line-167"></span><span>      </span><span class="annot"><a href="#local-6989586621679392792"><span class="hs-identifier hs-var">dec</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">7</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TranslationError crypto)
-&gt; Decode 'Open (Text -&gt; TranslationError crypto)
forall t. t -&gt; Decode 'Open t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">SumD</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; TranslationError crypto
forall crypto. Text -&gt; TranslationError crypto
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#TimeTranslationPastHorizon"><span class="hs-identifier hs-var">TimeTranslationPastHorizon</span></a></span><span> </span><span class="annot"><span class="annottext">Decode 'Open (Text -&gt; TranslationError crypto)
-&gt; Decode ('Closed Any) Text
-&gt; Decode 'Open (TranslationError crypto)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) Text
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">From</span></a></span><span>
</span><span id="line-168"></span><span>      </span><span class="annot"><a href="#local-6989586621679392792"><span class="hs-identifier hs-var">dec</span></a></span><span> </span><span id="local-6989586621679392791"><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679392791"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word -&gt; Decode 'Open (TranslationError crypto)
forall (w :: Wrapped) t. Word -&gt; Decode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">Invalid</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679392791"><span class="hs-identifier hs-var">n</span></a></span></span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span id="local-6989586621679393135"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transDataHash"><span class="hs-identifier hs-type">transDataHash</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../strict-containers/html/src"><span class="hs-identifier hs-type">StrictMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">DataHash</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393135"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.DatumHash</span></a></span></span><span>
</span><span id="line-171"></span><span id="transDataHash"><span class="annot"><span class="annottext">transDataHash :: StrictMaybe (DataHash c) -&gt; Maybe DatumHash
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transDataHash"><span class="hs-identifier hs-var hs-var">transDataHash</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../strict-containers/html/src"><span class="hs-identifier hs-type">SJust</span></a></span><span> </span><span id="local-6989586621679392788"><span class="annot"><span class="annottext">DataHash c
</span><a href="#local-6989586621679392788"><span class="hs-keyword hs-var">safe</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DatumHash -&gt; Maybe DatumHash
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataHash c -&gt; DatumHash
forall c. DataHash c -&gt; DatumHash
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transDataHash%27"><span class="hs-identifier hs-var">transDataHash'</span></a></span><span> </span><span class="annot"><span class="annottext">DataHash c
</span><a href="#local-6989586621679392788"><span class="hs-keyword hs-var">safe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-172"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transDataHash"><span class="hs-identifier hs-var">transDataHash</span></a></span><span> </span><span class="annot"><span class="annottext">StrictMaybe (DataHash c)
</span><a href="../../../../strict-containers/html/src"><span class="hs-identifier hs-var">SNothing</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe DatumHash
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-173"></span><span>
</span><span id="line-174"></span><span id="local-6989586621679393262"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transDataHash%27"><span class="hs-identifier hs-type">transDataHash'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">DataHash</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393262"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.DatumHash</span></a></span></span><span>
</span><span id="line-175"></span><span id="transDataHash%27"><span class="annot"><span class="annottext">transDataHash' :: DataHash c -&gt; DatumHash
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transDataHash%27"><span class="hs-identifier hs-var hs-var">transDataHash'</span></a></span></span><span> </span><span id="local-6989586621679392785"><span class="annot"><span class="annottext">DataHash c
</span><a href="#local-6989586621679392785"><span class="hs-keyword hs-var">safe</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BuiltinByteString -&gt; DatumHash
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.DatumHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataHash c -&gt; BuiltinByteString
forall c i. SafeHash c i -&gt; BuiltinByteString
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transSafeHash"><span class="hs-identifier hs-var">transSafeHash</span></a></span><span> </span><span class="annot"><span class="annottext">DataHash c
</span><a href="#local-6989586621679392785"><span class="hs-keyword hs-var">safe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-176"></span><span>
</span><span id="line-177"></span><span id="local-6989586621679393114"><span id="local-6989586621679393115"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transKeyHash"><span class="hs-identifier hs-type">transKeyHash</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">KeyHash</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393115"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393114"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.PubKeyHash</span></a></span></span></span><span>
</span><span id="line-178"></span><span id="transKeyHash"><span class="annot"><span class="annottext">transKeyHash :: KeyHash d c -&gt; PubKeyHash
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transKeyHash"><span class="hs-identifier hs-var hs-var">transKeyHash</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">KeyHash</span></a></span><span> </span><span id="local-6989586621679392780"><span class="annot"><span class="annottext">Hash (ADDRHASH c) (VerKeyDSIGN (DSIGN c))
</span><a href="#local-6989586621679392780"><span class="hs-identifier hs-var">h</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BuiltinByteString -&gt; PubKeyHash
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.PubKeyHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; BuiltinByteString
forall a arep. ToBuiltin a arep =&gt; a -&gt; arep
</span><a href="../../../../plutus-tx/html/src"><span class="hs-identifier hs-var">PV1.toBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hash (ADDRHASH c) (VerKeyDSIGN (DSIGN c)) -&gt; ByteString
forall h a. Hash h a -&gt; ByteString
</span><a href="../../../../cardano-crypto-class/html/src"><span class="hs-identifier hs-var">hashToBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Hash (ADDRHASH c) (VerKeyDSIGN (DSIGN c))
</span><a href="#local-6989586621679392780"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span id="local-6989586621679392777"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transScriptHash"><span class="hs-identifier hs-type">transScriptHash</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">ScriptHash</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392777"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.ValidatorHash</span></a></span></span><span>
</span><span id="line-181"></span><span id="transScriptHash"><span class="annot"><span class="annottext">transScriptHash :: ScriptHash c -&gt; ValidatorHash
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transScriptHash"><span class="hs-identifier hs-var hs-var">transScriptHash</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">ScriptHash</span></a></span><span> </span><span id="local-6989586621679392774"><span class="annot"><span class="annottext">Hash (ADDRHASH c) EraIndependentScript
</span><a href="#local-6989586621679392774"><span class="hs-identifier hs-var">h</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BuiltinByteString -&gt; ValidatorHash
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.ValidatorHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; BuiltinByteString
forall a arep. ToBuiltin a arep =&gt; a -&gt; arep
</span><a href="../../../../plutus-tx/html/src"><span class="hs-identifier hs-var">PV1.toBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hash (ADDRHASH c) EraIndependentScript -&gt; ByteString
forall h a. Hash h a -&gt; ByteString
</span><a href="../../../../cardano-crypto-class/html/src"><span class="hs-identifier hs-var">hashToBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Hash (ADDRHASH c) EraIndependentScript
</span><a href="#local-6989586621679392774"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-182"></span><span>
</span><span id="line-183"></span><span id="local-6989586621679393258"><span id="local-6989586621679393259"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transSafeHash"><span class="hs-identifier hs-type">transSafeHash</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">SafeHash</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393259"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393258"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-tx/html/src"><span class="hs-identifier hs-type">PV1.BuiltinByteString</span></a></span></span></span><span>
</span><span id="line-184"></span><span id="transSafeHash"><span class="annot"><span class="annottext">transSafeHash :: SafeHash c i -&gt; BuiltinByteString
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transSafeHash"><span class="hs-identifier hs-var hs-var">transSafeHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; BuiltinByteString
forall a arep. ToBuiltin a arep =&gt; a -&gt; arep
</span><a href="../../../../plutus-tx/html/src"><span class="hs-identifier hs-var">PV1.toBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; BuiltinByteString)
-&gt; (SafeHash c i -&gt; ByteString)
-&gt; SafeHash c i
-&gt; BuiltinByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Hash (HASH c) i -&gt; ByteString
forall h a. Hash h a -&gt; ByteString
</span><a href="../../../../cardano-crypto-class/html/src"><span class="hs-identifier hs-var">hashToBytes</span></a></span><span> </span><span class="annot"><span class="annottext">(Hash (HASH c) i -&gt; ByteString)
-&gt; (SafeHash c i -&gt; Hash (HASH c) i) -&gt; SafeHash c i -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">SafeHash c i -&gt; Hash (HASH c) i
forall crypto i. SafeHash crypto i -&gt; Hash (HASH crypto) i
</span><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-var">extractHash</span></a></span><span>
</span><span id="line-185"></span><span>
</span><span id="line-186"></span><span id="local-6989586621679392770"><span id="local-6989586621679392771"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transHash"><span class="hs-identifier hs-type">transHash</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-crypto-class/html/src"><span class="hs-identifier hs-type">Hash</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392771"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392770"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">BS.ByteString</span></a></span></span></span><span>
</span><span id="line-187"></span><span id="transHash"><span class="annot"><span class="annottext">transHash :: Hash h a -&gt; ByteString
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transHash"><span class="hs-identifier hs-var hs-var">transHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Hash h a -&gt; ByteString
forall h a. Hash h a -&gt; ByteString
</span><a href="../../../../cardano-crypto-class/html/src"><span class="hs-identifier hs-var">hashToBytes</span></a></span><span>
</span><span id="line-188"></span><span>
</span><span id="line-189"></span><span id="local-6989586621679393152"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#txInfoId"><span class="hs-identifier hs-type">txInfoId</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">TxId</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393152"><span class="hs-identifier hs-type">crypto</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.TxId</span></a></span></span><span>
</span><span id="line-190"></span><span id="txInfoId"><span class="annot"><span class="annottext">txInfoId :: TxId crypto -&gt; TxId
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#txInfoId"><span class="hs-identifier hs-var hs-var">txInfoId</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">TxId</span></a></span><span> </span><span id="local-6989586621679392766"><span class="annot"><span class="annottext">SafeHash crypto EraIndependentTxBody
</span><a href="#local-6989586621679392766"><span class="hs-keyword hs-var">safe</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BuiltinByteString -&gt; TxId
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.TxId</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SafeHash crypto EraIndependentTxBody -&gt; BuiltinByteString
forall c i. SafeHash c i -&gt; BuiltinByteString
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transSafeHash"><span class="hs-identifier hs-var">transSafeHash</span></a></span><span> </span><span class="annot"><span class="annottext">SafeHash crypto EraIndependentTxBody
</span><a href="#local-6989586621679392766"><span class="hs-keyword hs-var">safe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-191"></span><span>
</span><span id="line-192"></span><span id="local-6989586621679393214"><span id="local-6989586621679393215"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transStakeCred"><span class="hs-identifier hs-type">transStakeCred</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393215"><span class="hs-identifier hs-type">keyrole</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393214"><span class="hs-identifier hs-type">crypto</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.Credential</span></a></span></span></span><span>
</span><span id="line-193"></span><span id="transStakeCred"><span class="annot"><span class="annottext">transStakeCred :: Credential keyrole crypto -&gt; Credential
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transStakeCred"><span class="hs-identifier hs-var hs-var">transStakeCred</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">ScriptHashObj</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">ScriptHash</span></a></span><span> </span><span id="local-6989586621679392763"><span class="annot"><span class="annottext">Hash (ADDRHASH crypto) EraIndependentScript
</span><a href="#local-6989586621679392763"><span class="hs-identifier hs-var">kh</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-194"></span><span>  </span><span class="annot"><span class="annottext">ValidatorHash -&gt; Credential
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.ScriptCredential</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BuiltinByteString -&gt; ValidatorHash
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.ValidatorHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; BuiltinByteString
forall a arep. ToBuiltin a arep =&gt; a -&gt; arep
</span><a href="../../../../plutus-tx/html/src"><span class="hs-identifier hs-var">PV1.toBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hash (ADDRHASH crypto) EraIndependentScript -&gt; ByteString
forall h a. Hash h a -&gt; ByteString
</span><a href="../../../../cardano-crypto-class/html/src"><span class="hs-identifier hs-var">hashToBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Hash (ADDRHASH crypto) EraIndependentScript
</span><a href="#local-6989586621679392763"><span class="hs-identifier hs-var">kh</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-195"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transStakeCred"><span class="hs-identifier hs-var">transStakeCred</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">KeyHashObj</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">KeyHash</span></a></span><span> </span><span id="local-6989586621679392761"><span class="annot"><span class="annottext">Hash (ADDRHASH crypto) (VerKeyDSIGN (DSIGN crypto))
</span><a href="#local-6989586621679392761"><span class="hs-identifier hs-var">kh</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-196"></span><span>  </span><span class="annot"><span class="annottext">PubKeyHash -&gt; Credential
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.PubKeyCredential</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BuiltinByteString -&gt; PubKeyHash
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.PubKeyHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; BuiltinByteString
forall a arep. ToBuiltin a arep =&gt; a -&gt; arep
</span><a href="../../../../plutus-tx/html/src"><span class="hs-identifier hs-var">PV1.toBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hash (ADDRHASH crypto) (VerKeyDSIGN (DSIGN crypto)) -&gt; ByteString
forall h a. Hash h a -&gt; ByteString
</span><a href="../../../../cardano-crypto-class/html/src"><span class="hs-identifier hs-var">hashToBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Hash (ADDRHASH crypto) (VerKeyDSIGN (DSIGN crypto))
</span><a href="#local-6989586621679392761"><span class="hs-identifier hs-var">kh</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span>
</span><span id="line-198"></span><span id="local-6989586621679393200"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transStakeReference"><span class="hs-identifier hs-type">transStakeReference</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">StakeReference</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393200"><span class="hs-identifier hs-type">crypto</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.StakingCredential</span></a></span></span><span>
</span><span id="line-199"></span><span id="transStakeReference"><span class="annot"><span class="annottext">transStakeReference :: StakeReference crypto -&gt; Maybe StakingCredential
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transStakeReference"><span class="hs-identifier hs-var hs-var">transStakeReference</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">StakeRefBase</span></a></span><span> </span><span id="local-6989586621679392757"><span class="annot"><span class="annottext">StakeCredential crypto
</span><a href="#local-6989586621679392757"><span class="hs-identifier hs-var">cred</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StakingCredential -&gt; Maybe StakingCredential
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Credential -&gt; StakingCredential
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.StakingHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StakeCredential crypto -&gt; Credential
forall (keyrole :: KeyRole) crypto.
Credential keyrole crypto -&gt; Credential
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transStakeCred"><span class="hs-identifier hs-var">transStakeCred</span></a></span><span> </span><span class="annot"><span class="annottext">StakeCredential crypto
</span><a href="#local-6989586621679392757"><span class="hs-identifier hs-var">cred</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-200"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transStakeReference"><span class="hs-identifier hs-var">transStakeReference</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">StakeRefPtr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Ptr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier hs-type">SlotNo</span></a></span><span> </span><span id="local-6989586621679392752"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679392752"><span class="hs-identifier hs-var">slot</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679392751"><span class="annot"><span class="annottext">TxIx
</span><a href="#local-6989586621679392751"><span class="hs-identifier hs-var">txIx</span></a></span></span><span> </span><span id="local-6989586621679392750"><span class="annot"><span class="annottext">CertIx
</span><a href="#local-6989586621679392750"><span class="hs-identifier hs-var">certIx</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-201"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621679392749"><span class="annot"><span class="annottext">txIxInteger :: Integer
</span><a href="#local-6989586621679392749"><span class="hs-identifier hs-var hs-var">txIxInteger</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">toInteger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxIx -&gt; Int
</span><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-var">txIxToInt</span></a></span><span> </span><span class="annot"><span class="annottext">TxIx
</span><a href="#local-6989586621679392751"><span class="hs-identifier hs-var">txIx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-202"></span><span>      </span><span class="hs-glyph">!</span><span id="local-6989586621679392748"><span class="annot"><span class="annottext">certIxInteger :: Integer
</span><a href="#local-6989586621679392748"><span class="hs-identifier hs-var hs-var">certIxInteger</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">toInteger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CertIx -&gt; Int
</span><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-var">certIxToInt</span></a></span><span> </span><span class="annot"><span class="annottext">CertIx
</span><a href="#local-6989586621679392750"><span class="hs-identifier hs-var">certIx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-203"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">StakingCredential -&gt; Maybe StakingCredential
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer -&gt; StakingCredential
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.StakingPtr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679392752"><span class="hs-identifier hs-var">slot</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679392749"><span class="hs-identifier hs-var">txIxInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679392748"><span class="hs-identifier hs-var">certIxInteger</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-204"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transStakeReference"><span class="hs-identifier hs-var">transStakeReference</span></a></span><span> </span><span class="annot"><span class="annottext">StakeReference crypto
</span><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-var">StakeRefNull</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe StakingCredential
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-205"></span><span>
</span><span id="line-206"></span><span id="local-6989586621679392744"><span id="local-6989586621679392745"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transCred"><span class="hs-identifier hs-type">transCred</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Credential</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392745"><span class="hs-identifier hs-type">keyrole</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392744"><span class="hs-identifier hs-type">crypto</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.Credential</span></a></span></span></span><span>
</span><span id="line-207"></span><span id="transCred"><span class="annot"><span class="annottext">transCred :: Credential keyrole crypto -&gt; Credential
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transCred"><span class="hs-identifier hs-var hs-var">transCred</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">KeyHashObj</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">KeyHash</span></a></span><span> </span><span id="local-6989586621679392742"><span class="annot"><span class="annottext">Hash (ADDRHASH crypto) (VerKeyDSIGN (DSIGN crypto))
</span><a href="#local-6989586621679392742"><span class="hs-identifier hs-var">kh</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-208"></span><span>  </span><span class="annot"><span class="annottext">PubKeyHash -&gt; Credential
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.PubKeyCredential</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BuiltinByteString -&gt; PubKeyHash
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.PubKeyHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; BuiltinByteString
forall a arep. ToBuiltin a arep =&gt; a -&gt; arep
</span><a href="../../../../plutus-tx/html/src"><span class="hs-identifier hs-var">PV1.toBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hash (ADDRHASH crypto) (VerKeyDSIGN (DSIGN crypto)) -&gt; ByteString
forall h a. Hash h a -&gt; ByteString
</span><a href="../../../../cardano-crypto-class/html/src"><span class="hs-identifier hs-var">hashToBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Hash (ADDRHASH crypto) (VerKeyDSIGN (DSIGN crypto))
</span><a href="#local-6989586621679392742"><span class="hs-identifier hs-var">kh</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-209"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transCred"><span class="hs-identifier hs-var">transCred</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">ScriptHashObj</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">ScriptHash</span></a></span><span> </span><span id="local-6989586621679392741"><span class="annot"><span class="annottext">Hash (ADDRHASH crypto) EraIndependentScript
</span><a href="#local-6989586621679392741"><span class="hs-identifier hs-var">kh</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-210"></span><span>  </span><span class="annot"><span class="annottext">ValidatorHash -&gt; Credential
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.ScriptCredential</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BuiltinByteString -&gt; ValidatorHash
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.ValidatorHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; BuiltinByteString
forall a arep. ToBuiltin a arep =&gt; a -&gt; arep
</span><a href="../../../../plutus-tx/html/src"><span class="hs-identifier hs-var">PV1.toBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hash (ADDRHASH crypto) EraIndependentScript -&gt; ByteString
forall h a. Hash h a -&gt; ByteString
</span><a href="../../../../cardano-crypto-class/html/src"><span class="hs-identifier hs-var">hashToBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Hash (ADDRHASH crypto) EraIndependentScript
</span><a href="#local-6989586621679392741"><span class="hs-identifier hs-var">kh</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span id="local-6989586621679393193"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transAddr"><span class="hs-identifier hs-type">transAddr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Addr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393193"><span class="hs-identifier hs-type">crypto</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.Address</span></a></span></span><span>
</span><span id="line-213"></span><span id="transAddr"><span class="annot"><span class="annottext">transAddr :: Addr crypto -&gt; Maybe Address
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transAddr"><span class="hs-identifier hs-var hs-var">transAddr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Addr</span></a></span><span> </span><span id="local-6989586621679392738"><span class="annot"><span class="annottext">Network
</span><a href="#local-6989586621679392738"><span class="hs-identifier hs-var">_net</span></a></span></span><span> </span><span id="local-6989586621679392737"><span class="annot"><span class="annottext">PaymentCredential crypto
</span><a href="#local-6989586621679392737"><span class="hs-identifier hs-var">object</span></a></span></span><span> </span><span id="local-6989586621679392736"><span class="annot"><span class="annottext">StakeReference crypto
</span><a href="#local-6989586621679392736"><span class="hs-identifier hs-var">stake</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Address -&gt; Maybe Address
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Credential -&gt; Maybe StakingCredential -&gt; Address
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.Address</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PaymentCredential crypto -&gt; Credential
forall (keyrole :: KeyRole) crypto.
Credential keyrole crypto -&gt; Credential
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transCred"><span class="hs-identifier hs-var">transCred</span></a></span><span> </span><span class="annot"><span class="annottext">PaymentCredential crypto
</span><a href="#local-6989586621679392737"><span class="hs-identifier hs-var">object</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StakeReference crypto -&gt; Maybe StakingCredential
forall crypto. StakeReference crypto -&gt; Maybe StakingCredential
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transStakeReference"><span class="hs-identifier hs-var">transStakeReference</span></a></span><span> </span><span class="annot"><span class="annottext">StakeReference crypto
</span><a href="#local-6989586621679392736"><span class="hs-identifier hs-var">stake</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-214"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transAddr"><span class="hs-identifier hs-var">transAddr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">AddrBootstrap</span></a></span><span> </span><span id="local-6989586621679392733"><span class="annot"><span class="annottext">BootstrapAddress crypto
</span><a href="#local-6989586621679392733"><span class="hs-identifier hs-var">_bootaddr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Address
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-215"></span><span>
</span><span id="line-216"></span><span id="local-6989586621679393140"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transTxOutAddr"><span class="hs-identifier hs-type">transTxOutAddr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393140"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">TxOut</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393140"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.Address</span></a></span></span><span>
</span><span id="line-217"></span><span id="transTxOutAddr"><span class="annot"><span class="annottext">transTxOutAddr :: TxOut era -&gt; Maybe Address
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transTxOutAddr"><span class="hs-identifier hs-var hs-var">transTxOutAddr</span></a></span></span><span> </span><span id="local-6989586621679392731"><span class="annot"><span class="annottext">TxOut era
</span><a href="#local-6989586621679392731"><span class="hs-identifier hs-var">txOut</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-218"></span><span>  </span><span class="hs-comment">-- filter out Byron addresses without uncompacting them</span><span>
</span><span id="line-219"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TxOut era -&gt; Maybe (BootstrapAddress (Crypto era))
forall era.
Era era =&gt;
TxOut era -&gt; Maybe (BootstrapAddress (Crypto era))
</span><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-var">getTxOutBootstrapAddress</span></a></span><span> </span><span class="annot"><span class="annottext">TxOut era
</span><a href="#local-6989586621679392731"><span class="hs-identifier hs-var">txOut</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-220"></span><span>    </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><span class="annottext">BootstrapAddress (Crypto era)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Address
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-221"></span><span>    </span><span class="hs-comment">-- The presence of a Byron address is caught above in the Just case</span><span>
</span><span id="line-222"></span><span>    </span><span class="annot"><span class="annottext">Maybe (BootstrapAddress (Crypto era))
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Addr (Crypto era) -&gt; Maybe Address
forall crypto. Addr crypto -&gt; Maybe Address
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transAddr"><span class="hs-identifier hs-var">transAddr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxOut era -&gt; Addr (Crypto era)
forall e. Era e =&gt; TxOut e -&gt; Addr (Crypto e)
</span><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-var">getTxOutAddr</span></a></span><span> </span><span class="annot"><span class="annottext">TxOut era
</span><a href="#local-6989586621679392731"><span class="hs-identifier hs-var">txOut</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span id="local-6989586621679393161"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#slotToPOSIXTime"><span class="hs-identifier hs-type">slotToPOSIXTime</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-225"></span><span>  </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">HasField</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;_protocolVersion&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">PParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393161"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">ProtVer</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-226"></span><span>  </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Core.PParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393161"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-227"></span><span>  </span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier hs-type">EpochInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-228"></span><span>  </span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier hs-type">SystemStart</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-229"></span><span>  </span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier hs-type">SlotNo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-230"></span><span>  </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.POSIXTime</span></a></span></span><span>
</span><span id="line-231"></span><span id="slotToPOSIXTime"><span class="annot"><span class="annottext">slotToPOSIXTime :: PParams era
-&gt; EpochInfo (Either Text)
-&gt; SystemStart
-&gt; SlotNo
-&gt; Either Text POSIXTime
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#slotToPOSIXTime"><span class="hs-identifier hs-var hs-var">slotToPOSIXTime</span></a></span></span><span> </span><span id="local-6989586621679392728"><span class="annot"><span class="annottext">PParams era
</span><a href="#local-6989586621679392728"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span id="local-6989586621679392727"><span class="annot"><span class="annottext">EpochInfo (Either Text)
</span><a href="#local-6989586621679392727"><span class="hs-identifier hs-var">ei</span></a></span></span><span> </span><span id="local-6989586621679392726"><span class="annot"><span class="annottext">SystemStart
</span><a href="#local-6989586621679392726"><span class="hs-identifier hs-var">sysS</span></a></span></span><span> </span><span id="local-6989586621679392725"><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679392725"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-232"></span><span>  </span><span class="annot"><span class="annottext">Integer -&gt; POSIXTime
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.POSIXTime</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; POSIXTime)
-&gt; (UTCTime -&gt; Integer) -&gt; UTCTime -&gt; POSIXTime
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Fixed E12 -&gt; Integer
</span><a href="#local-6989586621679392723"><span class="hs-identifier hs-var">transTime</span></a></span><span> </span><span class="annot"><span class="annottext">(Fixed E12 -&gt; Integer)
-&gt; (UTCTime -&gt; Fixed E12) -&gt; UTCTime -&gt; Integer
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime -&gt; Fixed E12
</span><a href="../../../../time/html/src"><span class="hs-identifier hs-var">nominalDiffTimeToSeconds</span></a></span><span> </span><span class="annot"><span class="annottext">(NominalDiffTime -&gt; Fixed E12)
-&gt; (UTCTime -&gt; NominalDiffTime) -&gt; UTCTime -&gt; Fixed E12
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; NominalDiffTime
</span><a href="../../../../time/html/src"><span class="hs-identifier hs-var">utcTimeToPOSIXSeconds</span></a></span><span>
</span><span id="line-233"></span><span>    </span><span class="annot"><span class="annottext">(UTCTime -&gt; POSIXTime)
-&gt; Either Text UTCTime -&gt; Either Text POSIXTime
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">EpochInfo (Either Text)
-&gt; SystemStart -&gt; SlotNo -&gt; Either Text UTCTime
forall (m :: * -&gt; *).
(HasCallStack, Monad m) =&gt;
EpochInfo m -&gt; SystemStart -&gt; SlotNo -&gt; m UTCTime
</span><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier hs-var">epochInfoSlotToUTCTime</span></a></span><span> </span><span class="annot"><span class="annottext">EpochInfo (Either Text)
</span><a href="#local-6989586621679392727"><span class="hs-identifier hs-var">ei</span></a></span><span> </span><span class="annot"><span class="annottext">SystemStart
</span><a href="#local-6989586621679392726"><span class="hs-identifier hs-var">sysS</span></a></span><span> </span><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679392725"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-234"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-235"></span><span>    </span><span id="local-6989586621679392723"><span class="annot"><span class="annottext">transTime :: Fixed E12 -&gt; Integer
</span><a href="#local-6989586621679392723"><span class="hs-identifier hs-var hs-var">transTime</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-236"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">PParams era -&gt; Bool
forall pp. HasField &quot;_protocolVersion&quot; pp ProtVer =&gt; pp -&gt; Bool
</span><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-var">HardForks.translateTimeForPlutusScripts</span></a></span><span> </span><span class="annot"><span class="annottext">PParams era
</span><a href="#local-6989586621679392728"><span class="hs-identifier hs-var">pp</span></a></span><span>
</span><span id="line-237"></span><span>        </span><span class="hs-keyword">then</span><span>
</span><span id="line-238"></span><span>          </span><span class="annot"><span class="annottext">Fixed E12 -&gt; Integer
forall a b. (RealFrac a, Integral b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">truncate</span></a></span><span>
</span><span id="line-239"></span><span>            </span><span class="hs-comment">-- Convert to milliseconds</span><span>
</span><span id="line-240"></span><span>            </span><span class="annot"><span class="annottext">(Fixed E12 -&gt; Integer)
-&gt; (Fixed E12 -&gt; Fixed E12) -&gt; Fixed E12 -&gt; Integer
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Fixed E12 -&gt; Fixed E12 -&gt; Fixed E12
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Fixed E12
</span><span class="hs-number">1000</span></span><span class="hs-special">)</span><span>
</span><span id="line-241"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Fixed E12 -&gt; Integer
forall k (a :: k) (p :: k -&gt; *). HasResolution a =&gt; p a -&gt; Integer
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">resolution</span></a></span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span class="hs-comment">-- | translate a validity interval to POSIX time</span><span>
</span><span id="line-244"></span><span id="local-6989586621679393048"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transVITime"><span class="hs-identifier hs-type">transVITime</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-245"></span><span>  </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">HasField</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;_protocolVersion&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">PParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393048"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">ProtVer</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-246"></span><span>  </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Core.PParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393048"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-247"></span><span>  </span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier hs-type">EpochInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-248"></span><span>  </span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier hs-type">SystemStart</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-249"></span><span>  </span><span class="annot"><a href="../../../../cardano-ledger-shelley-ma/html/src"><span class="hs-identifier hs-type">ValidityInterval</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-250"></span><span>  </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.POSIXTimeRange</span></a></span></span><span>
</span><span id="line-251"></span><span id="transVITime"><span class="annot"><span class="annottext">transVITime :: PParams era
-&gt; EpochInfo (Either Text)
-&gt; SystemStart
-&gt; ValidityInterval
-&gt; Either Text POSIXTimeRange
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transVITime"><span class="hs-identifier hs-var hs-var">transVITime</span></a></span></span><span> </span><span class="annot"><span class="annottext">PParams era
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">EpochInfo (Either Text)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">SystemStart
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-shelley-ma/html/src"><span class="hs-identifier hs-type">ValidityInterval</span></a></span><span> </span><span class="annot"><span class="annottext">StrictMaybe SlotNo
</span><a href="../../../../strict-containers/html/src"><span class="hs-identifier hs-var">SNothing</span></a></span><span> </span><span class="annot"><span class="annottext">StrictMaybe SlotNo
</span><a href="../../../../strict-containers/html/src"><span class="hs-identifier hs-var">SNothing</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">POSIXTimeRange -&gt; Either Text POSIXTimeRange
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">POSIXTimeRange
forall a. Interval a
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.always</span></a></span><span>
</span><span id="line-252"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transVITime"><span class="hs-identifier hs-var">transVITime</span></a></span><span> </span><span id="local-6989586621679392715"><span class="annot"><span class="annottext">PParams era
</span><a href="#local-6989586621679392715"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span id="local-6989586621679392714"><span class="annot"><span class="annottext">EpochInfo (Either Text)
</span><a href="#local-6989586621679392714"><span class="hs-identifier hs-var">ei</span></a></span></span><span> </span><span id="local-6989586621679392713"><span class="annot"><span class="annottext">SystemStart
</span><a href="#local-6989586621679392713"><span class="hs-identifier hs-var">sysS</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-shelley-ma/html/src"><span class="hs-identifier hs-type">ValidityInterval</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../strict-containers/html/src"><span class="hs-identifier hs-type">SJust</span></a></span><span> </span><span id="local-6989586621679392712"><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679392712"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">StrictMaybe SlotNo
</span><a href="../../../../strict-containers/html/src"><span class="hs-identifier hs-var">SNothing</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-253"></span><span>  </span><span id="local-6989586621679392711"><span class="annot"><span class="annottext">POSIXTime
</span><a href="#local-6989586621679392711"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PParams era
-&gt; EpochInfo (Either Text)
-&gt; SystemStart
-&gt; SlotNo
-&gt; Either Text POSIXTime
forall era.
HasField &quot;_protocolVersion&quot; (PParams era) ProtVer =&gt;
PParams era
-&gt; EpochInfo (Either Text)
-&gt; SystemStart
-&gt; SlotNo
-&gt; Either Text POSIXTime
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#slotToPOSIXTime"><span class="hs-identifier hs-var">slotToPOSIXTime</span></a></span><span> </span><span class="annot"><span class="annottext">PParams era
</span><a href="#local-6989586621679392715"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="annot"><span class="annottext">EpochInfo (Either Text)
</span><a href="#local-6989586621679392714"><span class="hs-identifier hs-var">ei</span></a></span><span> </span><span class="annot"><span class="annottext">SystemStart
</span><a href="#local-6989586621679392713"><span class="hs-identifier hs-var">sysS</span></a></span><span> </span><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679392712"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-254"></span><span>  </span><span class="annot"><span class="annottext">POSIXTimeRange -&gt; Either Text POSIXTimeRange
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(POSIXTimeRange -&gt; Either Text POSIXTimeRange)
-&gt; POSIXTimeRange -&gt; Either Text POSIXTimeRange
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">POSIXTime -&gt; POSIXTimeRange
forall a. a -&gt; Interval a
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.from</span></a></span><span> </span><span class="annot"><span class="annottext">POSIXTime
</span><a href="#local-6989586621679392711"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-255"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transVITime"><span class="hs-identifier hs-var">transVITime</span></a></span><span> </span><span id="local-6989586621679392709"><span class="annot"><span class="annottext">PParams era
</span><a href="#local-6989586621679392709"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span id="local-6989586621679392708"><span class="annot"><span class="annottext">EpochInfo (Either Text)
</span><a href="#local-6989586621679392708"><span class="hs-identifier hs-var">ei</span></a></span></span><span> </span><span id="local-6989586621679392707"><span class="annot"><span class="annottext">SystemStart
</span><a href="#local-6989586621679392707"><span class="hs-identifier hs-var">sysS</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-shelley-ma/html/src"><span class="hs-identifier hs-type">ValidityInterval</span></a></span><span> </span><span class="annot"><span class="annottext">StrictMaybe SlotNo
</span><a href="../../../../strict-containers/html/src"><span class="hs-identifier hs-var">SNothing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../strict-containers/html/src"><span class="hs-identifier hs-type">SJust</span></a></span><span> </span><span id="local-6989586621679392706"><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679392706"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-256"></span><span>  </span><span id="local-6989586621679392705"><span class="annot"><span class="annottext">POSIXTime
</span><a href="#local-6989586621679392705"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PParams era
-&gt; EpochInfo (Either Text)
-&gt; SystemStart
-&gt; SlotNo
-&gt; Either Text POSIXTime
forall era.
HasField &quot;_protocolVersion&quot; (PParams era) ProtVer =&gt;
PParams era
-&gt; EpochInfo (Either Text)
-&gt; SystemStart
-&gt; SlotNo
-&gt; Either Text POSIXTime
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#slotToPOSIXTime"><span class="hs-identifier hs-var">slotToPOSIXTime</span></a></span><span> </span><span class="annot"><span class="annottext">PParams era
</span><a href="#local-6989586621679392709"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="annot"><span class="annottext">EpochInfo (Either Text)
</span><a href="#local-6989586621679392708"><span class="hs-identifier hs-var">ei</span></a></span><span> </span><span class="annot"><span class="annottext">SystemStart
</span><a href="#local-6989586621679392707"><span class="hs-identifier hs-var">sysS</span></a></span><span> </span><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679392706"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-257"></span><span>  </span><span class="annot"><span class="annottext">POSIXTimeRange -&gt; Either Text POSIXTimeRange
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(POSIXTimeRange -&gt; Either Text POSIXTimeRange)
-&gt; POSIXTimeRange -&gt; Either Text POSIXTimeRange
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">POSIXTime -&gt; POSIXTimeRange
forall a. a -&gt; Interval a
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.to</span></a></span><span> </span><span class="annot"><span class="annottext">POSIXTime
</span><a href="#local-6989586621679392705"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-258"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transVITime"><span class="hs-identifier hs-var">transVITime</span></a></span><span> </span><span id="local-6989586621679392703"><span class="annot"><span class="annottext">PParams era
</span><a href="#local-6989586621679392703"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span id="local-6989586621679392702"><span class="annot"><span class="annottext">EpochInfo (Either Text)
</span><a href="#local-6989586621679392702"><span class="hs-identifier hs-var">ei</span></a></span></span><span> </span><span id="local-6989586621679392701"><span class="annot"><span class="annottext">SystemStart
</span><a href="#local-6989586621679392701"><span class="hs-identifier hs-var">sysS</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-shelley-ma/html/src"><span class="hs-identifier hs-type">ValidityInterval</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../strict-containers/html/src"><span class="hs-identifier hs-type">SJust</span></a></span><span> </span><span id="local-6989586621679392700"><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679392700"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../strict-containers/html/src"><span class="hs-identifier hs-type">SJust</span></a></span><span> </span><span id="local-6989586621679392699"><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679392699"><span class="hs-identifier hs-var">j</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-259"></span><span>  </span><span id="local-6989586621679392698"><span class="annot"><span class="annottext">POSIXTime
</span><a href="#local-6989586621679392698"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PParams era
-&gt; EpochInfo (Either Text)
-&gt; SystemStart
-&gt; SlotNo
-&gt; Either Text POSIXTime
forall era.
HasField &quot;_protocolVersion&quot; (PParams era) ProtVer =&gt;
PParams era
-&gt; EpochInfo (Either Text)
-&gt; SystemStart
-&gt; SlotNo
-&gt; Either Text POSIXTime
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#slotToPOSIXTime"><span class="hs-identifier hs-var">slotToPOSIXTime</span></a></span><span> </span><span class="annot"><span class="annottext">PParams era
</span><a href="#local-6989586621679392703"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="annot"><span class="annottext">EpochInfo (Either Text)
</span><a href="#local-6989586621679392702"><span class="hs-identifier hs-var">ei</span></a></span><span> </span><span class="annot"><span class="annottext">SystemStart
</span><a href="#local-6989586621679392701"><span class="hs-identifier hs-var">sysS</span></a></span><span> </span><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679392700"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-260"></span><span>  </span><span id="local-6989586621679392697"><span class="annot"><span class="annottext">POSIXTime
</span><a href="#local-6989586621679392697"><span class="hs-identifier hs-var">t2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PParams era
-&gt; EpochInfo (Either Text)
-&gt; SystemStart
-&gt; SlotNo
-&gt; Either Text POSIXTime
forall era.
HasField &quot;_protocolVersion&quot; (PParams era) ProtVer =&gt;
PParams era
-&gt; EpochInfo (Either Text)
-&gt; SystemStart
-&gt; SlotNo
-&gt; Either Text POSIXTime
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#slotToPOSIXTime"><span class="hs-identifier hs-var">slotToPOSIXTime</span></a></span><span> </span><span class="annot"><span class="annottext">PParams era
</span><a href="#local-6989586621679392703"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="annot"><span class="annottext">EpochInfo (Either Text)
</span><a href="#local-6989586621679392702"><span class="hs-identifier hs-var">ei</span></a></span><span> </span><span class="annot"><span class="annottext">SystemStart
</span><a href="#local-6989586621679392701"><span class="hs-identifier hs-var">sysS</span></a></span><span> </span><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621679392699"><span class="hs-identifier hs-var">j</span></a></span><span>
</span><span id="line-261"></span><span>  </span><span class="annot"><span class="annottext">POSIXTimeRange -&gt; Either Text POSIXTimeRange
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(POSIXTimeRange -&gt; Either Text POSIXTimeRange)
-&gt; POSIXTimeRange -&gt; Either Text POSIXTimeRange
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-262"></span><span>    </span><span class="annot"><span class="annottext">LowerBound POSIXTime -&gt; UpperBound POSIXTime -&gt; POSIXTimeRange
forall a. LowerBound a -&gt; UpperBound a -&gt; Interval a
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.Interval</span></a></span><span>
</span><span id="line-263"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">POSIXTime -&gt; LowerBound POSIXTime
forall a. a -&gt; LowerBound a
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.lowerBound</span></a></span><span> </span><span class="annot"><span class="annottext">POSIXTime
</span><a href="#local-6989586621679392698"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-264"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">POSIXTime -&gt; UpperBound POSIXTime
forall a. a -&gt; UpperBound a
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.strictUpperBound</span></a></span><span> </span><span class="annot"><span class="annottext">POSIXTime
</span><a href="#local-6989586621679392697"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span class="hs-comment">-- ========================================</span><span>
</span><span id="line-267"></span><span class="hs-comment">-- translate TxIn and TxOut</span><span>
</span><span id="line-268"></span><span>
</span><span id="line-269"></span><span id="local-6989586621679393138"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#txInfoIn%27"><span class="hs-identifier hs-type">txInfoIn'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">TxIn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393138"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.TxOutRef</span></a></span></span><span>
</span><span id="line-270"></span><span id="txInfoIn%27"><span class="annot"><span class="annottext">txInfoIn' :: TxIn c -&gt; TxOutRef
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#txInfoIn%27"><span class="hs-identifier hs-var hs-var">txInfoIn'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">TxIn</span></a></span><span> </span><span id="local-6989586621679392691"><span class="annot"><span class="annottext">TxId c
</span><a href="#local-6989586621679392691"><span class="hs-identifier hs-var">txid</span></a></span></span><span> </span><span id="local-6989586621679392690"><span class="annot"><span class="annottext">TxIx
</span><a href="#local-6989586621679392690"><span class="hs-identifier hs-var">txIx</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxId -&gt; Integer -&gt; TxOutRef
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.TxOutRef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxId c -&gt; TxId
forall crypto. TxId crypto -&gt; TxId
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#txInfoId"><span class="hs-identifier hs-var">txInfoId</span></a></span><span> </span><span class="annot"><span class="annottext">TxId c
</span><a href="#local-6989586621679392691"><span class="hs-identifier hs-var">txid</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">toInteger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxIx -&gt; Int
</span><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-var">txIxToInt</span></a></span><span> </span><span class="annot"><span class="annottext">TxIx
</span><a href="#local-6989586621679392690"><span class="hs-identifier hs-var">txIx</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-271"></span><span>
</span><span id="line-272"></span><span class="hs-comment">-- | Given a TxIn, look it up in the UTxO. If it exists, translate it and return</span><span>
</span><span id="line-273"></span><span class="hs-comment">--   (Just translation). If does not exist in the UTxO, return Nothing.</span><span>
</span><span id="line-274"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#txInfoIn"><span class="hs-identifier hs-type">txInfoIn</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-275"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679393031"><span class="annot"><a href="#local-6989586621679393031"><span class="hs-identifier hs-type">era</span></a></span></span><span> </span><span id="local-6989586621679393029"><span class="annot"><a href="#local-6989586621679393029"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span id="local-6989586621679393028"><span class="annot"><a href="#local-6989586621679393028"><span class="hs-identifier hs-type">i</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-276"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393031"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-277"></span><span>    </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393031"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-type">~</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-ledger-shelley-ma/html/src"><span class="hs-identifier hs-type">Mary.Value</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Crypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393031"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-278"></span><span>    </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">HasField</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;datahash&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">TxOut</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393031"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../strict-containers/html/src"><span class="hs-identifier hs-type">StrictMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">SafeHash</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393029"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393028"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-279"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-280"></span><span>  </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">TxIn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Crypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393031"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-281"></span><span>  </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">TxOut</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393031"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-282"></span><span>  </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.TxInInfo</span></a></span><span>
</span><span id="line-283"></span><span id="txInfoIn"><span class="annot"><span class="annottext">txInfoIn :: TxIn (Crypto era) -&gt; TxOut era -&gt; Maybe TxInInfo
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#txInfoIn"><span class="hs-identifier hs-var hs-var">txInfoIn</span></a></span></span><span> </span><span id="local-6989586621679392687"><span class="annot"><span class="annottext">TxIn (Crypto era)
</span><a href="#local-6989586621679392687"><span class="hs-identifier hs-var">txin</span></a></span></span><span> </span><span id="local-6989586621679392686"><span class="annot"><span class="annottext">TxOut era
</span><a href="#local-6989586621679392686"><span class="hs-identifier hs-var">txout</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-284"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679392685"><span class="annot"><span class="annottext">valout :: Value
</span><a href="#local-6989586621679392685"><span class="hs-identifier hs-var hs-var">valout</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Value (Crypto era) -&gt; Value
forall c. Value c -&gt; Value
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transValue"><span class="hs-identifier hs-var">transValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxOut era -&gt; Value (Crypto era)
forall k (x :: k) r a. HasField x r a =&gt; r -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">getField</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-string">&quot;value&quot;</span></span><span> </span><span class="annot"><span class="annottext">TxOut era
</span><a href="#local-6989586621679392686"><span class="hs-identifier hs-var">txout</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-285"></span><span>      </span><span id="local-6989586621679392682"><span class="annot"><span class="annottext">dhash :: Maybe DatumHash
</span><a href="#local-6989586621679392682"><span class="hs-identifier hs-var hs-var">dhash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TxOut era -&gt; StrictMaybe (SafeHash c i)
forall k (x :: k) r a. HasField x r a =&gt; r -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">getField</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-string">&quot;datahash&quot;</span></span><span> </span><span class="annot"><span class="annottext">TxOut era
</span><a href="#local-6989586621679392686"><span class="hs-identifier hs-var">txout</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-286"></span><span>        </span><span class="annot"><span class="annottext">StrictMaybe (SafeHash c i)
</span><a href="../../../../strict-containers/html/src"><span class="hs-identifier hs-var">SNothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe DatumHash
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-287"></span><span>        </span><span class="annot"><a href="../../../../strict-containers/html/src"><span class="hs-identifier hs-type">SJust</span></a></span><span> </span><span id="local-6989586621679392681"><span class="annot"><span class="annottext">SafeHash c i
</span><a href="#local-6989586621679392681"><span class="hs-identifier hs-var">safehash</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DatumHash -&gt; Maybe DatumHash
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BuiltinByteString -&gt; DatumHash
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.DatumHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SafeHash c i -&gt; BuiltinByteString
forall c i. SafeHash c i -&gt; BuiltinByteString
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transSafeHash"><span class="hs-identifier hs-var">transSafeHash</span></a></span><span> </span><span class="annot"><span class="annottext">SafeHash c i
</span><a href="#local-6989586621679392681"><span class="hs-identifier hs-var">safehash</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-288"></span><span>  </span><span id="local-6989586621679392680"><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679392680"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TxOut era -&gt; Maybe Address
forall era. Era era =&gt; TxOut era -&gt; Maybe Address
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transTxOutAddr"><span class="hs-identifier hs-var">transTxOutAddr</span></a></span><span> </span><span class="annot"><span class="annottext">TxOut era
</span><a href="#local-6989586621679392686"><span class="hs-identifier hs-var">txout</span></a></span><span>
</span><span id="line-289"></span><span>  </span><span class="annot"><span class="annottext">TxInInfo -&gt; Maybe TxInInfo
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(TxInInfo -&gt; Maybe TxInInfo) -&gt; TxInInfo -&gt; Maybe TxInInfo
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxOutRef -&gt; TxOut -&gt; TxInInfo
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.TxInInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxIn (Crypto era) -&gt; TxOutRef
forall c. TxIn c -&gt; TxOutRef
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#txInfoIn%27"><span class="hs-identifier hs-var">txInfoIn'</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn (Crypto era)
</span><a href="#local-6989586621679392687"><span class="hs-identifier hs-var">txin</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Address -&gt; Value -&gt; Maybe DatumHash -&gt; TxOut
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.TxOut</span></a></span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679392680"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679392685"><span class="hs-identifier hs-var">valout</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe DatumHash
</span><a href="#local-6989586621679392682"><span class="hs-identifier hs-var">dhash</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-290"></span><span>
</span><span id="line-291"></span><span class="hs-comment">-- | Given a TxOut, translate it and return (Just transalation). It is</span><span>
</span><span id="line-292"></span><span class="hs-comment">--   possible the address part is a Bootstrap Address, in that case return Nothing</span><span>
</span><span id="line-293"></span><span class="hs-comment">--   I.e. don't include Bootstrap Addresses in the answer.</span><span>
</span><span id="line-294"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#txInfoOut"><span class="hs-identifier hs-type">txInfoOut</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-295"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679393027"><span class="annot"><a href="#local-6989586621679393027"><span class="hs-identifier hs-type">era</span></a></span></span><span> </span><span id="local-6989586621679393026"><span class="annot"><a href="#local-6989586621679393026"><span class="hs-identifier hs-type">c</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-296"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393027"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-297"></span><span>    </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393027"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-type">~</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-ledger-shelley-ma/html/src"><span class="hs-identifier hs-type">Mary.Value</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Crypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393027"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-298"></span><span>    </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">HasField</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;datahash&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Core.TxOut</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393027"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../strict-containers/html/src"><span class="hs-identifier hs-type">StrictMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">DataHash</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393026"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-299"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-300"></span><span>  </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Core.TxOut</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393027"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-301"></span><span>  </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.TxOut</span></a></span><span>
</span><span id="line-302"></span><span id="txInfoOut"><span class="annot"><span class="annottext">txInfoOut :: TxOut era -&gt; Maybe TxOut
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#txInfoOut"><span class="hs-identifier hs-var hs-var">txInfoOut</span></a></span></span><span> </span><span id="local-6989586621679392676"><span class="annot"><span class="annottext">TxOut era
</span><a href="#local-6989586621679392676"><span class="hs-identifier hs-var">txout</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-303"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679392675"><span class="annot"><span class="annottext">val :: Value (Crypto era)
</span><a href="#local-6989586621679392675"><span class="hs-identifier hs-var hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxOut era -&gt; Value (Crypto era)
forall k (x :: k) r a. HasField x r a =&gt; r -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">getField</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-string">&quot;value&quot;</span></span><span> </span><span class="annot"><span class="annottext">TxOut era
</span><a href="#local-6989586621679392676"><span class="hs-identifier hs-var">txout</span></a></span><span>
</span><span id="line-304"></span><span>      </span><span id="local-6989586621679392674"><span class="annot"><span class="annottext">datahash :: StrictMaybe (DataHash c)
</span><a href="#local-6989586621679392674"><span class="hs-identifier hs-var hs-var">datahash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxOut era -&gt; StrictMaybe (DataHash c)
forall k (x :: k) r a. HasField x r a =&gt; r -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">getField</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-string">&quot;datahash&quot;</span></span><span> </span><span class="annot"><span class="annottext">TxOut era
</span><a href="#local-6989586621679392676"><span class="hs-identifier hs-var">txout</span></a></span><span>
</span><span id="line-305"></span><span>  </span><span id="local-6989586621679392673"><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679392673"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TxOut era -&gt; Maybe Address
forall era. Era era =&gt; TxOut era -&gt; Maybe Address
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transTxOutAddr"><span class="hs-identifier hs-var">transTxOutAddr</span></a></span><span> </span><span class="annot"><span class="annottext">TxOut era
</span><a href="#local-6989586621679392676"><span class="hs-identifier hs-var">txout</span></a></span><span>
</span><span id="line-306"></span><span>  </span><span class="annot"><span class="annottext">TxOut -&gt; Maybe TxOut
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Address -&gt; Value -&gt; Maybe DatumHash -&gt; TxOut
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.TxOut</span></a></span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621679392673"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Value (Crypto era) -&gt; Value
forall c. Value c -&gt; Value
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transValue"><span class="hs-identifier hs-var">transValue</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Crypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393027"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Value (Crypto era)
</span><a href="#local-6989586621679392675"><span class="hs-identifier hs-var">val</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StrictMaybe (DataHash c) -&gt; Maybe DatumHash
forall c. StrictMaybe (DataHash c) -&gt; Maybe DatumHash
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transDataHash"><span class="hs-identifier hs-var">transDataHash</span></a></span><span> </span><span class="annot"><span class="annottext">StrictMaybe (DataHash c)
</span><a href="#local-6989586621679392674"><span class="hs-identifier hs-var">datahash</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-307"></span><span>
</span><span id="line-308"></span><span class="hs-comment">-- ==================================</span><span>
</span><span id="line-309"></span><span class="hs-comment">-- translate Values</span><span>
</span><span id="line-310"></span><span>
</span><span id="line-311"></span><span id="local-6989586621679393122"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transPolicyID"><span class="hs-identifier hs-type">transPolicyID</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-shelley-ma/html/src"><span class="hs-identifier hs-type">Mary.PolicyID</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393122"><span class="hs-identifier hs-type">crypto</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.CurrencySymbol</span></a></span></span><span>
</span><span id="line-312"></span><span id="transPolicyID"><span class="annot"><span class="annottext">transPolicyID :: PolicyID crypto -&gt; CurrencySymbol
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transPolicyID"><span class="hs-identifier hs-var hs-var">transPolicyID</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-shelley-ma/html/src"><span class="hs-identifier hs-type">Mary.PolicyID</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">ScriptHash</span></a></span><span> </span><span id="local-6989586621679392670"><span class="annot"><span class="annottext">Hash (ADDRHASH crypto) EraIndependentScript
</span><a href="#local-6989586621679392670"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BuiltinByteString -&gt; CurrencySymbol
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.CurrencySymbol</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; BuiltinByteString
forall a arep. ToBuiltin a arep =&gt; a -&gt; arep
</span><a href="../../../../plutus-tx/html/src"><span class="hs-identifier hs-var">PV1.toBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hash (ADDRHASH crypto) EraIndependentScript -&gt; ByteString
forall h a. Hash h a -&gt; ByteString
</span><a href="../../../../cardano-crypto-class/html/src"><span class="hs-identifier hs-var">hashToBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Hash (ADDRHASH crypto) EraIndependentScript
</span><a href="#local-6989586621679392670"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-313"></span><span>
</span><span id="line-314"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transAssetName"><span class="hs-identifier hs-type">transAssetName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-shelley-ma/html/src"><span class="hs-identifier hs-type">Mary.AssetName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.TokenName</span></a></span><span>
</span><span id="line-315"></span><span id="transAssetName"><span class="annot"><span class="annottext">transAssetName :: AssetName -&gt; TokenName
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transAssetName"><span class="hs-identifier hs-var hs-var">transAssetName</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-shelley-ma/html/src"><span class="hs-identifier hs-type">Mary.AssetName</span></a></span><span> </span><span id="local-6989586621679392666"><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679392666"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BuiltinByteString -&gt; TokenName
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.TokenName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; BuiltinByteString
forall a arep. ToBuiltin a arep =&gt; a -&gt; arep
</span><a href="../../../../plutus-tx/html/src"><span class="hs-identifier hs-var">PV1.toBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShortByteString -&gt; ByteString
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">SBS.fromShort</span></a></span><span> </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679392666"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-316"></span><span>
</span><span id="line-317"></span><span id="local-6989586621679393147"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transValue"><span class="hs-identifier hs-type">transValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-shelley-ma/html/src"><span class="hs-identifier hs-type">Mary.Value</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393147"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.Value</span></a></span></span><span>
</span><span id="line-318"></span><span id="transValue"><span class="annot"><span class="annottext">transValue :: Value c -&gt; Value
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transValue"><span class="hs-identifier hs-var hs-var">transValue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-shelley-ma/html/src"><span class="hs-identifier hs-type">Mary.Value</span></a></span><span> </span><span id="local-6989586621679392663"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679392663"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679392662"><span class="annot"><span class="annottext">Map (PolicyID c) (Map AssetName Integer)
</span><a href="#local-6989586621679392662"><span class="hs-identifier hs-var">mp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Value -&gt; PolicyID c -&gt; Map AssetName Integer -&gt; Value)
-&gt; Value -&gt; Map (PolicyID c) (Map AssetName Integer) -&gt; Value
forall a k b. (a -&gt; k -&gt; b -&gt; a) -&gt; a -&gt; Map k b -&gt; a
</span><a href="../../../../containers/html/src"><span class="hs-identifier hs-var">Map.foldlWithKey'</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; PolicyID c -&gt; Map AssetName Integer -&gt; Value
forall crypto.
Value -&gt; PolicyID crypto -&gt; Map AssetName Integer -&gt; Value
</span><a href="#local-6989586621679392660"><span class="hs-identifier hs-var">accum1</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679392659"><span class="hs-identifier hs-var">justada</span></a></span><span> </span><span class="annot"><span class="annottext">Map (PolicyID c) (Map AssetName Integer)
</span><a href="#local-6989586621679392662"><span class="hs-identifier hs-var">mp</span></a></span><span>
</span><span id="line-319"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-320"></span><span>    </span><span id="local-6989586621679392660"><span class="annot"><span class="annottext">accum1 :: Value -&gt; PolicyID crypto -&gt; Map AssetName Integer -&gt; Value
</span><a href="#local-6989586621679392660"><span class="hs-identifier hs-var hs-var">accum1</span></a></span></span><span> </span><span id="local-6989586621679392658"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679392658"><span class="hs-identifier hs-var">ans</span></a></span></span><span> </span><span id="local-6989586621679392657"><span class="annot"><span class="annottext">PolicyID crypto
</span><a href="#local-6989586621679392657"><span class="hs-identifier hs-var">sym</span></a></span></span><span> </span><span id="local-6989586621679392656"><span class="annot"><span class="annottext">Map AssetName Integer
</span><a href="#local-6989586621679392656"><span class="hs-identifier hs-var">mp2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Value -&gt; AssetName -&gt; Integer -&gt; Value)
-&gt; Value -&gt; Map AssetName Integer -&gt; Value
forall a k b. (a -&gt; k -&gt; b -&gt; a) -&gt; a -&gt; Map k b -&gt; a
</span><a href="../../../../containers/html/src"><span class="hs-identifier hs-var">Map.foldlWithKey'</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; AssetName -&gt; Integer -&gt; Value
</span><a href="#local-6989586621679392655"><span class="hs-identifier hs-var">accum2</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679392658"><span class="hs-identifier hs-var">ans</span></a></span><span> </span><span class="annot"><span class="annottext">Map AssetName Integer
</span><a href="#local-6989586621679392656"><span class="hs-identifier hs-var">mp2</span></a></span><span>
</span><span id="line-321"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-322"></span><span>        </span><span id="local-6989586621679392655"><span class="annot"><span class="annottext">accum2 :: Value -&gt; AssetName -&gt; Integer -&gt; Value
</span><a href="#local-6989586621679392655"><span class="hs-identifier hs-var hs-var">accum2</span></a></span></span><span> </span><span id="local-6989586621679392654"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679392654"><span class="hs-identifier hs-var">ans2</span></a></span></span><span> </span><span id="local-6989586621679392653"><span class="annot"><span class="annottext">AssetName
</span><a href="#local-6989586621679392653"><span class="hs-identifier hs-var">tok</span></a></span></span><span> </span><span id="local-6989586621679392652"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679392652"><span class="hs-identifier hs-var">quantity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-323"></span><span>          </span><span class="annot"><span class="annottext">(Integer -&gt; Integer -&gt; Integer) -&gt; Value -&gt; Value -&gt; Value
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.unionWith</span></a></span><span>
</span><span id="line-324"></span><span>            </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">(+)</span></a></span><span>
</span><span id="line-325"></span><span>            </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679392654"><span class="hs-identifier hs-var">ans2</span></a></span><span>
</span><span id="line-326"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CurrencySymbol -&gt; TokenName -&gt; Integer -&gt; Value
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.singleton</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PolicyID crypto -&gt; CurrencySymbol
forall crypto. PolicyID crypto -&gt; CurrencySymbol
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transPolicyID"><span class="hs-identifier hs-var">transPolicyID</span></a></span><span> </span><span class="annot"><span class="annottext">PolicyID crypto
</span><a href="#local-6989586621679392657"><span class="hs-identifier hs-var">sym</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AssetName -&gt; TokenName
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transAssetName"><span class="hs-identifier hs-var">transAssetName</span></a></span><span> </span><span class="annot"><span class="annottext">AssetName
</span><a href="#local-6989586621679392653"><span class="hs-identifier hs-var">tok</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679392652"><span class="hs-identifier hs-var">quantity</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-327"></span><span>    </span><span id="local-6989586621679392659"><span class="annot"><span class="annottext">justada :: Value
</span><a href="#local-6989586621679392659"><span class="hs-identifier hs-var hs-var">justada</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CurrencySymbol -&gt; TokenName -&gt; Integer -&gt; Value
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">CurrencySymbol
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.adaSymbol</span></a></span><span> </span><span class="annot"><span class="annottext">TokenName
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.adaToken</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679392663"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-328"></span><span>
</span><span id="line-329"></span><span class="hs-comment">-- =============================================</span><span>
</span><span id="line-330"></span><span class="hs-comment">-- translate fileds like DCert, Wdrl, and similar</span><span>
</span><span id="line-331"></span><span>
</span><span id="line-332"></span><span id="local-6989586621679393065"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transDCert"><span class="hs-identifier hs-type">transDCert</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-type">DCert</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393065"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.DCert</span></a></span></span><span>
</span><span id="line-333"></span><span id="transDCert"><span class="annot"><span class="annottext">transDCert :: DCert c -&gt; DCert
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transDCert"><span class="hs-identifier hs-var hs-var">transDCert</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-type">DCertDeleg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-type">RegKey</span></a></span><span> </span><span id="local-6989586621679392643"><span class="annot"><span class="annottext">StakeCredential c
</span><a href="#local-6989586621679392643"><span class="hs-identifier hs-var">stkcred</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-334"></span><span>  </span><span class="annot"><span class="annottext">StakingCredential -&gt; DCert
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.DCertDelegRegKey</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Credential -&gt; StakingCredential
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.StakingHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StakeCredential c -&gt; Credential
forall (keyrole :: KeyRole) crypto.
Credential keyrole crypto -&gt; Credential
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transStakeCred"><span class="hs-identifier hs-var">transStakeCred</span></a></span><span> </span><span class="annot"><span class="annottext">StakeCredential c
</span><a href="#local-6989586621679392643"><span class="hs-identifier hs-var">stkcred</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-335"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transDCert"><span class="hs-identifier hs-var">transDCert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-type">DCertDeleg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-type">DeRegKey</span></a></span><span> </span><span id="local-6989586621679392640"><span class="annot"><span class="annottext">StakeCredential c
</span><a href="#local-6989586621679392640"><span class="hs-identifier hs-var">stkcred</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-336"></span><span>  </span><span class="annot"><span class="annottext">StakingCredential -&gt; DCert
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.DCertDelegDeRegKey</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Credential -&gt; StakingCredential
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.StakingHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StakeCredential c -&gt; Credential
forall (keyrole :: KeyRole) crypto.
Credential keyrole crypto -&gt; Credential
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transStakeCred"><span class="hs-identifier hs-var">transStakeCred</span></a></span><span> </span><span class="annot"><span class="annottext">StakeCredential c
</span><a href="#local-6989586621679392640"><span class="hs-identifier hs-var">stkcred</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-337"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transDCert"><span class="hs-identifier hs-var">transDCert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-type">DCertDeleg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-type">Delegate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-type">Delegation</span></a></span><span> </span><span id="local-6989586621679392636"><span class="annot"><span class="annottext">StakeCredential c
</span><a href="#local-6989586621679392636"><span class="hs-identifier hs-var">stkcred</span></a></span></span><span> </span><span id="local-6989586621679392635"><span class="annot"><span class="annottext">KeyHash 'StakePool c
</span><a href="#local-6989586621679392635"><span class="hs-identifier hs-var">keyhash</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-338"></span><span>  </span><span class="annot"><span class="annottext">StakingCredential -&gt; PubKeyHash -&gt; DCert
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.DCertDelegDelegate</span></a></span><span>
</span><span id="line-339"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Credential -&gt; StakingCredential
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.StakingHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StakeCredential c -&gt; Credential
forall (keyrole :: KeyRole) crypto.
Credential keyrole crypto -&gt; Credential
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transStakeCred"><span class="hs-identifier hs-var">transStakeCred</span></a></span><span> </span><span class="annot"><span class="annottext">StakeCredential c
</span><a href="#local-6989586621679392636"><span class="hs-identifier hs-var">stkcred</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-340"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">KeyHash 'StakePool c -&gt; PubKeyHash
forall (d :: KeyRole) c. KeyHash d c -&gt; PubKeyHash
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transKeyHash"><span class="hs-identifier hs-var">transKeyHash</span></a></span><span> </span><span class="annot"><span class="annottext">KeyHash 'StakePool c
</span><a href="#local-6989586621679392635"><span class="hs-identifier hs-var">keyhash</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-341"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transDCert"><span class="hs-identifier hs-var">transDCert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-type">DCertPool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-type">RegPool</span></a></span><span> </span><span id="local-6989586621679392631"><span class="annot"><span class="annottext">PoolParams c
</span><a href="#local-6989586621679392631"><span class="hs-identifier hs-var">pp</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-342"></span><span>  </span><span class="annot"><span class="annottext">PubKeyHash -&gt; PubKeyHash -&gt; DCert
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.DCertPoolRegister</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">KeyHash 'StakePool c -&gt; PubKeyHash
forall (d :: KeyRole) c. KeyHash d c -&gt; PubKeyHash
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transKeyHash"><span class="hs-identifier hs-var">transKeyHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PoolParams c -&gt; KeyHash 'StakePool c
forall crypto. PoolParams crypto -&gt; KeyHash 'StakePool crypto
</span><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-var hs-var">_poolId</span></a></span><span> </span><span class="annot"><span class="annottext">PoolParams c
</span><a href="#local-6989586621679392631"><span class="hs-identifier hs-var">pp</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BuiltinByteString -&gt; PubKeyHash
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.PubKeyHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; BuiltinByteString
forall a arep. ToBuiltin a arep =&gt; a -&gt; arep
</span><a href="../../../../plutus-tx/html/src"><span class="hs-identifier hs-var">PV1.toBuiltin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Hash (HASH c) (VerKeyVRF (VRF c)) -&gt; ByteString
forall h a. Hash h a -&gt; ByteString
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transHash"><span class="hs-identifier hs-var">transHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PoolParams c -&gt; Hash (HASH c) (VerKeyVRF (VRF c))
forall crypto. PoolParams crypto -&gt; Hash crypto (VerKeyVRF crypto)
</span><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-var hs-var">_poolVrf</span></a></span><span> </span><span class="annot"><span class="annottext">PoolParams c
</span><a href="#local-6989586621679392631"><span class="hs-identifier hs-var">pp</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-343"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transDCert"><span class="hs-identifier hs-var">transDCert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-type">DCertPool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-type">RetirePool</span></a></span><span> </span><span id="local-6989586621679392626"><span class="annot"><span class="annottext">KeyHash 'StakePool c
</span><a href="#local-6989586621679392626"><span class="hs-identifier hs-var">keyhash</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier hs-type">EpochNo</span></a></span><span> </span><span id="local-6989586621679392624"><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679392624"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-344"></span><span>  </span><span class="annot"><span class="annottext">PubKeyHash -&gt; Integer -&gt; DCert
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.DCertPoolRetire</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">KeyHash 'StakePool c -&gt; PubKeyHash
forall (d :: KeyRole) c. KeyHash d c -&gt; PubKeyHash
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transKeyHash"><span class="hs-identifier hs-var">transKeyHash</span></a></span><span> </span><span class="annot"><span class="annottext">KeyHash 'StakePool c
</span><a href="#local-6989586621679392626"><span class="hs-identifier hs-var">keyhash</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621679392624"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-345"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transDCert"><span class="hs-identifier hs-var">transDCert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-type">DCertGenesis</span></a></span><span> </span><span class="annot"><span class="annottext">GenesisDelegCert c
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DCert
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.DCertGenesis</span></a></span><span>
</span><span id="line-346"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transDCert"><span class="hs-identifier hs-var">transDCert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-type">DCertMir</span></a></span><span> </span><span class="annot"><span class="annottext">MIRCert c
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DCert
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.DCertMir</span></a></span><span>
</span><span id="line-347"></span><span>
</span><span id="line-348"></span><span id="local-6989586621679393017"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transWdrl"><span class="hs-identifier hs-type">transWdrl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-type">Wdrl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393017"><span class="hs-identifier hs-type">crypto</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../containers/html/src"><span class="hs-identifier hs-type">Map.Map</span></a></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.StakingCredential</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/integer-gmp-1.0.3.0/src"><span class="hs-identifier hs-type">Integer</span></a></span></span><span>
</span><span id="line-349"></span><span id="transWdrl"><span class="annot"><span class="annottext">transWdrl :: Wdrl crypto -&gt; Map StakingCredential Integer
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transWdrl"><span class="hs-identifier hs-var hs-var">transWdrl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-type">Wdrl</span></a></span><span> </span><span id="local-6989586621679392616"><span class="annot"><span class="annottext">Map (RewardAcnt crypto) Coin
</span><a href="#local-6989586621679392616"><span class="hs-identifier hs-var">mp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Map StakingCredential Integer
 -&gt; RewardAcnt crypto -&gt; Coin -&gt; Map StakingCredential Integer)
-&gt; Map StakingCredential Integer
-&gt; Map (RewardAcnt crypto) Coin
-&gt; Map StakingCredential Integer
forall a k b. (a -&gt; k -&gt; b -&gt; a) -&gt; a -&gt; Map k b -&gt; a
</span><a href="../../../../containers/html/src"><span class="hs-identifier hs-var">Map.foldlWithKey'</span></a></span><span> </span><span class="annot"><span class="annottext">Map StakingCredential Integer
-&gt; RewardAcnt crypto -&gt; Coin -&gt; Map StakingCredential Integer
forall crypto.
Map StakingCredential Integer
-&gt; RewardAcnt crypto -&gt; Coin -&gt; Map StakingCredential Integer
</span><a href="#local-6989586621679392615"><span class="hs-identifier hs-var">accum</span></a></span><span> </span><span class="annot"><span class="annottext">Map StakingCredential Integer
forall k a. Map k a
</span><a href="../../../../containers/html/src"><span class="hs-identifier hs-var">Map.empty</span></a></span><span> </span><span class="annot"><span class="annottext">Map (RewardAcnt crypto) Coin
</span><a href="#local-6989586621679392616"><span class="hs-identifier hs-var">mp</span></a></span><span>
</span><span id="line-350"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-351"></span><span>    </span><span id="local-6989586621679392615"><span class="annot"><span class="annottext">accum :: Map StakingCredential Integer
-&gt; RewardAcnt crypto -&gt; Coin -&gt; Map StakingCredential Integer
</span><a href="#local-6989586621679392615"><span class="hs-identifier hs-var hs-var">accum</span></a></span></span><span> </span><span id="local-6989586621679392613"><span class="annot"><span class="annottext">Map StakingCredential Integer
</span><a href="#local-6989586621679392613"><span class="hs-identifier hs-var">ans</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">RewardAcnt</span></a></span><span> </span><span id="local-6989586621679392611"><span class="annot"><span class="annottext">Network
</span><a href="#local-6989586621679392611"><span class="hs-identifier hs-var">_network</span></a></span></span><span> </span><span id="local-6989586621679392610"><span class="annot"><span class="annottext">Credential 'Staking crypto
</span><a href="#local-6989586621679392610"><span class="hs-identifier hs-var">cred</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Coin</span></a></span><span> </span><span id="local-6989586621679392608"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679392608"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-352"></span><span>      </span><span class="annot"><span class="annottext">StakingCredential
-&gt; Integer
-&gt; Map StakingCredential Integer
-&gt; Map StakingCredential Integer
forall k a. Ord k =&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><a href="../../../../containers/html/src"><span class="hs-identifier hs-var">Map.insert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Credential -&gt; StakingCredential
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.StakingHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Credential 'Staking crypto -&gt; Credential
forall (keyrole :: KeyRole) crypto.
Credential keyrole crypto -&gt; Credential
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transStakeCred"><span class="hs-identifier hs-var">transStakeCred</span></a></span><span> </span><span class="annot"><span class="annottext">Credential 'Staking crypto
</span><a href="#local-6989586621679392610"><span class="hs-identifier hs-var">cred</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679392608"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Map StakingCredential Integer
</span><a href="#local-6989586621679392613"><span class="hs-identifier hs-var">ans</span></a></span><span>
</span><span id="line-353"></span><span>
</span><span id="line-354"></span><span id="local-6989586621679392605"><span id="local-6989586621679392606"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#getWitVKeyHash"><span class="hs-identifier hs-type">getWitVKeyHash</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">CC.Crypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392606"><span class="hs-identifier hs-type">crypto</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392605"><span class="hs-identifier hs-type">kr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-type">WitVKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392605"><span class="hs-identifier hs-type">kr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392606"><span class="hs-identifier hs-type">crypto</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.PubKeyHash</span></a></span></span></span><span>
</span><span id="line-355"></span><span id="getWitVKeyHash"><span class="annot"><span class="annottext">getWitVKeyHash :: WitVKey kr crypto -&gt; PubKeyHash
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#getWitVKeyHash"><span class="hs-identifier hs-var hs-var">getWitVKeyHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-356"></span><span>  </span><span class="annot"><span class="annottext">BuiltinByteString -&gt; PubKeyHash
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.PubKeyHash</span></a></span><span>
</span><span id="line-357"></span><span>    </span><span class="annot"><span class="annottext">(BuiltinByteString -&gt; PubKeyHash)
-&gt; (WitVKey kr crypto -&gt; BuiltinByteString)
-&gt; WitVKey kr crypto
-&gt; PubKeyHash
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; BuiltinByteString
forall a arep. ToBuiltin a arep =&gt; a -&gt; arep
</span><a href="../../../../plutus-tx/html/src"><span class="hs-identifier hs-var">PV1.toBuiltin</span></a></span><span>
</span><span id="line-358"></span><span>    </span><span class="annot"><span class="annottext">(ByteString -&gt; BuiltinByteString)
-&gt; (WitVKey kr crypto -&gt; ByteString)
-&gt; WitVKey kr crypto
-&gt; BuiltinByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Hash (ADDRHASH crypto) (VerKeyDSIGN (DSIGN crypto)) -&gt; ByteString
forall h a. Hash h a -&gt; ByteString
</span><a href="../../../../cardano-crypto-class/html/src"><span class="hs-identifier hs-var">hashToBytes</span></a></span><span>
</span><span id="line-359"></span><span>    </span><span class="annot"><span class="annottext">(Hash (ADDRHASH crypto) (VerKeyDSIGN (DSIGN crypto)) -&gt; ByteString)
-&gt; (WitVKey kr crypto
    -&gt; Hash (ADDRHASH crypto) (VerKeyDSIGN (DSIGN crypto)))
-&gt; WitVKey kr crypto
-&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">KeyHash</span></a></span><span> </span><span id="local-6989586621679392603"><span class="annot"><span class="annottext">Hash (ADDRHASH crypto) (VerKeyDSIGN (DSIGN crypto))
</span><a href="#local-6989586621679392603"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Hash (ADDRHASH crypto) (VerKeyDSIGN (DSIGN crypto))
</span><a href="#local-6989586621679392603"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-360"></span><span>    </span><span class="annot"><span class="annottext">(KeyHash kr crypto
 -&gt; Hash (ADDRHASH crypto) (VerKeyDSIGN (DSIGN crypto)))
-&gt; (WitVKey kr crypto -&gt; KeyHash kr crypto)
-&gt; WitVKey kr crypto
-&gt; Hash (ADDRHASH crypto) (VerKeyDSIGN (DSIGN crypto))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">VKey kr crypto -&gt; KeyHash kr crypto
forall crypto (kd :: KeyRole).
Crypto crypto =&gt;
VKey kd crypto -&gt; KeyHash kd crypto
</span><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-var">hashKey</span></a></span><span>
</span><span id="line-361"></span><span>    </span><span class="annot"><span class="annottext">(VKey kr crypto -&gt; KeyHash kr crypto)
-&gt; (WitVKey kr crypto -&gt; VKey kr crypto)
-&gt; WitVKey kr crypto
-&gt; KeyHash kr crypto
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-type">WitVKey</span></a></span><span> </span><span id="local-6989586621679392601"><span class="annot"><span class="annottext">VKey kr crypto
</span><a href="#local-6989586621679392601"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="annottext">SignedDSIGN crypto (Hash crypto EraIndependentTxBody)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">VKey kr crypto
</span><a href="#local-6989586621679392601"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-362"></span><span>
</span><span id="line-363"></span><span id="local-6989586621679393014"><span id="local-6989586621679393015"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transDataPair"><span class="hs-identifier hs-type">transDataPair</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">DataHash</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393015"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393014"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.DatumHash</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.Datum</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-364"></span><span id="transDataPair"><span class="annot"><span class="annottext">transDataPair :: (DataHash c, Data era) -&gt; (DatumHash, Datum)
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transDataPair"><span class="hs-identifier hs-var hs-var">transDataPair</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679392599"><span class="annot"><span class="annottext">DataHash c
</span><a href="#local-6989586621679392599"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679392598"><span class="annot"><span class="annottext">Data era
</span><a href="#local-6989586621679392598"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataHash c -&gt; DatumHash
forall c. DataHash c -&gt; DatumHash
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transDataHash%27"><span class="hs-identifier hs-var">transDataHash'</span></a></span><span> </span><span class="annot"><span class="annottext">DataHash c
</span><a href="#local-6989586621679392599"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">BuiltinData -&gt; Datum
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.Datum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Data -&gt; BuiltinData
</span><a href="../../../../plutus-tx/html/src"><span class="hs-identifier hs-var">PV1.dataToBuiltinData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Data era -&gt; Data
forall era. Data era -&gt; Data
</span><a href="Cardano.Ledger.Alonzo.Data.html#getPlutusData"><span class="hs-identifier hs-var">getPlutusData</span></a></span><span> </span><span class="annot"><span class="annottext">Data era
</span><a href="#local-6989586621679392598"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-365"></span><span>
</span><span id="line-366"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transExUnits"><span class="hs-identifier hs-type">transExUnits</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Scripts.html#ExUnits"><span class="hs-identifier hs-type">ExUnits</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">PV1.ExBudget</span></a></span><span>
</span><span id="line-367"></span><span id="transExUnits"><span class="annot"><span class="annottext">transExUnits :: ExUnits -&gt; ExBudget
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transExUnits"><span class="hs-identifier hs-var hs-var">transExUnits</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.Scripts.html#ExUnits"><span class="hs-identifier hs-type">ExUnits</span></a></span><span> </span><span id="local-6989586621679392593"><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621679392593"><span class="hs-identifier hs-var">mem</span></a></span></span><span> </span><span id="local-6989586621679392592"><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621679392592"><span class="hs-identifier hs-var">steps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-368"></span><span>  </span><span class="annot"><span class="annottext">ExCPU -&gt; ExMemory -&gt; ExBudget
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PV1.ExBudget</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CostingInteger -&gt; ExCPU
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PV1.ExCPU</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Natural -&gt; CostingInteger
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621679392592"><span class="hs-identifier hs-var">steps</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CostingInteger -&gt; ExMemory
</span><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-var">PV1.ExMemory</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Natural -&gt; CostingInteger
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621679392593"><span class="hs-identifier hs-var">mem</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-369"></span><span>
</span><span id="line-370"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#exBudgetToExUnits"><span class="hs-identifier hs-type">exBudgetToExUnits</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">PV1.ExBudget</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Scripts.html#ExUnits"><span class="hs-identifier hs-type">ExUnits</span></a></span><span>
</span><span id="line-371"></span><span id="exBudgetToExUnits"><span class="annot"><span class="annottext">exBudgetToExUnits :: ExBudget -&gt; Maybe ExUnits
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#exBudgetToExUnits"><span class="hs-identifier hs-var hs-var">exBudgetToExUnits</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">PV1.ExBudget</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">PV1.ExCPU</span></a></span><span> </span><span id="local-6989586621679392587"><span class="annot"><span class="annottext">CostingInteger
</span><a href="#local-6989586621679392587"><span class="hs-identifier hs-var">steps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">PV1.ExMemory</span></a></span><span> </span><span id="local-6989586621679392586"><span class="annot"><span class="annottext">CostingInteger
</span><a href="#local-6989586621679392586"><span class="hs-identifier hs-var">memory</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-372"></span><span>  </span><span class="annot"><span class="annottext">Natural -&gt; Natural -&gt; ExUnits
</span><a href="Cardano.Ledger.Alonzo.Scripts.html#ExUnits"><span class="hs-identifier hs-var">ExUnits</span></a></span><span> </span><span class="annot"><span class="annottext">(Natural -&gt; Natural -&gt; ExUnits)
-&gt; Maybe Natural -&gt; Maybe (Natural -&gt; ExUnits)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">CostingInteger -&gt; Maybe Natural
forall a. Integral a =&gt; a -&gt; Maybe Natural
</span><a href="#local-6989586621679392585"><span class="hs-identifier hs-var">safeFromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">CostingInteger
</span><a href="#local-6989586621679392586"><span class="hs-identifier hs-var">memory</span></a></span><span>
</span><span id="line-373"></span><span>    </span><span class="annot"><span class="annottext">Maybe (Natural -&gt; ExUnits) -&gt; Maybe Natural -&gt; Maybe ExUnits
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">CostingInteger -&gt; Maybe Natural
forall a. Integral a =&gt; a -&gt; Maybe Natural
</span><a href="#local-6989586621679392585"><span class="hs-identifier hs-var">safeFromInteger</span></a></span><span> </span><span class="annot"><span class="annottext">CostingInteger
</span><a href="#local-6989586621679392587"><span class="hs-identifier hs-var">steps</span></a></span><span>
</span><span id="line-374"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-375"></span><span>    </span><span id="local-6989586621679393073"><span class="annot"><a href="#local-6989586621679392585"><span class="hs-identifier hs-type">safeFromInteger</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Integral</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393073"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679393073"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Natural</span></a></span></span><span>
</span><span id="line-376"></span><span>    </span><span id="local-6989586621679392585"><span class="annot"><span class="annottext">safeFromInteger :: a -&gt; Maybe Natural
</span><a href="#local-6989586621679392585"><span class="hs-identifier hs-var hs-var">safeFromInteger</span></a></span></span><span> </span><span id="local-6989586621679392584"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679392584"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-377"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679392584"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Natural -&gt; Maybe Natural
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(Natural -&gt; Maybe Natural) -&gt; Natural -&gt; Maybe Natural
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Natural
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679392584"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-378"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Natural
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-379"></span><span>
</span><span id="line-380"></span><span class="hs-comment">-- ===================================</span><span>
</span><span id="line-381"></span><span class="hs-comment">-- translate Script Purpose</span><span>
</span><span id="line-382"></span><span>
</span><span id="line-383"></span><span id="local-6989586621679392999"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transScriptPurpose"><span class="hs-identifier hs-type">transScriptPurpose</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Tx.html#ScriptPurpose"><span class="hs-identifier hs-type">ScriptPurpose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392999"><span class="hs-identifier hs-type">crypto</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.ScriptPurpose</span></a></span></span><span>
</span><span id="line-384"></span><span id="transScriptPurpose"><span class="annot"><span class="annottext">transScriptPurpose :: ScriptPurpose crypto -&gt; ScriptPurpose
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transScriptPurpose"><span class="hs-identifier hs-var hs-var">transScriptPurpose</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.Tx.html#Minting"><span class="hs-identifier hs-type">Minting</span></a></span><span> </span><span id="local-6989586621679392581"><span class="annot"><span class="annottext">PolicyID crypto
</span><a href="#local-6989586621679392581"><span class="hs-identifier hs-var">policyid</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CurrencySymbol -&gt; ScriptPurpose
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.Minting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PolicyID crypto -&gt; CurrencySymbol
forall crypto. PolicyID crypto -&gt; CurrencySymbol
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transPolicyID"><span class="hs-identifier hs-var">transPolicyID</span></a></span><span> </span><span class="annot"><span class="annottext">PolicyID crypto
</span><a href="#local-6989586621679392581"><span class="hs-identifier hs-var">policyid</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-385"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transScriptPurpose"><span class="hs-identifier hs-var">transScriptPurpose</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.Tx.html#Spending"><span class="hs-identifier hs-type">Spending</span></a></span><span> </span><span id="local-6989586621679392578"><span class="annot"><span class="annottext">TxIn crypto
</span><a href="#local-6989586621679392578"><span class="hs-identifier hs-var">txin</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxOutRef -&gt; ScriptPurpose
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.Spending</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxIn crypto -&gt; TxOutRef
forall c. TxIn c -&gt; TxOutRef
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#txInfoIn%27"><span class="hs-identifier hs-var">txInfoIn'</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn crypto
</span><a href="#local-6989586621679392578"><span class="hs-identifier hs-var">txin</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-386"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transScriptPurpose"><span class="hs-identifier hs-var">transScriptPurpose</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.Tx.html#Rewarding"><span class="hs-identifier hs-type">Rewarding</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">RewardAcnt</span></a></span><span> </span><span id="local-6989586621679392575"><span class="annot"><span class="annottext">Network
</span><a href="#local-6989586621679392575"><span class="hs-identifier hs-var">_network</span></a></span></span><span> </span><span id="local-6989586621679392574"><span class="annot"><span class="annottext">Credential 'Staking crypto
</span><a href="#local-6989586621679392574"><span class="hs-identifier hs-var">cred</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-387"></span><span>  </span><span class="annot"><span class="annottext">StakingCredential -&gt; ScriptPurpose
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.Rewarding</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Credential -&gt; StakingCredential
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.StakingHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Credential 'Staking crypto -&gt; Credential
forall (keyrole :: KeyRole) crypto.
Credential keyrole crypto -&gt; Credential
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transStakeCred"><span class="hs-identifier hs-var">transStakeCred</span></a></span><span> </span><span class="annot"><span class="annottext">Credential 'Staking crypto
</span><a href="#local-6989586621679392574"><span class="hs-identifier hs-var">cred</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-388"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transScriptPurpose"><span class="hs-identifier hs-var">transScriptPurpose</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.Tx.html#Certifying"><span class="hs-identifier hs-type">Certifying</span></a></span><span> </span><span id="local-6989586621679392571"><span class="annot"><span class="annottext">DCert crypto
</span><a href="#local-6989586621679392571"><span class="hs-identifier hs-var">dcert</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DCert -&gt; ScriptPurpose
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.Certifying</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DCert crypto -&gt; DCert
forall c. DCert c -&gt; DCert
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transDCert"><span class="hs-identifier hs-var">transDCert</span></a></span><span> </span><span class="annot"><span class="annottext">DCert crypto
</span><a href="#local-6989586621679392571"><span class="hs-identifier hs-var">dcert</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-389"></span><span>
</span><span id="line-390"></span><span class="hs-keyword">data</span><span> </span><span id="VersionedTxInfo"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#VersionedTxInfo"><span class="hs-identifier hs-var">VersionedTxInfo</span></a></span></span><span>
</span><span id="line-391"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="TxInfoPV1"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#TxInfoPV1"><span class="hs-identifier hs-var">TxInfoPV1</span></a></span></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.TxInfo</span></a></span><span>
</span><span id="line-392"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TxInfoPV2"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#TxInfoPV2"><span class="hs-identifier hs-var">TxInfoPV2</span></a></span></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV2.TxInfo</span></a></span><span>
</span><span id="line-393"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679392562"><span id="local-6989586621679392564"><span id="local-6989586621679392566"><span class="annot"><span class="annottext">Int -&gt; VersionedTxInfo -&gt; ShowS
[VersionedTxInfo] -&gt; ShowS
VersionedTxInfo -&gt; String
(Int -&gt; VersionedTxInfo -&gt; ShowS)
-&gt; (VersionedTxInfo -&gt; String)
-&gt; ([VersionedTxInfo] -&gt; ShowS)
-&gt; Show VersionedTxInfo
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [VersionedTxInfo] -&gt; ShowS
$cshowList :: [VersionedTxInfo] -&gt; ShowS
show :: VersionedTxInfo -&gt; String
$cshow :: VersionedTxInfo -&gt; String
showsPrec :: Int -&gt; VersionedTxInfo -&gt; ShowS
$cshowsPrec :: Int -&gt; VersionedTxInfo -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679392558"><span id="local-6989586621679392560"><span class="annot"><span class="annottext">VersionedTxInfo -&gt; VersionedTxInfo -&gt; Bool
(VersionedTxInfo -&gt; VersionedTxInfo -&gt; Bool)
-&gt; (VersionedTxInfo -&gt; VersionedTxInfo -&gt; Bool)
-&gt; Eq VersionedTxInfo
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: VersionedTxInfo -&gt; VersionedTxInfo -&gt; Bool
$c/= :: VersionedTxInfo -&gt; VersionedTxInfo -&gt; Bool
== :: VersionedTxInfo -&gt; VersionedTxInfo -&gt; Bool
$c== :: VersionedTxInfo -&gt; VersionedTxInfo -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-394"></span><span>
</span><span id="line-395"></span><span class="hs-comment">-- | Where we keep functions that differ from Era to Era but which</span><span>
</span><span id="line-396"></span><span class="hs-comment">--   deal with the extra things in the TxOut (Scripts, DataHash, Datum, etc)</span><span>
</span><span id="line-397"></span><span class="hs-keyword">class</span><span> </span><span id="ExtendedUTxO"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#ExtendedUTxO"><span class="hs-identifier hs-var">ExtendedUTxO</span></a></span></span><span> </span><span id="local-6989586621679393063"><span class="annot"><a href="#local-6989586621679393063"><span class="hs-identifier hs-type">era</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-398"></span><span>  </span><span class="hs-comment">-- Compute a Digest of the current transaction to pass to the script</span><span>
</span><span id="line-399"></span><span>  </span><span class="hs-comment">--    This is the major component of the valContext function.</span><span>
</span><span id="line-400"></span><span>  </span><span id="txInfo"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#txInfo"><span class="hs-identifier hs-type">txInfo</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-401"></span><span>    </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Core.PParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393063"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-402"></span><span>    </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Language.html#Language"><span class="hs-identifier hs-type">Language</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-403"></span><span>    </span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier hs-type">EpochInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-404"></span><span>    </span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier hs-type">SystemStart</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-405"></span><span>    </span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-type">UTxO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393063"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-406"></span><span>    </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Core.Tx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393063"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-407"></span><span>    </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#TranslationError"><span class="hs-identifier hs-type">TranslationError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Crypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393063"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#VersionedTxInfo"><span class="hs-identifier hs-type">VersionedTxInfo</span></a></span><span>
</span><span id="line-408"></span><span>
</span><span id="line-409"></span><span>  </span><span class="hs-comment">-- Compute two sets for all TwoPhase scripts in a Tx.</span><span>
</span><span id="line-410"></span><span>  </span><span class="hs-comment">-- set 1) DataHashes for each Two phase Script in a TxIn that has a DataHash</span><span>
</span><span id="line-411"></span><span>  </span><span class="hs-comment">-- set 2) TxIns that are TwoPhase scripts, and should have a DataHash but don't.</span><span>
</span><span id="line-412"></span><span>  </span><span class="hs-comment">{- { h | (_ &#8594; (a,_,h)) &#8712; txins tx &#9665; utxo, isNonNativeScriptAddress tx a} -}</span><span>
</span><span id="line-413"></span><span>  </span><span id="inputDataHashes"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#inputDataHashes"><span class="hs-identifier hs-type">inputDataHashes</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-414"></span><span>    </span><span class="annot"><a href="../../../../containers/html/src"><span class="hs-identifier hs-type">Map.Map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">ScriptHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Crypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393063"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Core.Script</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393063"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-415"></span><span>    </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Tx.html#ValidatedTx"><span class="hs-identifier hs-type">ValidatedTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393063"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-416"></span><span>    </span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-type">UTxO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393063"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-417"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="../../../../containers/html/src"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">DataHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Crypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393063"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../containers/html/src"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">TxIn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Crypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393063"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-418"></span><span>
</span><span id="line-419"></span><span>  </span><span id="txscripts"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#txscripts"><span class="hs-identifier hs-type">txscripts</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-420"></span><span>    </span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-type">UTxO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393063"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-421"></span><span>    </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Core.Tx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393063"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-422"></span><span>    </span><span class="annot"><a href="../../../../containers/html/src"><span class="hs-identifier hs-type">Map.Map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">ScriptHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Crypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393063"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Core.Script</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393063"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-423"></span><span>
</span><span id="line-424"></span><span>  </span><span id="getAllowedSupplimentalDataHashes"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#getAllowedSupplimentalDataHashes"><span class="hs-identifier hs-type">getAllowedSupplimentalDataHashes</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-425"></span><span>    </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Core.TxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393063"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-426"></span><span>    </span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-type">UTxO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393063"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-427"></span><span>    </span><span class="annot"><a href="../../../../containers/html/src"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">DataHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Crypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393063"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-428"></span><span>
</span><span id="line-429"></span><span>  </span><span id="getDatum"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#getDatum"><span class="hs-identifier hs-type">getDatum</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-430"></span><span>    </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Core.Tx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393063"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-431"></span><span>    </span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-type">UTxO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393063"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-432"></span><span>    </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Tx.html#ScriptPurpose"><span class="hs-identifier hs-type">ScriptPurpose</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Crypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393063"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-433"></span><span>    </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393063"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-434"></span><span>
</span><span id="line-435"></span><span>  </span><span id="getTxOutDatum"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#getTxOutDatum"><span class="hs-identifier hs-type">getTxOutDatum</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-436"></span><span>    </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Core.TxOut</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393063"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Data.html#Datum"><span class="hs-identifier hs-type">Datum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393063"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-437"></span><span>
</span><span id="line-438"></span><span>  </span><span id="allOuts"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#allOuts"><span class="hs-identifier hs-type">allOuts</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-439"></span><span>    </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Core.TxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393063"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-440"></span><span>    </span><span class="hs-special">[</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Core.TxOut</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393063"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-441"></span><span>  </span><span id="local-6989586621679392550"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#allOuts"><span class="hs-identifier hs-var hs-var">allOuts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Sized (TxOut era) -&gt; TxOut era)
-&gt; [Sized (TxOut era)] -&gt; [TxOut era]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Sized (TxOut era) -&gt; TxOut era
forall a. Sized a -&gt; a
</span><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-var hs-var">sizedValue</span></a></span><span> </span><span class="annot"><span class="annottext">([Sized (TxOut era)] -&gt; [TxOut era])
-&gt; (TxBody era -&gt; [Sized (TxOut era)]) -&gt; TxBody era -&gt; [TxOut era]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody era -&gt; [Sized (TxOut era)]
forall era. ExtendedUTxO era =&gt; TxBody era -&gt; [Sized (TxOut era)]
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#allSizedOuts"><span class="hs-identifier hs-var">allSizedOuts</span></a></span></span><span>
</span><span id="line-442"></span><span>
</span><span id="line-443"></span><span>  </span><span id="allSizedOuts"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#allSizedOuts"><span class="hs-identifier hs-type">allSizedOuts</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-444"></span><span>    </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Core.TxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393063"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-445"></span><span>    </span><span class="hs-special">[</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Sized</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Core.TxOut</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679393063"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-446"></span><span>
</span><span id="line-447"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#alonzoTxInfo"><span class="hs-identifier hs-type">alonzoTxInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-448"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679392547"><span class="annot"><a href="#local-6989586621679392547"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-449"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392547"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-450"></span><span>    </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392547"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-type">~</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-ledger-shelley-ma/html/src"><span class="hs-identifier hs-type">Mary.Value</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Crypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392547"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-451"></span><span>    </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">HasField</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;wits&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Core.Tx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392547"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxWitness.html#TxWitness"><span class="hs-identifier hs-type">TxWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392547"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-452"></span><span>    </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">HasField</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;datahash&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">TxOut</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392547"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../strict-containers/html/src"><span class="hs-identifier hs-type">StrictMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">SafeHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Crypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392547"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">EraIndependentData</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-453"></span><span>    </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">HasField</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;_protocolVersion&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">PParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392547"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">ProtVer</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-454"></span><span>    </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">HasField</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;inputs&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Core.TxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392547"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../containers/html/src"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">TxIn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Crypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392547"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-455"></span><span>    </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">HasField</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;reqSignerHashes&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Core.TxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392547"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../containers/html/src"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">KeyHash</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Witness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Crypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392547"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-456"></span><span>    </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">HasField</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;certs&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Core.TxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392547"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../strict-containers/html/src"><span class="hs-identifier hs-type">StrictSeq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-type">DCert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Crypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392547"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-457"></span><span>    </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">HasField</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;wdrls&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Core.TxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392547"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-type">Wdrl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Crypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392547"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-458"></span><span>    </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">HasField</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;mint&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Core.TxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392547"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-shelley-ma/html/src"><span class="hs-identifier hs-type">Mary.Value</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Crypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392547"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-459"></span><span>    </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">HasField</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;vldt&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Core.TxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392547"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-shelley-ma/html/src"><span class="hs-identifier hs-type">ValidityInterval</span></a></span><span>
</span><span id="line-460"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-461"></span><span>  </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Core.PParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392547"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-462"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Language.html#Language"><span class="hs-identifier hs-type">Language</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-463"></span><span>  </span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier hs-type">EpochInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-464"></span><span>  </span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier hs-type">SystemStart</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-465"></span><span>  </span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-type">UTxO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392547"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-466"></span><span>  </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Core.Tx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392547"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-467"></span><span>  </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#TranslationError"><span class="hs-identifier hs-type">TranslationError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Crypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392547"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#VersionedTxInfo"><span class="hs-identifier hs-type">VersionedTxInfo</span></a></span><span>
</span><span id="line-468"></span><span id="alonzoTxInfo"><span class="annot"><span class="annottext">alonzoTxInfo :: PParams era
-&gt; Language
-&gt; EpochInfo (Either Text)
-&gt; SystemStart
-&gt; UTxO era
-&gt; Tx era
-&gt; Either (TranslationError (Crypto era)) VersionedTxInfo
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#alonzoTxInfo"><span class="hs-identifier hs-var hs-var">alonzoTxInfo</span></a></span></span><span> </span><span id="local-6989586621679392546"><span class="annot"><span class="annottext">PParams era
</span><a href="#local-6989586621679392546"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span id="local-6989586621679392545"><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621679392545"><span class="hs-identifier hs-var">lang</span></a></span></span><span> </span><span id="local-6989586621679392544"><span class="annot"><span class="annottext">EpochInfo (Either Text)
</span><a href="#local-6989586621679392544"><span class="hs-identifier hs-var">ei</span></a></span></span><span> </span><span id="local-6989586621679392543"><span class="annot"><span class="annottext">SystemStart
</span><a href="#local-6989586621679392543"><span class="hs-identifier hs-var">sysS</span></a></span></span><span> </span><span id="local-6989586621679392542"><span class="annot"><span class="annottext">UTxO era
</span><a href="#local-6989586621679392542"><span class="hs-identifier hs-var">utxo</span></a></span></span><span> </span><span id="local-6989586621679392541"><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621679392541"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-469"></span><span>  </span><span id="local-6989586621679392540"><span class="annot"><span class="annottext">POSIXTimeRange
</span><a href="#local-6989586621679392540"><span class="hs-identifier hs-var">timeRange</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; TranslationError (Crypto era))
-&gt; Either Text POSIXTimeRange
-&gt; Either (TranslationError (Crypto era)) POSIXTimeRange
forall (a :: * -&gt; * -&gt; *) b c d.
ArrowChoice a =&gt;
a b c -&gt; a (Either b d) (Either c d)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">left</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; TranslationError (Crypto era)
forall crypto. Text -&gt; TranslationError crypto
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#TimeTranslationPastHorizon"><span class="hs-identifier hs-var">TimeTranslationPastHorizon</span></a></span><span> </span><span class="annot"><span class="annottext">(Either Text POSIXTimeRange
 -&gt; Either (TranslationError (Crypto era)) POSIXTimeRange)
-&gt; Either Text POSIXTimeRange
-&gt; Either (TranslationError (Crypto era)) POSIXTimeRange
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PParams era
-&gt; EpochInfo (Either Text)
-&gt; SystemStart
-&gt; ValidityInterval
-&gt; Either Text POSIXTimeRange
forall era.
HasField &quot;_protocolVersion&quot; (PParams era) ProtVer =&gt;
PParams era
-&gt; EpochInfo (Either Text)
-&gt; SystemStart
-&gt; ValidityInterval
-&gt; Either Text POSIXTimeRange
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transVITime"><span class="hs-identifier hs-var">transVITime</span></a></span><span> </span><span class="annot"><span class="annottext">PParams era
</span><a href="#local-6989586621679392546"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="annot"><span class="annottext">EpochInfo (Either Text)
</span><a href="#local-6989586621679392544"><span class="hs-identifier hs-var">ei</span></a></span><span> </span><span class="annot"><span class="annottext">SystemStart
</span><a href="#local-6989586621679392543"><span class="hs-identifier hs-var">sysS</span></a></span><span> </span><span class="annot"><span class="annottext">ValidityInterval
</span><a href="#local-6989586621679392539"><span class="hs-identifier hs-var">interval</span></a></span><span>
</span><span id="line-470"></span><span>  </span><span class="hs-comment">-- We need to do this as a separate step</span><span>
</span><span id="line-471"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679392538"><span class="annot"><span class="annottext">lookupTxOut :: TxIn (Crypto era)
-&gt; Either
     (TranslationError (Crypto era)) (TxIn (Crypto era), TxOut era)
</span><a href="#local-6989586621679392538"><span class="hs-identifier hs-var hs-var">lookupTxOut</span></a></span></span><span> </span><span id="local-6989586621679392537"><span class="annot"><span class="annottext">TxIn (Crypto era)
</span><a href="#local-6989586621679392537"><span class="hs-identifier hs-var">txIn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-472"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TxIn (Crypto era)
-&gt; Map (TxIn (Crypto era)) (TxOut era) -&gt; Maybe (TxOut era)
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="../../../../containers/html/src"><span class="hs-identifier hs-var">Map.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn (Crypto era)
</span><a href="#local-6989586621679392537"><span class="hs-identifier hs-var">txIn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UTxO era -&gt; Map (TxIn (Crypto era)) (TxOut era)
forall era. UTxO era -&gt; Map (TxIn (Crypto era)) (TxOut era)
</span><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-var hs-var">unUTxO</span></a></span><span> </span><span class="annot"><span class="annottext">UTxO era
</span><a href="#local-6989586621679392542"><span class="hs-identifier hs-var">utxo</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-473"></span><span>          </span><span class="annot"><span class="annottext">Maybe (TxOut era)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TranslationError (Crypto era)
-&gt; Either
     (TranslationError (Crypto era)) (TxIn (Crypto era), TxOut era)
forall a b. a -&gt; Either a b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">(TranslationError (Crypto era)
 -&gt; Either
      (TranslationError (Crypto era)) (TxIn (Crypto era), TxOut era))
-&gt; TranslationError (Crypto era)
-&gt; Either
     (TranslationError (Crypto era)) (TxIn (Crypto era), TxOut era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn (Crypto era) -&gt; TranslationError (Crypto era)
forall crypto. TxIn crypto -&gt; TranslationError crypto
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#TranslationLogicMissingInput"><span class="hs-identifier hs-var">TranslationLogicMissingInput</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn (Crypto era)
</span><a href="#local-6989586621679392537"><span class="hs-identifier hs-var">txIn</span></a></span><span>
</span><span id="line-474"></span><span>          </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679392534"><span class="annot"><span class="annottext">TxOut era
</span><a href="#local-6989586621679392534"><span class="hs-identifier hs-var">txOut</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(TxIn (Crypto era), TxOut era)
-&gt; Either
     (TranslationError (Crypto era)) (TxIn (Crypto era), TxOut era)
forall a b. b -&gt; Either a b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxIn (Crypto era)
</span><a href="#local-6989586621679392537"><span class="hs-identifier hs-var">txIn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TxOut era
</span><a href="#local-6989586621679392534"><span class="hs-identifier hs-var">txOut</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-475"></span><span>  </span><span id="local-6989586621679392533"><span class="annot"><span class="annottext">[(TxIn (Crypto era), TxOut era)]
</span><a href="#local-6989586621679392533"><span class="hs-identifier hs-var">txOuts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(TxIn (Crypto era)
 -&gt; Either
      (TranslationError (Crypto era)) (TxIn (Crypto era), TxOut era))
-&gt; [TxIn (Crypto era)]
-&gt; Either
     (TranslationError (Crypto era)) [(TxIn (Crypto era), TxOut era)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn (Crypto era)
-&gt; Either
     (TranslationError (Crypto era)) (TxIn (Crypto era), TxOut era)
</span><a href="#local-6989586621679392538"><span class="hs-identifier hs-var">lookupTxOut</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set (TxIn (Crypto era)) -&gt; [TxIn (Crypto era)]
forall a. Set a -&gt; [a]
</span><a href="../../../../containers/html/src"><span class="hs-identifier hs-var">Set.toList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxBody era -&gt; Set (TxIn (Crypto era))
forall k (x :: k) r a. HasField x r a =&gt; r -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">getField</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-string">&quot;inputs&quot;</span></span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621679392530"><span class="hs-identifier hs-var">tbody</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-476"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621679392545"><span class="hs-identifier hs-var">lang</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-477"></span><span>    </span><span class="annot"><span class="annottext">Language
</span><a href="Cardano.Ledger.Alonzo.Language.html#PlutusV1"><span class="hs-identifier hs-var">PlutusV1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-478"></span><span>      </span><span class="annot"><span class="annottext">VersionedTxInfo
-&gt; Either (TranslationError (Crypto era)) VersionedTxInfo
forall a b. b -&gt; Either a b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="annot"><span class="annottext">(VersionedTxInfo
 -&gt; Either (TranslationError (Crypto era)) VersionedTxInfo)
-&gt; (TxInfo -&gt; VersionedTxInfo)
-&gt; TxInfo
-&gt; Either (TranslationError (Crypto era)) VersionedTxInfo
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TxInfo -&gt; VersionedTxInfo
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#TxInfoPV1"><span class="hs-identifier hs-var">TxInfoPV1</span></a></span><span> </span><span class="annot"><span class="annottext">(TxInfo -&gt; Either (TranslationError (Crypto era)) VersionedTxInfo)
-&gt; TxInfo -&gt; Either (TranslationError (Crypto era)) VersionedTxInfo
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-479"></span><span>        </span><span class="annot"><span class="annottext">TxInfo :: [TxInInfo]
-&gt; [TxOut]
-&gt; Value
-&gt; Value
-&gt; [DCert]
-&gt; [(StakingCredential, Integer)]
-&gt; POSIXTimeRange
-&gt; [PubKeyHash]
-&gt; [(DatumHash, Datum)]
-&gt; TxId
-&gt; TxInfo
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.TxInfo</span></a></span><span>
</span><span id="line-480"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">txInfoInputs :: [TxInInfo]
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.txInfoInputs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((TxIn (Crypto era), TxOut era) -&gt; Maybe TxInInfo)
-&gt; [(TxIn (Crypto era), TxOut era)] -&gt; [TxInInfo]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TxIn (Crypto era) -&gt; TxOut era -&gt; Maybe TxInInfo)
-&gt; (TxIn (Crypto era), TxOut era) -&gt; Maybe TxInInfo
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">uncurry</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn (Crypto era) -&gt; TxOut era -&gt; Maybe TxInInfo
forall era c i.
(Era era, Value era ~ Value (Crypto era),
 HasField &quot;datahash&quot; (TxOut era) (StrictMaybe (SafeHash c i))) =&gt;
TxIn (Crypto era) -&gt; TxOut era -&gt; Maybe TxInInfo
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#txInfoIn"><span class="hs-identifier hs-var">txInfoIn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(TxIn (Crypto era), TxOut era)]
</span><a href="#local-6989586621679392533"><span class="hs-identifier hs-var">txOuts</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-481"></span><span>            </span><span class="annot"><span class="annottext">txInfoOutputs :: [TxOut]
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.txInfoOutputs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TxOut era -&gt; Maybe TxOut) -&gt; [TxOut era] -&gt; [TxOut]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mapMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">TxOut era -&gt; Maybe TxOut
forall era c.
(Era era, Value era ~ Value (Crypto era),
 HasField &quot;datahash&quot; (TxOut era) (StrictMaybe (DataHash c))) =&gt;
TxOut era -&gt; Maybe TxOut
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#txInfoOut"><span class="hs-identifier hs-var">txInfoOut</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TxOut era -&gt; [TxOut era] -&gt; [TxOut era])
-&gt; [TxOut era] -&gt; StrictSeq (TxOut era) -&gt; [TxOut era]
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">foldr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">StrictSeq (TxOut era)
</span><a href="#local-6989586621679392523"><span class="hs-identifier hs-var">outs</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-482"></span><span>            </span><span class="annot"><span class="annottext">txInfoFee :: Value
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.txInfoFee</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Value (Crypto era) -&gt; Value
forall c. Value c -&gt; Value
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transValue"><span class="hs-identifier hs-var">transValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Coin -&gt; Value (Crypto era)
forall t. Val t =&gt; Coin -&gt; t
</span><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-var">inject</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-shelley-ma/html/src"><span class="hs-identifier hs-type">Mary.Value</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Crypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392547"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621679392520"><span class="hs-identifier hs-var">fee</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-483"></span><span>            </span><span class="annot"><span class="annottext">txInfoMint :: Value
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.txInfoMint</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Value (Crypto era) -&gt; Value
forall c. Value c -&gt; Value
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transValue"><span class="hs-identifier hs-var">transValue</span></a></span><span> </span><span class="annot"><span class="annottext">Value (Crypto era)
</span><a href="#local-6989586621679392518"><span class="hs-identifier hs-var">forge</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-484"></span><span>            </span><span class="annot"><span class="annottext">txInfoDCert :: [DCert]
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.txInfoDCert</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DCert (Crypto era) -&gt; [DCert] -&gt; [DCert])
-&gt; [DCert] -&gt; StrictSeq (DCert (Crypto era)) -&gt; [DCert]
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">foldr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679392516"><span class="annot"><span class="annottext">DCert (Crypto era)
</span><a href="#local-6989586621679392516"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679392515"><span class="annot"><span class="annottext">[DCert]
</span><a href="#local-6989586621679392515"><span class="hs-identifier hs-var">ans</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DCert (Crypto era) -&gt; DCert
forall c. DCert c -&gt; DCert
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transDCert"><span class="hs-identifier hs-var">transDCert</span></a></span><span> </span><span class="annot"><span class="annottext">DCert (Crypto era)
</span><a href="#local-6989586621679392516"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">DCert -&gt; [DCert] -&gt; [DCert]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="annot"><span class="annottext">[DCert]
</span><a href="#local-6989586621679392515"><span class="hs-identifier hs-var">ans</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxBody era -&gt; StrictSeq (DCert (Crypto era))
forall k (x :: k) r a. HasField x r a =&gt; r -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">getField</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-string">&quot;certs&quot;</span></span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621679392530"><span class="hs-identifier hs-var">tbody</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-485"></span><span>            </span><span class="annot"><span class="annottext">txInfoWdrl :: [(StakingCredential, Integer)]
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.txInfoWdrl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map StakingCredential Integer -&gt; [(StakingCredential, Integer)]
forall k a. Map k a -&gt; [(k, a)]
</span><a href="../../../../containers/html/src"><span class="hs-identifier hs-var">Map.toList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Wdrl (Crypto era) -&gt; Map StakingCredential Integer
forall crypto. Wdrl crypto -&gt; Map StakingCredential Integer
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transWdrl"><span class="hs-identifier hs-var">transWdrl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxBody era -&gt; Wdrl (Crypto era)
forall k (x :: k) r a. HasField x r a =&gt; r -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">getField</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-string">&quot;wdrls&quot;</span></span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621679392530"><span class="hs-identifier hs-var">tbody</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-486"></span><span>            </span><span class="annot"><span class="annottext">txInfoValidRange :: POSIXTimeRange
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.txInfoValidRange</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">POSIXTimeRange
</span><a href="#local-6989586621679392540"><span class="hs-identifier hs-var">timeRange</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-487"></span><span>            </span><span class="annot"><span class="annottext">txInfoSignatories :: [PubKeyHash]
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.txInfoSignatories</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(KeyHash 'Witness (Crypto era) -&gt; PubKeyHash)
-&gt; [KeyHash 'Witness (Crypto era)] -&gt; [PubKeyHash]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">KeyHash 'Witness (Crypto era) -&gt; PubKeyHash
forall (d :: KeyRole) c. KeyHash d c -&gt; PubKeyHash
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transKeyHash"><span class="hs-identifier hs-var">transKeyHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set (KeyHash 'Witness (Crypto era))
-&gt; [KeyHash 'Witness (Crypto era)]
forall a. Set a -&gt; [a]
</span><a href="../../../../containers/html/src"><span class="hs-identifier hs-var">Set.toList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxBody era -&gt; Set (KeyHash 'Witness (Crypto era))
forall k (x :: k) r a. HasField x r a =&gt; r -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">getField</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-string">&quot;reqSignerHashes&quot;</span></span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621679392530"><span class="hs-identifier hs-var">tbody</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-488"></span><span>            </span><span class="annot"><span class="annottext">txInfoData :: [(DatumHash, Datum)]
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.txInfoData</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((DataHash (Crypto era), Data era) -&gt; (DatumHash, Datum))
-&gt; [(DataHash (Crypto era), Data era)] -&gt; [(DatumHash, Datum)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(DataHash (Crypto era), Data era) -&gt; (DatumHash, Datum)
forall c era. (DataHash c, Data era) -&gt; (DatumHash, Datum)
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transDataPair"><span class="hs-identifier hs-var">transDataPair</span></a></span><span> </span><span class="annot"><span class="annottext">[(DataHash (Crypto era), Data era)]
</span><a href="#local-6989586621679392509"><span class="hs-identifier hs-var">datpairs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-489"></span><span>            </span><span class="annot"><span class="annottext">txInfoId :: TxId
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.txInfoId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BuiltinByteString -&gt; TxId
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.TxId</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SafeHash (Crypto era) EraIndependentTxBody -&gt; BuiltinByteString
forall c i. SafeHash c i -&gt; BuiltinByteString
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transSafeHash"><span class="hs-identifier hs-var">transSafeHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxBody era -&gt; SafeHash (Crypto era) EraIndependentTxBody
forall c i x.
(HasAlgorithm c, HashAnnotated x i c) =&gt;
x -&gt; SafeHash c i
</span><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-var">hashAnnotated</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Crypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392547"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621679392530"><span class="hs-identifier hs-var">tbody</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-490"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-491"></span><span>    </span><span class="annot"><span class="annottext">Language
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TranslationError (Crypto era)
-&gt; Either (TranslationError (Crypto era)) VersionedTxInfo
forall a b. a -&gt; Either a b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">(TranslationError (Crypto era)
 -&gt; Either (TranslationError (Crypto era)) VersionedTxInfo)
-&gt; TranslationError (Crypto era)
-&gt; Either (TranslationError (Crypto era)) VersionedTxInfo
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Language -&gt; TranslationError (Crypto era)
forall crypto. Language -&gt; TranslationError crypto
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#LanguageNotSupported"><span class="hs-identifier hs-var">LanguageNotSupported</span></a></span><span> </span><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621679392545"><span class="hs-identifier hs-var">lang</span></a></span><span>
</span><span id="line-492"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-493"></span><span>    </span><span class="annot"><a href="#local-6989586621679392530"><span class="hs-identifier hs-type">tbody</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Core.TxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392547"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-494"></span><span>    </span><span id="local-6989586621679392530"><span class="annot"><span class="annottext">tbody :: TxBody era
</span><a href="#local-6989586621679392530"><span class="hs-identifier hs-var hs-var">tbody</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tx era -&gt; TxBody era
forall k (x :: k) r a. HasField x r a =&gt; r -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">getField</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-string">&quot;body&quot;</span></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621679392541"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-495"></span><span>    </span><span id="local-6989586621679392507"><span class="annot"><span class="annottext">_witnesses :: TxWitness era
</span><a href="#local-6989586621679392507"><span class="hs-identifier hs-var hs-var">_witnesses</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tx era -&gt; TxWitness era
forall k (x :: k) r a. HasField x r a =&gt; r -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">getField</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-string">&quot;wits&quot;</span></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621679392541"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-496"></span><span>    </span><span id="local-6989586621679392523"><span class="annot"><span class="annottext">outs :: StrictSeq (TxOut era)
</span><a href="#local-6989586621679392523"><span class="hs-identifier hs-var hs-var">outs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxBody era -&gt; StrictSeq (TxOut era)
forall k (x :: k) r a. HasField x r a =&gt; r -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">getField</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-string">&quot;outputs&quot;</span></span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621679392530"><span class="hs-identifier hs-var">tbody</span></a></span><span>
</span><span id="line-497"></span><span>    </span><span id="local-6989586621679392520"><span class="annot"><span class="annottext">fee :: Coin
</span><a href="#local-6989586621679392520"><span class="hs-identifier hs-var hs-var">fee</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxBody era -&gt; Coin
forall k (x :: k) r a. HasField x r a =&gt; r -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">getField</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-string">&quot;txfee&quot;</span></span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621679392530"><span class="hs-identifier hs-var">tbody</span></a></span><span>
</span><span id="line-498"></span><span>    </span><span id="local-6989586621679392518"><span class="annot"><span class="annottext">forge :: Value (Crypto era)
</span><a href="#local-6989586621679392518"><span class="hs-identifier hs-var hs-var">forge</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxBody era -&gt; Value (Crypto era)
forall k (x :: k) r a. HasField x r a =&gt; r -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">getField</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-string">&quot;mint&quot;</span></span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621679392530"><span class="hs-identifier hs-var">tbody</span></a></span><span>
</span><span id="line-499"></span><span>    </span><span id="local-6989586621679392539"><span class="annot"><span class="annottext">interval :: ValidityInterval
</span><a href="#local-6989586621679392539"><span class="hs-identifier hs-var hs-var">interval</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxBody era -&gt; ValidityInterval
forall k (x :: k) r a. HasField x r a =&gt; r -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">getField</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-string">&quot;vldt&quot;</span></span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621679392530"><span class="hs-identifier hs-var">tbody</span></a></span><span>
</span><span id="line-500"></span><span>
</span><span id="line-501"></span><span>    </span><span id="local-6989586621679392509"><span class="annot"><span class="annottext">datpairs :: [(DataHash (Crypto era), Data era)]
</span><a href="#local-6989586621679392509"><span class="hs-identifier hs-var hs-var">datpairs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map (DataHash (Crypto era)) (Data era)
-&gt; [(DataHash (Crypto era), Data era)]
forall k a. Map k a -&gt; [(k, a)]
</span><a href="../../../../containers/html/src"><span class="hs-identifier hs-var">Map.toList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxDats era -&gt; Map (DataHash (Crypto era)) (Data era)
forall era. TxDats era -&gt; Map (DataHash (Crypto era)) (Data era)
</span><a href="Cardano.Ledger.Alonzo.TxWitness.html#unTxDats"><span class="hs-identifier hs-var">unTxDats</span></a></span><span> </span><span class="annot"><span class="annottext">(TxDats era -&gt; Map (DataHash (Crypto era)) (Data era))
-&gt; TxDats era -&gt; Map (DataHash (Crypto era)) (Data era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxWitness era -&gt; TxDats era
forall era. TxWitness era -&gt; TxDats era
</span><a href="Cardano.Ledger.Alonzo.TxWitness.html#txdats%27"><span class="hs-identifier hs-var">txdats'</span></a></span><span> </span><span class="annot"><span class="annottext">TxWitness era
</span><a href="#local-6989586621679392507"><span class="hs-identifier hs-var">_witnesses</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-502"></span><span>
</span><span id="line-503"></span><span class="hs-comment">-- | valContext pairs transaction data with a script purpose.</span><span>
</span><span id="line-504"></span><span class="hs-comment">--   See figure 22 of the Alonzo specification.</span><span>
</span><span id="line-505"></span><span id="local-6989586621679392506"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#valContext"><span class="hs-identifier hs-type">valContext</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-506"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#VersionedTxInfo"><span class="hs-identifier hs-type">VersionedTxInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-507"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Tx.html#ScriptPurpose"><span class="hs-identifier hs-type">ScriptPurpose</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Crypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392506"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-508"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392506"><span class="hs-identifier hs-type">era</span></a></span></span><span>
</span><span id="line-509"></span><span id="valContext"><span class="annot"><span class="annottext">valContext :: VersionedTxInfo -&gt; ScriptPurpose (Crypto era) -&gt; Data era
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#valContext"><span class="hs-identifier hs-var hs-var">valContext</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#TxInfoPV1"><span class="hs-identifier hs-type">TxInfoPV1</span></a></span><span> </span><span id="local-6989586621679392504"><span class="annot"><span class="annottext">TxInfo
</span><a href="#local-6989586621679392504"><span class="hs-identifier hs-var">txinfo</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679392503"><span class="annot"><span class="annottext">ScriptPurpose (Crypto era)
</span><a href="#local-6989586621679392503"><span class="hs-identifier hs-var">sp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Data -&gt; Data era
forall era. Data -&gt; Data era
</span><a href="Cardano.Ledger.Alonzo.Data.html#Data"><span class="hs-identifier hs-var">Data</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptContext -&gt; Data
forall a. ToData a =&gt; a -&gt; Data
</span><a href="../../../../plutus-tx/html/src"><span class="hs-identifier hs-var">PV1.toData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxInfo -&gt; ScriptPurpose -&gt; ScriptContext
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.ScriptContext</span></a></span><span> </span><span class="annot"><span class="annottext">TxInfo
</span><a href="#local-6989586621679392504"><span class="hs-identifier hs-var">txinfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptPurpose (Crypto era) -&gt; ScriptPurpose
forall crypto. ScriptPurpose crypto -&gt; ScriptPurpose
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transScriptPurpose"><span class="hs-identifier hs-var">transScriptPurpose</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptPurpose (Crypto era)
</span><a href="#local-6989586621679392503"><span class="hs-identifier hs-var">sp</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-510"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#valContext"><span class="hs-identifier hs-var">valContext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#TxInfoPV2"><span class="hs-identifier hs-type">TxInfoPV2</span></a></span><span> </span><span id="local-6989586621679392499"><span class="annot"><span class="annottext">TxInfo
</span><a href="#local-6989586621679392499"><span class="hs-identifier hs-var">txinfo</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679392498"><span class="annot"><span class="annottext">ScriptPurpose (Crypto era)
</span><a href="#local-6989586621679392498"><span class="hs-identifier hs-var">sp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Data -&gt; Data era
forall era. Data -&gt; Data era
</span><a href="Cardano.Ledger.Alonzo.Data.html#Data"><span class="hs-identifier hs-var">Data</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptContext -&gt; Data
forall a. ToData a =&gt; a -&gt; Data
</span><a href="../../../../plutus-tx/html/src"><span class="hs-identifier hs-var">PV2.toData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxInfo -&gt; ScriptPurpose -&gt; ScriptContext
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV2.ScriptContext</span></a></span><span> </span><span class="annot"><span class="annottext">TxInfo
</span><a href="#local-6989586621679392499"><span class="hs-identifier hs-var">txinfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptPurpose (Crypto era) -&gt; ScriptPurpose
forall crypto. ScriptPurpose crypto -&gt; ScriptPurpose
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transScriptPurpose"><span class="hs-identifier hs-var">transScriptPurpose</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptPurpose (Crypto era)
</span><a href="#local-6989586621679392498"><span class="hs-identifier hs-var">sp</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-511"></span><span>
</span><span id="line-512"></span><span id="local-6989586621679392495"><span id="local-6989586621679392496"></span></span><span class="hs-keyword">data</span><span> </span><span id="ScriptFailure"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#ScriptFailure"><span class="hs-identifier hs-var">ScriptFailure</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PlutusSF"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusSF"><span class="hs-identifier hs-var">PlutusSF</span></a></span></span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusDebug"><span class="hs-identifier hs-type">PlutusDebug</span></a></span><span>
</span><span id="line-513"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679392490"><span id="local-6989586621679392492"><span class="annot"><span class="annottext">ScriptFailure -&gt; ScriptFailure -&gt; Bool
(ScriptFailure -&gt; ScriptFailure -&gt; Bool)
-&gt; (ScriptFailure -&gt; ScriptFailure -&gt; Bool) -&gt; Eq ScriptFailure
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: ScriptFailure -&gt; ScriptFailure -&gt; Bool
$c/= :: ScriptFailure -&gt; ScriptFailure -&gt; Bool
== :: ScriptFailure -&gt; ScriptFailure -&gt; Bool
$c== :: ScriptFailure -&gt; ScriptFailure -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. ScriptFailure -&gt; Rep ScriptFailure x)
-&gt; (forall x. Rep ScriptFailure x -&gt; ScriptFailure)
-&gt; Generic ScriptFailure
forall x. Rep ScriptFailure x -&gt; ScriptFailure
forall x. ScriptFailure -&gt; Rep ScriptFailure x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep ScriptFailure x -&gt; ScriptFailure
$cfrom :: forall x. ScriptFailure -&gt; Rep ScriptFailure x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679392482"><span id="local-6989586621679392484"><span id="local-6989586621679392486"><span class="annot"><span class="annottext">Context -&gt; ScriptFailure -&gt; IO (Maybe ThunkInfo)
Proxy ScriptFailure -&gt; String
(Context -&gt; ScriptFailure -&gt; IO (Maybe ThunkInfo))
-&gt; (Context -&gt; ScriptFailure -&gt; IO (Maybe ThunkInfo))
-&gt; (Proxy ScriptFailure -&gt; String)
-&gt; NoThunks ScriptFailure
forall a.
(Context -&gt; a -&gt; IO (Maybe ThunkInfo))
-&gt; (Context -&gt; a -&gt; IO (Maybe ThunkInfo))
-&gt; (Proxy a -&gt; String)
-&gt; NoThunks a
showTypeOf :: Proxy ScriptFailure -&gt; String
$cshowTypeOf :: Proxy ScriptFailure -&gt; String
wNoThunks :: Context -&gt; ScriptFailure -&gt; IO (Maybe ThunkInfo)
$cwNoThunks :: Context -&gt; ScriptFailure -&gt; IO (Maybe ThunkInfo)
noThunks :: Context -&gt; ScriptFailure -&gt; IO (Maybe ThunkInfo)
$cnoThunks :: Context -&gt; ScriptFailure -&gt; IO (Maybe ThunkInfo)
</span><a href="#local-6989586621679392482"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">NoThunks</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-514"></span><span>
</span><span id="line-515"></span><span id="local-6989586621679392480"><span id="local-6989586621679392481"></span></span><span class="hs-keyword">data</span><span> </span><span id="ScriptResult"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#ScriptResult"><span class="hs-identifier hs-var">ScriptResult</span></a></span></span><span>
</span><span id="line-516"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="Passes"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#Passes"><span class="hs-identifier hs-var">Passes</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusDebug"><span class="hs-identifier hs-type">PlutusDebug</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-517"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Fails"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#Fails"><span class="hs-identifier hs-var">Fails</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusDebug"><span class="hs-identifier hs-type">PlutusDebug</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">NonEmpty</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#ScriptFailure"><span class="hs-identifier hs-type">ScriptFailure</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-518"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. ScriptResult -&gt; Rep ScriptResult x)
-&gt; (forall x. Rep ScriptResult x -&gt; ScriptResult)
-&gt; Generic ScriptResult
forall x. Rep ScriptResult x -&gt; ScriptResult
forall x. ScriptResult -&gt; Rep ScriptResult x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep ScriptResult x -&gt; ScriptResult
$cfrom :: forall x. ScriptResult -&gt; Rep ScriptResult x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-519"></span><span>
</span><span id="line-520"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#scriptPass"><span class="hs-identifier hs-type">scriptPass</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusDebug"><span class="hs-identifier hs-type">PlutusDebug</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#ScriptResult"><span class="hs-identifier hs-type">ScriptResult</span></a></span><span>
</span><span id="line-521"></span><span id="scriptPass"><span class="annot"><span class="annottext">scriptPass :: PlutusDebug -&gt; ScriptResult
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#scriptPass"><span class="hs-identifier hs-var hs-var">scriptPass</span></a></span></span><span> </span><span id="local-6989586621679392474"><span class="annot"><span class="annottext">PlutusDebug
</span><a href="#local-6989586621679392474"><span class="hs-identifier hs-var">pd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[PlutusDebug] -&gt; ScriptResult
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#Passes"><span class="hs-identifier hs-var">Passes</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">PlutusDebug
</span><a href="#local-6989586621679392474"><span class="hs-identifier hs-var">pd</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-522"></span><span>
</span><span id="line-523"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#scriptFail"><span class="hs-identifier hs-type">scriptFail</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#ScriptFailure"><span class="hs-identifier hs-type">ScriptFailure</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#ScriptResult"><span class="hs-identifier hs-type">ScriptResult</span></a></span><span>
</span><span id="line-524"></span><span id="scriptFail"><span class="annot"><span class="annottext">scriptFail :: ScriptFailure -&gt; ScriptResult
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#scriptFail"><span class="hs-identifier hs-var hs-var">scriptFail</span></a></span></span><span> </span><span id="local-6989586621679392472"><span class="annot"><span class="annottext">ScriptFailure
</span><a href="#local-6989586621679392472"><span class="hs-identifier hs-var">pd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[PlutusDebug] -&gt; NonEmpty ScriptFailure -&gt; ScriptResult
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#Fails"><span class="hs-identifier hs-var">Fails</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptFailure -&gt; NonEmpty ScriptFailure
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptFailure
</span><a href="#local-6989586621679392472"><span class="hs-identifier hs-var">pd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-525"></span><span>
</span><span id="line-526"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679392466"><span id="local-6989586621679392468"><span id="local-6989586621679392470"><span class="annot"><a href="../../../../nothunks/html/src"><span class="hs-identifier hs-type">NoThunks</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#ScriptResult"><span class="hs-identifier hs-type">ScriptResult</span></a></span></span></span></span><span>
</span><span id="line-527"></span><span>
</span><span id="line-528"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679392461"><span id="local-6989586621679392463"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Semigroup</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#ScriptResult"><span class="hs-identifier hs-type">ScriptResult</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-529"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#Passes"><span class="hs-identifier hs-type">Passes</span></a></span><span> </span><span id="local-6989586621679392459"><span class="annot"><span class="annottext">[PlutusDebug]
</span><a href="#local-6989586621679392459"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679392458"><span class="annot"><span class="annottext">&lt;&gt; :: ScriptResult -&gt; ScriptResult -&gt; ScriptResult
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;&gt;</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#Passes"><span class="hs-identifier hs-type">Passes</span></a></span><span> </span><span id="local-6989586621679392457"><span class="annot"><span class="annottext">[PlutusDebug]
</span><a href="#local-6989586621679392457"><span class="hs-identifier hs-var">qs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[PlutusDebug] -&gt; ScriptResult
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#Passes"><span class="hs-identifier hs-var">Passes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[PlutusDebug]
</span><a href="#local-6989586621679392459"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="annot"><span class="annottext">[PlutusDebug] -&gt; [PlutusDebug] -&gt; [PlutusDebug]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[PlutusDebug]
</span><a href="#local-6989586621679392457"><span class="hs-identifier hs-var">qs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-530"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#Passes"><span class="hs-identifier hs-type">Passes</span></a></span><span> </span><span id="local-6989586621679392456"><span class="annot"><span class="annottext">[PlutusDebug]
</span><a href="#local-6989586621679392456"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#Fails"><span class="hs-identifier hs-type">Fails</span></a></span><span> </span><span id="local-6989586621679392455"><span class="annot"><span class="annottext">[PlutusDebug]
</span><a href="#local-6989586621679392455"><span class="hs-identifier hs-var">qs</span></a></span></span><span> </span><span id="local-6989586621679392454"><span class="annot"><span class="annottext">NonEmpty ScriptFailure
</span><a href="#local-6989586621679392454"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[PlutusDebug] -&gt; NonEmpty ScriptFailure -&gt; ScriptResult
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#Fails"><span class="hs-identifier hs-var">Fails</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[PlutusDebug]
</span><a href="#local-6989586621679392456"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="annot"><span class="annottext">[PlutusDebug] -&gt; [PlutusDebug] -&gt; [PlutusDebug]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[PlutusDebug]
</span><a href="#local-6989586621679392455"><span class="hs-identifier hs-var">qs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NonEmpty ScriptFailure
</span><a href="#local-6989586621679392454"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-531"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#Fails"><span class="hs-identifier hs-type">Fails</span></a></span><span> </span><span id="local-6989586621679392453"><span class="annot"><span class="annottext">[PlutusDebug]
</span><a href="#local-6989586621679392453"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span id="local-6989586621679392452"><span class="annot"><span class="annottext">NonEmpty ScriptFailure
</span><a href="#local-6989586621679392452"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#Passes"><span class="hs-identifier hs-type">Passes</span></a></span><span> </span><span id="local-6989586621679392451"><span class="annot"><span class="annottext">[PlutusDebug]
</span><a href="#local-6989586621679392451"><span class="hs-identifier hs-var">qs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[PlutusDebug] -&gt; NonEmpty ScriptFailure -&gt; ScriptResult
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#Fails"><span class="hs-identifier hs-var">Fails</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[PlutusDebug]
</span><a href="#local-6989586621679392453"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="annot"><span class="annottext">[PlutusDebug] -&gt; [PlutusDebug] -&gt; [PlutusDebug]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[PlutusDebug]
</span><a href="#local-6989586621679392451"><span class="hs-identifier hs-var">qs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NonEmpty ScriptFailure
</span><a href="#local-6989586621679392452"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-532"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#Fails"><span class="hs-identifier hs-type">Fails</span></a></span><span> </span><span id="local-6989586621679392450"><span class="annot"><span class="annottext">[PlutusDebug]
</span><a href="#local-6989586621679392450"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span id="local-6989586621679392449"><span class="annot"><span class="annottext">NonEmpty ScriptFailure
</span><a href="#local-6989586621679392449"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#Fails"><span class="hs-identifier hs-type">Fails</span></a></span><span> </span><span id="local-6989586621679392448"><span class="annot"><span class="annottext">[PlutusDebug]
</span><a href="#local-6989586621679392448"><span class="hs-identifier hs-var">qs</span></a></span></span><span> </span><span id="local-6989586621679392447"><span class="annot"><span class="annottext">NonEmpty ScriptFailure
</span><a href="#local-6989586621679392447"><span class="hs-identifier hs-var">ys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[PlutusDebug] -&gt; NonEmpty ScriptFailure -&gt; ScriptResult
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#Fails"><span class="hs-identifier hs-var">Fails</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[PlutusDebug]
</span><a href="#local-6989586621679392450"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="annot"><span class="annottext">[PlutusDebug] -&gt; [PlutusDebug] -&gt; [PlutusDebug]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[PlutusDebug]
</span><a href="#local-6989586621679392448"><span class="hs-identifier hs-var">qs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NonEmpty ScriptFailure
</span><a href="#local-6989586621679392449"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty ScriptFailure
-&gt; NonEmpty ScriptFailure -&gt; NonEmpty ScriptFailure
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty ScriptFailure
</span><a href="#local-6989586621679392447"><span class="hs-identifier hs-var">ys</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-533"></span><span>
</span><span id="line-534"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679392441"><span id="local-6989586621679392443"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#ScriptResult"><span class="hs-identifier hs-type">ScriptResult</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-535"></span><span>  </span><span id="local-6989586621679392439"><span class="annot"><span class="annottext">mempty :: ScriptResult
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">mempty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[PlutusDebug] -&gt; ScriptResult
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#Passes"><span class="hs-identifier hs-var">Passes</span></a></span><span> </span><span class="annot"><span class="annottext">[PlutusDebug]
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-536"></span><span>
</span><span id="line-537"></span><span id="local-6989586621679392437"><span id="local-6989586621679392438"></span></span><span class="hs-keyword">data</span><span> </span><span id="PlutusDebug"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusDebug"><span class="hs-identifier hs-var">PlutusDebug</span></a></span></span><span>
</span><span id="line-538"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="PlutusDebugV1"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusDebugV1"><span class="hs-identifier hs-var">PlutusDebugV1</span></a></span></span><span>
</span><span id="line-539"></span><span>      </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Scripts.html#CostModel"><span class="hs-identifier hs-type">CostModel</span></a></span><span>
</span><span id="line-540"></span><span>      </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Scripts.html#ExUnits"><span class="hs-identifier hs-type">ExUnits</span></a></span><span>
</span><span id="line-541"></span><span>      </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">SBS.ShortByteString</span></a></span><span>
</span><span id="line-542"></span><span>      </span><span class="hs-special">[</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">PV1.Data</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-543"></span><span>      </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">ProtVer</span></a></span><span>
</span><span id="line-544"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PlutusDebugV2"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusDebugV2"><span class="hs-identifier hs-var">PlutusDebugV2</span></a></span></span><span>
</span><span id="line-545"></span><span>      </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Scripts.html#CostModel"><span class="hs-identifier hs-type">CostModel</span></a></span><span>
</span><span id="line-546"></span><span>      </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Scripts.html#ExUnits"><span class="hs-identifier hs-type">ExUnits</span></a></span><span>
</span><span id="line-547"></span><span>      </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">SBS.ShortByteString</span></a></span><span>
</span><span id="line-548"></span><span>      </span><span class="hs-special">[</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">PV2.Data</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-549"></span><span>      </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">ProtVer</span></a></span><span>
</span><span id="line-550"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679392431"><span id="local-6989586621679392433"><span class="annot"><span class="annottext">PlutusDebug -&gt; PlutusDebug -&gt; Bool
(PlutusDebug -&gt; PlutusDebug -&gt; Bool)
-&gt; (PlutusDebug -&gt; PlutusDebug -&gt; Bool) -&gt; Eq PlutusDebug
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: PlutusDebug -&gt; PlutusDebug -&gt; Bool
$c/= :: PlutusDebug -&gt; PlutusDebug -&gt; Bool
== :: PlutusDebug -&gt; PlutusDebug -&gt; Bool
$c== :: PlutusDebug -&gt; PlutusDebug -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. PlutusDebug -&gt; Rep PlutusDebug x)
-&gt; (forall x. Rep PlutusDebug x -&gt; PlutusDebug)
-&gt; Generic PlutusDebug
forall x. Rep PlutusDebug x -&gt; PlutusDebug
forall x. PlutusDebug -&gt; Rep PlutusDebug x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep PlutusDebug x -&gt; PlutusDebug
$cfrom :: forall x. PlutusDebug -&gt; Rep PlutusDebug x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679392423"><span id="local-6989586621679392425"><span id="local-6989586621679392427"><span class="annot"><span class="annottext">Context -&gt; PlutusDebug -&gt; IO (Maybe ThunkInfo)
Proxy PlutusDebug -&gt; String
(Context -&gt; PlutusDebug -&gt; IO (Maybe ThunkInfo))
-&gt; (Context -&gt; PlutusDebug -&gt; IO (Maybe ThunkInfo))
-&gt; (Proxy PlutusDebug -&gt; String)
-&gt; NoThunks PlutusDebug
forall a.
(Context -&gt; a -&gt; IO (Maybe ThunkInfo))
-&gt; (Context -&gt; a -&gt; IO (Maybe ThunkInfo))
-&gt; (Proxy a -&gt; String)
-&gt; NoThunks a
showTypeOf :: Proxy PlutusDebug -&gt; String
$cshowTypeOf :: Proxy PlutusDebug -&gt; String
wNoThunks :: Context -&gt; PlutusDebug -&gt; IO (Maybe ThunkInfo)
$cwNoThunks :: Context -&gt; PlutusDebug -&gt; IO (Maybe ThunkInfo)
noThunks :: Context -&gt; PlutusDebug -&gt; IO (Maybe ThunkInfo)
$cnoThunks :: Context -&gt; PlutusDebug -&gt; IO (Maybe ThunkInfo)
</span><a href="#local-6989586621679392423"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">NoThunks</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-551"></span><span>
</span><span id="line-552"></span><span class="hs-comment">-- There is no Show instance for PlutusDebug intentionally, because it is too</span><span>
</span><span id="line-553"></span><span class="hs-comment">-- expensive and it will be too tempting to use it incorrectly. If needed for</span><span>
</span><span id="line-554"></span><span class="hs-comment">-- testing use 'StandaloneDeriving', otherwise define an efficient way to display</span><span>
</span><span id="line-555"></span><span class="hs-comment">-- this info.</span><span>
</span><span id="line-556"></span><span>
</span><span id="line-557"></span><span class="hs-keyword">data</span><span> </span><span id="PlutusError"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusError"><span class="hs-identifier hs-var">PlutusError</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PlutusErrorV1"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusErrorV1"><span class="hs-identifier hs-var">PlutusErrorV1</span></a></span></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.EvaluationError</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="PlutusErrorV2"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusErrorV2"><span class="hs-identifier hs-var">PlutusErrorV2</span></a></span></span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV2.EvaluationError</span></a></span><span>
</span><span id="line-558"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679392415"><span id="local-6989586621679392417"><span id="local-6989586621679392419"><span class="annot"><span class="annottext">Int -&gt; PlutusError -&gt; ShowS
[PlutusError] -&gt; ShowS
PlutusError -&gt; String
(Int -&gt; PlutusError -&gt; ShowS)
-&gt; (PlutusError -&gt; String)
-&gt; ([PlutusError] -&gt; ShowS)
-&gt; Show PlutusError
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [PlutusError] -&gt; ShowS
$cshowList :: [PlutusError] -&gt; ShowS
show :: PlutusError -&gt; String
$cshow :: PlutusError -&gt; String
showsPrec :: Int -&gt; PlutusError -&gt; ShowS
$cshowsPrec :: Int -&gt; PlutusError -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-559"></span><span>
</span><span id="line-560"></span><span class="hs-keyword">data</span><span> </span><span id="PlutusDebugInfo"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusDebugInfo"><span class="hs-identifier hs-var">PlutusDebugInfo</span></a></span></span><span>
</span><span id="line-561"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="DebugSuccess"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#DebugSuccess"><span class="hs-identifier hs-var">DebugSuccess</span></a></span></span><span> </span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">PV1.ExBudget</span></a></span><span>
</span><span id="line-562"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DebugCannotDecode"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#DebugCannotDecode"><span class="hs-identifier hs-var">DebugCannotDecode</span></a></span></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-563"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DebugInfo"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#DebugInfo"><span class="hs-identifier hs-var">DebugInfo</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusError"><span class="hs-identifier hs-type">PlutusError</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusDebug"><span class="hs-identifier hs-type">PlutusDebug</span></a></span><span>
</span><span id="line-564"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DebugBadHex"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#DebugBadHex"><span class="hs-identifier hs-var">DebugBadHex</span></a></span></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-565"></span><span>
</span><span id="line-566"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679392405"><span id="local-6989586621679392407"><span class="annot"><a href="../../../../cardano-binary/html/src"><span class="hs-identifier hs-type">ToCBOR</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusDebug"><span class="hs-identifier hs-type">PlutusDebug</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-567"></span><span>  </span><span id="local-6989586621679392404"><span class="annot"><span class="annottext">toCBOR :: PlutusDebug -&gt; Encoding
</span><a href="#local-6989586621679392404"><span class="hs-identifier hs-var hs-var hs-var hs-var">toCBOR</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusDebugV1"><span class="hs-identifier hs-type">PlutusDebugV1</span></a></span><span> </span><span id="local-6989586621679392403"><span class="annot"><span class="annottext">CostModel
</span><a href="#local-6989586621679392403"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679392402"><span class="annot"><span class="annottext">ExUnits
</span><a href="#local-6989586621679392402"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679392401"><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679392401"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679392400"><span class="annot"><span class="annottext">[Data]
</span><a href="#local-6989586621679392400"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span id="local-6989586621679392399"><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679392399"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Encode 'Open PlutusDebug -&gt; Encoding
forall (w :: Wrapped) t. Encode w t -&gt; Encoding
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">(Encode 'Open PlutusDebug -&gt; Encoding)
-&gt; Encode 'Open PlutusDebug -&gt; Encoding
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(CostModel
 -&gt; ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug)
-&gt; Word
-&gt; Encode
     'Open
     (CostModel
      -&gt; ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug)
forall t. t -&gt; Word -&gt; Encode 'Open t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="annot"><span class="annottext">CostModel
-&gt; ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusDebugV1"><span class="hs-identifier hs-var">PlutusDebugV1</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Encode
  'Open
  (CostModel
   -&gt; ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug)
-&gt; Encode ('Closed 'Dense) CostModel
-&gt; Encode
     'Open
     (ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">CostModel -&gt; Encode ('Closed 'Dense) CostModel
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">CostModel
</span><a href="#local-6989586621679392403"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Encode
  'Open
  (ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug)
-&gt; Encode ('Closed 'Dense) ExUnits
-&gt; Encode
     'Open (ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExUnits -&gt; Encode ('Closed 'Dense) ExUnits
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">ExUnits
</span><a href="#local-6989586621679392402"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Encode 'Open (ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug)
-&gt; Encode ('Closed 'Dense) ShortByteString
-&gt; Encode 'Open ([Data] -&gt; ProtVer -&gt; PlutusDebug)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ShortByteString -&gt; Encode ('Closed 'Dense) ShortByteString
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679392401"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Encode 'Open ([Data] -&gt; ProtVer -&gt; PlutusDebug)
-&gt; Encode ('Closed 'Dense) [Data]
-&gt; Encode 'Open (ProtVer -&gt; PlutusDebug)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Data] -&gt; Encode ('Closed 'Dense) [Data]
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">[Data]
</span><a href="#local-6989586621679392400"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">Encode 'Open (ProtVer -&gt; PlutusDebug)
-&gt; Encode ('Closed 'Dense) ProtVer -&gt; Encode 'Open PlutusDebug
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ProtVer -&gt; Encode ('Closed 'Dense) ProtVer
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679392399"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-568"></span><span>  </span><span class="annot"><a href="../../../../cardano-binary/html/src"><span class="hs-identifier hs-var">toCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusDebugV2"><span class="hs-identifier hs-type">PlutusDebugV2</span></a></span><span> </span><span id="local-6989586621679392398"><span class="annot"><span class="annottext">CostModel
</span><a href="#local-6989586621679392398"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679392397"><span class="annot"><span class="annottext">ExUnits
</span><a href="#local-6989586621679392397"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679392396"><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679392396"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679392395"><span class="annot"><span class="annottext">[Data]
</span><a href="#local-6989586621679392395"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span id="local-6989586621679392394"><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679392394"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Encode 'Open PlutusDebug -&gt; Encoding
forall (w :: Wrapped) t. Encode w t -&gt; Encoding
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">encode</span></a></span><span> </span><span class="annot"><span class="annottext">(Encode 'Open PlutusDebug -&gt; Encoding)
-&gt; Encode 'Open PlutusDebug -&gt; Encoding
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(CostModel
 -&gt; ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug)
-&gt; Word
-&gt; Encode
     'Open
     (CostModel
      -&gt; ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug)
forall t. t -&gt; Word -&gt; Encode 'Open t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">Sum</span></a></span><span> </span><span class="annot"><span class="annottext">CostModel
-&gt; ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusDebugV2"><span class="hs-identifier hs-var">PlutusDebugV2</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Encode
  'Open
  (CostModel
   -&gt; ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug)
-&gt; Encode ('Closed 'Dense) CostModel
-&gt; Encode
     'Open
     (ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">CostModel -&gt; Encode ('Closed 'Dense) CostModel
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">CostModel
</span><a href="#local-6989586621679392398"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Encode
  'Open
  (ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug)
-&gt; Encode ('Closed 'Dense) ExUnits
-&gt; Encode
     'Open (ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExUnits -&gt; Encode ('Closed 'Dense) ExUnits
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">ExUnits
</span><a href="#local-6989586621679392397"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Encode 'Open (ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug)
-&gt; Encode ('Closed 'Dense) ShortByteString
-&gt; Encode 'Open ([Data] -&gt; ProtVer -&gt; PlutusDebug)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ShortByteString -&gt; Encode ('Closed 'Dense) ShortByteString
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679392396"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Encode 'Open ([Data] -&gt; ProtVer -&gt; PlutusDebug)
-&gt; Encode ('Closed 'Dense) [Data]
-&gt; Encode 'Open (ProtVer -&gt; PlutusDebug)
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Data] -&gt; Encode ('Closed 'Dense) [Data]
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">[Data]
</span><a href="#local-6989586621679392395"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">Encode 'Open (ProtVer -&gt; PlutusDebug)
-&gt; Encode ('Closed 'Dense) ProtVer -&gt; Encode 'Open PlutusDebug
forall (w :: Wrapped) a t (r :: Density).
Encode w (a -&gt; t) -&gt; Encode ('Closed r) a -&gt; Encode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">!&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ProtVer -&gt; Encode ('Closed 'Dense) ProtVer
forall t. ToCBOR t =&gt; t -&gt; Encode ('Closed 'Dense) t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">To</span></a></span><span> </span><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679392394"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-569"></span><span>
</span><span id="line-570"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679392390"><span class="annot"><a href="../../../../cardano-binary/html/src"><span class="hs-identifier hs-type">FromCBOR</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusDebug"><span class="hs-identifier hs-type">PlutusDebug</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-571"></span><span>  </span><span id="local-6989586621679392389"><span class="annot"><span class="annottext">fromCBOR :: Decoder s PlutusDebug
</span><a href="#local-6989586621679392389"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromCBOR</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Decode ('Closed 'Dense) PlutusDebug -&gt; Decoder s PlutusDebug
forall (w :: Wrapped) t s. Decode w t -&gt; Decoder s t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">decode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
-&gt; (Word -&gt; Decode 'Open PlutusDebug)
-&gt; Decode ('Closed 'Dense) PlutusDebug
forall t.
String -&gt; (Word -&gt; Decode 'Open t) -&gt; Decode ('Closed 'Dense) t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">Summands</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;PlutusDebug&quot;</span></span><span> </span><span class="annot"><span class="annottext">Word -&gt; Decode 'Open PlutusDebug
</span><a href="#local-6989586621679392388"><span class="hs-identifier hs-var">dec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-572"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-573"></span><span>      </span><span id="local-6989586621679392388"><span class="annot"><span class="annottext">dec :: Word -&gt; Decode 'Open PlutusDebug
</span><a href="#local-6989586621679392388"><span class="hs-identifier hs-var hs-var">dec</span></a></span></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-574"></span><span>        </span><span class="annot"><span class="annottext">(CostModel
 -&gt; ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug)
-&gt; Decode
     'Open
     (CostModel
      -&gt; ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug)
forall t. t -&gt; Decode 'Open t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">SumD</span></a></span><span> </span><span class="annot"><span class="annottext">CostModel
-&gt; ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusDebugV1"><span class="hs-identifier hs-var">PlutusDebugV1</span></a></span><span>
</span><span id="line-575"></span><span>          </span><span class="annot"><span class="annottext">Decode
  'Open
  (CostModel
   -&gt; ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug)
-&gt; Decode ('Closed 'Dense) CostModel
-&gt; Decode
     'Open
     (ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">(forall s. Decoder s CostModel)
-&gt; Decode ('Closed 'Dense) CostModel
forall t. (forall s. Decoder s t) -&gt; Decode ('Closed 'Dense) t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Language -&gt; Decoder s CostModel
forall s. Language -&gt; Decoder s CostModel
</span><a href="Cardano.Ledger.Alonzo.Scripts.html#decodeCostModel"><span class="hs-identifier hs-var">decodeCostModel</span></a></span><span> </span><span class="annot"><span class="annottext">Language
</span><a href="Cardano.Ledger.Alonzo.Language.html#PlutusV1"><span class="hs-identifier hs-var">PlutusV1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-576"></span><span>          </span><span class="annot"><span class="annottext">Decode
  'Open
  (ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug)
-&gt; Decode ('Closed Any) ExUnits
-&gt; Decode
     'Open (ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) ExUnits
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">From</span></a></span><span>
</span><span id="line-577"></span><span>          </span><span class="annot"><span class="annottext">Decode 'Open (ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug)
-&gt; Decode ('Closed Any) ShortByteString
-&gt; Decode 'Open ([Data] -&gt; ProtVer -&gt; PlutusDebug)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) ShortByteString
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">From</span></a></span><span>
</span><span id="line-578"></span><span>          </span><span class="annot"><span class="annottext">Decode 'Open ([Data] -&gt; ProtVer -&gt; PlutusDebug)
-&gt; Decode ('Closed 'Dense) [Data]
-&gt; Decode 'Open (ProtVer -&gt; PlutusDebug)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">(forall s. Decoder s [Data]) -&gt; Decode ('Closed 'Dense) [Data]
forall t. (forall s. Decoder s t) -&gt; Decode ('Closed 'Dense) t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Decoder s Data -&gt; Decoder s [Data]
forall s a. Decoder s a -&gt; Decoder s [a]
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">decodeList</span></a></span><span> </span><span class="annot"><span class="annottext">Decoder s Data
forall a s. Serialise a =&gt; Decoder s a
</span><a href="../../../../serialise/html/src"><span class="hs-identifier hs-var">Cborg.decode</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-579"></span><span>          </span><span class="annot"><span class="annottext">Decode 'Open (ProtVer -&gt; PlutusDebug)
-&gt; Decode ('Closed Any) ProtVer -&gt; Decode 'Open PlutusDebug
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) ProtVer
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">From</span></a></span><span>
</span><span id="line-580"></span><span>      </span><span class="annot"><a href="#local-6989586621679392388"><span class="hs-identifier hs-var">dec</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-581"></span><span>        </span><span class="annot"><span class="annottext">(CostModel
 -&gt; ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug)
-&gt; Decode
     'Open
     (CostModel
      -&gt; ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug)
forall t. t -&gt; Decode 'Open t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">SumD</span></a></span><span> </span><span class="annot"><span class="annottext">CostModel
-&gt; ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusDebugV2"><span class="hs-identifier hs-var">PlutusDebugV2</span></a></span><span>
</span><span id="line-582"></span><span>          </span><span class="annot"><span class="annottext">Decode
  'Open
  (CostModel
   -&gt; ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug)
-&gt; Decode ('Closed 'Dense) CostModel
-&gt; Decode
     'Open
     (ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">(forall s. Decoder s CostModel)
-&gt; Decode ('Closed 'Dense) CostModel
forall t. (forall s. Decoder s t) -&gt; Decode ('Closed 'Dense) t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Language -&gt; Decoder s CostModel
forall s. Language -&gt; Decoder s CostModel
</span><a href="Cardano.Ledger.Alonzo.Scripts.html#decodeCostModel"><span class="hs-identifier hs-var">decodeCostModel</span></a></span><span> </span><span class="annot"><span class="annottext">Language
</span><a href="Cardano.Ledger.Alonzo.Language.html#PlutusV2"><span class="hs-identifier hs-var">PlutusV2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-583"></span><span>          </span><span class="annot"><span class="annottext">Decode
  'Open
  (ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug)
-&gt; Decode ('Closed Any) ExUnits
-&gt; Decode
     'Open (ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) ExUnits
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">From</span></a></span><span>
</span><span id="line-584"></span><span>          </span><span class="annot"><span class="annottext">Decode 'Open (ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug)
-&gt; Decode ('Closed Any) ShortByteString
-&gt; Decode 'Open ([Data] -&gt; ProtVer -&gt; PlutusDebug)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) ShortByteString
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">From</span></a></span><span>
</span><span id="line-585"></span><span>          </span><span class="annot"><span class="annottext">Decode 'Open ([Data] -&gt; ProtVer -&gt; PlutusDebug)
-&gt; Decode ('Closed 'Dense) [Data]
-&gt; Decode 'Open (ProtVer -&gt; PlutusDebug)
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">(forall s. Decoder s [Data]) -&gt; Decode ('Closed 'Dense) [Data]
forall t. (forall s. Decoder s t) -&gt; Decode ('Closed 'Dense) t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Decoder s Data -&gt; Decoder s [Data]
forall s a. Decoder s a -&gt; Decoder s [a]
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">decodeList</span></a></span><span> </span><span class="annot"><span class="annottext">Decoder s Data
forall a s. Serialise a =&gt; Decoder s a
</span><a href="../../../../serialise/html/src"><span class="hs-identifier hs-var">Cborg.decode</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-586"></span><span>          </span><span class="annot"><span class="annottext">Decode 'Open (ProtVer -&gt; PlutusDebug)
-&gt; Decode ('Closed Any) ProtVer -&gt; Decode 'Open PlutusDebug
forall (w1 :: Wrapped) a t (w :: Density).
Decode w1 (a -&gt; t) -&gt; Decode ('Closed w) a -&gt; Decode w1 t
</span><a href="../../../../cardano-data/html/src"><span class="hs-operator hs-var">&lt;!</span></a></span><span> </span><span class="annot"><span class="annottext">Decode ('Closed Any) ProtVer
forall t (w :: Wrapped). FromCBOR t =&gt; Decode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">From</span></a></span><span>
</span><span id="line-587"></span><span>      </span><span class="annot"><a href="#local-6989586621679392388"><span class="hs-identifier hs-var">dec</span></a></span><span> </span><span id="local-6989586621679392384"><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679392384"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word -&gt; Decode 'Open PlutusDebug
forall (w :: Wrapped) t. Word -&gt; Decode w t
</span><a href="../../../../cardano-data/html/src"><span class="hs-identifier hs-var">Invalid</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679392384"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-588"></span><span>
</span><span id="line-589"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#debugPlutus"><span class="hs-identifier hs-type">debugPlutus</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusDebugInfo"><span class="hs-identifier hs-type">PlutusDebugInfo</span></a></span><span>
</span><span id="line-590"></span><span id="debugPlutus"><span class="annot"><span class="annottext">debugPlutus :: String -&gt; PlutusDebugInfo
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#debugPlutus"><span class="hs-identifier hs-var hs-var">debugPlutus</span></a></span></span><span> </span><span id="local-6989586621679392382"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679392382"><span class="hs-identifier hs-var">db</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-591"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String ByteString
</span><a href="../../../../base64-bytestring/html/src"><span class="hs-identifier hs-var">B64.decode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; ByteString
</span><a href="../../../../utf8-string/html/src"><span class="hs-identifier hs-var">BSU.fromString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679392382"><span class="hs-identifier hs-var">db</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-592"></span><span>    </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679392379"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679392379"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; PlutusDebugInfo
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#DebugBadHex"><span class="hs-identifier hs-var">DebugBadHex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShowS
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679392379"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-593"></span><span>    </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679392377"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679392377"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-594"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either DecoderError PlutusDebug
forall a. FromCBOR a =&gt; ByteString -&gt; Either DecoderError a
</span><a href="../../../../cardano-binary/html/src"><span class="hs-identifier hs-var">decodeFull'</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679392377"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-595"></span><span>        </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679392376"><span class="annot"><span class="annottext">DecoderError
</span><a href="#local-6989586621679392376"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; PlutusDebugInfo
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#DebugCannotDecode"><span class="hs-identifier hs-var">DebugCannotDecode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DecoderError -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">DecoderError
</span><a href="#local-6989586621679392376"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-596"></span><span>        </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679392375"><span class="annot"><span class="annottext">pdb :: PlutusDebug
</span><a href="#local-6989586621679392375"><span class="hs-identifier hs-var">pdb</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusDebugV1"><span class="hs-identifier hs-type">PlutusDebugV1</span></a></span><span> </span><span id="local-6989586621679392374"><span class="annot"><span class="annottext">CostModel
</span><a href="#local-6989586621679392374"><span class="hs-identifier hs-var">cm</span></a></span></span><span> </span><span id="local-6989586621679392373"><span class="annot"><span class="annottext">ExUnits
</span><a href="#local-6989586621679392373"><span class="hs-identifier hs-var">units</span></a></span></span><span> </span><span id="local-6989586621679392372"><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679392372"><span class="hs-identifier hs-var">script</span></a></span></span><span> </span><span id="local-6989586621679392371"><span class="annot"><span class="annottext">[Data]
</span><a href="#local-6989586621679392371"><span class="hs-identifier hs-var">ds</span></a></span></span><span> </span><span id="local-6989586621679392370"><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679392370"><span class="hs-identifier hs-var">pv</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-597"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ProtocolVersion
-&gt; VerboseMode
-&gt; EvaluationContext
-&gt; ExBudget
-&gt; ShortByteString
-&gt; [Data]
-&gt; (LogOutput, Either EvaluationError ExBudget)
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.evaluateScriptRestricting</span></a></span><span>
</span><span id="line-598"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProtVer -&gt; ProtocolVersion
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transProtocolVersion"><span class="hs-identifier hs-var">transProtocolVersion</span></a></span><span> </span><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679392370"><span class="hs-identifier hs-var">pv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-599"></span><span>            </span><span class="annot"><span class="annottext">VerboseMode
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.Verbose</span></a></span><span>
</span><span id="line-600"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CostModel -&gt; EvaluationContext
</span><a href="Cardano.Ledger.Alonzo.Scripts.html#getEvaluationContext"><span class="hs-identifier hs-var">getEvaluationContext</span></a></span><span> </span><span class="annot"><span class="annottext">CostModel
</span><a href="#local-6989586621679392374"><span class="hs-identifier hs-var">cm</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-601"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExUnits -&gt; ExBudget
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transExUnits"><span class="hs-identifier hs-var">transExUnits</span></a></span><span> </span><span class="annot"><span class="annottext">ExUnits
</span><a href="#local-6989586621679392373"><span class="hs-identifier hs-var">units</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-602"></span><span>            </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679392372"><span class="hs-identifier hs-var">script</span></a></span><span>
</span><span id="line-603"></span><span>            </span><span class="annot"><span class="annottext">[Data]
</span><a href="#local-6989586621679392371"><span class="hs-identifier hs-var">ds</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-604"></span><span>            </span><span class="hs-special">(</span><span id="local-6989586621679392366"><span class="annot"><span class="annottext">LogOutput
</span><a href="#local-6989586621679392366"><span class="hs-identifier hs-var">logs</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679392365"><span class="annot"><span class="annottext">EvaluationError
</span><a href="#local-6989586621679392365"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LogOutput -&gt; PlutusError -&gt; PlutusDebug -&gt; PlutusDebugInfo
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#DebugInfo"><span class="hs-identifier hs-var">DebugInfo</span></a></span><span> </span><span class="annot"><span class="annottext">LogOutput
</span><a href="#local-6989586621679392366"><span class="hs-identifier hs-var">logs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EvaluationError -&gt; PlutusError
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusErrorV1"><span class="hs-identifier hs-var">PlutusErrorV1</span></a></span><span> </span><span class="annot"><span class="annottext">EvaluationError
</span><a href="#local-6989586621679392365"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PlutusDebug
</span><a href="#local-6989586621679392375"><span class="hs-identifier hs-var">pdb</span></a></span><span>
</span><span id="line-605"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LogOutput
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679392364"><span class="annot"><span class="annottext">ExBudget
</span><a href="#local-6989586621679392364"><span class="hs-identifier hs-var">ex</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExBudget -&gt; PlutusDebugInfo
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#DebugSuccess"><span class="hs-identifier hs-var">DebugSuccess</span></a></span><span> </span><span class="annot"><span class="annottext">ExBudget
</span><a href="#local-6989586621679392364"><span class="hs-identifier hs-var">ex</span></a></span><span>
</span><span id="line-606"></span><span>        </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679392363"><span class="annot"><span class="annottext">pdb :: PlutusDebug
</span><a href="#local-6989586621679392363"><span class="hs-identifier hs-var">pdb</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusDebugV2"><span class="hs-identifier hs-type">PlutusDebugV2</span></a></span><span> </span><span id="local-6989586621679392362"><span class="annot"><span class="annottext">CostModel
</span><a href="#local-6989586621679392362"><span class="hs-identifier hs-var">cm</span></a></span></span><span> </span><span id="local-6989586621679392361"><span class="annot"><span class="annottext">ExUnits
</span><a href="#local-6989586621679392361"><span class="hs-identifier hs-var">units</span></a></span></span><span> </span><span id="local-6989586621679392360"><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679392360"><span class="hs-identifier hs-var">script</span></a></span></span><span> </span><span id="local-6989586621679392359"><span class="annot"><span class="annottext">[Data]
</span><a href="#local-6989586621679392359"><span class="hs-identifier hs-var">ds</span></a></span></span><span> </span><span id="local-6989586621679392358"><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679392358"><span class="hs-identifier hs-var">pv</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-607"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ProtocolVersion
-&gt; VerboseMode
-&gt; EvaluationContext
-&gt; ExBudget
-&gt; ShortByteString
-&gt; [Data]
-&gt; (LogOutput, Either EvaluationError ExBudget)
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV2.evaluateScriptRestricting</span></a></span><span>
</span><span id="line-608"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProtVer -&gt; ProtocolVersion
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transProtocolVersion"><span class="hs-identifier hs-var">transProtocolVersion</span></a></span><span> </span><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679392358"><span class="hs-identifier hs-var">pv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-609"></span><span>            </span><span class="annot"><span class="annottext">VerboseMode
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV2.Verbose</span></a></span><span>
</span><span id="line-610"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CostModel -&gt; EvaluationContext
</span><a href="Cardano.Ledger.Alonzo.Scripts.html#getEvaluationContext"><span class="hs-identifier hs-var">getEvaluationContext</span></a></span><span> </span><span class="annot"><span class="annottext">CostModel
</span><a href="#local-6989586621679392362"><span class="hs-identifier hs-var">cm</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-611"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExUnits -&gt; ExBudget
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transExUnits"><span class="hs-identifier hs-var">transExUnits</span></a></span><span> </span><span class="annot"><span class="annottext">ExUnits
</span><a href="#local-6989586621679392361"><span class="hs-identifier hs-var">units</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-612"></span><span>            </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679392360"><span class="hs-identifier hs-var">script</span></a></span><span>
</span><span id="line-613"></span><span>            </span><span class="annot"><span class="annottext">[Data]
</span><a href="#local-6989586621679392359"><span class="hs-identifier hs-var">ds</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-614"></span><span>            </span><span class="hs-special">(</span><span id="local-6989586621679392356"><span class="annot"><span class="annottext">LogOutput
</span><a href="#local-6989586621679392356"><span class="hs-identifier hs-var">logs</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679392355"><span class="annot"><span class="annottext">EvaluationError
</span><a href="#local-6989586621679392355"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LogOutput -&gt; PlutusError -&gt; PlutusDebug -&gt; PlutusDebugInfo
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#DebugInfo"><span class="hs-identifier hs-var">DebugInfo</span></a></span><span> </span><span class="annot"><span class="annottext">LogOutput
</span><a href="#local-6989586621679392356"><span class="hs-identifier hs-var">logs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EvaluationError -&gt; PlutusError
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusErrorV2"><span class="hs-identifier hs-var">PlutusErrorV2</span></a></span><span> </span><span class="annot"><span class="annottext">EvaluationError
</span><a href="#local-6989586621679392355"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PlutusDebug
</span><a href="#local-6989586621679392363"><span class="hs-identifier hs-var">pdb</span></a></span><span>
</span><span id="line-615"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LogOutput
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679392354"><span class="annot"><span class="annottext">ExBudget
</span><a href="#local-6989586621679392354"><span class="hs-identifier hs-var">ex</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExBudget -&gt; PlutusDebugInfo
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#DebugSuccess"><span class="hs-identifier hs-var">DebugSuccess</span></a></span><span> </span><span class="annot"><span class="annottext">ExBudget
</span><a href="#local-6989586621679392354"><span class="hs-identifier hs-var">ex</span></a></span><span>
</span><span id="line-616"></span><span>
</span><span id="line-617"></span><span class="hs-comment">-- The runPLCScript in the Specification has a slightly different type</span><span>
</span><span id="line-618"></span><span class="hs-comment">-- than the one in the implementation below. Made necessary by the the type</span><span>
</span><span id="line-619"></span><span class="hs-comment">-- of PV1.evaluateScriptRestricting which is the interface to Plutus, and in the impementation</span><span>
</span><span id="line-620"></span><span class="hs-comment">-- we try to track why a script failed (if it does) by the [String] in the Fails constructor of ScriptResut.</span><span>
</span><span id="line-621"></span><span>
</span><span id="line-622"></span><span class="hs-comment">-- | Run a Plutus Script, given the script and the bounds on resources it is allocated.</span><span>
</span><span id="line-623"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#runPLCScript"><span class="hs-identifier hs-type">runPLCScript</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-624"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679392352"><span class="annot"><a href="#local-6989586621679392352"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-625"></span><span>  </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.Scripts.html#Script"><span class="hs-identifier hs-type">Script</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392352"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-626"></span><span>  </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392352"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-627"></span><span>  </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">ProtVer</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-628"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Language.html#Language"><span class="hs-identifier hs-type">Language</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-629"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Scripts.html#CostModel"><span class="hs-identifier hs-type">CostModel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-630"></span><span>  </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">SBS.ShortByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-631"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Scripts.html#ExUnits"><span class="hs-identifier hs-type">ExUnits</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-632"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">PV1.Data</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-633"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#ScriptResult"><span class="hs-identifier hs-type">ScriptResult</span></a></span><span>
</span><span id="line-634"></span><span id="runPLCScript"><span class="annot"><span class="annottext">runPLCScript :: Proxy era
-&gt; ProtVer
-&gt; Language
-&gt; CostModel
-&gt; ShortByteString
-&gt; ExUnits
-&gt; [Data]
-&gt; ScriptResult
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#runPLCScript"><span class="hs-identifier hs-var hs-var">runPLCScript</span></a></span></span><span> </span><span id="local-6989586621679392351"><span class="annot"><span class="annottext">Proxy era
</span><a href="#local-6989586621679392351"><span class="hs-identifier hs-var">proxy</span></a></span></span><span> </span><span id="local-6989586621679392350"><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679392350"><span class="hs-identifier hs-var">pv</span></a></span></span><span> </span><span id="local-6989586621679392349"><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621679392349"><span class="hs-identifier hs-var">lang</span></a></span></span><span> </span><span id="local-6989586621679392348"><span class="annot"><span class="annottext">CostModel
</span><a href="#local-6989586621679392348"><span class="hs-identifier hs-var">cm</span></a></span></span><span> </span><span id="local-6989586621679392347"><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679392347"><span class="hs-identifier hs-var">scriptbytestring</span></a></span></span><span> </span><span id="local-6989586621679392346"><span class="annot"><span class="annottext">ExUnits
</span><a href="#local-6989586621679392346"><span class="hs-identifier hs-var">units</span></a></span></span><span> </span><span id="local-6989586621679392345"><span class="annot"><span class="annottext">[Data]
</span><a href="#local-6989586621679392345"><span class="hs-identifier hs-var">ds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-635"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Language
-&gt; VerboseMode
-&gt; EvaluationContext
-&gt; ExBudget
-&gt; ShortByteString
-&gt; [Data]
-&gt; (LogOutput, Either EvaluationError ExBudget)
</span><a href="#local-6989586621679392344"><span class="hs-identifier hs-var">plutusInterpreter</span></a></span><span>
</span><span id="line-636"></span><span>    </span><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621679392349"><span class="hs-identifier hs-var">lang</span></a></span><span>
</span><span id="line-637"></span><span>    </span><span class="annot"><span class="annottext">VerboseMode
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.Quiet</span></a></span><span>
</span><span id="line-638"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CostModel -&gt; EvaluationContext
</span><a href="Cardano.Ledger.Alonzo.Scripts.html#getEvaluationContext"><span class="hs-identifier hs-var">getEvaluationContext</span></a></span><span> </span><span class="annot"><span class="annottext">CostModel
</span><a href="#local-6989586621679392348"><span class="hs-identifier hs-var">cm</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-639"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExUnits -&gt; ExBudget
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transExUnits"><span class="hs-identifier hs-var">transExUnits</span></a></span><span> </span><span class="annot"><span class="annottext">ExUnits
</span><a href="#local-6989586621679392346"><span class="hs-identifier hs-var">units</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-640"></span><span>    </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679392347"><span class="hs-identifier hs-var">scriptbytestring</span></a></span><span>
</span><span id="line-641"></span><span>    </span><span class="annot"><span class="annottext">[Data]
</span><a href="#local-6989586621679392345"><span class="hs-identifier hs-var">ds</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-642"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LogOutput
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679392342"><span class="annot"><span class="annottext">EvaluationError
</span><a href="#local-6989586621679392342"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Proxy era
-&gt; ProtVer
-&gt; Language
-&gt; ShortByteString
-&gt; EvaluationError
-&gt; [Data]
-&gt; CostModel
-&gt; ExUnits
-&gt; ScriptResult
forall era.
Show (Script era) =&gt;
Proxy era
-&gt; ProtVer
-&gt; Language
-&gt; ShortByteString
-&gt; EvaluationError
-&gt; [Data]
-&gt; CostModel
-&gt; ExUnits
-&gt; ScriptResult
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#explainPlutusFailure"><span class="hs-identifier hs-var">explainPlutusFailure</span></a></span><span> </span><span class="annot"><span class="annottext">Proxy era
</span><a href="#local-6989586621679392351"><span class="hs-identifier hs-var">proxy</span></a></span><span> </span><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679392350"><span class="hs-identifier hs-var">pv</span></a></span><span> </span><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621679392349"><span class="hs-identifier hs-var">lang</span></a></span><span> </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679392347"><span class="hs-identifier hs-var">scriptbytestring</span></a></span><span> </span><span class="annot"><span class="annottext">EvaluationError
</span><a href="#local-6989586621679392342"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">[Data]
</span><a href="#local-6989586621679392345"><span class="hs-identifier hs-var">ds</span></a></span><span> </span><span class="annot"><span class="annottext">CostModel
</span><a href="#local-6989586621679392348"><span class="hs-identifier hs-var">cm</span></a></span><span> </span><span class="annot"><span class="annottext">ExUnits
</span><a href="#local-6989586621679392346"><span class="hs-identifier hs-var">units</span></a></span><span>
</span><span id="line-643"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LogOutput
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="annot"><span class="annottext">ExBudget
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PlutusDebug -&gt; ScriptResult
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#scriptPass"><span class="hs-identifier hs-var">scriptPass</span></a></span><span> </span><span class="annot"><span class="annottext">(PlutusDebug -&gt; ScriptResult) -&gt; PlutusDebug -&gt; ScriptResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Language
-&gt; CostModel
-&gt; ExUnits
-&gt; ShortByteString
-&gt; [Data]
-&gt; ProtVer
-&gt; PlutusDebug
</span><a href="#local-6989586621679392340"><span class="hs-identifier hs-var">successConstructor</span></a></span><span> </span><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621679392349"><span class="hs-identifier hs-var">lang</span></a></span><span> </span><span class="annot"><span class="annottext">CostModel
</span><a href="#local-6989586621679392348"><span class="hs-identifier hs-var">cm</span></a></span><span> </span><span class="annot"><span class="annottext">ExUnits
</span><a href="#local-6989586621679392346"><span class="hs-identifier hs-var">units</span></a></span><span> </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679392347"><span class="hs-identifier hs-var">scriptbytestring</span></a></span><span> </span><span class="annot"><span class="annottext">[Data]
</span><a href="#local-6989586621679392345"><span class="hs-identifier hs-var">ds</span></a></span><span> </span><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679392350"><span class="hs-identifier hs-var">pv</span></a></span><span>
</span><span id="line-644"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-645"></span><span>    </span><span id="local-6989586621679392339"><span class="annot"><span class="annottext">plutusPV :: ProtocolVersion
</span><a href="#local-6989586621679392339"><span class="hs-identifier hs-var hs-var">plutusPV</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ProtVer -&gt; ProtocolVersion
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transProtocolVersion"><span class="hs-identifier hs-var">transProtocolVersion</span></a></span><span> </span><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679392350"><span class="hs-identifier hs-var">pv</span></a></span><span>
</span><span id="line-646"></span><span>    </span><span id="local-6989586621679392344"><span class="annot"><span class="annottext">plutusInterpreter :: Language
-&gt; VerboseMode
-&gt; EvaluationContext
-&gt; ExBudget
-&gt; ShortByteString
-&gt; [Data]
-&gt; (LogOutput, Either EvaluationError ExBudget)
</span><a href="#local-6989586621679392344"><span class="hs-identifier hs-var hs-var">plutusInterpreter</span></a></span></span><span> </span><span class="annot"><span class="annottext">Language
</span><a href="Cardano.Ledger.Alonzo.Language.html#PlutusV1"><span class="hs-identifier hs-var">PlutusV1</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ProtocolVersion
-&gt; VerboseMode
-&gt; EvaluationContext
-&gt; ExBudget
-&gt; ShortByteString
-&gt; [Data]
-&gt; (LogOutput, Either EvaluationError ExBudget)
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.evaluateScriptRestricting</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolVersion
</span><a href="#local-6989586621679392339"><span class="hs-identifier hs-var">plutusPV</span></a></span><span>
</span><span id="line-647"></span><span>    </span><span class="annot"><a href="#local-6989586621679392344"><span class="hs-identifier hs-var">plutusInterpreter</span></a></span><span> </span><span class="annot"><span class="annottext">Language
</span><a href="Cardano.Ledger.Alonzo.Language.html#PlutusV2"><span class="hs-identifier hs-var">PlutusV2</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ProtocolVersion
-&gt; VerboseMode
-&gt; EvaluationContext
-&gt; ExBudget
-&gt; ShortByteString
-&gt; [Data]
-&gt; (LogOutput, Either EvaluationError ExBudget)
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV2.evaluateScriptRestricting</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolVersion
</span><a href="#local-6989586621679392339"><span class="hs-identifier hs-var">plutusPV</span></a></span><span>
</span><span id="line-648"></span><span>    </span><span id="local-6989586621679392340"><span class="annot"><span class="annottext">successConstructor :: Language
-&gt; CostModel
-&gt; ExUnits
-&gt; ShortByteString
-&gt; [Data]
-&gt; ProtVer
-&gt; PlutusDebug
</span><a href="#local-6989586621679392340"><span class="hs-identifier hs-var hs-var">successConstructor</span></a></span></span><span> </span><span class="annot"><span class="annottext">Language
</span><a href="Cardano.Ledger.Alonzo.Language.html#PlutusV1"><span class="hs-identifier hs-var">PlutusV1</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CostModel
-&gt; ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusDebugV1"><span class="hs-identifier hs-var">PlutusDebugV1</span></a></span><span>
</span><span id="line-649"></span><span>    </span><span class="annot"><a href="#local-6989586621679392340"><span class="hs-identifier hs-var">successConstructor</span></a></span><span> </span><span class="annot"><span class="annottext">Language
</span><a href="Cardano.Ledger.Alonzo.Language.html#PlutusV2"><span class="hs-identifier hs-var">PlutusV2</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CostModel
-&gt; ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusDebugV2"><span class="hs-identifier hs-var">PlutusDebugV2</span></a></span><span>
</span><span id="line-650"></span><span>
</span><span id="line-651"></span><span class="hs-comment">-- | Explain why a script might fail. Scripts come in two flavors:</span><span>
</span><span id="line-652"></span><span class="hs-comment">--</span><span>
</span><span id="line-653"></span><span class="hs-comment">-- (1) with 3  data arguments [data,redeemer,context]</span><span>
</span><span id="line-654"></span><span class="hs-comment">--</span><span>
</span><span id="line-655"></span><span class="hs-comment">-- (2) with 2 data arguments [redeemer,context].</span><span>
</span><span id="line-656"></span><span class="hs-comment">--</span><span>
</span><span id="line-657"></span><span class="hs-comment">-- It pays to decode the context data into a real context because that provides</span><span>
</span><span id="line-658"></span><span class="hs-comment">-- way more information. But there is no guarantee the context data really can</span><span>
</span><span id="line-659"></span><span class="hs-comment">-- be decoded.</span><span>
</span><span id="line-660"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#explainPlutusFailure"><span class="hs-identifier hs-type">explainPlutusFailure</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-661"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679392959"><span class="annot"><a href="#local-6989586621679392959"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-662"></span><span>  </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.Scripts.html#Script"><span class="hs-identifier hs-type">Script</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392959"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-663"></span><span>  </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392959"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-664"></span><span>  </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">ProtVer</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-665"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Language.html#Language"><span class="hs-identifier hs-type">Language</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-666"></span><span>  </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">SBS.ShortByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-667"></span><span>  </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.EvaluationError</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-668"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">PV1.Data</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-669"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Scripts.html#CostModel"><span class="hs-identifier hs-type">CostModel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-670"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Scripts.html#ExUnits"><span class="hs-identifier hs-type">ExUnits</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-671"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#ScriptResult"><span class="hs-identifier hs-type">ScriptResult</span></a></span><span>
</span><span id="line-672"></span><span id="explainPlutusFailure"><span class="annot"><span class="annottext">explainPlutusFailure :: Proxy era
-&gt; ProtVer
-&gt; Language
-&gt; ShortByteString
-&gt; EvaluationError
-&gt; [Data]
-&gt; CostModel
-&gt; ExUnits
-&gt; ScriptResult
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#explainPlutusFailure"><span class="hs-identifier hs-var hs-var">explainPlutusFailure</span></a></span></span><span> </span><span id="local-6989586621679392338"><span class="annot"><span class="annottext">Proxy era
</span><a href="#local-6989586621679392338"><span class="hs-identifier hs-var">_proxy</span></a></span></span><span> </span><span id="local-6989586621679392337"><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679392337"><span class="hs-identifier hs-var">pv</span></a></span></span><span> </span><span id="local-6989586621679392336"><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621679392336"><span class="hs-identifier hs-var">lang</span></a></span></span><span> </span><span id="local-6989586621679392335"><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679392335"><span class="hs-identifier hs-var">scriptbytestring</span></a></span></span><span> </span><span id="local-6989586621679392334"><span class="annot"><span class="annottext">EvaluationError
</span><a href="#local-6989586621679392334"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621679392333"><span class="annot"><span class="annottext">ds :: [Data]
</span><a href="#local-6989586621679392333"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">[</span><span id="local-6989586621679392332"><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679392332"><span class="hs-identifier hs-var">dat</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679392331"><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679392331"><span class="hs-identifier hs-var">redeemer</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679392330"><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679392330"><span class="hs-identifier hs-var">info</span></a></span></span><span class="hs-special">]</span><span> </span><span id="local-6989586621679392329"><span class="annot"><span class="annottext">CostModel
</span><a href="#local-6989586621679392329"><span class="hs-identifier hs-var">cm</span></a></span></span><span> </span><span id="local-6989586621679392328"><span class="annot"><span class="annottext">ExUnits
</span><a href="#local-6989586621679392328"><span class="hs-identifier hs-var">eu</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-673"></span><span>  </span><span class="hs-comment">-- A three data argument script.</span><span>
</span><span id="line-674"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621679392327"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Scripts.html#Script"><span class="hs-identifier hs-type">Script</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392959"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-675"></span><span>      </span><span id="local-6989586621679392327"><span class="annot"><span class="annottext">ss :: Script era
</span><a href="#local-6989586621679392327"><span class="hs-identifier hs-var hs-var">ss</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Language -&gt; ShortByteString -&gt; Script era
forall era. Language -&gt; ShortByteString -&gt; Script era
</span><a href="Cardano.Ledger.Alonzo.Scripts.html#PlutusScript"><span class="hs-identifier hs-var">PlutusScript</span></a></span><span> </span><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621679392336"><span class="hs-identifier hs-var">lang</span></a></span><span> </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679392335"><span class="hs-identifier hs-var">scriptbytestring</span></a></span><span>
</span><span id="line-676"></span><span>      </span><span class="annot"><a href="#local-6989586621679392325"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-677"></span><span>      </span><span id="local-6989586621679392325"><span class="annot"><span class="annottext">name :: String
</span><a href="#local-6989586621679392325"><span class="hs-identifier hs-var hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Script era -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Script era
</span><a href="#local-6989586621679392327"><span class="hs-identifier hs-var">ss</span></a></span><span>
</span><span id="line-678"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Data -&gt; Maybe ScriptContext
forall a. FromData a =&gt; Data -&gt; Maybe a
</span><a href="../../../../plutus-tx/html/src"><span class="hs-identifier hs-var">PV1.fromData</span></a></span><span> </span><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679392330"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-679"></span><span>        </span><span class="annot"><span class="annottext">Maybe ScriptContext
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ScriptFailure -&gt; ScriptResult
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#scriptFail"><span class="hs-identifier hs-var">scriptFail</span></a></span><span> </span><span class="annot"><span class="annottext">(ScriptFailure -&gt; ScriptResult) -&gt; ScriptFailure -&gt; ScriptResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; PlutusDebug -&gt; ScriptFailure
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusSF"><span class="hs-identifier hs-var">PlutusSF</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679392323"><span class="hs-identifier hs-var">line</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusDebug
</span><a href="#local-6989586621679392322"><span class="hs-identifier hs-var">db</span></a></span><span>
</span><span id="line-680"></span><span>          </span><span class="hs-keyword">where</span><span>
</span><span id="line-681"></span><span>            </span><span id="local-6989586621679392323"><span class="annot"><span class="annottext">line :: Text
</span><a href="#local-6989586621679392323"><span class="hs-identifier hs-var hs-var">line</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-682"></span><span>              </span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-683"></span><span>                </span><span class="annot"><span class="annottext">Context -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">unlines</span></a></span><span>
</span><span id="line-684"></span><span>                  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\nThe 3 arg plutus script (&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679392325"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;) fails.&quot;</span></span><span class="hs-special">,</span><span>
</span><span id="line-685"></span><span>                    </span><span class="annot"><span class="annottext">EvaluationError -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">EvaluationError
</span><a href="#local-6989586621679392334"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-686"></span><span>                    </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The protocol version is: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">ProtVer -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679392337"><span class="hs-identifier hs-var">pv</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-687"></span><span>                    </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The data is: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Data -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679392332"><span class="hs-identifier hs-var">dat</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-688"></span><span>                    </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The redeemer is: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Data -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679392331"><span class="hs-identifier hs-var">redeemer</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-689"></span><span>                    </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The third data argument, does not decode to a context\n&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Data -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679392330"><span class="hs-identifier hs-var">info</span></a></span><span>
</span><span id="line-690"></span><span>                  </span><span class="hs-special">]</span><span>
</span><span id="line-691"></span><span>            </span><span id="local-6989586621679392322"><span class="annot"><span class="annottext">db :: PlutusDebug
</span><a href="#local-6989586621679392322"><span class="hs-identifier hs-var hs-var">db</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CostModel
-&gt; ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusDebugV1"><span class="hs-identifier hs-var">PlutusDebugV1</span></a></span><span> </span><span class="annot"><span class="annottext">CostModel
</span><a href="#local-6989586621679392329"><span class="hs-identifier hs-var">cm</span></a></span><span> </span><span class="annot"><span class="annottext">ExUnits
</span><a href="#local-6989586621679392328"><span class="hs-identifier hs-var">eu</span></a></span><span> </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679392335"><span class="hs-identifier hs-var">scriptbytestring</span></a></span><span> </span><span class="annot"><span class="annottext">[Data]
</span><a href="#local-6989586621679392333"><span class="hs-identifier hs-var">ds</span></a></span><span> </span><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679392337"><span class="hs-identifier hs-var">pv</span></a></span><span>
</span><span id="line-692"></span><span>        </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679392320"><span class="annot"><span class="annottext">ScriptContext
</span><a href="#local-6989586621679392320"><span class="hs-identifier hs-var">info2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ScriptFailure -&gt; ScriptResult
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#scriptFail"><span class="hs-identifier hs-var">scriptFail</span></a></span><span> </span><span class="annot"><span class="annottext">(ScriptFailure -&gt; ScriptResult) -&gt; ScriptFailure -&gt; ScriptResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; PlutusDebug -&gt; ScriptFailure
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusSF"><span class="hs-identifier hs-var">PlutusSF</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679392319"><span class="hs-identifier hs-var">line</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusDebug
</span><a href="#local-6989586621679392318"><span class="hs-identifier hs-var">db</span></a></span><span>
</span><span id="line-693"></span><span>          </span><span class="hs-keyword">where</span><span>
</span><span id="line-694"></span><span>            </span><span id="local-6989586621679392317"><span class="annot"><span class="annottext">info3 :: String
</span><a href="#local-6989586621679392317"><span class="hs-identifier hs-var hs-var">info3</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc Any -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptContext -&gt; Doc Any
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptContext
</span><a href="#local-6989586621679392320"><span class="hs-identifier hs-var">info2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.ScriptContext</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-695"></span><span>            </span><span id="local-6989586621679392319"><span class="annot"><span class="annottext">line :: Text
</span><a href="#local-6989586621679392319"><span class="hs-identifier hs-var hs-var">line</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-696"></span><span>              </span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-697"></span><span>                </span><span class="annot"><span class="annottext">Context -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">unlines</span></a></span><span>
</span><span id="line-698"></span><span>                  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\nThe 3 arg plutus script (&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679392325"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;) fails.&quot;</span></span><span class="hs-special">,</span><span>
</span><span id="line-699"></span><span>                    </span><span class="annot"><span class="annottext">EvaluationError -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">EvaluationError
</span><a href="#local-6989586621679392334"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-700"></span><span>                    </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The protocol version is: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">ProtVer -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679392337"><span class="hs-identifier hs-var">pv</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-701"></span><span>                    </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The data is: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Data -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679392332"><span class="hs-identifier hs-var">dat</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-702"></span><span>                    </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The redeemer is: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Data -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679392331"><span class="hs-identifier hs-var">redeemer</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-703"></span><span>                    </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The context is:\n&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679392317"><span class="hs-identifier hs-var">info3</span></a></span><span>
</span><span id="line-704"></span><span>                  </span><span class="hs-special">]</span><span>
</span><span id="line-705"></span><span>            </span><span id="local-6989586621679392318"><span class="annot"><span class="annottext">db :: PlutusDebug
</span><a href="#local-6989586621679392318"><span class="hs-identifier hs-var hs-var">db</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CostModel
-&gt; ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusDebugV1"><span class="hs-identifier hs-var">PlutusDebugV1</span></a></span><span> </span><span class="annot"><span class="annottext">CostModel
</span><a href="#local-6989586621679392329"><span class="hs-identifier hs-var">cm</span></a></span><span> </span><span class="annot"><span class="annottext">ExUnits
</span><a href="#local-6989586621679392328"><span class="hs-identifier hs-var">eu</span></a></span><span> </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679392335"><span class="hs-identifier hs-var">scriptbytestring</span></a></span><span> </span><span class="annot"><span class="annottext">[Data]
</span><a href="#local-6989586621679392333"><span class="hs-identifier hs-var">ds</span></a></span><span> </span><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679392337"><span class="hs-identifier hs-var">pv</span></a></span><span>
</span><span id="line-706"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#explainPlutusFailure"><span class="hs-identifier hs-var">explainPlutusFailure</span></a></span><span> </span><span id="local-6989586621679392315"><span class="annot"><span class="annottext">Proxy era
</span><a href="#local-6989586621679392315"><span class="hs-identifier hs-var">_proxy</span></a></span></span><span> </span><span id="local-6989586621679392314"><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679392314"><span class="hs-identifier hs-var">pv</span></a></span></span><span> </span><span id="local-6989586621679392313"><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621679392313"><span class="hs-identifier hs-var">lang</span></a></span></span><span> </span><span id="local-6989586621679392312"><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679392312"><span class="hs-identifier hs-var">scriptbytestring</span></a></span></span><span> </span><span id="local-6989586621679392311"><span class="annot"><span class="annottext">EvaluationError
</span><a href="#local-6989586621679392311"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621679392310"><span class="annot"><span class="annottext">ds :: [Data]
</span><a href="#local-6989586621679392310"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">[</span><span id="local-6989586621679392309"><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679392309"><span class="hs-identifier hs-var">redeemer</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679392308"><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679392308"><span class="hs-identifier hs-var">info</span></a></span></span><span class="hs-special">]</span><span> </span><span id="local-6989586621679392307"><span class="annot"><span class="annottext">CostModel
</span><a href="#local-6989586621679392307"><span class="hs-identifier hs-var">cm</span></a></span></span><span> </span><span id="local-6989586621679392306"><span class="annot"><span class="annottext">ExUnits
</span><a href="#local-6989586621679392306"><span class="hs-identifier hs-var">eu</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-707"></span><span>  </span><span class="hs-comment">-- A two data argument script.</span><span>
</span><span id="line-708"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621679392305"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Scripts.html#Script"><span class="hs-identifier hs-type">Script</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392959"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-709"></span><span>      </span><span id="local-6989586621679392305"><span class="annot"><span class="annottext">ss :: Script era
</span><a href="#local-6989586621679392305"><span class="hs-identifier hs-var hs-var">ss</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Language -&gt; ShortByteString -&gt; Script era
forall era. Language -&gt; ShortByteString -&gt; Script era
</span><a href="Cardano.Ledger.Alonzo.Scripts.html#PlutusScript"><span class="hs-identifier hs-var">PlutusScript</span></a></span><span> </span><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621679392313"><span class="hs-identifier hs-var">lang</span></a></span><span> </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679392312"><span class="hs-identifier hs-var">scriptbytestring</span></a></span><span>
</span><span id="line-710"></span><span>      </span><span class="annot"><a href="#local-6989586621679392304"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-711"></span><span>      </span><span id="local-6989586621679392304"><span class="annot"><span class="annottext">name :: String
</span><a href="#local-6989586621679392304"><span class="hs-identifier hs-var hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Script era -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Script era
</span><a href="#local-6989586621679392305"><span class="hs-identifier hs-var">ss</span></a></span><span>
</span><span id="line-712"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Data -&gt; Maybe ScriptContext
forall a. FromData a =&gt; Data -&gt; Maybe a
</span><a href="../../../../plutus-tx/html/src"><span class="hs-identifier hs-var">PV1.fromData</span></a></span><span> </span><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679392308"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-713"></span><span>        </span><span class="annot"><span class="annottext">Maybe ScriptContext
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ScriptFailure -&gt; ScriptResult
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#scriptFail"><span class="hs-identifier hs-var">scriptFail</span></a></span><span> </span><span class="annot"><span class="annottext">(ScriptFailure -&gt; ScriptResult) -&gt; ScriptFailure -&gt; ScriptResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; PlutusDebug -&gt; ScriptFailure
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusSF"><span class="hs-identifier hs-var">PlutusSF</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679392303"><span class="hs-identifier hs-var">line</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusDebug
</span><a href="#local-6989586621679392302"><span class="hs-identifier hs-var">db</span></a></span><span>
</span><span id="line-714"></span><span>          </span><span class="hs-keyword">where</span><span>
</span><span id="line-715"></span><span>            </span><span id="local-6989586621679392303"><span class="annot"><span class="annottext">line :: Text
</span><a href="#local-6989586621679392303"><span class="hs-identifier hs-var hs-var">line</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-716"></span><span>              </span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-717"></span><span>                </span><span class="annot"><span class="annottext">Context -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">unlines</span></a></span><span>
</span><span id="line-718"></span><span>                  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\nThe 2 arg plutus script (&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679392304"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;) fails.&quot;</span></span><span class="hs-special">,</span><span>
</span><span id="line-719"></span><span>                    </span><span class="annot"><span class="annottext">EvaluationError -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">EvaluationError
</span><a href="#local-6989586621679392311"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-720"></span><span>                    </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The protocol version is: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">ProtVer -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679392314"><span class="hs-identifier hs-var">pv</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-721"></span><span>                    </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The redeemer is: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Data -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679392309"><span class="hs-identifier hs-var">redeemer</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-722"></span><span>                    </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The second data argument, does not decode to a context\n&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Data -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679392308"><span class="hs-identifier hs-var">info</span></a></span><span>
</span><span id="line-723"></span><span>                  </span><span class="hs-special">]</span><span>
</span><span id="line-724"></span><span>            </span><span id="local-6989586621679392302"><span class="annot"><span class="annottext">db :: PlutusDebug
</span><a href="#local-6989586621679392302"><span class="hs-identifier hs-var hs-var">db</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CostModel
-&gt; ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusDebugV1"><span class="hs-identifier hs-var">PlutusDebugV1</span></a></span><span> </span><span class="annot"><span class="annottext">CostModel
</span><a href="#local-6989586621679392307"><span class="hs-identifier hs-var">cm</span></a></span><span> </span><span class="annot"><span class="annottext">ExUnits
</span><a href="#local-6989586621679392306"><span class="hs-identifier hs-var">eu</span></a></span><span> </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679392312"><span class="hs-identifier hs-var">scriptbytestring</span></a></span><span> </span><span class="annot"><span class="annottext">[Data]
</span><a href="#local-6989586621679392310"><span class="hs-identifier hs-var">ds</span></a></span><span> </span><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679392314"><span class="hs-identifier hs-var">pv</span></a></span><span>
</span><span id="line-725"></span><span>        </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679392301"><span class="annot"><span class="annottext">ScriptContext
</span><a href="#local-6989586621679392301"><span class="hs-identifier hs-var">info2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ScriptFailure -&gt; ScriptResult
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#scriptFail"><span class="hs-identifier hs-var">scriptFail</span></a></span><span> </span><span class="annot"><span class="annottext">(ScriptFailure -&gt; ScriptResult) -&gt; ScriptFailure -&gt; ScriptResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; PlutusDebug -&gt; ScriptFailure
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusSF"><span class="hs-identifier hs-var">PlutusSF</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679392300"><span class="hs-identifier hs-var">line</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusDebug
</span><a href="#local-6989586621679392299"><span class="hs-identifier hs-var">db</span></a></span><span>
</span><span id="line-726"></span><span>          </span><span class="hs-keyword">where</span><span>
</span><span id="line-727"></span><span>            </span><span id="local-6989586621679392298"><span class="annot"><span class="annottext">info3 :: String
</span><a href="#local-6989586621679392298"><span class="hs-identifier hs-var hs-var">info3</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc Any -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptContext -&gt; Doc Any
forall a ann. Pretty a =&gt; a -&gt; Doc ann
</span><a href="../../../../prettyprinter/html/src"><span class="hs-identifier hs-var">pretty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptContext
</span><a href="#local-6989586621679392301"><span class="hs-identifier hs-var">info2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.ScriptContext</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-728"></span><span>            </span><span id="local-6989586621679392300"><span class="annot"><span class="annottext">line :: Text
</span><a href="#local-6989586621679392300"><span class="hs-identifier hs-var hs-var">line</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-729"></span><span>              </span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-730"></span><span>                </span><span class="annot"><span class="annottext">Context -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">unlines</span></a></span><span>
</span><span id="line-731"></span><span>                  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\nThe 2 arg plutus script (&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679392304"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;) fails.&quot;</span></span><span class="hs-special">,</span><span>
</span><span id="line-732"></span><span>                    </span><span class="annot"><span class="annottext">EvaluationError -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">EvaluationError
</span><a href="#local-6989586621679392311"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-733"></span><span>                    </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The protocol version is: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">ProtVer -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679392314"><span class="hs-identifier hs-var">pv</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-734"></span><span>                    </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The redeemer is: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Data -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679392309"><span class="hs-identifier hs-var">redeemer</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-735"></span><span>                    </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The context is:\n&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679392298"><span class="hs-identifier hs-var">info3</span></a></span><span>
</span><span id="line-736"></span><span>                  </span><span class="hs-special">]</span><span>
</span><span id="line-737"></span><span>            </span><span id="local-6989586621679392299"><span class="annot"><span class="annottext">db :: PlutusDebug
</span><a href="#local-6989586621679392299"><span class="hs-identifier hs-var hs-var">db</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CostModel
-&gt; ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusDebugV1"><span class="hs-identifier hs-var">PlutusDebugV1</span></a></span><span> </span><span class="annot"><span class="annottext">CostModel
</span><a href="#local-6989586621679392307"><span class="hs-identifier hs-var">cm</span></a></span><span> </span><span class="annot"><span class="annottext">ExUnits
</span><a href="#local-6989586621679392306"><span class="hs-identifier hs-var">eu</span></a></span><span> </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679392312"><span class="hs-identifier hs-var">scriptbytestring</span></a></span><span> </span><span class="annot"><span class="annottext">[Data]
</span><a href="#local-6989586621679392310"><span class="hs-identifier hs-var">ds</span></a></span><span> </span><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679392314"><span class="hs-identifier hs-var">pv</span></a></span><span>
</span><span id="line-738"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#explainPlutusFailure"><span class="hs-identifier hs-var">explainPlutusFailure</span></a></span><span> </span><span id="local-6989586621679392297"><span class="annot"><span class="annottext">Proxy era
</span><a href="#local-6989586621679392297"><span class="hs-identifier hs-var">_proxy</span></a></span></span><span> </span><span id="local-6989586621679392296"><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679392296"><span class="hs-identifier hs-var">pv</span></a></span></span><span> </span><span id="local-6989586621679392295"><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621679392295"><span class="hs-identifier hs-var">lang</span></a></span></span><span> </span><span id="local-6989586621679392294"><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679392294"><span class="hs-identifier hs-var">scriptbytestring</span></a></span></span><span> </span><span id="local-6989586621679392293"><span class="annot"><span class="annottext">EvaluationError
</span><a href="#local-6989586621679392293"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621679392292"><span class="annot"><span class="annottext">[Data]
</span><a href="#local-6989586621679392292"><span class="hs-identifier hs-var">ds</span></a></span></span><span> </span><span id="local-6989586621679392291"><span class="annot"><span class="annottext">CostModel
</span><a href="#local-6989586621679392291"><span class="hs-identifier hs-var">cm</span></a></span></span><span> </span><span id="local-6989586621679392290"><span class="annot"><span class="annottext">ExUnits
</span><a href="#local-6989586621679392290"><span class="hs-identifier hs-var">eu</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-739"></span><span>  </span><span class="hs-comment">-- A script with the wrong number of arguments</span><span>
</span><span id="line-740"></span><span>  </span><span class="annot"><span class="annottext">ScriptFailure -&gt; ScriptResult
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#scriptFail"><span class="hs-identifier hs-var">scriptFail</span></a></span><span> </span><span class="annot"><span class="annottext">(ScriptFailure -&gt; ScriptResult) -&gt; ScriptFailure -&gt; ScriptResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; PlutusDebug -&gt; ScriptFailure
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusSF"><span class="hs-identifier hs-var">PlutusSF</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679392289"><span class="hs-identifier hs-var">line</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusDebug
</span><a href="#local-6989586621679392288"><span class="hs-identifier hs-var">db</span></a></span><span>
</span><span id="line-741"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-742"></span><span>    </span><span class="annot"><a href="#local-6989586621679392287"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Scripts.html#Script"><span class="hs-identifier hs-type">Script</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392959"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-743"></span><span>    </span><span id="local-6989586621679392287"><span class="annot"><span class="annottext">ss :: Script era
</span><a href="#local-6989586621679392287"><span class="hs-identifier hs-var hs-var">ss</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Language -&gt; ShortByteString -&gt; Script era
forall era. Language -&gt; ShortByteString -&gt; Script era
</span><a href="Cardano.Ledger.Alonzo.Scripts.html#PlutusScript"><span class="hs-identifier hs-var">PlutusScript</span></a></span><span> </span><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621679392295"><span class="hs-identifier hs-var">lang</span></a></span><span> </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679392294"><span class="hs-identifier hs-var">scriptbytestring</span></a></span><span>
</span><span id="line-744"></span><span>    </span><span class="annot"><a href="#local-6989586621679392286"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-745"></span><span>    </span><span id="local-6989586621679392286"><span class="annot"><span class="annottext">name :: String
</span><a href="#local-6989586621679392286"><span class="hs-identifier hs-var hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Script era -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Script era
</span><a href="#local-6989586621679392287"><span class="hs-identifier hs-var">ss</span></a></span><span>
</span><span id="line-746"></span><span>    </span><span id="local-6989586621679392289"><span class="annot"><span class="annottext">line :: Text
</span><a href="#local-6989586621679392289"><span class="hs-identifier hs-var hs-var">line</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-747"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; String -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-748"></span><span>        </span><span class="annot"><span class="annottext">Context -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">unlines</span></a></span><span>
</span><span id="line-749"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\nThe plutus script (&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679392286"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;) fails.&quot;</span></span><span class="hs-special">,</span><span>
</span><span id="line-750"></span><span>              </span><span class="annot"><span class="annottext">EvaluationError -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">EvaluationError
</span><a href="#local-6989586621679392293"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-751"></span><span>              </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The protocol version is: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">ProtVer -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679392296"><span class="hs-identifier hs-var">pv</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-752"></span><span>              </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;It was passed these &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Data] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Prelude.length</span></a></span><span> </span><span class="annot"><span class="annottext">[Data]
</span><a href="#local-6989586621679392292"><span class="hs-identifier hs-var">ds</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; data arguments.&quot;</span></span><span>
</span><span id="line-753"></span><span>            </span><span class="hs-special">]</span><span>
</span><span id="line-754"></span><span>              </span><span class="annot"><span class="annottext">Context -&gt; Context -&gt; Context
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">(Data -&gt; String) -&gt; [Data] -&gt; Context
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">Data -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">[Data]
</span><a href="#local-6989586621679392292"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-755"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-756"></span><span>    </span><span id="local-6989586621679392288"><span class="annot"><span class="annottext">db :: PlutusDebug
</span><a href="#local-6989586621679392288"><span class="hs-identifier hs-var hs-var">db</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CostModel
-&gt; ExUnits -&gt; ShortByteString -&gt; [Data] -&gt; ProtVer -&gt; PlutusDebug
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#PlutusDebugV1"><span class="hs-identifier hs-var">PlutusDebugV1</span></a></span><span> </span><span class="annot"><span class="annottext">CostModel
</span><a href="#local-6989586621679392291"><span class="hs-identifier hs-var">cm</span></a></span><span> </span><span class="annot"><span class="annottext">ExUnits
</span><a href="#local-6989586621679392290"><span class="hs-identifier hs-var">eu</span></a></span><span> </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679392294"><span class="hs-identifier hs-var">scriptbytestring</span></a></span><span> </span><span class="annot"><span class="annottext">[Data]
</span><a href="#local-6989586621679392292"><span class="hs-identifier hs-var">ds</span></a></span><span> </span><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679392296"><span class="hs-identifier hs-var">pv</span></a></span><span>
</span><span id="line-757"></span><span>
</span><span id="line-758"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#validPlutusdata"><span class="hs-identifier hs-type">validPlutusdata</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">PV1.Data</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-759"></span><span id="validPlutusdata"><span class="annot"><span class="annottext">validPlutusdata :: Data -&gt; Bool
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#validPlutusdata"><span class="hs-identifier hs-var hs-var">validPlutusdata</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">PV1.Constr</span></a></span><span> </span><span id="local-6989586621679392282"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679392282"><span class="hs-identifier hs-var">_n</span></a></span></span><span> </span><span id="local-6989586621679392281"><span class="annot"><span class="annottext">[Data]
</span><a href="#local-6989586621679392281"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Data -&gt; Bool) -&gt; [Data] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">all</span></a></span><span> </span><span class="annot"><span class="annottext">Data -&gt; Bool
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#validPlutusdata"><span class="hs-identifier hs-var">validPlutusdata</span></a></span><span> </span><span class="annot"><span class="annottext">[Data]
</span><a href="#local-6989586621679392281"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-760"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#validPlutusdata"><span class="hs-identifier hs-var">validPlutusdata</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">PV1.Map</span></a></span><span> </span><span id="local-6989586621679392278"><span class="annot"><span class="annottext">[(Data, Data)]
</span><a href="#local-6989586621679392278"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-761"></span><span>  </span><span class="annot"><span class="annottext">((Data, Data) -&gt; Bool) -&gt; [(Data, Data)] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">all</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679392277"><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679392277"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679392276"><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679392276"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Data -&gt; Bool
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#validPlutusdata"><span class="hs-identifier hs-var">validPlutusdata</span></a></span><span> </span><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679392277"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&amp;&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Data -&gt; Bool
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#validPlutusdata"><span class="hs-identifier hs-var">validPlutusdata</span></a></span><span> </span><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679392276"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Data, Data)]
</span><a href="#local-6989586621679392278"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-762"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#validPlutusdata"><span class="hs-identifier hs-var">validPlutusdata</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">PV1.List</span></a></span><span> </span><span id="local-6989586621679392273"><span class="annot"><span class="annottext">[Data]
</span><a href="#local-6989586621679392273"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Data -&gt; Bool) -&gt; [Data] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">all</span></a></span><span> </span><span class="annot"><span class="annottext">Data -&gt; Bool
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#validPlutusdata"><span class="hs-identifier hs-var">validPlutusdata</span></a></span><span> </span><span class="annot"><span class="annottext">[Data]
</span><a href="#local-6989586621679392273"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-763"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#validPlutusdata"><span class="hs-identifier hs-var">validPlutusdata</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">PV1.I</span></a></span><span> </span><span id="local-6989586621679392271"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679392271"><span class="hs-identifier hs-var">_n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-764"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#validPlutusdata"><span class="hs-identifier hs-var">validPlutusdata</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../plutus-core/html/src"><span class="hs-identifier hs-type">PV1.B</span></a></span><span> </span><span id="local-6989586621679392269"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679392269"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Int
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">BS.length</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679392269"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&lt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">64</span></span><span>
</span><span id="line-765"></span><span>
</span><span id="line-766"></span><span class="hs-comment">-- | Test that every Alonzo script represents a real Script.</span><span>
</span><span id="line-767"></span><span class="hs-comment">--     Run deepseq to see that there are no infinite computations and that</span><span>
</span><span id="line-768"></span><span class="hs-comment">--     every Plutus Script unflattens into a real PV1.Script</span><span>
</span><span id="line-769"></span><span id="local-6989586621679392267"><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#validScript"><span class="hs-identifier hs-type">validScript</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">ProtVer</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Scripts.html#Script"><span class="hs-identifier hs-type">Script</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392267"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span></span><span>
</span><span id="line-770"></span><span id="validScript"><span class="annot"><span class="annottext">validScript :: ProtVer -&gt; Script era -&gt; Bool
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#validScript"><span class="hs-identifier hs-var hs-var">validScript</span></a></span></span><span> </span><span id="local-6989586621679392265"><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679392265"><span class="hs-identifier hs-var">pv</span></a></span></span><span> </span><span id="local-6989586621679392264"><span class="annot"><span class="annottext">Script era
</span><a href="#local-6989586621679392264"><span class="hs-identifier hs-var">scrip</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Script era
</span><a href="#local-6989586621679392264"><span class="hs-identifier hs-var">scrip</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-771"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Scripts.html#TimelockScript"><span class="hs-identifier hs-type">TimelockScript</span></a></span><span> </span><span id="local-6989586621679392262"><span class="annot"><span class="annottext">Timelock (Crypto era)
</span><a href="#local-6989586621679392262"><span class="hs-identifier hs-var">sc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Timelock (Crypto era) -&gt; Bool -&gt; Bool
forall a b. NFData a =&gt; a -&gt; b -&gt; b
</span><a href="../../../../ghc/html/libraries/deepseq-1.4.4.0/src"><span class="hs-identifier hs-var">deepseq</span></a></span><span> </span><span class="annot"><span class="annottext">Timelock (Crypto era)
</span><a href="#local-6989586621679392262"><span class="hs-identifier hs-var">sc</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-772"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Scripts.html#PlutusScript"><span class="hs-identifier hs-type">PlutusScript</span></a></span><span> </span><span class="annot"><span class="annottext">Language
</span><a href="Cardano.Ledger.Alonzo.Language.html#PlutusV1"><span class="hs-identifier hs-var">PlutusV1</span></a></span><span> </span><span id="local-6989586621679392261"><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679392261"><span class="hs-identifier hs-var">bytes</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ProtocolVersion -&gt; ShortByteString -&gt; Bool
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.isScriptWellFormed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProtVer -&gt; ProtocolVersion
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transProtocolVersion"><span class="hs-identifier hs-var">transProtocolVersion</span></a></span><span> </span><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679392265"><span class="hs-identifier hs-var">pv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679392261"><span class="hs-identifier hs-var">bytes</span></a></span><span>
</span><span id="line-773"></span><span>  </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Scripts.html#PlutusScript"><span class="hs-identifier hs-type">PlutusScript</span></a></span><span> </span><span class="annot"><span class="annottext">Language
</span><a href="Cardano.Ledger.Alonzo.Language.html#PlutusV2"><span class="hs-identifier hs-var">PlutusV2</span></a></span><span> </span><span id="local-6989586621679392259"><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679392259"><span class="hs-identifier hs-var">bytes</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ProtocolVersion -&gt; ShortByteString -&gt; Bool
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV2.isScriptWellFormed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProtVer -&gt; ProtocolVersion
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transProtocolVersion"><span class="hs-identifier hs-var">transProtocolVersion</span></a></span><span> </span><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679392265"><span class="hs-identifier hs-var">pv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ShortByteString
</span><a href="#local-6989586621679392259"><span class="hs-identifier hs-var">bytes</span></a></span><span>
</span><span id="line-774"></span><span>
</span><span id="line-775"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#transProtocolVersion"><span class="hs-identifier hs-type">transProtocolVersion</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">ProtVer</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-type">PV1.ProtocolVersion</span></a></span><span>
</span><span id="line-776"></span><span id="transProtocolVersion"><span class="annot"><span class="annottext">transProtocolVersion :: ProtVer -&gt; ProtocolVersion
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#transProtocolVersion"><span class="hs-identifier hs-var hs-var">transProtocolVersion</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">ProtVer</span></a></span><span> </span><span id="local-6989586621679392256"><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621679392256"><span class="hs-identifier hs-var">major</span></a></span></span><span> </span><span id="local-6989586621679392255"><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621679392255"><span class="hs-identifier hs-var">minor</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; ProtocolVersion
</span><a href="../../../../plutus-ledger-api/html/src"><span class="hs-identifier hs-var">PV1.ProtocolVersion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Natural -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621679392256"><span class="hs-identifier hs-var">major</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Natural -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621679392255"><span class="hs-identifier hs-var">minor</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-777"></span><span>
</span><span id="line-778"></span><span class="hs-comment">-- | Compute the Set of Languages in an era, where Alonzo.Scripts are used</span><span>
</span><span id="line-779"></span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#languages"><span class="hs-identifier hs-type">languages</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-780"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679392252"><span class="annot"><a href="#local-6989586621679392252"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-781"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.TxInfo.html#ExtendedUTxO"><span class="hs-identifier hs-type">ExtendedUTxO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392252"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-782"></span><span>    </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Core.Script</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392252"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-type">~</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Scripts.html#Script"><span class="hs-identifier hs-type">Script</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392252"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-783"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-784"></span><span>  </span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Core.Tx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392252"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-785"></span><span>  </span><span class="annot"><a href="../../../../cardano-ledger-shelley/html/src"><span class="hs-identifier hs-type">UTxO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392252"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-786"></span><span>  </span><span class="annot"><a href="../../../../containers/html/src"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">ScriptHash</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-ledger-core/html/src"><span class="hs-identifier hs-type">Crypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679392252"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-787"></span><span>  </span><span class="annot"><a href="../../../../containers/html/src"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="annot"><a href="Cardano.Ledger.Alonzo.Language.html#Language"><span class="hs-identifier hs-type">Language</span></a></span><span>
</span><span id="line-788"></span><span id="languages"><span class="annot"><span class="annottext">languages :: Tx era -&gt; UTxO era -&gt; Set (ScriptHash (Crypto era)) -&gt; Set Language
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#languages"><span class="hs-identifier hs-var hs-var">languages</span></a></span></span><span> </span><span id="local-6989586621679392251"><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621679392251"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span id="local-6989586621679392250"><span class="annot"><span class="annottext">UTxO era
</span><a href="#local-6989586621679392250"><span class="hs-identifier hs-var">utxo</span></a></span></span><span> </span><span id="local-6989586621679392249"><span class="annot"><span class="annottext">Set (ScriptHash (Crypto era))
</span><a href="#local-6989586621679392249"><span class="hs-identifier hs-var">sNeeded</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Set Language -&gt; Script era -&gt; Set Language)
-&gt; Set Language
-&gt; Map (ScriptHash (Crypto era)) (Script era)
-&gt; Set Language
forall a b k. (a -&gt; b -&gt; a) -&gt; a -&gt; Map k b -&gt; a
</span><a href="../../../../containers/html/src"><span class="hs-identifier hs-var">Map.foldl'</span></a></span><span> </span><span class="annot"><span class="annottext">Set Language -&gt; Script era -&gt; Set Language
forall era. Set Language -&gt; Script era -&gt; Set Language
</span><a href="#local-6989586621679392247"><span class="hs-identifier hs-var">accum</span></a></span><span> </span><span class="annot"><span class="annottext">Set Language
forall a. Set a
</span><a href="../../../../containers/html/src"><span class="hs-identifier hs-var">Set.empty</span></a></span><span> </span><span class="annot"><span class="annottext">Map (ScriptHash (Crypto era)) (Script era)
</span><a href="#local-6989586621679392245"><span class="hs-identifier hs-var">allscripts</span></a></span><span>
</span><span id="line-789"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-790"></span><span>    </span><span id="local-6989586621679392245"><span class="annot"><span class="annottext">allscripts :: Map (ScriptHash (Crypto era)) (Script era)
</span><a href="#local-6989586621679392245"><span class="hs-identifier hs-var hs-var">allscripts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map (ScriptHash (Crypto era)) (Script era)
-&gt; Set (ScriptHash (Crypto era))
-&gt; Map (ScriptHash (Crypto era)) (Script era)
forall k a. Ord k =&gt; Map k a -&gt; Set k -&gt; Map k a
</span><a href="../../../../containers/html/src"><span class="hs-identifier hs-var">Map.restrictKeys</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UTxO era -&gt; Tx era -&gt; Map (ScriptHash (Crypto era)) (Script era)
forall era.
ExtendedUTxO era =&gt;
UTxO era -&gt; Tx era -&gt; Map (ScriptHash (Crypto era)) (Script era)
</span><a href="Cardano.Ledger.Alonzo.TxInfo.html#txscripts"><span class="hs-identifier hs-var">txscripts</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679392252"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="annot"><span class="annottext">UTxO era
</span><a href="#local-6989586621679392250"><span class="hs-identifier hs-var">utxo</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621679392251"><span class="hs-identifier hs-var">tx</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Set (ScriptHash (Crypto era))
</span><a href="#local-6989586621679392249"><span class="hs-identifier hs-var">sNeeded</span></a></span><span>
</span><span id="line-791"></span><span>    </span><span id="local-6989586621679392247"><span class="annot"><span class="annottext">accum :: Set Language -&gt; Script era -&gt; Set Language
</span><a href="#local-6989586621679392247"><span class="hs-identifier hs-var hs-var">accum</span></a></span></span><span> </span><span id="local-6989586621679392243"><span class="annot"><span class="annottext">Set Language
</span><a href="#local-6989586621679392243"><span class="hs-identifier hs-var">ans</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.Scripts.html#TimelockScript"><span class="hs-identifier hs-type">TimelockScript</span></a></span><span> </span><span class="annot"><span class="annottext">Timelock (Crypto era)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set Language
</span><a href="#local-6989586621679392243"><span class="hs-identifier hs-var">ans</span></a></span><span>
</span><span id="line-792"></span><span>    </span><span class="annot"><a href="#local-6989586621679392247"><span class="hs-identifier hs-var">accum</span></a></span><span> </span><span id="local-6989586621679392242"><span class="annot"><span class="annottext">Set Language
</span><a href="#local-6989586621679392242"><span class="hs-identifier hs-var">ans</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Ledger.Alonzo.Scripts.html#PlutusScript"><span class="hs-identifier hs-type">PlutusScript</span></a></span><span> </span><span id="local-6989586621679392241"><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621679392241"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">ShortByteString
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Language -&gt; Set Language -&gt; Set Language
forall a. Ord a =&gt; a -&gt; Set a -&gt; Set a
</span><a href="../../../../containers/html/src"><span class="hs-identifier hs-var">Set.insert</span></a></span><span> </span><span class="annot"><span class="annottext">Language
</span><a href="#local-6989586621679392241"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Set Language
</span><a href="#local-6989586621679392242"><span class="hs-identifier hs-var">ans</span></a></span><span>
</span><span id="line-793"></span></pre></body></html>