<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span id="%24maxtag_JswfLXWrQo08TseTkxQOW6"><span id="%24tag2con_JswfLXWrQo08TseTkxQOW6"><span id="%24con2tag_JswfLXWrQo08TseTkxQOW6"><span id="%24con2tag_2KRIU0V5Ef194TKqeNx5wu"><span id="%24maxtag_2KRIU0V5Ef194TKqeNx5wu"><span id="%24tag2con_2KRIU0V5Ef194TKqeNx5wu"><span id="%24con2tag_587jRIcxnUz0PidFkxx8ed"></span></span></span></span></span></span></span><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DeriveFunctor #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE DerivingVia #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE DuplicateRecordFields #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE GeneralizedNewtypeDeriving #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE NumericUnderscores #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE OverloadedLabels #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-16"></span><span class="hs-comment">-- Copyright: &#169; 2018-2020 IOHK</span><span>
</span><span id="line-17"></span><span class="hs-comment">-- License: Apache-2.0</span><span>
</span><span id="line-18"></span><span class="hs-comment">--</span><span>
</span><span id="line-19"></span><span class="hs-comment">-- This module provides the main transaction data types used by the wallet.</span><span>
</span><span id="line-20"></span><span class="hs-comment">--</span><span>
</span><span id="line-21"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Cardano.Wallet.Primitive.Types.Tx</span><span>
</span><span id="line-22"></span><span>    </span><span class="hs-special">(</span><span>
</span><span id="line-23"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Types</span></span><span>
</span><span id="line-24"></span><span>      </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Tx"><span class="hs-identifier">Tx</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxIn"><span class="hs-identifier">TxIn</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier">TxOut</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxChange"><span class="hs-identifier">TxChange</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxMeta"><span class="hs-identifier">TxMeta</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier">TxMetadata</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier">TxMetadataValue</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxStatus"><span class="hs-identifier">TxStatus</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#UnsignedTx"><span class="hs-identifier">UnsignedTx</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TransactionInfo"><span class="hs-identifier">TransactionInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Direction"><span class="hs-identifier">Direction</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#LocalTxSubmissionStatus"><span class="hs-identifier">LocalTxSubmissionStatus</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TokenBundleSizeAssessor"><span class="hs-identifier">TokenBundleSizeAssessor</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TokenBundleSizeAssessment"><span class="hs-identifier">TokenBundleSizeAssessment</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxScriptValidity"><span class="hs-identifier">TxScriptValidity</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier">ScriptWitnessIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span>
</span><span id="line-41"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Serialisation</span></span><span>
</span><span id="line-42"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier">SealedTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AserialisedTx%3ASealedTx"><span class="hs-identifier">serialisedTx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#cardanoTxIdeallyNoLaterThan"><span class="hs-identifier">cardanoTxIdeallyNoLaterThan</span></a></span><span>
</span><span id="line-44"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#sealedTxFromBytes"><span class="hs-identifier">sealedTxFromBytes</span></a></span><span>
</span><span id="line-45"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#sealedTxFromBytes%27"><span class="hs-identifier">sealedTxFromBytes'</span></a></span><span>
</span><span id="line-46"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#sealedTxFromCardano"><span class="hs-identifier">sealedTxFromCardano</span></a></span><span>
</span><span id="line-47"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#sealedTxFromCardano%27"><span class="hs-identifier">sealedTxFromCardano'</span></a></span><span>
</span><span id="line-48"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#sealedTxFromCardanoBody"><span class="hs-identifier">sealedTxFromCardanoBody</span></a></span><span>
</span><span id="line-49"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#getSerialisedTxParts"><span class="hs-identifier">getSerialisedTxParts</span></a></span><span>
</span><span id="line-50"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#unsafeSealedTxFromBytes"><span class="hs-identifier">unsafeSealedTxFromBytes</span></a></span><span>
</span><span id="line-51"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SerialisedTx"><span class="hs-identifier">SerialisedTx</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SerialisedTxParts"><span class="hs-identifier">SerialisedTxParts</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-53"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#getSealedTxBody"><span class="hs-identifier">getSealedTxBody</span></a></span><span>
</span><span id="line-54"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#getSealedTxWitnesses"><span class="hs-identifier">getSealedTxWitnesses</span></a></span><span>
</span><span id="line-55"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#persistSealedTx"><span class="hs-identifier">persistSealedTx</span></a></span><span>
</span><span id="line-56"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#unPersistSealedTx"><span class="hs-identifier">unPersistSealedTx</span></a></span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Unit testing helpers</span></span><span>
</span><span id="line-59"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#mockSealedTx"><span class="hs-identifier">mockSealedTx</span></a></span><span>
</span><span id="line-60"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#withinEra"><span class="hs-identifier">withinEra</span></a></span><span>
</span><span id="line-61"></span><span>
</span><span id="line-62"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Functions</span></span><span>
</span><span id="line-63"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#fromTransactionInfo"><span class="hs-identifier">fromTransactionInfo</span></a></span><span>
</span><span id="line-64"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#inputs"><span class="hs-identifier">inputs</span></a></span><span>
</span><span id="line-65"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#collateralInputs"><span class="hs-identifier">collateralInputs</span></a></span><span>
</span><span id="line-66"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#isPending"><span class="hs-identifier">isPending</span></a></span><span>
</span><span id="line-67"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#toTxHistory"><span class="hs-identifier">toTxHistory</span></a></span><span>
</span><span id="line-68"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txIns"><span class="hs-identifier">txIns</span></a></span><span>
</span><span id="line-69"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txMetadataIsNull"><span class="hs-identifier">txMetadataIsNull</span></a></span><span>
</span><span id="line-70"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutCoin"><span class="hs-identifier">txOutCoin</span></a></span><span>
</span><span id="line-71"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutAddCoin"><span class="hs-identifier">txOutAddCoin</span></a></span><span>
</span><span id="line-72"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutSubtractCoin"><span class="hs-identifier">txOutSubtractCoin</span></a></span><span>
</span><span id="line-73"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txScriptInvalid"><span class="hs-identifier">txScriptInvalid</span></a></span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Constants</span></span><span>
</span><span id="line-76"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutMinCoin"><span class="hs-identifier">txOutMinCoin</span></a></span><span>
</span><span id="line-77"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutMaxCoin"><span class="hs-identifier">txOutMaxCoin</span></a></span><span>
</span><span id="line-78"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutMinTokenQuantity"><span class="hs-identifier">txOutMinTokenQuantity</span></a></span><span>
</span><span id="line-79"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutMaxTokenQuantity"><span class="hs-identifier">txOutMaxTokenQuantity</span></a></span><span>
</span><span id="line-80"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txMintBurnMaxTokenQuantity"><span class="hs-identifier">txMintBurnMaxTokenQuantity</span></a></span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Constraints</span></span><span>
</span><span id="line-83"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxConstraints"><span class="hs-identifier">TxConstraints</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutputCoinCost"><span class="hs-identifier">txOutputCoinCost</span></a></span><span>
</span><span id="line-85"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutputCoinSize"><span class="hs-identifier">txOutputCoinSize</span></a></span><span>
</span><span id="line-86"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutputHasValidSize"><span class="hs-identifier">txOutputHasValidSize</span></a></span><span>
</span><span id="line-87"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutputHasValidTokenQuantities"><span class="hs-identifier">txOutputHasValidTokenQuantities</span></a></span><span>
</span><span id="line-88"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxSize"><span class="hs-identifier">TxSize</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txSizeDistance"><span class="hs-identifier">txSizeDistance</span></a></span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Queries</span></span><span>
</span><span id="line-92"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txAssetIds"><span class="hs-identifier">txAssetIds</span></a></span><span>
</span><span id="line-93"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutAssetIds"><span class="hs-identifier">txOutAssetIds</span></a></span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Transformations</span></span><span>
</span><span id="line-96"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txMapAssetIds"><span class="hs-identifier">txMapAssetIds</span></a></span><span>
</span><span id="line-97"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txMapTxIds"><span class="hs-identifier">txMapTxIds</span></a></span><span>
</span><span id="line-98"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txRemoveAssetId"><span class="hs-identifier">txRemoveAssetId</span></a></span><span>
</span><span id="line-99"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutMapAssetIds"><span class="hs-identifier">txOutMapAssetIds</span></a></span><span>
</span><span id="line-100"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutRemoveAssetId"><span class="hs-identifier">txOutRemoveAssetId</span></a></span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Checks</span></span><span>
</span><span id="line-103"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#coinIsValidForTxOut"><span class="hs-identifier">coinIsValidForTxOut</span></a></span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Conversions (Unsafe)</span></span><span>
</span><span id="line-106"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#unsafeCoinToTxOutCoinValue"><span class="hs-identifier">unsafeCoinToTxOutCoinValue</span></a></span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Prelude</span></a></span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier">Cardano.Api</span></a></span><span>
</span><span id="line-113"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier">AnyCardanoEra</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier">CardanoEra</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier">InAnyCardanoEra</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-116"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier">ScriptWitnessIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier">TxMetadata</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-118"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier">TxMetadataValue</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-119"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier">anyCardanoEra</span></a></span><span>
</span><span id="line-120"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier">deserialiseFromCBOR</span></a></span><span>
</span><span id="line-121"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier">serialiseToCBOR</span></a></span><span>
</span><span id="line-122"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-123"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-binary/html/src"><span class="hs-identifier">Cardano.Binary</span></a></span><span>
</span><span id="line-124"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../cardano-binary/html/src"><span class="hs-identifier">DecoderError</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier">Cardano.Slotting.Slot</span></a></span><span>
</span><span id="line-126"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier">SlotNo</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-127"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Wallet.Orphans.html"><span class="hs-identifier">Cardano.Wallet.Orphans</span></a></span><span>
</span><span id="line-128"></span><span>    </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-129"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Address.html"><span class="hs-identifier">Cardano.Wallet.Primitive.Types.Address</span></a></span><span>
</span><span id="line-130"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Address.html#Address"><span class="hs-identifier">Address</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-131"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Coin.html"><span class="hs-identifier">Cardano.Wallet.Primitive.Types.Coin</span></a></span><span>
</span><span id="line-132"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Coin.html#Coin"><span class="hs-identifier">Coin</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Hash.html"><span class="hs-identifier">Cardano.Wallet.Primitive.Types.Hash</span></a></span><span>
</span><span id="line-134"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Hash.html#Hash"><span class="hs-identifier">Hash</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-135"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.RewardAccount.html"><span class="hs-identifier">Cardano.Wallet.Primitive.Types.RewardAccount</span></a></span><span>
</span><span id="line-136"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.RewardAccount.html#RewardAccount"><span class="hs-identifier">RewardAccount</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-137"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenBundle.html"><span class="hs-identifier">Cardano.Wallet.Primitive.Types.TokenBundle</span></a></span><span>
</span><span id="line-138"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenBundle.html#TokenBundle"><span class="hs-identifier">TokenBundle</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-139"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenMap.html"><span class="hs-identifier">Cardano.Wallet.Primitive.Types.TokenMap</span></a></span><span>
</span><span id="line-140"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenMap.html#AssetId"><span class="hs-identifier">AssetId</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenMap.html#Lexicographic"><span class="hs-identifier">Lexicographic</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenMap.html#TokenMap"><span class="hs-identifier">TokenMap</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-141"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenQuantity.html"><span class="hs-identifier">Cardano.Wallet.Primitive.Types.TokenQuantity</span></a></span><span>
</span><span id="line-142"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenQuantity.html#TokenQuantity"><span class="hs-identifier">TokenQuantity</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-143"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Wallet.Util.html"><span class="hs-identifier">Cardano.Wallet.Util</span></a></span><span>
</span><span id="line-144"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">HasCallStack</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Util.html#internalError"><span class="hs-identifier">internalError</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-145"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/deepseq-1.4.4.0/src"><span class="hs-identifier">Control.DeepSeq</span></a></span><span>
</span><span id="line-146"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/deepseq-1.4.4.0/src"><span class="hs-identifier">NFData</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/deepseq-1.4.4.0/src"><span class="hs-identifier">deepseq</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-147"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Bifunctor</span></a></span><span>
</span><span id="line-148"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">first</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-149"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../memory/html/src"><span class="hs-identifier">Data.ByteArray</span></a></span><span>
</span><span id="line-150"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../memory/html/src"><span class="hs-identifier">ByteArray</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../memory/html/src"><span class="hs-identifier">ByteArrayAccess</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-151"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">Data.ByteString</span></a></span><span>
</span><span id="line-152"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">ByteString</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-153"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Either</span></a></span><span>
</span><span id="line-154"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">partitionEithers</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Function</span></a></span><span>
</span><span id="line-156"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">on</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator">(&amp;)</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-157"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../generic-lens/html/src"><span class="hs-identifier">Data.Generics.Internal.VL.Lens</span></a></span><span>
</span><span id="line-158"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../generic-lens/html/src"><span class="hs-identifier">over</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../generic-lens/html/src"><span class="hs-identifier">view</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-159"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../generic-lens/html/src"><span class="hs-identifier">Data.Generics.Labels</span></a></span><span>
</span><span id="line-160"></span><span>    </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-161"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Int</span></a></span><span>
</span><span id="line-162"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Int64</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-163"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../containers/html/src"><span class="hs-identifier">Data.Map.Strict</span></a></span><span>
</span><span id="line-164"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../containers/html/src"><span class="hs-identifier">Map</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-165"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Ord</span></a></span><span>
</span><span id="line-166"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">comparing</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Quantity.html"><span class="hs-identifier">Data.Quantity</span></a></span><span>
</span><span id="line-168"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Data.Quantity.html#Quantity"><span class="hs-identifier">Quantity</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../containers/html/src"><span class="hs-identifier">Data.Set</span></a></span><span>
</span><span id="line-170"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../containers/html/src"><span class="hs-identifier">Set</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-171"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Data.Text</span></a></span><span>
</span><span id="line-172"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Text</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-173"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../text-class/html/src"><span class="hs-identifier">Data.Text.Class</span></a></span><span>
</span><span id="line-174"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../text-class/html/src"><span class="hs-identifier">CaseStyle</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-175"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../text-class/html/src"><span class="hs-identifier">FromText</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-176"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../text-class/html/src"><span class="hs-identifier">ToText</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../text-class/html/src"><span class="hs-identifier">fromTextToBoundedEnum</span></a></span><span>
</span><span id="line-178"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../text-class/html/src"><span class="hs-identifier">toTextFromBoundedEnum</span></a></span><span>
</span><span id="line-179"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-180"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier">Data.Time.Clock</span></a></span><span>
</span><span id="line-181"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier">UTCTime</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-182"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Type.Equality</span></a></span><span>
</span><span id="line-183"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator">(:~:)</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">testEquality</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-184"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Word</span></a></span><span>
</span><span id="line-185"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Word32</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Word64</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-186"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../fmt/html/src"><span class="hs-identifier">Fmt</span></a></span><span>
</span><span id="line-187"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../formatting/html/src"><span class="hs-identifier">Buildable</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-188"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Builder</span></a></span><span>
</span><span id="line-189"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../fmt/html/src"><span class="hs-identifier">blockListF'</span></a></span><span>
</span><span id="line-190"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../fmt/html/src"><span class="hs-identifier">blockMapF</span></a></span><span>
</span><span id="line-191"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../fmt/html/src"><span class="hs-identifier">hexF</span></a></span><span>
</span><span id="line-192"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../fmt/html/src"><span class="hs-identifier">nameF</span></a></span><span>
</span><span id="line-193"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../fmt/html/src"><span class="hs-identifier">ordinalF</span></a></span><span>
</span><span id="line-194"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../fmt/html/src"><span class="hs-identifier">prefixF</span></a></span><span>
</span><span id="line-195"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../fmt/html/src"><span class="hs-identifier">suffixF</span></a></span><span>
</span><span id="line-196"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../fmt/html/src"><span class="hs-identifier">tupleF</span></a></span><span>
</span><span id="line-197"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../fmt/html/src"><span class="hs-operator">(+||)</span></a></span><span>
</span><span id="line-198"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../fmt/html/src"><span class="hs-operator">(||+)</span></a></span><span>
</span><span id="line-199"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-200"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">GHC.Generics</span></a></span><span>
</span><span id="line-201"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Generic</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-202"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Numeric.Natural</span></a></span><span>
</span><span id="line-203"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Natural</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-204"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../quiet/html/src"><span class="hs-identifier">Quiet</span></a></span><span>
</span><span id="line-205"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../quiet/html/src"><span class="hs-identifier">Quiet</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-206"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../pretty-simple/html/src"><span class="hs-identifier">Text.Pretty.Simple</span></a></span><span>
</span><span id="line-207"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../pretty-simple/html/src"><span class="hs-identifier">pShowNoColor</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span>
</span><span id="line-209"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier">Cardano.Api</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Cardano</span></span><span>
</span><span id="line-210"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Coin.html"><span class="hs-identifier">Cardano.Wallet.Primitive.Types.Coin</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Coin</span></span><span>
</span><span id="line-211"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenBundle.html"><span class="hs-identifier">Cardano.Wallet.Primitive.Types.TokenBundle</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TokenBundle</span></span><span>
</span><span id="line-212"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenMap.html"><span class="hs-identifier">Cardano.Wallet.Primitive.Types.TokenMap</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TokenMap</span></span><span>
</span><span id="line-213"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">Data.ByteString.Char8</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">B8</span></span><span>
</span><span id="line-214"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Foldable</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">F</span></span><span>
</span><span id="line-215"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../containers/html/src"><span class="hs-identifier">Data.Map.Strict</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-216"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../containers/html/src"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-217"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-218"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Data.Text.Lazy.Builder</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Builder</span></span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span class="hs-comment">-- | Primitive @Tx@-type.</span><span>
</span><span id="line-221"></span><span class="hs-comment">--</span><span>
</span><span id="line-222"></span><span class="hs-comment">-- Currently tailored for jormungandr in that inputs are @(TxIn, Coin)@</span><span>
</span><span id="line-223"></span><span class="hs-comment">-- instead of @TxIn@. We might have to revisit this when supporting another</span><span>
</span><span id="line-224"></span><span class="hs-comment">-- node.</span><span>
</span><span id="line-225"></span><span id="local-6989586621682431334"><span id="local-6989586621682431335"></span></span><span class="hs-keyword">data</span><span> </span><span id="Tx"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Tx"><span class="hs-identifier hs-var">Tx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Tx"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Tx"><span class="hs-identifier hs-var">Tx</span></a></span></span><span>
</span><span id="line-226"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="%24sel%3AtxId%3ATx"><span class="annot"><span class="annottext">Tx -&gt; Hash &quot;Tx&quot;
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxId%3ATx"><span class="hs-identifier hs-var hs-var">txId</span></a></span></span><span>
</span><span id="line-227"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Hash.html#Hash"><span class="hs-identifier hs-type">Hash</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Tx&quot;</span></span><span>
</span><span id="line-228"></span><span>        </span><span class="hs-comment">-- ^ J&#246;rmungandr computes transaction id by hashing the full content of</span><span>
</span><span id="line-229"></span><span>        </span><span class="hs-comment">-- the transaction, which includes witnesses. Therefore, we need either</span><span>
</span><span id="line-230"></span><span>        </span><span class="hs-comment">-- to keep track of the witnesses to be able to re-compute the tx id</span><span>
</span><span id="line-231"></span><span>        </span><span class="hs-comment">-- every time, or, simply keep track of the id itself.</span><span>
</span><span id="line-232"></span><span>
</span><span id="line-233"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3Afee%3ATx"><span class="annot"><span class="annottext">Tx -&gt; Maybe Coin
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3Afee%3ATx"><span class="hs-identifier hs-var hs-var">fee</span></a></span></span><span>
</span><span id="line-234"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-235"></span><span>        </span><span class="hs-comment">-- ^ Explicit fee for that transaction, if available. Fee are available</span><span>
</span><span id="line-236"></span><span>        </span><span class="hs-comment">-- explicitly in Shelley, but not in Byron although in Byron they can</span><span>
</span><span id="line-237"></span><span>        </span><span class="hs-comment">-- easily be re-computed from the delta between outputs and inputs.</span><span>
</span><span id="line-238"></span><span>
</span><span id="line-239"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AresolvedInputs%3ATx"><span class="annot"><span class="annottext">Tx -&gt; [(TxIn, Coin)]
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AresolvedInputs%3ATx"><span class="hs-identifier hs-var hs-var">resolvedInputs</span></a></span></span><span>
</span><span id="line-240"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-241"></span><span>        </span><span class="hs-comment">-- ^ NOTE: Order of inputs matters in the transaction representation.</span><span>
</span><span id="line-242"></span><span>        </span><span class="hs-comment">-- The transaction id is computed from the binary representation of a</span><span>
</span><span id="line-243"></span><span>        </span><span class="hs-comment">-- tx, for which inputs are serialized in a specific order.</span><span>
</span><span id="line-244"></span><span>
</span><span id="line-245"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AresolvedCollateralInputs%3ATx"><span class="annot"><span class="annottext">Tx -&gt; [(TxIn, Coin)]
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AresolvedCollateralInputs%3ATx"><span class="hs-identifier hs-var hs-var">resolvedCollateralInputs</span></a></span></span><span>
</span><span id="line-246"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-247"></span><span>        </span><span class="hs-comment">-- ^ NOTE: The order of collateral inputs matters in the transaction</span><span>
</span><span id="line-248"></span><span>        </span><span class="hs-comment">-- representation.  The transaction id is computed from the binary</span><span>
</span><span id="line-249"></span><span>        </span><span class="hs-comment">-- representation of a tx, for which collateral inputs are serialized</span><span>
</span><span id="line-250"></span><span>        </span><span class="hs-comment">-- in a specific order.</span><span>
</span><span id="line-251"></span><span>
</span><span id="line-252"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3Aoutputs%3ATx"><span class="annot"><span class="annottext">Tx -&gt; [TxOut]
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3Aoutputs%3ATx"><span class="hs-identifier hs-var hs-var">outputs</span></a></span></span><span>
</span><span id="line-253"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-254"></span><span>        </span><span class="hs-comment">-- ^ NOTE: Order of outputs matters in the transaction representations.</span><span>
</span><span id="line-255"></span><span>        </span><span class="hs-comment">-- Outputs are used as inputs for next transactions which refer to them</span><span>
</span><span id="line-256"></span><span>        </span><span class="hs-comment">-- using their indexes. It matters also for serialization.</span><span>
</span><span id="line-257"></span><span>
</span><span id="line-258"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AcollateralOutput%3ATx"><span class="annot"><span class="annottext">Tx -&gt; Maybe TxOut
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AcollateralOutput%3ATx"><span class="hs-identifier hs-var hs-var">collateralOutput</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-259"></span><span>        </span><span class="hs-comment">-- ^ An output that is only created if a transaction script fails.</span><span>
</span><span id="line-260"></span><span>
</span><span id="line-261"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3Awithdrawals%3ATx"><span class="annot"><span class="annottext">Tx -&gt; Map RewardAccount Coin
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3Awithdrawals%3ATx"><span class="hs-identifier hs-var hs-var">withdrawals</span></a></span></span><span>
</span><span id="line-262"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../../../../containers/html/src"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.RewardAccount.html#RewardAccount"><span class="hs-identifier hs-type">RewardAccount</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-263"></span><span>        </span><span class="hs-comment">-- ^ Withdrawals (of funds from a registered reward account) embedded in</span><span>
</span><span id="line-264"></span><span>        </span><span class="hs-comment">-- a transaction. The order does not matter.</span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3Ametadata%3ATx"><span class="annot"><span class="annottext">Tx -&gt; Maybe TxMetadata
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3Ametadata%3ATx"><span class="hs-identifier hs-var hs-var">metadata</span></a></span></span><span>
</span><span id="line-267"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">TxMetadata</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-268"></span><span>        </span><span class="hs-comment">-- ^ Semi-structured application-specific extension data stored in the</span><span>
</span><span id="line-269"></span><span>        </span><span class="hs-comment">-- transaction on chain.</span><span>
</span><span id="line-270"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-271"></span><span>        </span><span class="hs-comment">-- This is not to be confused with 'TxMeta', which is information about</span><span>
</span><span id="line-272"></span><span>        </span><span class="hs-comment">-- a transaction derived from the ledger.</span><span>
</span><span id="line-273"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-274"></span><span>        </span><span class="hs-comment">-- See Appendix E of</span><span>
</span><span id="line-275"></span><span>        </span><span class="hs-comment">-- &lt;https://hydra.iohk.io/job/Cardano/cardano-ledger-specs/delegationDesignSpec/latest/download-by-type/doc-pdf/delegation_design_spec Shelley Ledger: Delegation/Incentives Design Spec&gt;.</span><span>
</span><span id="line-276"></span><span>
</span><span id="line-277"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AscriptValidity%3ATx"><span class="annot"><span class="annottext">Tx -&gt; Maybe TxScriptValidity
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AscriptValidity%3ATx"><span class="hs-identifier hs-var hs-var">scriptValidity</span></a></span></span><span>
</span><span id="line-278"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxScriptValidity"><span class="hs-identifier hs-type">TxScriptValidity</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-279"></span><span>        </span><span class="hs-comment">-- ^ Tag indicating whether non-native scripts in this transaction</span><span>
</span><span id="line-280"></span><span>        </span><span class="hs-comment">-- passed validation. This is added by the block creator when</span><span>
</span><span id="line-281"></span><span>        </span><span class="hs-comment">-- constructing the block. May be 'Nothing' for pre-Alonzo and pending</span><span>
</span><span id="line-282"></span><span>        </span><span class="hs-comment">-- transactions.</span><span>
</span><span id="line-283"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682431318"><span id="local-6989586621682431320"><span id="local-6989586621682431322"><span class="annot"><span class="annottext">Int -&gt; Tx -&gt; ShowS
[Tx] -&gt; ShowS
Tx -&gt; String
(Int -&gt; Tx -&gt; ShowS)
-&gt; (Tx -&gt; String) -&gt; ([Tx] -&gt; ShowS) -&gt; Show Tx
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Tx] -&gt; ShowS
$cshowList :: [Tx] -&gt; ShowS
show :: Tx -&gt; String
$cshow :: Tx -&gt; String
showsPrec :: Int -&gt; Tx -&gt; ShowS
$cshowsPrec :: Int -&gt; Tx -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. Tx -&gt; Rep Tx x)
-&gt; (forall x. Rep Tx x -&gt; Tx) -&gt; Generic Tx
forall x. Rep Tx x -&gt; Tx
forall x. Tx -&gt; Rep Tx x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep Tx x -&gt; Tx
$cfrom :: forall x. Tx -&gt; Rep Tx x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682431299"><span id="local-6989586621682431301"><span id="local-6989586621682431303"><span id="local-6989586621682431305"><span id="local-6989586621682431307"><span id="local-6989586621682431309"><span id="local-6989586621682431311"><span class="annot"><span class="annottext">Eq Tx
Eq Tx
-&gt; (Tx -&gt; Tx -&gt; Ordering)
-&gt; (Tx -&gt; Tx -&gt; Bool)
-&gt; (Tx -&gt; Tx -&gt; Bool)
-&gt; (Tx -&gt; Tx -&gt; Bool)
-&gt; (Tx -&gt; Tx -&gt; Bool)
-&gt; (Tx -&gt; Tx -&gt; Tx)
-&gt; (Tx -&gt; Tx -&gt; Tx)
-&gt; Ord Tx
Tx -&gt; Tx -&gt; Bool
Tx -&gt; Tx -&gt; Ordering
Tx -&gt; Tx -&gt; Tx
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: Tx -&gt; Tx -&gt; Tx
$cmin :: Tx -&gt; Tx -&gt; Tx
max :: Tx -&gt; Tx -&gt; Tx
$cmax :: Tx -&gt; Tx -&gt; Tx
&gt;= :: Tx -&gt; Tx -&gt; Bool
$c&gt;= :: Tx -&gt; Tx -&gt; Bool
&gt; :: Tx -&gt; Tx -&gt; Bool
$c&gt; :: Tx -&gt; Tx -&gt; Bool
&lt;= :: Tx -&gt; Tx -&gt; Bool
$c&lt;= :: Tx -&gt; Tx -&gt; Bool
&lt; :: Tx -&gt; Tx -&gt; Bool
$c&lt; :: Tx -&gt; Tx -&gt; Bool
compare :: Tx -&gt; Tx -&gt; Ordering
$ccompare :: Tx -&gt; Tx -&gt; Ordering
$cp1Ord :: Eq Tx
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682431294"><span id="local-6989586621682431296"><span class="annot"><span class="annottext">Tx -&gt; Tx -&gt; Bool
(Tx -&gt; Tx -&gt; Bool) -&gt; (Tx -&gt; Tx -&gt; Bool) -&gt; Eq Tx
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Tx -&gt; Tx -&gt; Bool
$c/= :: Tx -&gt; Tx -&gt; Bool
== :: Tx -&gt; Tx -&gt; Bool
$c== :: Tx -&gt; Tx -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-284"></span><span>
</span><span id="line-285"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682431291"><span class="annot"><a href="../../../../ghc/html/libraries/deepseq-1.4.4.0/src"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Tx"><span class="hs-identifier hs-type">Tx</span></a></span></span><span>
</span><span id="line-286"></span><span>
</span><span id="line-287"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../formatting/html/src"><span class="hs-identifier hs-type">Buildable</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Tx"><span class="hs-identifier hs-type">Tx</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-288"></span><span>    </span><span id="local-6989586621682431287"><span class="annot"><span class="annottext">build :: Tx -&gt; Builder
</span><a href="../../../../formatting/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">build</span></a></span></span><span> </span><span id="local-6989586621682431285"><span class="annot"><span class="annottext">Tx
</span><a href="#local-6989586621682431285"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Builder] -&gt; Builder
forall a. Monoid a =&gt; [a] -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mconcat</span></a></span><span>
</span><span id="line-289"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Hash &quot;Tx&quot; -&gt; Builder
forall p. Buildable p =&gt; p -&gt; Builder
</span><a href="../../../../formatting/html/src"><span class="hs-identifier hs-var">build</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((Hash &quot;Tx&quot; -&gt; Const (Hash &quot;Tx&quot;) (Hash &quot;Tx&quot;))
 -&gt; Tx -&gt; Const (Hash &quot;Tx&quot;) Tx)
-&gt; Tx -&gt; Hash &quot;Tx&quot;
forall a s. ((a -&gt; Const a a) -&gt; s -&gt; Const a s) -&gt; s -&gt; a
</span><a href="../../../../generic-lens/html/src"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;txId&quot;
  ((Hash &quot;Tx&quot; -&gt; Const (Hash &quot;Tx&quot;) (Hash &quot;Tx&quot;))
   -&gt; Tx -&gt; Const (Hash &quot;Tx&quot;) Tx)
(Hash &quot;Tx&quot; -&gt; Const (Hash &quot;Tx&quot;) (Hash &quot;Tx&quot;))
-&gt; Tx -&gt; Const (Hash &quot;Tx&quot;) Tx
</span><a href="#local-6989586621682431284"><span class="hs-var">#txId</span></a></span><span> </span><span class="annot"><span class="annottext">Tx
</span><a href="#local-6989586621682431285"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-290"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; Builder
forall p. Buildable p =&gt; p -&gt; Builder
</span><a href="../../../../formatting/html/src"><span class="hs-identifier hs-var">build</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\n&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-291"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; (TxIn -&gt; Builder) -&gt; [TxIn] -&gt; Builder
forall (f :: * -&gt; *) a.
Foldable f =&gt;
Text -&gt; (a -&gt; Builder) -&gt; f a -&gt; Builder
</span><a href="../../../../fmt/html/src"><span class="hs-identifier hs-var">blockListF'</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;inputs&quot;</span></span><span>
</span><span id="line-292"></span><span>            </span><span class="annot"><span class="annottext">TxIn -&gt; Builder
forall p. Buildable p =&gt; p -&gt; Builder
</span><a href="../../../../formatting/html/src"><span class="hs-identifier hs-var">build</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TxIn, Coin) -&gt; TxIn
forall a b. (a, b) -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fst</span></a></span><span> </span><span class="annot"><span class="annottext">((TxIn, Coin) -&gt; TxIn) -&gt; [(TxIn, Coin)] -&gt; [TxIn]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(([(TxIn, Coin)] -&gt; Const [(TxIn, Coin)] [(TxIn, Coin)])
 -&gt; Tx -&gt; Const [(TxIn, Coin)] Tx)
-&gt; Tx -&gt; [(TxIn, Coin)]
forall a s. ((a -&gt; Const a a) -&gt; s -&gt; Const a s) -&gt; s -&gt; a
</span><a href="../../../../generic-lens/html/src"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;resolvedInputs&quot;
  (([(TxIn, Coin)] -&gt; Const [(TxIn, Coin)] [(TxIn, Coin)])
   -&gt; Tx -&gt; Const [(TxIn, Coin)] Tx)
([(TxIn, Coin)] -&gt; Const [(TxIn, Coin)] [(TxIn, Coin)])
-&gt; Tx -&gt; Const [(TxIn, Coin)] Tx
</span><a href="#local-6989586621682431282"><span class="hs-var">#resolvedInputs</span></a></span><span> </span><span class="annot"><span class="annottext">Tx
</span><a href="#local-6989586621682431285"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-293"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; (TxIn -&gt; Builder) -&gt; [TxIn] -&gt; Builder
forall (f :: * -&gt; *) a.
Foldable f =&gt;
Text -&gt; (a -&gt; Builder) -&gt; f a -&gt; Builder
</span><a href="../../../../fmt/html/src"><span class="hs-identifier hs-var">blockListF'</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;collateral inputs&quot;</span></span><span>
</span><span id="line-294"></span><span>            </span><span class="annot"><span class="annottext">TxIn -&gt; Builder
forall p. Buildable p =&gt; p -&gt; Builder
</span><a href="../../../../formatting/html/src"><span class="hs-identifier hs-var">build</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TxIn, Coin) -&gt; TxIn
forall a b. (a, b) -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fst</span></a></span><span> </span><span class="annot"><span class="annottext">((TxIn, Coin) -&gt; TxIn) -&gt; [(TxIn, Coin)] -&gt; [TxIn]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(([(TxIn, Coin)] -&gt; Const [(TxIn, Coin)] [(TxIn, Coin)])
 -&gt; Tx -&gt; Const [(TxIn, Coin)] Tx)
-&gt; Tx -&gt; [(TxIn, Coin)]
forall a s. ((a -&gt; Const a a) -&gt; s -&gt; Const a s) -&gt; s -&gt; a
</span><a href="../../../../generic-lens/html/src"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;resolvedCollateralInputs&quot;
  (([(TxIn, Coin)] -&gt; Const [(TxIn, Coin)] [(TxIn, Coin)])
   -&gt; Tx -&gt; Const [(TxIn, Coin)] Tx)
([(TxIn, Coin)] -&gt; Const [(TxIn, Coin)] [(TxIn, Coin)])
-&gt; Tx -&gt; Const [(TxIn, Coin)] Tx
</span><a href="#local-6989586621682431281"><span class="hs-var">#resolvedCollateralInputs</span></a></span><span> </span><span class="annot"><span class="annottext">Tx
</span><a href="#local-6989586621682431285"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-295"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; (TxOut -&gt; Builder) -&gt; [TxOut] -&gt; Builder
forall (f :: * -&gt; *) a.
Foldable f =&gt;
Text -&gt; (a -&gt; Builder) -&gt; f a -&gt; Builder
</span><a href="../../../../fmt/html/src"><span class="hs-identifier hs-var">blockListF'</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;outputs&quot;</span></span><span>
</span><span id="line-296"></span><span>            </span><span class="annot"><span class="annottext">TxOut -&gt; Builder
forall p. Buildable p =&gt; p -&gt; Builder
</span><a href="../../../../formatting/html/src"><span class="hs-identifier hs-var">build</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(([TxOut] -&gt; Const [TxOut] [TxOut]) -&gt; Tx -&gt; Const [TxOut] Tx)
-&gt; Tx -&gt; [TxOut]
forall a s. ((a -&gt; Const a a) -&gt; s -&gt; Const a s) -&gt; s -&gt; a
</span><a href="../../../../generic-lens/html/src"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;outputs&quot;
  (([TxOut] -&gt; Const [TxOut] [TxOut]) -&gt; Tx -&gt; Const [TxOut] Tx)
([TxOut] -&gt; Const [TxOut] [TxOut]) -&gt; Tx -&gt; Const [TxOut] Tx
</span><a href="#local-6989586621682431280"><span class="hs-var">#outputs</span></a></span><span> </span><span class="annot"><span class="annottext">Tx
</span><a href="#local-6989586621682431285"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-297"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text -&gt; (TxOut -&gt; Builder) -&gt; Maybe TxOut -&gt; Builder
forall (f :: * -&gt; *) a.
Foldable f =&gt;
Text -&gt; (a -&gt; Builder) -&gt; f a -&gt; Builder
</span><a href="../../../../fmt/html/src"><span class="hs-identifier hs-var">blockListF'</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;collateral outputs&quot;</span></span><span>
</span><span id="line-298"></span><span>            </span><span class="annot"><span class="annottext">TxOut -&gt; Builder
forall p. Buildable p =&gt; p -&gt; Builder
</span><a href="../../../../formatting/html/src"><span class="hs-identifier hs-var">build</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((Maybe TxOut -&gt; Const (Maybe TxOut) (Maybe TxOut))
 -&gt; Tx -&gt; Const (Maybe TxOut) Tx)
-&gt; Tx -&gt; Maybe TxOut
forall a s. ((a -&gt; Const a a) -&gt; s -&gt; Const a s) -&gt; s -&gt; a
</span><a href="../../../../generic-lens/html/src"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;collateralOutput&quot;
  ((Maybe TxOut -&gt; Const (Maybe TxOut) (Maybe TxOut))
   -&gt; Tx -&gt; Const (Maybe TxOut) Tx)
(Maybe TxOut -&gt; Const (Maybe TxOut) (Maybe TxOut))
-&gt; Tx -&gt; Const (Maybe TxOut) Tx
</span><a href="#local-6989586621682431279"><span class="hs-var">#collateralOutput</span></a></span><span> </span><span class="annot"><span class="annottext">Tx
</span><a href="#local-6989586621682431285"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-299"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
-&gt; ((RewardAccount, Coin) -&gt; Builder)
-&gt; [(RewardAccount, Coin)]
-&gt; Builder
forall (f :: * -&gt; *) a.
Foldable f =&gt;
Text -&gt; (a -&gt; Builder) -&gt; f a -&gt; Builder
</span><a href="../../../../fmt/html/src"><span class="hs-identifier hs-var">blockListF'</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;withdrawals&quot;</span></span><span>
</span><span id="line-300"></span><span>            </span><span class="annot"><span class="annottext">(RewardAccount, Coin) -&gt; Builder
forall a. TupleF a =&gt; a -&gt; Builder
</span><a href="../../../../fmt/html/src"><span class="hs-identifier hs-var">tupleF</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map RewardAccount Coin -&gt; [(RewardAccount, Coin)]
forall k a. Map k a -&gt; [(k, a)]
</span><a href="../../../../containers/html/src"><span class="hs-identifier hs-var">Map.toList</span></a></span><span> </span><span class="annot"><span class="annottext">(Map RewardAccount Coin -&gt; [(RewardAccount, Coin)])
-&gt; Map RewardAccount Coin -&gt; [(RewardAccount, Coin)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">((Map RewardAccount Coin
  -&gt; Const (Map RewardAccount Coin) (Map RewardAccount Coin))
 -&gt; Tx -&gt; Const (Map RewardAccount Coin) Tx)
-&gt; Tx -&gt; Map RewardAccount Coin
forall a s. ((a -&gt; Const a a) -&gt; s -&gt; Const a s) -&gt; s -&gt; a
</span><a href="../../../../generic-lens/html/src"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;withdrawals&quot;
  ((Map RewardAccount Coin
    -&gt; Const (Map RewardAccount Coin) (Map RewardAccount Coin))
   -&gt; Tx -&gt; Const (Map RewardAccount Coin) Tx)
(Map RewardAccount Coin
 -&gt; Const (Map RewardAccount Coin) (Map RewardAccount Coin))
-&gt; Tx -&gt; Const (Map RewardAccount Coin) Tx
</span><a href="#local-6989586621682431277"><span class="hs-var">#withdrawals</span></a></span><span> </span><span class="annot"><span class="annottext">Tx
</span><a href="#local-6989586621682431285"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-301"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Builder -&gt; Builder -&gt; Builder
</span><a href="../../../../fmt/html/src"><span class="hs-identifier hs-var">nameF</span></a></span><span> </span><span class="annot"><span class="annottext">Builder
</span><span class="hs-string">&quot;metadata&quot;</span></span><span>
</span><span id="line-302"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Builder -&gt; (TxMetadata -&gt; Builder) -&gt; Maybe TxMetadata -&gt; Builder
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Builder
</span><span class="hs-string">&quot;&quot;</span></span><span> </span><span class="annot"><span class="annottext">TxMetadata -&gt; Builder
forall p. Buildable p =&gt; p -&gt; Builder
</span><a href="../../../../formatting/html/src"><span class="hs-identifier hs-var">build</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe TxMetadata -&gt; Builder) -&gt; Maybe TxMetadata -&gt; Builder
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">((Maybe TxMetadata -&gt; Const (Maybe TxMetadata) (Maybe TxMetadata))
 -&gt; Tx -&gt; Const (Maybe TxMetadata) Tx)
-&gt; Tx -&gt; Maybe TxMetadata
forall a s. ((a -&gt; Const a a) -&gt; s -&gt; Const a s) -&gt; s -&gt; a
</span><a href="../../../../generic-lens/html/src"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;metadata&quot;
  ((Maybe TxMetadata -&gt; Const (Maybe TxMetadata) (Maybe TxMetadata))
   -&gt; Tx -&gt; Const (Maybe TxMetadata) Tx)
(Maybe TxMetadata -&gt; Const (Maybe TxMetadata) (Maybe TxMetadata))
-&gt; Tx -&gt; Const (Maybe TxMetadata) Tx
</span><a href="#local-6989586621682431275"><span class="hs-var">#metadata</span></a></span><span> </span><span class="annot"><span class="annottext">Tx
</span><a href="#local-6989586621682431285"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-303"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Builder -&gt; Builder -&gt; Builder
</span><a href="../../../../fmt/html/src"><span class="hs-identifier hs-var">nameF</span></a></span><span> </span><span class="annot"><span class="annottext">Builder
</span><span class="hs-string">&quot;scriptValidity&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe TxScriptValidity -&gt; Builder
forall p. Buildable p =&gt; p -&gt; Builder
</span><a href="../../../../formatting/html/src"><span class="hs-identifier hs-var">build</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe TxScriptValidity -&gt; Builder)
-&gt; Maybe TxScriptValidity -&gt; Builder
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">((Maybe TxScriptValidity
  -&gt; Const (Maybe TxScriptValidity) (Maybe TxScriptValidity))
 -&gt; Tx -&gt; Const (Maybe TxScriptValidity) Tx)
-&gt; Tx -&gt; Maybe TxScriptValidity
forall a s. ((a -&gt; Const a a) -&gt; s -&gt; Const a s) -&gt; s -&gt; a
</span><a href="../../../../generic-lens/html/src"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;scriptValidity&quot;
  ((Maybe TxScriptValidity
    -&gt; Const (Maybe TxScriptValidity) (Maybe TxScriptValidity))
   -&gt; Tx -&gt; Const (Maybe TxScriptValidity) Tx)
(Maybe TxScriptValidity
 -&gt; Const (Maybe TxScriptValidity) (Maybe TxScriptValidity))
-&gt; Tx -&gt; Const (Maybe TxScriptValidity) Tx
</span><a href="#local-6989586621682431274"><span class="hs-var">#scriptValidity</span></a></span><span> </span><span class="annot"><span class="annottext">Tx
</span><a href="#local-6989586621682431285"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-304"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-305"></span><span>
</span><span id="line-306"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../formatting/html/src"><span class="hs-identifier hs-type">Buildable</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxScriptValidity"><span class="hs-identifier hs-type">TxScriptValidity</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-307"></span><span>    </span><span id="local-6989586621682431272"><span class="annot"><span class="annottext">build :: TxScriptValidity -&gt; Builder
</span><a href="#local-6989586621682431272"><span class="hs-identifier hs-var hs-var hs-var hs-var">build</span></a></span></span><span> </span><span class="annot"><span class="annottext">TxScriptValidity
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxScriptValid"><span class="hs-identifier hs-var">TxScriptValid</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Builder
</span><span class="hs-string">&quot;valid&quot;</span></span><span>
</span><span id="line-308"></span><span>    </span><span class="annot"><a href="../../../../formatting/html/src"><span class="hs-identifier hs-var">build</span></a></span><span> </span><span class="annot"><span class="annottext">TxScriptValidity
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxScriptInvalid"><span class="hs-identifier hs-var">TxScriptInvalid</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Builder
</span><span class="hs-string">&quot;invalid&quot;</span></span><span>
</span><span id="line-309"></span><span>
</span><span id="line-310"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txIns"><span class="hs-identifier hs-type">txIns</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../containers/html/src"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Tx"><span class="hs-identifier hs-type">Tx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../containers/html/src"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span>
</span><span id="line-311"></span><span id="txIns"><span class="annot"><span class="annottext">txIns :: Set Tx -&gt; Set TxIn
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txIns"><span class="hs-identifier hs-var hs-var">txIns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Tx -&gt; Set TxIn) -&gt; Set Tx -&gt; Set TxIn
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">foldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621682431268"><span class="annot"><span class="annottext">Tx
</span><a href="#local-6989586621682431268"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[TxIn] -&gt; Set TxIn
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="../../../../containers/html/src"><span class="hs-identifier hs-var">Set.fromList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tx -&gt; [TxIn]
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#inputs"><span class="hs-identifier hs-var">inputs</span></a></span><span> </span><span class="annot"><span class="annottext">Tx
</span><a href="#local-6989586621682431268"><span class="hs-identifier hs-var">tx</span></a></span><span> </span><span class="annot"><span class="annottext">[TxIn] -&gt; [TxIn] -&gt; [TxIn]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Tx -&gt; [TxIn]
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#collateralInputs"><span class="hs-identifier hs-var">collateralInputs</span></a></span><span> </span><span class="annot"><span class="annottext">Tx
</span><a href="#local-6989586621682431268"><span class="hs-identifier hs-var">tx</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-312"></span><span>
</span><span id="line-313"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#inputs"><span class="hs-identifier hs-type">inputs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Tx"><span class="hs-identifier hs-type">Tx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-314"></span><span id="inputs"><span class="annot"><span class="annottext">inputs :: Tx -&gt; [TxIn]
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#inputs"><span class="hs-identifier hs-var hs-var">inputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((TxIn, Coin) -&gt; TxIn) -&gt; [(TxIn, Coin)] -&gt; [TxIn]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(TxIn, Coin) -&gt; TxIn
forall a b. (a, b) -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fst</span></a></span><span> </span><span class="annot"><span class="annottext">([(TxIn, Coin)] -&gt; [TxIn])
-&gt; (Tx -&gt; [(TxIn, Coin)]) -&gt; Tx -&gt; [TxIn]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Tx -&gt; [(TxIn, Coin)]
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AresolvedInputs%3ATx"><span class="hs-identifier hs-var hs-var">resolvedInputs</span></a></span><span>
</span><span id="line-315"></span><span>
</span><span id="line-316"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#collateralInputs"><span class="hs-identifier hs-type">collateralInputs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Tx"><span class="hs-identifier hs-type">Tx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-317"></span><span id="collateralInputs"><span class="annot"><span class="annottext">collateralInputs :: Tx -&gt; [TxIn]
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#collateralInputs"><span class="hs-identifier hs-var hs-var">collateralInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((TxIn, Coin) -&gt; TxIn) -&gt; [(TxIn, Coin)] -&gt; [TxIn]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(TxIn, Coin) -&gt; TxIn
forall a b. (a, b) -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fst</span></a></span><span> </span><span class="annot"><span class="annottext">([(TxIn, Coin)] -&gt; [TxIn])
-&gt; (Tx -&gt; [(TxIn, Coin)]) -&gt; Tx -&gt; [TxIn]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Tx -&gt; [(TxIn, Coin)]
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AresolvedCollateralInputs%3ATx"><span class="hs-identifier hs-var hs-var">resolvedCollateralInputs</span></a></span><span>
</span><span id="line-318"></span><span>
</span><span id="line-319"></span><span id="local-6989586621682431264"><span id="local-6989586621682431265"></span></span><span class="hs-keyword">data</span><span> </span><span id="TxIn"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxIn"><span class="hs-identifier hs-var">TxIn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TxIn"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxIn"><span class="hs-identifier hs-var">TxIn</span></a></span></span><span>
</span><span id="line-320"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="%24sel%3AinputId%3ATxIn"><span class="annot"><span class="annottext">TxIn -&gt; Hash &quot;Tx&quot;
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AinputId%3ATxIn"><span class="hs-identifier hs-var hs-var">inputId</span></a></span></span><span>
</span><span id="line-321"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Hash.html#Hash"><span class="hs-identifier hs-type">Hash</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Tx&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-322"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AinputIx%3ATxIn"><span class="annot"><span class="annottext">TxIn -&gt; Word32
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AinputIx%3ATxIn"><span class="hs-identifier hs-var hs-var">inputIx</span></a></span></span><span>
</span><span id="line-323"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Word32</span></a></span><span>
</span><span id="line-324"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682431253"><span id="local-6989586621682431255"><span id="local-6989586621682431257"><span id="local-6989586621682431259"><span class="annot"><span class="annottext">ReadPrec [TxIn]
ReadPrec TxIn
Int -&gt; ReadS TxIn
ReadS [TxIn]
(Int -&gt; ReadS TxIn)
-&gt; ReadS [TxIn] -&gt; ReadPrec TxIn -&gt; ReadPrec [TxIn] -&gt; Read TxIn
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [TxIn]
$creadListPrec :: ReadPrec [TxIn]
readPrec :: ReadPrec TxIn
$creadPrec :: ReadPrec TxIn
readList :: ReadS [TxIn]
$creadList :: ReadS [TxIn]
readsPrec :: Int -&gt; ReadS TxIn
$creadsPrec :: Int -&gt; ReadS TxIn
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682431246"><span id="local-6989586621682431248"><span id="local-6989586621682431250"><span class="annot"><span class="annottext">Int -&gt; TxIn -&gt; ShowS
[TxIn] -&gt; ShowS
TxIn -&gt; String
(Int -&gt; TxIn -&gt; ShowS)
-&gt; (TxIn -&gt; String) -&gt; ([TxIn] -&gt; ShowS) -&gt; Show TxIn
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TxIn] -&gt; ShowS
$cshowList :: [TxIn] -&gt; ShowS
show :: TxIn -&gt; String
$cshow :: TxIn -&gt; String
showsPrec :: Int -&gt; TxIn -&gt; ShowS
$cshowsPrec :: Int -&gt; TxIn -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. TxIn -&gt; Rep TxIn x)
-&gt; (forall x. Rep TxIn x -&gt; TxIn) -&gt; Generic TxIn
forall x. Rep TxIn x -&gt; TxIn
forall x. TxIn -&gt; Rep TxIn x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep TxIn x -&gt; TxIn
$cfrom :: forall x. TxIn -&gt; Rep TxIn x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682431240"><span id="local-6989586621682431242"><span class="annot"><span class="annottext">TxIn -&gt; TxIn -&gt; Bool
(TxIn -&gt; TxIn -&gt; Bool) -&gt; (TxIn -&gt; TxIn -&gt; Bool) -&gt; Eq TxIn
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TxIn -&gt; TxIn -&gt; Bool
$c/= :: TxIn -&gt; TxIn -&gt; Bool
== :: TxIn -&gt; TxIn -&gt; Bool
$c== :: TxIn -&gt; TxIn -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682431225"><span id="local-6989586621682431227"><span id="local-6989586621682431229"><span id="local-6989586621682431231"><span id="local-6989586621682431233"><span id="local-6989586621682431235"><span id="local-6989586621682431237"><span class="annot"><span class="annottext">Eq TxIn
Eq TxIn
-&gt; (TxIn -&gt; TxIn -&gt; Ordering)
-&gt; (TxIn -&gt; TxIn -&gt; Bool)
-&gt; (TxIn -&gt; TxIn -&gt; Bool)
-&gt; (TxIn -&gt; TxIn -&gt; Bool)
-&gt; (TxIn -&gt; TxIn -&gt; Bool)
-&gt; (TxIn -&gt; TxIn -&gt; TxIn)
-&gt; (TxIn -&gt; TxIn -&gt; TxIn)
-&gt; Ord TxIn
TxIn -&gt; TxIn -&gt; Bool
TxIn -&gt; TxIn -&gt; Ordering
TxIn -&gt; TxIn -&gt; TxIn
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: TxIn -&gt; TxIn -&gt; TxIn
$cmin :: TxIn -&gt; TxIn -&gt; TxIn
max :: TxIn -&gt; TxIn -&gt; TxIn
$cmax :: TxIn -&gt; TxIn -&gt; TxIn
&gt;= :: TxIn -&gt; TxIn -&gt; Bool
$c&gt;= :: TxIn -&gt; TxIn -&gt; Bool
&gt; :: TxIn -&gt; TxIn -&gt; Bool
$c&gt; :: TxIn -&gt; TxIn -&gt; Bool
&lt;= :: TxIn -&gt; TxIn -&gt; Bool
$c&lt;= :: TxIn -&gt; TxIn -&gt; Bool
&lt; :: TxIn -&gt; TxIn -&gt; Bool
$c&lt; :: TxIn -&gt; TxIn -&gt; Bool
compare :: TxIn -&gt; TxIn -&gt; Ordering
$ccompare :: TxIn -&gt; TxIn -&gt; Ordering
$cp1Ord :: Eq TxIn
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-325"></span><span>
</span><span id="line-326"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682431223"><span class="annot"><a href="../../../../ghc/html/libraries/deepseq-1.4.4.0/src"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span></span><span>
</span><span id="line-327"></span><span>
</span><span id="line-328"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../formatting/html/src"><span class="hs-identifier hs-type">Buildable</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-329"></span><span>    </span><span id="local-6989586621682431221"><span class="annot"><span class="annottext">build :: TxIn -&gt; Builder
</span><a href="#local-6989586621682431221"><span class="hs-identifier hs-var hs-var hs-var hs-var">build</span></a></span></span><span> </span><span id="local-6989586621682431220"><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621682431220"><span class="hs-identifier hs-var">txin</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Builder
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-330"></span><span>        </span><span class="annot"><span class="annottext">Builder -&gt; Builder -&gt; Builder
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Word32 -&gt; Builder
forall a. (Buildable a, Integral a) =&gt; a -&gt; Builder
</span><a href="../../../../fmt/html/src"><span class="hs-identifier hs-var">ordinalF</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxIn -&gt; Word32
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AinputIx%3ATxIn"><span class="hs-identifier hs-var hs-var">inputIx</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621682431220"><span class="hs-identifier hs-var">txin</span></a></span><span> </span><span class="annot"><span class="annottext">Word32 -&gt; Word32 -&gt; Word32
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Word32
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-331"></span><span>        </span><span class="annot"><span class="annottext">Builder -&gt; Builder -&gt; Builder
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Builder
</span><span class="hs-string">&quot; &quot;</span></span><span>
</span><span id="line-332"></span><span>        </span><span class="annot"><span class="annottext">Builder -&gt; Builder -&gt; Builder
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Hash &quot;Tx&quot; -&gt; Builder
forall p. Buildable p =&gt; p -&gt; Builder
</span><a href="../../../../formatting/html/src"><span class="hs-identifier hs-var">build</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxIn -&gt; Hash &quot;Tx&quot;
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AinputId%3ATxIn"><span class="hs-identifier hs-var hs-var">inputId</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621682431220"><span class="hs-identifier hs-var">txin</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-333"></span><span>
</span><span id="line-334"></span><span id="local-6989586621682431217"><span id="local-6989586621682431218"></span></span><span class="hs-keyword">data</span><span> </span><span id="TxOut"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier hs-var">TxOut</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TxOut"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier hs-var">TxOut</span></a></span></span><span>
</span><span id="line-335"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="%24sel%3Aaddress%3ATxOut"><span class="annot"><span class="annottext">TxOut -&gt; Address
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3Aaddress%3ATxOut"><span class="hs-identifier hs-var hs-var">address</span></a></span></span><span>
</span><span id="line-336"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Address.html#Address"><span class="hs-identifier hs-type">Address</span></a></span><span>
</span><span id="line-337"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3Atokens%3ATxOut"><span class="annot"><span class="annottext">TxOut -&gt; TokenBundle
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3Atokens%3ATxOut"><span class="hs-identifier hs-var hs-var">tokens</span></a></span></span><span>
</span><span id="line-338"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenBundle.html#TokenBundle"><span class="hs-identifier hs-type">TokenBundle</span></a></span><span>
</span><span id="line-339"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682431206"><span id="local-6989586621682431208"><span id="local-6989586621682431210"><span id="local-6989586621682431212"><span class="annot"><span class="annottext">ReadPrec [TxOut]
ReadPrec TxOut
Int -&gt; ReadS TxOut
ReadS [TxOut]
(Int -&gt; ReadS TxOut)
-&gt; ReadS [TxOut]
-&gt; ReadPrec TxOut
-&gt; ReadPrec [TxOut]
-&gt; Read TxOut
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [TxOut]
$creadListPrec :: ReadPrec [TxOut]
readPrec :: ReadPrec TxOut
$creadPrec :: ReadPrec TxOut
readList :: ReadS [TxOut]
$creadList :: ReadS [TxOut]
readsPrec :: Int -&gt; ReadS TxOut
$creadsPrec :: Int -&gt; ReadS TxOut
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682431200"><span id="local-6989586621682431202"><span id="local-6989586621682431204"><span class="annot"><span class="annottext">Int -&gt; TxOut -&gt; ShowS
[TxOut] -&gt; ShowS
TxOut -&gt; String
(Int -&gt; TxOut -&gt; ShowS)
-&gt; (TxOut -&gt; String) -&gt; ([TxOut] -&gt; ShowS) -&gt; Show TxOut
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TxOut] -&gt; ShowS
$cshowList :: [TxOut] -&gt; ShowS
show :: TxOut -&gt; String
$cshow :: TxOut -&gt; String
showsPrec :: Int -&gt; TxOut -&gt; ShowS
$cshowsPrec :: Int -&gt; TxOut -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. TxOut -&gt; Rep TxOut x)
-&gt; (forall x. Rep TxOut x -&gt; TxOut) -&gt; Generic TxOut
forall x. Rep TxOut x -&gt; TxOut
forall x. TxOut -&gt; Rep TxOut x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep TxOut x -&gt; TxOut
$cfrom :: forall x. TxOut -&gt; Rep TxOut x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682431194"><span id="local-6989586621682431196"><span class="annot"><span class="annottext">TxOut -&gt; TxOut -&gt; Bool
(TxOut -&gt; TxOut -&gt; Bool) -&gt; (TxOut -&gt; TxOut -&gt; Bool) -&gt; Eq TxOut
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TxOut -&gt; TxOut -&gt; Bool
$c/= :: TxOut -&gt; TxOut -&gt; Bool
== :: TxOut -&gt; TxOut -&gt; Bool
$c== :: TxOut -&gt; TxOut -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-340"></span><span>
</span><span id="line-341"></span><span class="hs-comment">-- Gets the current 'Coin' value from a transaction output.</span><span>
</span><span id="line-342"></span><span class="hs-comment">--</span><span>
</span><span id="line-343"></span><span class="hs-comment">-- 'Coin' values correspond to the ada asset.</span><span>
</span><span id="line-344"></span><span class="hs-comment">--</span><span>
</span><span id="line-345"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutCoin"><span class="hs-identifier hs-type">txOutCoin</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span>
</span><span id="line-346"></span><span id="txOutCoin"><span class="annot"><span class="annottext">txOutCoin :: TxOut -&gt; Coin
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutCoin"><span class="hs-identifier hs-var hs-var">txOutCoin</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TokenBundle -&gt; Coin
</span><a href="Cardano.Wallet.Primitive.Types.TokenBundle.html#getCoin"><span class="hs-identifier hs-var">TokenBundle.getCoin</span></a></span><span> </span><span class="annot"><span class="annottext">(TokenBundle -&gt; Coin) -&gt; (TxOut -&gt; TokenBundle) -&gt; TxOut -&gt; Coin
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">((TokenBundle -&gt; Const TokenBundle TokenBundle)
 -&gt; TxOut -&gt; Const TokenBundle TxOut)
-&gt; TxOut -&gt; TokenBundle
forall a s. ((a -&gt; Const a a) -&gt; s -&gt; Const a s) -&gt; s -&gt; a
</span><a href="../../../../generic-lens/html/src"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;tokens&quot;
  ((TokenBundle -&gt; Const TokenBundle TokenBundle)
   -&gt; TxOut -&gt; Const TokenBundle TxOut)
(TokenBundle -&gt; Const TokenBundle TokenBundle)
-&gt; TxOut -&gt; Const TokenBundle TxOut
</span><a href="#local-6989586621682431192"><span class="hs-var">#tokens</span></a></span><span>
</span><span id="line-347"></span><span>
</span><span id="line-348"></span><span class="hs-comment">-- | Increments the 'Coin' value of a 'TxOut'.</span><span>
</span><span id="line-349"></span><span class="hs-comment">--</span><span>
</span><span id="line-350"></span><span class="hs-comment">-- Satisfies the following property for all values of 'c':</span><span>
</span><span id="line-351"></span><span class="hs-comment">--</span><span>
</span><span id="line-352"></span><span class="hs-comment">-- &gt;&gt;&gt; txOutSubtractCoin c . txOutAddCoin c == id</span><span>
</span><span id="line-353"></span><span class="hs-comment">--</span><span>
</span><span id="line-354"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutAddCoin"><span class="hs-identifier hs-type">txOutAddCoin</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span>
</span><span id="line-355"></span><span id="txOutAddCoin"><span class="annot"><span class="annottext">txOutAddCoin :: Coin -&gt; TxOut -&gt; TxOut
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutAddCoin"><span class="hs-identifier hs-var hs-var">txOutAddCoin</span></a></span></span><span> </span><span id="local-6989586621682431191"><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621682431191"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span> </span><span id="local-6989586621682431190"><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621682431190"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span id="local-6989586621682431189"><span class="annot"><span class="annottext">TokenBundle
</span><a href="#local-6989586621682431189"><span class="hs-identifier hs-var">tokens</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-356"></span><span>    </span><span class="annot"><span class="annottext">Address -&gt; TokenBundle -&gt; TxOut
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier hs-var">TxOut</span></a></span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621682431190"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TokenBundle
</span><a href="#local-6989586621682431189"><span class="hs-identifier hs-var">tokens</span></a></span><span> </span><span class="annot"><span class="annottext">TokenBundle -&gt; TokenBundle -&gt; TokenBundle
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Coin -&gt; TokenBundle
</span><a href="Cardano.Wallet.Primitive.Types.TokenBundle.html#fromCoin"><span class="hs-identifier hs-var">TokenBundle.fromCoin</span></a></span><span> </span><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621682431191"><span class="hs-identifier hs-var">val</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-357"></span><span>
</span><span id="line-358"></span><span class="hs-comment">-- | Decrements the 'Coin' value of a 'TxOut'.</span><span>
</span><span id="line-359"></span><span class="hs-comment">--</span><span>
</span><span id="line-360"></span><span class="hs-comment">-- Satisfies the following property for all values of 'c':</span><span>
</span><span id="line-361"></span><span class="hs-comment">--</span><span>
</span><span id="line-362"></span><span class="hs-comment">-- &gt;&gt;&gt; txOutSubtractCoin c . txOutAddCoin c == id</span><span>
</span><span id="line-363"></span><span class="hs-comment">--</span><span>
</span><span id="line-364"></span><span class="hs-comment">-- If the given 'Coin' is greater than the 'Coin' value of the given 'TxOut',</span><span>
</span><span id="line-365"></span><span class="hs-comment">-- the resulting 'TxOut' will have a 'Coin' value of zero.</span><span>
</span><span id="line-366"></span><span class="hs-comment">--</span><span>
</span><span id="line-367"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutSubtractCoin"><span class="hs-identifier hs-type">txOutSubtractCoin</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span>
</span><span id="line-368"></span><span id="txOutSubtractCoin"><span class="annot"><span class="annottext">txOutSubtractCoin :: Coin -&gt; TxOut -&gt; TxOut
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutSubtractCoin"><span class="hs-identifier hs-var hs-var">txOutSubtractCoin</span></a></span></span><span> </span><span id="local-6989586621682431187"><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621682431187"><span class="hs-identifier hs-var">toSubtract</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-369"></span><span>    </span><span class="annot"><span class="annottext">((Coin -&gt; Identity Coin) -&gt; TxOut -&gt; Identity TxOut)
-&gt; (Coin -&gt; Coin) -&gt; TxOut -&gt; TxOut
forall a b s t.
((a -&gt; Identity b) -&gt; s -&gt; Identity t) -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><a href="../../../../generic-lens/html/src"><span class="hs-identifier hs-var">over</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IsLabel
  &quot;tokens&quot;
  ((TokenBundle -&gt; Identity TokenBundle) -&gt; TxOut -&gt; Identity TxOut)
(TokenBundle -&gt; Identity TokenBundle) -&gt; TxOut -&gt; Identity TxOut
</span><a href="#local-6989586621682431186"><span class="hs-var">#tokens</span></a></span><span> </span><span class="annot"><span class="annottext">((TokenBundle -&gt; Identity TokenBundle) -&gt; TxOut -&gt; Identity TxOut)
-&gt; ((Coin -&gt; Identity Coin) -&gt; TokenBundle -&gt; Identity TokenBundle)
-&gt; (Coin -&gt; Identity Coin)
-&gt; TxOut
-&gt; Identity TxOut
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;coin&quot;
  ((Coin -&gt; Identity Coin) -&gt; TokenBundle -&gt; Identity TokenBundle)
(Coin -&gt; Identity Coin) -&gt; TokenBundle -&gt; Identity TokenBundle
</span><a href="#local-6989586621682431185"><span class="hs-var">#coin</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Coin -&gt; Coin -&gt; Coin
</span><a href="Cardano.Wallet.Primitive.Types.Coin.html#difference"><span class="hs-operator hs-var">`Coin.difference`</span></a></span><span> </span><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621682431187"><span class="hs-identifier hs-var">toSubtract</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-370"></span><span>
</span><span id="line-371"></span><span class="hs-comment">-- Since the 'TokenBundle' type deliberately does not provide an 'Ord' instance</span><span>
</span><span id="line-372"></span><span class="hs-comment">-- (as that would lead to arithmetically invalid orderings), this means we can't</span><span>
</span><span id="line-373"></span><span class="hs-comment">-- automatically derive an 'Ord' instance for the 'TxOut' type.</span><span>
</span><span id="line-374"></span><span class="hs-comment">--</span><span>
</span><span id="line-375"></span><span class="hs-comment">-- Instead, we define an 'Ord' instance that makes comparisons based on</span><span>
</span><span id="line-376"></span><span class="hs-comment">-- lexicographic ordering of 'TokenBundle' values.</span><span>
</span><span id="line-377"></span><span class="hs-comment">--</span><span>
</span><span id="line-378"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682431170"><span id="local-6989586621682431172"><span id="local-6989586621682431174"><span id="local-6989586621682431176"><span id="local-6989586621682431178"><span id="local-6989586621682431180"><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Ord</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-379"></span><span>    </span><span id="local-6989586621682431169"><span class="annot"><span class="annottext">compare :: TxOut -&gt; TxOut -&gt; Ordering
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">compare</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TxOut -&gt; (Address, Lexicographic TokenBundle))
-&gt; TxOut -&gt; TxOut -&gt; Ordering
forall a b. Ord a =&gt; (b -&gt; a) -&gt; b -&gt; b -&gt; Ordering
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">comparing</span></a></span><span> </span><span class="annot"><span class="annottext">TxOut -&gt; (Address, Lexicographic TokenBundle)
</span><a href="#local-6989586621682431167"><span class="hs-identifier hs-var">projection</span></a></span><span>
</span><span id="line-380"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-381"></span><span>        </span><span id="local-6989586621682431167"><span class="annot"><span class="annottext">projection :: TxOut -&gt; (Address, Lexicographic TokenBundle)
</span><a href="#local-6989586621682431167"><span class="hs-identifier hs-var hs-var">projection</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span> </span><span id="local-6989586621682431166"><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621682431166"><span class="hs-identifier hs-var">address</span></a></span></span><span> </span><span id="local-6989586621682431165"><span class="annot"><span class="annottext">TokenBundle
</span><a href="#local-6989586621682431165"><span class="hs-identifier hs-var">bundle</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621682431166"><span class="hs-identifier hs-var">address</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TokenBundle -&gt; Lexicographic TokenBundle
forall a. a -&gt; Lexicographic a
</span><a href="Cardano.Wallet.Primitive.Types.TokenMap.html#Lexicographic"><span class="hs-identifier hs-var">Lexicographic</span></a></span><span> </span><span class="annot"><span class="annottext">TokenBundle
</span><a href="#local-6989586621682431165"><span class="hs-identifier hs-var">bundle</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-382"></span><span>
</span><span id="line-383"></span><span id="local-6989586621682431162"><span id="local-6989586621682431163"></span></span><span class="hs-keyword">data</span><span> </span><span id="TxChange"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxChange"><span class="hs-identifier hs-var">TxChange</span></a></span></span><span> </span><span id="local-6989586621682431161"><span class="annot"><a href="#local-6989586621682431161"><span class="hs-identifier hs-type">derivationPath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TxChange"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxChange"><span class="hs-identifier hs-var">TxChange</span></a></span></span><span>
</span><span id="line-384"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="%24sel%3Aaddress%3ATxChange"><span class="annot"><span class="annottext">TxChange derivationPath -&gt; Address
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3Aaddress%3ATxChange"><span class="hs-identifier hs-var hs-var">address</span></a></span></span><span>
</span><span id="line-385"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Address.html#Address"><span class="hs-identifier hs-type">Address</span></a></span><span>
</span><span id="line-386"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3Aamount%3ATxChange"><span class="annot"><span class="annottext">TxChange derivationPath -&gt; Coin
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3Aamount%3ATxChange"><span class="hs-identifier hs-var hs-var">amount</span></a></span></span><span>
</span><span id="line-387"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span>
</span><span id="line-388"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3Aassets%3ATxChange"><span class="annot"><span class="annottext">TxChange derivationPath -&gt; TokenMap
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3Aassets%3ATxChange"><span class="hs-identifier hs-var hs-var">assets</span></a></span></span><span>
</span><span id="line-389"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenMap.html#TokenMap"><span class="hs-identifier hs-type">TokenMap</span></a></span><span>
</span><span id="line-390"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AderivationPath%3ATxChange"><span class="annot"><span class="annottext">TxChange derivationPath -&gt; derivationPath
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AderivationPath%3ATxChange"><span class="hs-identifier hs-var hs-var">derivationPath</span></a></span></span><span>
</span><span id="line-391"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621682431161"><span class="hs-identifier hs-type">derivationPath</span></a></span><span>
</span><span id="line-392"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682431150"><span id="local-6989586621682431152"><span id="local-6989586621682431154"><span class="annot"><span class="annottext">Int -&gt; TxChange derivationPath -&gt; ShowS
[TxChange derivationPath] -&gt; ShowS
TxChange derivationPath -&gt; String
(Int -&gt; TxChange derivationPath -&gt; ShowS)
-&gt; (TxChange derivationPath -&gt; String)
-&gt; ([TxChange derivationPath] -&gt; ShowS)
-&gt; Show (TxChange derivationPath)
forall derivationPath.
Show derivationPath =&gt;
Int -&gt; TxChange derivationPath -&gt; ShowS
forall derivationPath.
Show derivationPath =&gt;
[TxChange derivationPath] -&gt; ShowS
forall derivationPath.
Show derivationPath =&gt;
TxChange derivationPath -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TxChange derivationPath] -&gt; ShowS
$cshowList :: forall derivationPath.
Show derivationPath =&gt;
[TxChange derivationPath] -&gt; ShowS
show :: TxChange derivationPath -&gt; String
$cshow :: forall derivationPath.
Show derivationPath =&gt;
TxChange derivationPath -&gt; String
showsPrec :: Int -&gt; TxChange derivationPath -&gt; ShowS
$cshowsPrec :: forall derivationPath.
Show derivationPath =&gt;
Int -&gt; TxChange derivationPath -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x.
 TxChange derivationPath -&gt; Rep (TxChange derivationPath) x)
-&gt; (forall x.
    Rep (TxChange derivationPath) x -&gt; TxChange derivationPath)
-&gt; Generic (TxChange derivationPath)
forall x.
Rep (TxChange derivationPath) x -&gt; TxChange derivationPath
forall x.
TxChange derivationPath -&gt; Rep (TxChange derivationPath) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall derivationPath x.
Rep (TxChange derivationPath) x -&gt; TxChange derivationPath
forall derivationPath x.
TxChange derivationPath -&gt; Rep (TxChange derivationPath) x
$cto :: forall derivationPath x.
Rep (TxChange derivationPath) x -&gt; TxChange derivationPath
$cfrom :: forall derivationPath x.
TxChange derivationPath -&gt; Rep (TxChange derivationPath) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682431144"><span id="local-6989586621682431146"><span class="annot"><span class="annottext">TxChange derivationPath -&gt; TxChange derivationPath -&gt; Bool
(TxChange derivationPath -&gt; TxChange derivationPath -&gt; Bool)
-&gt; (TxChange derivationPath -&gt; TxChange derivationPath -&gt; Bool)
-&gt; Eq (TxChange derivationPath)
forall derivationPath.
Eq derivationPath =&gt;
TxChange derivationPath -&gt; TxChange derivationPath -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TxChange derivationPath -&gt; TxChange derivationPath -&gt; Bool
$c/= :: forall derivationPath.
Eq derivationPath =&gt;
TxChange derivationPath -&gt; TxChange derivationPath -&gt; Bool
== :: TxChange derivationPath -&gt; TxChange derivationPath -&gt; Bool
$c== :: forall derivationPath.
Eq derivationPath =&gt;
TxChange derivationPath -&gt; TxChange derivationPath -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682431129"><span id="local-6989586621682431131"><span id="local-6989586621682431133"><span id="local-6989586621682431135"><span id="local-6989586621682431137"><span id="local-6989586621682431139"><span id="local-6989586621682431141"><span class="annot"><span class="annottext">Eq (TxChange derivationPath)
Eq (TxChange derivationPath)
-&gt; (TxChange derivationPath -&gt; TxChange derivationPath -&gt; Ordering)
-&gt; (TxChange derivationPath -&gt; TxChange derivationPath -&gt; Bool)
-&gt; (TxChange derivationPath -&gt; TxChange derivationPath -&gt; Bool)
-&gt; (TxChange derivationPath -&gt; TxChange derivationPath -&gt; Bool)
-&gt; (TxChange derivationPath -&gt; TxChange derivationPath -&gt; Bool)
-&gt; (TxChange derivationPath
    -&gt; TxChange derivationPath -&gt; TxChange derivationPath)
-&gt; (TxChange derivationPath
    -&gt; TxChange derivationPath -&gt; TxChange derivationPath)
-&gt; Ord (TxChange derivationPath)
TxChange derivationPath -&gt; TxChange derivationPath -&gt; Bool
TxChange derivationPath -&gt; TxChange derivationPath -&gt; Ordering
TxChange derivationPath
-&gt; TxChange derivationPath -&gt; TxChange derivationPath
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
forall derivationPath.
((TypeError ...), Ord derivationPath) =&gt;
Eq (TxChange derivationPath)
forall derivationPath.
((TypeError ...), Ord derivationPath) =&gt;
TxChange derivationPath -&gt; TxChange derivationPath -&gt; Bool
forall derivationPath.
((TypeError ...), Ord derivationPath) =&gt;
TxChange derivationPath -&gt; TxChange derivationPath -&gt; Ordering
forall derivationPath.
((TypeError ...), Ord derivationPath) =&gt;
TxChange derivationPath
-&gt; TxChange derivationPath -&gt; TxChange derivationPath
min :: TxChange derivationPath
-&gt; TxChange derivationPath -&gt; TxChange derivationPath
$cmin :: forall derivationPath.
((TypeError ...), Ord derivationPath) =&gt;
TxChange derivationPath
-&gt; TxChange derivationPath -&gt; TxChange derivationPath
max :: TxChange derivationPath
-&gt; TxChange derivationPath -&gt; TxChange derivationPath
$cmax :: forall derivationPath.
((TypeError ...), Ord derivationPath) =&gt;
TxChange derivationPath
-&gt; TxChange derivationPath -&gt; TxChange derivationPath
&gt;= :: TxChange derivationPath -&gt; TxChange derivationPath -&gt; Bool
$c&gt;= :: forall derivationPath.
((TypeError ...), Ord derivationPath) =&gt;
TxChange derivationPath -&gt; TxChange derivationPath -&gt; Bool
&gt; :: TxChange derivationPath -&gt; TxChange derivationPath -&gt; Bool
$c&gt; :: forall derivationPath.
((TypeError ...), Ord derivationPath) =&gt;
TxChange derivationPath -&gt; TxChange derivationPath -&gt; Bool
&lt;= :: TxChange derivationPath -&gt; TxChange derivationPath -&gt; Bool
$c&lt;= :: forall derivationPath.
((TypeError ...), Ord derivationPath) =&gt;
TxChange derivationPath -&gt; TxChange derivationPath -&gt; Bool
&lt; :: TxChange derivationPath -&gt; TxChange derivationPath -&gt; Bool
$c&lt; :: forall derivationPath.
((TypeError ...), Ord derivationPath) =&gt;
TxChange derivationPath -&gt; TxChange derivationPath -&gt; Bool
compare :: TxChange derivationPath -&gt; TxChange derivationPath -&gt; Ordering
$ccompare :: forall derivationPath.
((TypeError ...), Ord derivationPath) =&gt;
TxChange derivationPath -&gt; TxChange derivationPath -&gt; Ordering
$cp1Ord :: forall derivationPath.
((TypeError ...), Ord derivationPath) =&gt;
Eq (TxChange derivationPath)
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-393"></span><span>
</span><span id="line-394"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682431127"><span class="annot"><a href="../../../../ghc/html/libraries/deepseq-1.4.4.0/src"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span></span><span>
</span><span id="line-395"></span><span>
</span><span id="line-396"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../formatting/html/src"><span class="hs-identifier hs-type">Buildable</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-397"></span><span>    </span><span id="local-6989586621682431125"><span class="annot"><span class="annottext">build :: TxOut -&gt; Builder
</span><a href="#local-6989586621682431125"><span class="hs-identifier hs-var hs-var hs-var hs-var">build</span></a></span></span><span> </span><span id="local-6989586621682431124"><span class="annot"><span class="annottext">TxOut
</span><a href="#local-6989586621682431124"><span class="hs-identifier hs-var">txOut</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(String, Builder)] -&gt; Builder
</span><a href="#local-6989586621682431123"><span class="hs-identifier hs-var">buildMap</span></a></span><span>
</span><span id="line-398"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;address&quot;</span></span><span>
</span><span id="line-399"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Builder
</span><a href="#local-6989586621682431122"><span class="hs-identifier hs-var">addressShort</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-400"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;coin&quot;</span></span><span>
</span><span id="line-401"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Coin -&gt; Builder
forall p. Buildable p =&gt; p -&gt; Builder
</span><a href="../../../../formatting/html/src"><span class="hs-identifier hs-var">build</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxOut -&gt; Coin
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutCoin"><span class="hs-identifier hs-var">txOutCoin</span></a></span><span> </span><span class="annot"><span class="annottext">TxOut
</span><a href="#local-6989586621682431124"><span class="hs-identifier hs-var">txOut</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-402"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;tokens&quot;</span></span><span>
</span><span id="line-403"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Nested TokenMap -&gt; Builder
forall p. Buildable p =&gt; p -&gt; Builder
</span><a href="../../../../formatting/html/src"><span class="hs-identifier hs-var">build</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TokenMap -&gt; Nested TokenMap
forall a. a -&gt; Nested a
</span><a href="Cardano.Wallet.Primitive.Types.TokenMap.html#Nested"><span class="hs-identifier hs-var">TokenMap.Nested</span></a></span><span> </span><span class="annot"><span class="annottext">(TokenMap -&gt; Nested TokenMap) -&gt; TokenMap -&gt; Nested TokenMap
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">((TokenMap -&gt; Const TokenMap TokenMap)
 -&gt; TxOut -&gt; Const TokenMap TxOut)
-&gt; TxOut -&gt; TokenMap
forall a s. ((a -&gt; Const a a) -&gt; s -&gt; Const a s) -&gt; s -&gt; a
</span><a href="../../../../generic-lens/html/src"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IsLabel
  &quot;tokens&quot;
  ((TokenBundle -&gt; Const TokenMap TokenBundle)
   -&gt; TxOut -&gt; Const TokenMap TxOut)
(TokenBundle -&gt; Const TokenMap TokenBundle)
-&gt; TxOut -&gt; Const TokenMap TxOut
</span><a href="#local-6989586621682431120"><span class="hs-var">#tokens</span></a></span><span> </span><span class="annot"><span class="annottext">((TokenBundle -&gt; Const TokenMap TokenBundle)
 -&gt; TxOut -&gt; Const TokenMap TxOut)
-&gt; ((TokenMap -&gt; Const TokenMap TokenMap)
    -&gt; TokenBundle -&gt; Const TokenMap TokenBundle)
-&gt; (TokenMap -&gt; Const TokenMap TokenMap)
-&gt; TxOut
-&gt; Const TokenMap TxOut
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;tokens&quot;
  ((TokenMap -&gt; Const TokenMap TokenMap)
   -&gt; TokenBundle -&gt; Const TokenMap TokenBundle)
(TokenMap -&gt; Const TokenMap TokenMap)
-&gt; TokenBundle -&gt; Const TokenMap TokenBundle
</span><a href="#local-6989586621682431119"><span class="hs-var">#tokens</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TxOut
</span><a href="#local-6989586621682431124"><span class="hs-identifier hs-var">txOut</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-404"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-405"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-406"></span><span>        </span><span id="local-6989586621682431122"><span class="annot"><span class="annottext">addressShort :: Builder
</span><a href="#local-6989586621682431122"><span class="hs-identifier hs-var hs-var">addressShort</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Builder
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-407"></span><span>            </span><span class="annot"><span class="annottext">Builder -&gt; Builder -&gt; Builder
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Builder -&gt; Builder
forall a. Buildable a =&gt; Int -&gt; a -&gt; Builder
</span><a href="../../../../fmt/html/src"><span class="hs-identifier hs-var">prefixF</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span> </span><span class="annot"><span class="annottext">Builder
</span><a href="#local-6989586621682431118"><span class="hs-identifier hs-var">addressFull</span></a></span><span>
</span><span id="line-408"></span><span>            </span><span class="annot"><span class="annottext">Builder -&gt; Builder -&gt; Builder
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Builder
</span><span class="hs-string">&quot;...&quot;</span></span><span>
</span><span id="line-409"></span><span>            </span><span class="annot"><span class="annottext">Builder -&gt; Builder -&gt; Builder
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Builder -&gt; Builder
forall a. Buildable a =&gt; Int -&gt; a -&gt; Builder
</span><a href="../../../../fmt/html/src"><span class="hs-identifier hs-var">suffixF</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span> </span><span class="annot"><span class="annottext">Builder
</span><a href="#local-6989586621682431118"><span class="hs-identifier hs-var">addressFull</span></a></span><span>
</span><span id="line-410"></span><span>        </span><span id="local-6989586621682431118"><span class="annot"><span class="annottext">addressFull :: Builder
</span><a href="#local-6989586621682431118"><span class="hs-identifier hs-var hs-var">addressFull</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Address -&gt; Builder
forall p. Buildable p =&gt; p -&gt; Builder
</span><a href="../../../../formatting/html/src"><span class="hs-identifier hs-var">build</span></a></span><span> </span><span class="annot"><span class="annottext">(Address -&gt; Builder) -&gt; Address -&gt; Builder
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">((Address -&gt; Const Address Address)
 -&gt; TxOut -&gt; Const Address TxOut)
-&gt; TxOut -&gt; Address
forall a s. ((a -&gt; Const a a) -&gt; s -&gt; Const a s) -&gt; s -&gt; a
</span><a href="../../../../generic-lens/html/src"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;address&quot;
  ((Address -&gt; Const Address Address)
   -&gt; TxOut -&gt; Const Address TxOut)
(Address -&gt; Const Address Address) -&gt; TxOut -&gt; Const Address TxOut
</span><a href="#local-6989586621682431117"><span class="hs-var">#address</span></a></span><span> </span><span class="annot"><span class="annottext">TxOut
</span><a href="#local-6989586621682431124"><span class="hs-identifier hs-var">txOut</span></a></span><span>
</span><span id="line-411"></span><span>        </span><span id="local-6989586621682431123"><span class="annot"><span class="annottext">buildMap :: [(String, Builder)] -&gt; Builder
</span><a href="#local-6989586621682431123"><span class="hs-identifier hs-var hs-var">buildMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(String, Builder)] -&gt; Builder
forall t k v.
(IsList t, Item t ~ (k, v), Buildable k, Buildable v) =&gt;
t -&gt; Builder
</span><a href="../../../../fmt/html/src"><span class="hs-identifier hs-var">blockMapF</span></a></span><span> </span><span class="annot"><span class="annottext">([(String, Builder)] -&gt; Builder)
-&gt; ([(String, Builder)] -&gt; [(String, Builder)])
-&gt; [(String, Builder)]
-&gt; Builder
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">((String, Builder) -&gt; (String, Builder))
-&gt; [(String, Builder)] -&gt; [(String, Builder)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShowS -&gt; (String, Builder) -&gt; (String, Builder)
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="annot"><span class="annottext">(ShowS -&gt; (String, Builder) -&gt; (String, Builder))
-&gt; ShowS -&gt; (String, Builder) -&gt; (String, Builder)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS
forall a. a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">id</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-412"></span><span>
</span><span id="line-413"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../formatting/html/src"><span class="hs-identifier hs-type">Buildable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-414"></span><span>    </span><span id="local-6989586621682431114"><span class="annot"><span class="annottext">build :: (TxIn, TxOut) -&gt; Builder
</span><a href="#local-6989586621682431114"><span class="hs-identifier hs-var hs-var hs-var hs-var">build</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682431113"><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621682431113"><span class="hs-identifier hs-var">txin</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682431112"><span class="annot"><span class="annottext">TxOut
</span><a href="#local-6989586621682431112"><span class="hs-identifier hs-var">txout</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxIn -&gt; Builder
forall p. Buildable p =&gt; p -&gt; Builder
</span><a href="../../../../formatting/html/src"><span class="hs-identifier hs-var">build</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621682431113"><span class="hs-identifier hs-var">txin</span></a></span><span> </span><span class="annot"><span class="annottext">Builder -&gt; Builder -&gt; Builder
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Builder
</span><span class="hs-string">&quot; ==&gt; &quot;</span></span><span> </span><span class="annot"><span class="annottext">Builder -&gt; Builder -&gt; Builder
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TxOut -&gt; Builder
forall p. Buildable p =&gt; p -&gt; Builder
</span><a href="../../../../formatting/html/src"><span class="hs-identifier hs-var">build</span></a></span><span> </span><span class="annot"><span class="annottext">TxOut
</span><a href="#local-6989586621682431112"><span class="hs-identifier hs-var">txout</span></a></span><span>
</span><span id="line-415"></span><span>
</span><span id="line-416"></span><span class="hs-comment">-- | Additional information about a transaction, derived from the transaction</span><span>
</span><span id="line-417"></span><span class="hs-comment">-- and ledger state. This should not be confused with 'TxMetadata' which is</span><span>
</span><span id="line-418"></span><span class="hs-comment">-- application-specific data included with the transaction.</span><span>
</span><span id="line-419"></span><span class="hs-comment">--</span><span>
</span><span id="line-420"></span><span class="hs-comment">-- TODO: TxProperties or TxProps would be a good name for this type.</span><span>
</span><span id="line-421"></span><span id="local-6989586621682431110"><span id="local-6989586621682431111"></span></span><span class="hs-keyword">data</span><span> </span><span id="TxMeta"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxMeta"><span class="hs-identifier hs-var">TxMeta</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TxMeta"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxMeta"><span class="hs-identifier hs-var">TxMeta</span></a></span></span><span>
</span><span id="line-422"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="%24sel%3Astatus%3ATxMeta"><span class="annot"><span class="annottext">TxMeta -&gt; TxStatus
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3Astatus%3ATxMeta"><span class="hs-identifier hs-var hs-var">status</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxStatus"><span class="hs-identifier hs-type">TxStatus</span></a></span><span>
</span><span id="line-423"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3Adirection%3ATxMeta"><span class="annot"><span class="annottext">TxMeta -&gt; Direction
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3Adirection%3ATxMeta"><span class="hs-identifier hs-var hs-var">direction</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Direction"><span class="hs-identifier hs-type">Direction</span></a></span><span>
</span><span id="line-424"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AslotNo%3ATxMeta"><span class="annot"><span class="annottext">TxMeta -&gt; SlotNo
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AslotNo%3ATxMeta"><span class="hs-identifier hs-var hs-var">slotNo</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier hs-type">SlotNo</span></a></span><span>
</span><span id="line-425"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AblockHeight%3ATxMeta"><span class="annot"><span class="annottext">TxMeta -&gt; Quantity &quot;block&quot; Word32
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AblockHeight%3ATxMeta"><span class="hs-identifier hs-var hs-var">blockHeight</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="Data.Quantity.html#Quantity"><span class="hs-identifier hs-type">Quantity</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;block&quot;</span></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Word32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-426"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3Aamount%3ATxMeta"><span class="annot"><span class="annottext">TxMeta -&gt; Coin
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3Aamount%3ATxMeta"><span class="hs-identifier hs-var hs-var">amount</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span>
</span><span id="line-427"></span><span>    </span><span class="hs-comment">-- ^ Amount seen from the perspective of the wallet. Refers either to a</span><span>
</span><span id="line-428"></span><span>    </span><span class="hs-comment">-- spent value for outgoing transaction, or a received value on incoming</span><span>
</span><span id="line-429"></span><span>    </span><span class="hs-comment">-- transaction.</span><span>
</span><span id="line-430"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3Aexpiry%3ATxMeta"><span class="annot"><span class="annottext">TxMeta -&gt; Maybe SlotNo
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3Aexpiry%3ATxMeta"><span class="hs-identifier hs-var hs-var">expiry</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier hs-type">SlotNo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-431"></span><span>      </span><span class="hs-comment">-- ^ The slot at which a pending transaction will no longer be accepted</span><span>
</span><span id="line-432"></span><span>      </span><span class="hs-comment">-- into mempools.</span><span>
</span><span id="line-433"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682431097"><span id="local-6989586621682431099"><span id="local-6989586621682431101"><span class="annot"><span class="annottext">Int -&gt; TxMeta -&gt; ShowS
[TxMeta] -&gt; ShowS
TxMeta -&gt; String
(Int -&gt; TxMeta -&gt; ShowS)
-&gt; (TxMeta -&gt; String) -&gt; ([TxMeta] -&gt; ShowS) -&gt; Show TxMeta
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TxMeta] -&gt; ShowS
$cshowList :: [TxMeta] -&gt; ShowS
show :: TxMeta -&gt; String
$cshow :: TxMeta -&gt; String
showsPrec :: Int -&gt; TxMeta -&gt; ShowS
$cshowsPrec :: Int -&gt; TxMeta -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682431093"><span id="local-6989586621682431095"><span class="annot"><span class="annottext">TxMeta -&gt; TxMeta -&gt; Bool
(TxMeta -&gt; TxMeta -&gt; Bool)
-&gt; (TxMeta -&gt; TxMeta -&gt; Bool) -&gt; Eq TxMeta
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TxMeta -&gt; TxMeta -&gt; Bool
$c/= :: TxMeta -&gt; TxMeta -&gt; Bool
== :: TxMeta -&gt; TxMeta -&gt; Bool
$c== :: TxMeta -&gt; TxMeta -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682431078"><span id="local-6989586621682431080"><span id="local-6989586621682431082"><span id="local-6989586621682431084"><span id="local-6989586621682431086"><span id="local-6989586621682431088"><span id="local-6989586621682431090"><span class="annot"><span class="annottext">Eq TxMeta
Eq TxMeta
-&gt; (TxMeta -&gt; TxMeta -&gt; Ordering)
-&gt; (TxMeta -&gt; TxMeta -&gt; Bool)
-&gt; (TxMeta -&gt; TxMeta -&gt; Bool)
-&gt; (TxMeta -&gt; TxMeta -&gt; Bool)
-&gt; (TxMeta -&gt; TxMeta -&gt; Bool)
-&gt; (TxMeta -&gt; TxMeta -&gt; TxMeta)
-&gt; (TxMeta -&gt; TxMeta -&gt; TxMeta)
-&gt; Ord TxMeta
TxMeta -&gt; TxMeta -&gt; Bool
TxMeta -&gt; TxMeta -&gt; Ordering
TxMeta -&gt; TxMeta -&gt; TxMeta
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: TxMeta -&gt; TxMeta -&gt; TxMeta
$cmin :: TxMeta -&gt; TxMeta -&gt; TxMeta
max :: TxMeta -&gt; TxMeta -&gt; TxMeta
$cmax :: TxMeta -&gt; TxMeta -&gt; TxMeta
&gt;= :: TxMeta -&gt; TxMeta -&gt; Bool
$c&gt;= :: TxMeta -&gt; TxMeta -&gt; Bool
&gt; :: TxMeta -&gt; TxMeta -&gt; Bool
$c&gt; :: TxMeta -&gt; TxMeta -&gt; Bool
&lt;= :: TxMeta -&gt; TxMeta -&gt; Bool
$c&lt;= :: TxMeta -&gt; TxMeta -&gt; Bool
&lt; :: TxMeta -&gt; TxMeta -&gt; Bool
$c&lt; :: TxMeta -&gt; TxMeta -&gt; Bool
compare :: TxMeta -&gt; TxMeta -&gt; Ordering
$ccompare :: TxMeta -&gt; TxMeta -&gt; Ordering
$cp1Ord :: Eq TxMeta
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. TxMeta -&gt; Rep TxMeta x)
-&gt; (forall x. Rep TxMeta x -&gt; TxMeta) -&gt; Generic TxMeta
forall x. Rep TxMeta x -&gt; TxMeta
forall x. TxMeta -&gt; Rep TxMeta x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep TxMeta x -&gt; TxMeta
$cfrom :: forall x. TxMeta -&gt; Rep TxMeta x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-434"></span><span>
</span><span id="line-435"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682431074"><span class="annot"><a href="../../../../ghc/html/libraries/deepseq-1.4.4.0/src"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxMeta"><span class="hs-identifier hs-type">TxMeta</span></a></span></span><span>
</span><span id="line-436"></span><span>
</span><span id="line-437"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../formatting/html/src"><span class="hs-identifier hs-type">Buildable</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxMeta"><span class="hs-identifier hs-type">TxMeta</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-438"></span><span>    </span><span id="local-6989586621682431072"><span class="annot"><span class="annottext">build :: TxMeta -&gt; Builder
</span><a href="#local-6989586621682431072"><span class="hs-identifier hs-var hs-var hs-var hs-var">build</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxMeta"><span class="hs-identifier hs-type">TxMeta</span></a></span><span> </span><span id="local-6989586621682431071"><span class="annot"><span class="annottext">TxStatus
</span><a href="#local-6989586621682431071"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621682431070"><span class="annot"><span class="annottext">Direction
</span><a href="#local-6989586621682431070"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span id="local-6989586621682431069"><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621682431069"><span class="hs-identifier hs-var">sl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Quantity.html#Quantity"><span class="hs-identifier hs-type">Quantity</span></a></span><span> </span><span id="local-6989586621682431067"><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621682431067"><span class="hs-identifier hs-var">bh</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682431066"><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621682431066"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621682431065"><span class="annot"><span class="annottext">Maybe SlotNo
</span><a href="#local-6989586621682431065"><span class="hs-identifier hs-var">mex</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Builder
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-439"></span><span>        </span><span class="annot"><span class="annottext">Builder -&gt; Builder -&gt; Builder
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">WithDirection Coin -&gt; Builder
forall p. Buildable p =&gt; p -&gt; Builder
</span><a href="../../../../formatting/html/src"><span class="hs-identifier hs-var">build</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Direction -&gt; Coin -&gt; WithDirection Coin
forall a. Direction -&gt; a -&gt; WithDirection a
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#WithDirection"><span class="hs-identifier hs-var">WithDirection</span></a></span><span> </span><span class="annot"><span class="annottext">Direction
</span><a href="#local-6989586621682431070"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621682431066"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-440"></span><span>        </span><span class="annot"><span class="annottext">Builder -&gt; Builder -&gt; Builder
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Builder
</span><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">Builder -&gt; Builder -&gt; Builder
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TxStatus -&gt; Builder
forall p. Buildable p =&gt; p -&gt; Builder
</span><a href="../../../../formatting/html/src"><span class="hs-identifier hs-var">build</span></a></span><span> </span><span class="annot"><span class="annottext">TxStatus
</span><a href="#local-6989586621682431071"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-441"></span><span>        </span><span class="annot"><span class="annottext">Builder -&gt; Builder -&gt; Builder
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Builder
</span><span class="hs-string">&quot; since &quot;</span></span><span> </span><span class="annot"><span class="annottext">Builder -&gt; Builder -&gt; Builder
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SlotNo -&gt; Builder
forall p. Buildable p =&gt; p -&gt; Builder
</span><a href="../../../../formatting/html/src"><span class="hs-identifier hs-var">build</span></a></span><span> </span><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621682431069"><span class="hs-identifier hs-var">sl</span></a></span><span> </span><span class="annot"><span class="annottext">Builder -&gt; Builder -&gt; Builder
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Builder
</span><span class="hs-string">&quot;#&quot;</span></span><span> </span><span class="annot"><span class="annottext">Builder -&gt; Builder -&gt; Builder
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Word32 -&gt; Builder
forall p. Buildable p =&gt; p -&gt; Builder
</span><a href="../../../../formatting/html/src"><span class="hs-identifier hs-var">build</span></a></span><span> </span><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621682431067"><span class="hs-identifier hs-var">bh</span></a></span><span>
</span><span id="line-442"></span><span>        </span><span class="annot"><span class="annottext">Builder -&gt; Builder -&gt; Builder
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Builder -&gt; (SlotNo -&gt; Builder) -&gt; Maybe SlotNo -&gt; Builder
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Builder
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621682431063"><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621682431063"><span class="hs-identifier hs-var">ex</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Builder
</span><span class="hs-string">&quot; (expires slot &quot;</span></span><span> </span><span class="annot"><span class="annottext">Builder -&gt; Builder -&gt; Builder
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SlotNo -&gt; Builder
forall p. Buildable p =&gt; p -&gt; Builder
</span><a href="../../../../formatting/html/src"><span class="hs-identifier hs-var">build</span></a></span><span> </span><span class="annot"><span class="annottext">SlotNo
</span><a href="#local-6989586621682431063"><span class="hs-identifier hs-var">ex</span></a></span><span> </span><span class="annot"><span class="annottext">Builder -&gt; Builder -&gt; Builder
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Builder
</span><span class="hs-string">&quot;)&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe SlotNo
</span><a href="#local-6989586621682431065"><span class="hs-identifier hs-var">mex</span></a></span><span>
</span><span id="line-443"></span><span>
</span><span id="line-444"></span><span id="local-6989586621682431061"><span id="local-6989586621682431062"></span></span><span class="hs-keyword">data</span><span> </span><span id="TxStatus"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxStatus"><span class="hs-identifier hs-var">TxStatus</span></a></span></span><span>
</span><span id="line-445"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="Pending"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Pending"><span class="hs-identifier hs-var">Pending</span></a></span></span><span>
</span><span id="line-446"></span><span>        </span><span class="hs-comment">-- ^ Created, but not yet in a block.</span><span>
</span><span id="line-447"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="InLedger"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#InLedger"><span class="hs-identifier hs-var">InLedger</span></a></span></span><span>
</span><span id="line-448"></span><span>        </span><span class="hs-comment">-- ^ Has been found in a block.</span><span>
</span><span id="line-449"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="Expired"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Expired"><span class="hs-identifier hs-var">Expired</span></a></span></span><span>
</span><span id="line-450"></span><span>        </span><span class="hs-comment">-- ^ Time to live (TTL) has passed.</span><span>
</span><span id="line-451"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682431052"><span id="local-6989586621682431054"><span id="local-6989586621682431056"><span class="annot"><span class="annottext">Int -&gt; TxStatus -&gt; ShowS
[TxStatus] -&gt; ShowS
TxStatus -&gt; String
(Int -&gt; TxStatus -&gt; ShowS)
-&gt; (TxStatus -&gt; String) -&gt; ([TxStatus] -&gt; ShowS) -&gt; Show TxStatus
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TxStatus] -&gt; ShowS
$cshowList :: [TxStatus] -&gt; ShowS
show :: TxStatus -&gt; String
$cshow :: TxStatus -&gt; String
showsPrec :: Int -&gt; TxStatus -&gt; ShowS
$cshowsPrec :: Int -&gt; TxStatus -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682431048"><span id="local-6989586621682431050"><span class="annot"><span class="annottext">TxStatus -&gt; TxStatus -&gt; Bool
(TxStatus -&gt; TxStatus -&gt; Bool)
-&gt; (TxStatus -&gt; TxStatus -&gt; Bool) -&gt; Eq TxStatus
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TxStatus -&gt; TxStatus -&gt; Bool
$c/= :: TxStatus -&gt; TxStatus -&gt; Bool
== :: TxStatus -&gt; TxStatus -&gt; Bool
$c== :: TxStatus -&gt; TxStatus -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682431033"><span id="local-6989586621682431035"><span id="local-6989586621682431037"><span id="local-6989586621682431039"><span id="local-6989586621682431041"><span id="local-6989586621682431043"><span id="local-6989586621682431045"><span class="annot"><span class="annottext">Eq TxStatus
Eq TxStatus
-&gt; (TxStatus -&gt; TxStatus -&gt; Ordering)
-&gt; (TxStatus -&gt; TxStatus -&gt; Bool)
-&gt; (TxStatus -&gt; TxStatus -&gt; Bool)
-&gt; (TxStatus -&gt; TxStatus -&gt; Bool)
-&gt; (TxStatus -&gt; TxStatus -&gt; Bool)
-&gt; (TxStatus -&gt; TxStatus -&gt; TxStatus)
-&gt; (TxStatus -&gt; TxStatus -&gt; TxStatus)
-&gt; Ord TxStatus
TxStatus -&gt; TxStatus -&gt; Bool
TxStatus -&gt; TxStatus -&gt; Ordering
TxStatus -&gt; TxStatus -&gt; TxStatus
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: TxStatus -&gt; TxStatus -&gt; TxStatus
$cmin :: TxStatus -&gt; TxStatus -&gt; TxStatus
max :: TxStatus -&gt; TxStatus -&gt; TxStatus
$cmax :: TxStatus -&gt; TxStatus -&gt; TxStatus
&gt;= :: TxStatus -&gt; TxStatus -&gt; Bool
$c&gt;= :: TxStatus -&gt; TxStatus -&gt; Bool
&gt; :: TxStatus -&gt; TxStatus -&gt; Bool
$c&gt; :: TxStatus -&gt; TxStatus -&gt; Bool
&lt;= :: TxStatus -&gt; TxStatus -&gt; Bool
$c&lt;= :: TxStatus -&gt; TxStatus -&gt; Bool
&lt; :: TxStatus -&gt; TxStatus -&gt; Bool
$c&lt; :: TxStatus -&gt; TxStatus -&gt; Bool
compare :: TxStatus -&gt; TxStatus -&gt; Ordering
$ccompare :: TxStatus -&gt; TxStatus -&gt; Ordering
$cp1Ord :: Eq TxStatus
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682431029"><span id="local-6989586621682431031"><span class="annot"><span class="annottext">TxStatus
TxStatus -&gt; TxStatus -&gt; Bounded TxStatus
forall a. a -&gt; a -&gt; Bounded a
maxBound :: TxStatus
$cmaxBound :: TxStatus
minBound :: TxStatus
$cminBound :: TxStatus
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Bounded</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682431012"><span id="local-6989586621682431014"><span id="local-6989586621682431016"><span id="local-6989586621682431018"><span id="local-6989586621682431020"><span id="local-6989586621682431022"><span id="local-6989586621682431024"><span id="local-6989586621682431026"><span class="annot"><span class="annottext">Int -&gt; TxStatus
TxStatus -&gt; Int
TxStatus -&gt; [TxStatus]
TxStatus -&gt; TxStatus
TxStatus -&gt; TxStatus -&gt; [TxStatus]
TxStatus -&gt; TxStatus -&gt; TxStatus -&gt; [TxStatus]
(TxStatus -&gt; TxStatus)
-&gt; (TxStatus -&gt; TxStatus)
-&gt; (Int -&gt; TxStatus)
-&gt; (TxStatus -&gt; Int)
-&gt; (TxStatus -&gt; [TxStatus])
-&gt; (TxStatus -&gt; TxStatus -&gt; [TxStatus])
-&gt; (TxStatus -&gt; TxStatus -&gt; [TxStatus])
-&gt; (TxStatus -&gt; TxStatus -&gt; TxStatus -&gt; [TxStatus])
-&gt; Enum TxStatus
forall a.
(a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Int -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; a -&gt; [a])
-&gt; Enum a
enumFromThenTo :: TxStatus -&gt; TxStatus -&gt; TxStatus -&gt; [TxStatus]
$cenumFromThenTo :: TxStatus -&gt; TxStatus -&gt; TxStatus -&gt; [TxStatus]
enumFromTo :: TxStatus -&gt; TxStatus -&gt; [TxStatus]
$cenumFromTo :: TxStatus -&gt; TxStatus -&gt; [TxStatus]
enumFromThen :: TxStatus -&gt; TxStatus -&gt; [TxStatus]
$cenumFromThen :: TxStatus -&gt; TxStatus -&gt; [TxStatus]
enumFrom :: TxStatus -&gt; [TxStatus]
$cenumFrom :: TxStatus -&gt; [TxStatus]
fromEnum :: TxStatus -&gt; Int
$cfromEnum :: TxStatus -&gt; Int
toEnum :: Int -&gt; TxStatus
$ctoEnum :: Int -&gt; TxStatus
pred :: TxStatus -&gt; TxStatus
$cpred :: TxStatus -&gt; TxStatus
succ :: TxStatus -&gt; TxStatus
$csucc :: TxStatus -&gt; TxStatus
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Enum</span></a></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. TxStatus -&gt; Rep TxStatus x)
-&gt; (forall x. Rep TxStatus x -&gt; TxStatus) -&gt; Generic TxStatus
forall x. Rep TxStatus x -&gt; TxStatus
forall x. TxStatus -&gt; Rep TxStatus x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep TxStatus x -&gt; TxStatus
$cfrom :: forall x. TxStatus -&gt; Rep TxStatus x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-452"></span><span>
</span><span id="line-453"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682431007"><span class="annot"><a href="../../../../ghc/html/libraries/deepseq-1.4.4.0/src"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxStatus"><span class="hs-identifier hs-type">TxStatus</span></a></span></span><span>
</span><span id="line-454"></span><span>
</span><span id="line-455"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../formatting/html/src"><span class="hs-identifier hs-type">Buildable</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxStatus"><span class="hs-identifier hs-type">TxStatus</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-456"></span><span>    </span><span id="local-6989586621682431005"><span class="annot"><span class="annottext">build :: TxStatus -&gt; Builder
</span><a href="#local-6989586621682431005"><span class="hs-identifier hs-var hs-var hs-var hs-var">build</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Builder
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">Builder.fromText</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Builder) -&gt; (TxStatus -&gt; Text) -&gt; TxStatus -&gt; Builder
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">CaseStyle -&gt; TxStatus -&gt; Text
forall a. (Bounded a, Enum a, Show a) =&gt; CaseStyle -&gt; a -&gt; Text
</span><a href="../../../../text-class/html/src"><span class="hs-identifier hs-var">toTextFromBoundedEnum</span></a></span><span> </span><span class="annot"><span class="annottext">CaseStyle
</span><a href="../../../../text-class/html/src"><span class="hs-identifier hs-var">SpacedLowerCase</span></a></span><span>
</span><span id="line-457"></span><span>
</span><span id="line-458"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../text-class/html/src"><span class="hs-identifier hs-type">FromText</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxStatus"><span class="hs-identifier hs-type">TxStatus</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-459"></span><span>    </span><span id="local-6989586621682431000"><span class="annot"><span class="annottext">fromText :: Text -&gt; Either TextDecodingError TxStatus
</span><a href="../../../../text-class/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromText</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CaseStyle -&gt; Text -&gt; Either TextDecodingError TxStatus
forall a.
(Bounded a, Enum a, Show a) =&gt;
CaseStyle -&gt; Text -&gt; Either TextDecodingError a
</span><a href="../../../../text-class/html/src"><span class="hs-identifier hs-var">fromTextToBoundedEnum</span></a></span><span> </span><span class="annot"><span class="annottext">CaseStyle
</span><a href="../../../../text-class/html/src"><span class="hs-identifier hs-var">SnakeLowerCase</span></a></span><span>
</span><span id="line-460"></span><span>
</span><span id="line-461"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../text-class/html/src"><span class="hs-identifier hs-type">ToText</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxStatus"><span class="hs-identifier hs-type">TxStatus</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-462"></span><span>    </span><span id="local-6989586621682430995"><span class="annot"><span class="annottext">toText :: TxStatus -&gt; Text
</span><a href="../../../../text-class/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">toText</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CaseStyle -&gt; TxStatus -&gt; Text
forall a. (Bounded a, Enum a, Show a) =&gt; CaseStyle -&gt; a -&gt; Text
</span><a href="../../../../text-class/html/src"><span class="hs-identifier hs-var">toTextFromBoundedEnum</span></a></span><span> </span><span class="annot"><span class="annottext">CaseStyle
</span><a href="../../../../text-class/html/src"><span class="hs-identifier hs-var">SnakeLowerCase</span></a></span><span>
</span><span id="line-463"></span><span>
</span><span id="line-464"></span><span class="hs-comment">-- | An unsigned transaction.</span><span>
</span><span id="line-465"></span><span class="hs-comment">--</span><span>
</span><span id="line-466"></span><span class="hs-comment">-- See 'Tx' for a signed transaction.</span><span>
</span><span id="line-467"></span><span class="hs-comment">--</span><span>
</span><span id="line-468"></span><span id="local-6989586621682430992"><span id="local-6989586621682430993"></span></span><span class="hs-keyword">data</span><span> </span><span id="UnsignedTx"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#UnsignedTx"><span class="hs-identifier hs-var">UnsignedTx</span></a></span></span><span> </span><span id="local-6989586621682430991"><span class="annot"><a href="#local-6989586621682430991"><span class="hs-identifier hs-type">input</span></a></span></span><span> </span><span id="local-6989586621682430990"><span class="annot"><a href="#local-6989586621682430990"><span class="hs-identifier hs-type">output</span></a></span></span><span> </span><span id="local-6989586621682430989"><span class="annot"><a href="#local-6989586621682430989"><span class="hs-identifier hs-type">change</span></a></span></span><span> </span><span id="local-6989586621682430988"><span class="annot"><a href="#local-6989586621682430988"><span class="hs-identifier hs-type">withdrawal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="UnsignedTx"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#UnsignedTx"><span class="hs-identifier hs-var">UnsignedTx</span></a></span></span><span>
</span><span id="line-469"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="%24sel%3AunsignedCollateral%3AUnsignedTx"><span class="annot"><span class="annottext">UnsignedTx input output change withdrawal -&gt; [input]
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AunsignedCollateral%3AUnsignedTx"><span class="hs-identifier hs-var hs-var">unsignedCollateral</span></a></span></span><span>
</span><span id="line-470"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682430991"><span class="hs-identifier hs-type">input</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-471"></span><span>        </span><span class="hs-comment">-- Inputs used for collateral.</span><span>
</span><span id="line-472"></span><span>
</span><span id="line-473"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AunsignedInputs%3AUnsignedTx"><span class="annot"><span class="annottext">UnsignedTx input output change withdrawal -&gt; [input]
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AunsignedInputs%3AUnsignedTx"><span class="hs-identifier hs-var hs-var">unsignedInputs</span></a></span></span><span>
</span><span id="line-474"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682430991"><span class="hs-identifier hs-type">input</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-475"></span><span>        </span><span class="hs-comment">-- ^ Inputs are *necessarily* non-empty because Cardano requires at least</span><span>
</span><span id="line-476"></span><span>        </span><span class="hs-comment">-- one UTxO input per transaction to prevent replayable transactions.</span><span>
</span><span id="line-477"></span><span>        </span><span class="hs-comment">-- (each UTxO being unique, including at least one UTxO in the</span><span>
</span><span id="line-478"></span><span>        </span><span class="hs-comment">-- transaction body makes it seemingly unique).</span><span>
</span><span id="line-479"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-480"></span><span>        </span><span class="hs-comment">-- *However* when used to represent the inputs known by the wallet, in</span><span>
</span><span id="line-481"></span><span>        </span><span class="hs-comment">-- contrast to all inputs, it can be empty.</span><span>
</span><span id="line-482"></span><span>
</span><span id="line-483"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AunsignedOutputs%3AUnsignedTx"><span class="annot"><span class="annottext">UnsignedTx input output change withdrawal -&gt; [output]
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AunsignedOutputs%3AUnsignedTx"><span class="hs-identifier hs-var hs-var">unsignedOutputs</span></a></span></span><span>
</span><span id="line-484"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682430990"><span class="hs-identifier hs-type">output</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-485"></span><span>        </span><span class="hs-comment">-- Unlike inputs, it is perfectly reasonable to have empty outputs. The</span><span>
</span><span id="line-486"></span><span>        </span><span class="hs-comment">-- main scenario where this might occur is when constructing a</span><span>
</span><span id="line-487"></span><span>        </span><span class="hs-comment">-- delegation for the sake of submitting a certificate. This type of</span><span>
</span><span id="line-488"></span><span>        </span><span class="hs-comment">-- transaction does not typically include any target output and,</span><span>
</span><span id="line-489"></span><span>        </span><span class="hs-comment">-- depending on which input(s) get selected to fuel the transaction, it</span><span>
</span><span id="line-490"></span><span>        </span><span class="hs-comment">-- may or may not include a change output should its value be less than</span><span>
</span><span id="line-491"></span><span>        </span><span class="hs-comment">-- the minimal UTxO value set by the network.</span><span>
</span><span id="line-492"></span><span>
</span><span id="line-493"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AunsignedChange%3AUnsignedTx"><span class="annot"><span class="annottext">UnsignedTx input output change withdrawal -&gt; [change]
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AunsignedChange%3AUnsignedTx"><span class="hs-identifier hs-var hs-var">unsignedChange</span></a></span></span><span>
</span><span id="line-494"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682430989"><span class="hs-identifier hs-type">change</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-495"></span><span>
</span><span id="line-496"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AunsignedWithdrawals%3AUnsignedTx"><span class="annot"><span class="annottext">UnsignedTx input output change withdrawal -&gt; [withdrawal]
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AunsignedWithdrawals%3AUnsignedTx"><span class="hs-identifier hs-var hs-var">unsignedWithdrawals</span></a></span></span><span>
</span><span id="line-497"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682430988"><span class="hs-identifier hs-type">withdrawal</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-498"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-499"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682430978"><span id="local-6989586621682430980"><span class="annot"><span class="annottext">UnsignedTx input output change withdrawal
-&gt; UnsignedTx input output change withdrawal -&gt; Bool
(UnsignedTx input output change withdrawal
 -&gt; UnsignedTx input output change withdrawal -&gt; Bool)
-&gt; (UnsignedTx input output change withdrawal
    -&gt; UnsignedTx input output change withdrawal -&gt; Bool)
-&gt; Eq (UnsignedTx input output change withdrawal)
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
forall input output change withdrawal.
(Eq input, Eq output, Eq change, Eq withdrawal) =&gt;
UnsignedTx input output change withdrawal
-&gt; UnsignedTx input output change withdrawal -&gt; Bool
/= :: UnsignedTx input output change withdrawal
-&gt; UnsignedTx input output change withdrawal -&gt; Bool
$c/= :: forall input output change withdrawal.
(Eq input, Eq output, Eq change, Eq withdrawal) =&gt;
UnsignedTx input output change withdrawal
-&gt; UnsignedTx input output change withdrawal -&gt; Bool
== :: UnsignedTx input output change withdrawal
-&gt; UnsignedTx input output change withdrawal -&gt; Bool
$c== :: forall input output change withdrawal.
(Eq input, Eq output, Eq change, Eq withdrawal) =&gt;
UnsignedTx input output change withdrawal
-&gt; UnsignedTx input output change withdrawal -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x.
 UnsignedTx input output change withdrawal
 -&gt; Rep (UnsignedTx input output change withdrawal) x)
-&gt; (forall x.
    Rep (UnsignedTx input output change withdrawal) x
    -&gt; UnsignedTx input output change withdrawal)
-&gt; Generic (UnsignedTx input output change withdrawal)
forall x.
Rep (UnsignedTx input output change withdrawal) x
-&gt; UnsignedTx input output change withdrawal
forall x.
UnsignedTx input output change withdrawal
-&gt; Rep (UnsignedTx input output change withdrawal) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall input output change withdrawal x.
Rep (UnsignedTx input output change withdrawal) x
-&gt; UnsignedTx input output change withdrawal
forall input output change withdrawal x.
UnsignedTx input output change withdrawal
-&gt; Rep (UnsignedTx input output change withdrawal) x
$cto :: forall input output change withdrawal x.
Rep (UnsignedTx input output change withdrawal) x
-&gt; UnsignedTx input output change withdrawal
$cfrom :: forall input output change withdrawal x.
UnsignedTx input output change withdrawal
-&gt; Rep (UnsignedTx input output change withdrawal) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682430970"><span id="local-6989586621682430972"><span id="local-6989586621682430974"><span class="annot"><span class="annottext">Int -&gt; UnsignedTx input output change withdrawal -&gt; ShowS
[UnsignedTx input output change withdrawal] -&gt; ShowS
UnsignedTx input output change withdrawal -&gt; String
(Int -&gt; UnsignedTx input output change withdrawal -&gt; ShowS)
-&gt; (UnsignedTx input output change withdrawal -&gt; String)
-&gt; ([UnsignedTx input output change withdrawal] -&gt; ShowS)
-&gt; Show (UnsignedTx input output change withdrawal)
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
forall input output change withdrawal.
(Show input, Show output, Show change, Show withdrawal) =&gt;
Int -&gt; UnsignedTx input output change withdrawal -&gt; ShowS
forall input output change withdrawal.
(Show input, Show output, Show change, Show withdrawal) =&gt;
[UnsignedTx input output change withdrawal] -&gt; ShowS
forall input output change withdrawal.
(Show input, Show output, Show change, Show withdrawal) =&gt;
UnsignedTx input output change withdrawal -&gt; String
showList :: [UnsignedTx input output change withdrawal] -&gt; ShowS
$cshowList :: forall input output change withdrawal.
(Show input, Show output, Show change, Show withdrawal) =&gt;
[UnsignedTx input output change withdrawal] -&gt; ShowS
show :: UnsignedTx input output change withdrawal -&gt; String
$cshow :: forall input output change withdrawal.
(Show input, Show output, Show change, Show withdrawal) =&gt;
UnsignedTx input output change withdrawal -&gt; String
showsPrec :: Int -&gt; UnsignedTx input output change withdrawal -&gt; ShowS
$cshowsPrec :: forall input output change withdrawal.
(Show input, Show output, Show change, Show withdrawal) =&gt;
Int -&gt; UnsignedTx input output change withdrawal -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-500"></span><span>
</span><span id="line-501"></span><span class="hs-comment">-- | The effect of a @Transaction@ on the wallet balance.</span><span>
</span><span id="line-502"></span><span id="local-6989586621682430968"><span id="local-6989586621682430969"></span></span><span class="hs-keyword">data</span><span> </span><span id="Direction"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Direction"><span class="hs-identifier hs-var">Direction</span></a></span></span><span>
</span><span id="line-503"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="Outgoing"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Outgoing"><span class="hs-identifier hs-var">Outgoing</span></a></span></span><span> </span><span class="hs-comment">-- ^ The wallet balance decreases.</span><span>
</span><span id="line-504"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="Incoming"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Incoming"><span class="hs-identifier hs-var">Incoming</span></a></span></span><span> </span><span class="hs-comment">-- ^ The wallet balance increases or stays the same.</span><span>
</span><span id="line-505"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682430960"><span id="local-6989586621682430962"><span id="local-6989586621682430964"><span class="annot"><span class="annottext">Int -&gt; Direction -&gt; ShowS
[Direction] -&gt; ShowS
Direction -&gt; String
(Int -&gt; Direction -&gt; ShowS)
-&gt; (Direction -&gt; String)
-&gt; ([Direction] -&gt; ShowS)
-&gt; Show Direction
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Direction] -&gt; ShowS
$cshowList :: [Direction] -&gt; ShowS
show :: Direction -&gt; String
$cshow :: Direction -&gt; String
showsPrec :: Int -&gt; Direction -&gt; ShowS
$cshowsPrec :: Int -&gt; Direction -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682430956"><span id="local-6989586621682430958"><span class="annot"><span class="annottext">Direction
Direction -&gt; Direction -&gt; Bounded Direction
forall a. a -&gt; a -&gt; Bounded a
maxBound :: Direction
$cmaxBound :: Direction
minBound :: Direction
$cminBound :: Direction
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Bounded</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682430940"><span id="local-6989586621682430942"><span id="local-6989586621682430944"><span id="local-6989586621682430946"><span id="local-6989586621682430948"><span id="local-6989586621682430950"><span id="local-6989586621682430952"><span id="local-6989586621682430954"><span class="annot"><span class="annottext">Int -&gt; Direction
Direction -&gt; Int
Direction -&gt; [Direction]
Direction -&gt; Direction
Direction -&gt; Direction -&gt; [Direction]
Direction -&gt; Direction -&gt; Direction -&gt; [Direction]
(Direction -&gt; Direction)
-&gt; (Direction -&gt; Direction)
-&gt; (Int -&gt; Direction)
-&gt; (Direction -&gt; Int)
-&gt; (Direction -&gt; [Direction])
-&gt; (Direction -&gt; Direction -&gt; [Direction])
-&gt; (Direction -&gt; Direction -&gt; [Direction])
-&gt; (Direction -&gt; Direction -&gt; Direction -&gt; [Direction])
-&gt; Enum Direction
forall a.
(a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Int -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; a -&gt; [a])
-&gt; Enum a
enumFromThenTo :: Direction -&gt; Direction -&gt; Direction -&gt; [Direction]
$cenumFromThenTo :: Direction -&gt; Direction -&gt; Direction -&gt; [Direction]
enumFromTo :: Direction -&gt; Direction -&gt; [Direction]
$cenumFromTo :: Direction -&gt; Direction -&gt; [Direction]
enumFromThen :: Direction -&gt; Direction -&gt; [Direction]
$cenumFromThen :: Direction -&gt; Direction -&gt; [Direction]
enumFrom :: Direction -&gt; [Direction]
$cenumFrom :: Direction -&gt; [Direction]
fromEnum :: Direction -&gt; Int
$cfromEnum :: Direction -&gt; Int
toEnum :: Int -&gt; Direction
$ctoEnum :: Int -&gt; Direction
pred :: Direction -&gt; Direction
$cpred :: Direction -&gt; Direction
succ :: Direction -&gt; Direction
$csucc :: Direction -&gt; Direction
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Enum</span></a></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682430936"><span id="local-6989586621682430938"><span class="annot"><span class="annottext">Direction -&gt; Direction -&gt; Bool
(Direction -&gt; Direction -&gt; Bool)
-&gt; (Direction -&gt; Direction -&gt; Bool) -&gt; Eq Direction
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Direction -&gt; Direction -&gt; Bool
$c/= :: Direction -&gt; Direction -&gt; Bool
== :: Direction -&gt; Direction -&gt; Bool
$c== :: Direction -&gt; Direction -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682430921"><span id="local-6989586621682430923"><span id="local-6989586621682430925"><span id="local-6989586621682430927"><span id="local-6989586621682430929"><span id="local-6989586621682430931"><span id="local-6989586621682430933"><span class="annot"><span class="annottext">Eq Direction
Eq Direction
-&gt; (Direction -&gt; Direction -&gt; Ordering)
-&gt; (Direction -&gt; Direction -&gt; Bool)
-&gt; (Direction -&gt; Direction -&gt; Bool)
-&gt; (Direction -&gt; Direction -&gt; Bool)
-&gt; (Direction -&gt; Direction -&gt; Bool)
-&gt; (Direction -&gt; Direction -&gt; Direction)
-&gt; (Direction -&gt; Direction -&gt; Direction)
-&gt; Ord Direction
Direction -&gt; Direction -&gt; Bool
Direction -&gt; Direction -&gt; Ordering
Direction -&gt; Direction -&gt; Direction
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: Direction -&gt; Direction -&gt; Direction
$cmin :: Direction -&gt; Direction -&gt; Direction
max :: Direction -&gt; Direction -&gt; Direction
$cmax :: Direction -&gt; Direction -&gt; Direction
&gt;= :: Direction -&gt; Direction -&gt; Bool
$c&gt;= :: Direction -&gt; Direction -&gt; Bool
&gt; :: Direction -&gt; Direction -&gt; Bool
$c&gt; :: Direction -&gt; Direction -&gt; Bool
&lt;= :: Direction -&gt; Direction -&gt; Bool
$c&lt;= :: Direction -&gt; Direction -&gt; Bool
&lt; :: Direction -&gt; Direction -&gt; Bool
$c&lt; :: Direction -&gt; Direction -&gt; Bool
compare :: Direction -&gt; Direction -&gt; Ordering
$ccompare :: Direction -&gt; Direction -&gt; Ordering
$cp1Ord :: Eq Direction
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. Direction -&gt; Rep Direction x)
-&gt; (forall x. Rep Direction x -&gt; Direction) -&gt; Generic Direction
forall x. Rep Direction x -&gt; Direction
forall x. Direction -&gt; Rep Direction x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep Direction x -&gt; Direction
$cfrom :: forall x. Direction -&gt; Rep Direction x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-506"></span><span>
</span><span id="line-507"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682430917"><span class="annot"><a href="../../../../ghc/html/libraries/deepseq-1.4.4.0/src"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Direction"><span class="hs-identifier hs-type">Direction</span></a></span></span><span>
</span><span id="line-508"></span><span>
</span><span id="line-509"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../formatting/html/src"><span class="hs-identifier hs-type">Buildable</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Direction"><span class="hs-identifier hs-type">Direction</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-510"></span><span>    </span><span id="local-6989586621682430915"><span class="annot"><span class="annottext">build :: Direction -&gt; Builder
</span><a href="#local-6989586621682430915"><span class="hs-identifier hs-var hs-var hs-var hs-var">build</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Builder
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">Builder.fromText</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Builder) -&gt; (Direction -&gt; Text) -&gt; Direction -&gt; Builder
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">CaseStyle -&gt; Direction -&gt; Text
forall a. (Bounded a, Enum a, Show a) =&gt; CaseStyle -&gt; a -&gt; Text
</span><a href="../../../../text-class/html/src"><span class="hs-identifier hs-var">toTextFromBoundedEnum</span></a></span><span> </span><span class="annot"><span class="annottext">CaseStyle
</span><a href="../../../../text-class/html/src"><span class="hs-identifier hs-var">SpacedLowerCase</span></a></span><span>
</span><span id="line-511"></span><span>
</span><span id="line-512"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../text-class/html/src"><span class="hs-identifier hs-type">FromText</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Direction"><span class="hs-identifier hs-type">Direction</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-513"></span><span>    </span><span id="local-6989586621682430913"><span class="annot"><span class="annottext">fromText :: Text -&gt; Either TextDecodingError Direction
</span><a href="#local-6989586621682430913"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromText</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CaseStyle -&gt; Text -&gt; Either TextDecodingError Direction
forall a.
(Bounded a, Enum a, Show a) =&gt;
CaseStyle -&gt; Text -&gt; Either TextDecodingError a
</span><a href="../../../../text-class/html/src"><span class="hs-identifier hs-var">fromTextToBoundedEnum</span></a></span><span> </span><span class="annot"><span class="annottext">CaseStyle
</span><a href="../../../../text-class/html/src"><span class="hs-identifier hs-var">SnakeLowerCase</span></a></span><span>
</span><span id="line-514"></span><span>
</span><span id="line-515"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../text-class/html/src"><span class="hs-identifier hs-type">ToText</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Direction"><span class="hs-identifier hs-type">Direction</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-516"></span><span>    </span><span id="local-6989586621682430911"><span class="annot"><span class="annottext">toText :: Direction -&gt; Text
</span><a href="#local-6989586621682430911"><span class="hs-identifier hs-var hs-var hs-var hs-var">toText</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CaseStyle -&gt; Direction -&gt; Text
forall a. (Bounded a, Enum a, Show a) =&gt; CaseStyle -&gt; a -&gt; Text
</span><a href="../../../../text-class/html/src"><span class="hs-identifier hs-var">toTextFromBoundedEnum</span></a></span><span> </span><span class="annot"><span class="annottext">CaseStyle
</span><a href="../../../../text-class/html/src"><span class="hs-identifier hs-var">SnakeLowerCase</span></a></span><span>
</span><span id="line-517"></span><span>
</span><span id="line-518"></span><span class="hs-keyword">data</span><span> </span><span id="WithDirection"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#WithDirection"><span class="hs-identifier hs-var">WithDirection</span></a></span></span><span> </span><span id="local-6989586621682431632"><span class="annot"><a href="#local-6989586621682431632"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="WithDirection"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#WithDirection"><span class="hs-identifier hs-var">WithDirection</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Direction"><span class="hs-identifier hs-type">Direction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682431632"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-519"></span><span>
</span><span id="line-520"></span><span id="local-6989586621682430910"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../formatting/html/src"><span class="hs-identifier hs-type">Buildable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682430910"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../formatting/html/src"><span class="hs-identifier hs-type">Buildable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#WithDirection"><span class="hs-identifier hs-type">WithDirection</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682430910"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-521"></span><span>    </span><span id="local-6989586621682430908"><span class="annot"><span class="annottext">build :: WithDirection a -&gt; Builder
</span><a href="#local-6989586621682430908"><span class="hs-identifier hs-var hs-var hs-var hs-var">build</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#WithDirection"><span class="hs-identifier hs-type">WithDirection</span></a></span><span> </span><span id="local-6989586621682430907"><span class="annot"><span class="annottext">Direction
</span><a href="#local-6989586621682430907"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span id="local-6989586621682430906"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682430906"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Builder
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-522"></span><span>        </span><span class="annot"><span class="annottext">Builder -&gt; Builder -&gt; Builder
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Direction
</span><a href="#local-6989586621682430907"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="hs-keyword">of</span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">Direction
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#Incoming"><span class="hs-identifier hs-var">Incoming</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Builder
</span><span class="hs-string">&quot;+&quot;</span></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">Direction
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#Outgoing"><span class="hs-identifier hs-var">Outgoing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Builder
</span><span class="hs-string">&quot;-&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-523"></span><span>        </span><span class="annot"><span class="annottext">Builder -&gt; Builder -&gt; Builder
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Builder
forall p. Buildable p =&gt; p -&gt; Builder
</span><a href="../../../../formatting/html/src"><span class="hs-identifier hs-var">build</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682430906"><span class="hs-identifier hs-var">a</span></a></span></span><span>
</span><span id="line-524"></span><span>
</span><span id="line-525"></span><span class="hs-comment">-- | 'SealedTx' is a transaction for any hard fork era, possibly incomplete,</span><span>
</span><span id="line-526"></span><span class="hs-comment">-- possibly unsigned, with dual representations to make it convenient to use.</span><span>
</span><span id="line-527"></span><span class="hs-comment">--</span><span>
</span><span id="line-528"></span><span class="hs-comment">-- Serialisation/deserialisation is usually done at the application boundaries</span><span>
</span><span id="line-529"></span><span class="hs-comment">-- (e.g. in the API server), and then the wallet core can use it either as a</span><span>
</span><span id="line-530"></span><span class="hs-comment">-- 'ByteString', or as a 'Cardano.Api.Tx'.</span><span>
</span><span id="line-531"></span><span class="hs-comment">--</span><span>
</span><span id="line-532"></span><span class="hs-comment">-- Construct it with either 'sealedTxFromCardano' or 'sealedTxFromBytes'.</span><span>
</span><span id="line-533"></span><span id="local-6989586621682430904"><span id="local-6989586621682430905"></span></span><span class="hs-keyword">data</span><span> </span><span id="SealedTx"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-var">SealedTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SealedTx"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-var">SealedTx</span></a></span></span><span>
</span><span id="line-534"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="%24sel%3Avalid%3ASealedTx"><span class="annot"><span class="annottext">SealedTx -&gt; Bool
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3Avalid%3ASealedTx"><span class="hs-identifier hs-var hs-var">valid</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-535"></span><span>    </span><span class="hs-comment">-- ^ Internal flag - indicates that the 'serialisedTx' bytes encode a valid</span><span>
</span><span id="line-536"></span><span>    </span><span class="hs-comment">-- Cardano transaction. If the &quot;proper&quot; constructors are used, this will</span><span>
</span><span id="line-537"></span><span>    </span><span class="hs-comment">-- always be True, but it will be False if 'mockSealedTx' is used to</span><span>
</span><span id="line-538"></span><span>    </span><span class="hs-comment">-- construct a 'SealedTx' for unit tests.</span><span>
</span><span id="line-539"></span><span>
</span><span id="line-540"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AunsafeCardanoTx%3ASealedTx"><span class="annot"><span class="annottext">SealedTx -&gt; InAnyCardanoEra Tx
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AunsafeCardanoTx%3ASealedTx"><span class="hs-identifier hs-var hs-var">unsafeCardanoTx</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">InAnyCardanoEra</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">Cardano.Tx</span></a></span><span>
</span><span id="line-541"></span><span>    </span><span class="hs-comment">-- ^ Decoded transaction. Potentially in the wrong era.</span><span>
</span><span id="line-542"></span><span>
</span><span id="line-543"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AserialisedTx%3ASealedTx"><span class="annot"><span class="annottext">SealedTx -&gt; ByteString
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AserialisedTx%3ASealedTx"><span class="hs-identifier hs-var hs-var">serialisedTx</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span>
</span><span id="line-544"></span><span>    </span><span class="hs-comment">-- ^ CBOR-serialised bytes of the transaction.</span><span>
</span><span id="line-545"></span><span>
</span><span id="line-546"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="annot"><span class="annottext">(forall x. SealedTx -&gt; Rep SealedTx x)
-&gt; (forall x. Rep SealedTx x -&gt; SealedTx) -&gt; Generic SealedTx
forall x. Rep SealedTx x -&gt; SealedTx
forall x. SealedTx -&gt; Rep SealedTx x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep SealedTx x -&gt; SealedTx
$cfrom :: forall x. SealedTx -&gt; Rep SealedTx x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span>
</span><span id="line-547"></span><span>
</span><span id="line-548"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682430894"><span id="local-6989586621682430896"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-type">SealedTx</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-549"></span><span>    </span><span class="hs-comment">-- InAnyCardanoEra is missing a Show instance, so define one inline.</span><span>
</span><span id="line-550"></span><span>    </span><span id="local-6989586621682430893"><span class="annot"><span class="annottext">showsPrec :: Int -&gt; SealedTx -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">showsPrec</span></a></span></span><span> </span><span id="local-6989586621682430891"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682430891"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-type">SealedTx</span></a></span><span> </span><span id="local-6989586621682430890"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682430890"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621682430889"><span class="annot"><span class="annottext">InAnyCardanoEra Tx
</span><a href="#local-6989586621682430889"><span class="hs-identifier hs-var">tx'</span></a></span></span><span> </span><span id="local-6989586621682430888"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682430888"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; ShowS -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">showParen</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682430891"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">10</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ShowS -&gt; ShowS) -&gt; ShowS -&gt; ShowS
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-551"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">showString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SealedTx &quot;</span></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span>
</span><span id="line-552"></span><span>        </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682430890"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; ShowS -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">showParen</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">True</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InAnyCardanoEra Tx -&gt; ShowS
</span><a href="#local-6989586621682430884"><span class="hs-identifier hs-var">showsTx</span></a></span><span> </span><span class="annot"><span class="annottext">InAnyCardanoEra Tx
</span><a href="#local-6989586621682430889"><span class="hs-identifier hs-var">tx'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">showString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;undefined&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span>
</span><span id="line-553"></span><span>        </span><span class="annot"><span class="annottext">Char -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">showChar</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span>
</span><span id="line-554"></span><span>        </span><span class="annot"><span class="annottext">Int -&gt; ByteString -&gt; ShowS
forall a. Show a =&gt; Int -&gt; a -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">showsPrec</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">11</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682430888"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span>
</span><span id="line-555"></span><span>        </span><span class="annot"><span class="annottext">Char -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">showChar</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span>
</span><span id="line-556"></span><span>        </span><span class="annot"><span class="annottext">Int -&gt; Bool -&gt; ShowS
forall a. Show a =&gt; Int -&gt; a -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">showsPrec</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">11</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682430890"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-557"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-558"></span><span>        </span><span class="annot"><a href="#local-6989586621682430884"><span class="hs-identifier hs-type">showsTx</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">InAnyCardanoEra</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">Cardano.Tx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">ShowS</span></a></span><span>
</span><span id="line-559"></span><span>        </span><span id="local-6989586621682430884"><span class="annot"><span class="annottext">showsTx :: InAnyCardanoEra Tx -&gt; ShowS
</span><a href="#local-6989586621682430884"><span class="hs-identifier hs-var hs-var">showsTx</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">InAnyCardanoEra</span></a></span><span> </span><span id="local-6989586621682430881"><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621682430881"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span id="local-6989586621682430880"><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621682430880"><span class="hs-identifier hs-var">tx</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-560"></span><span>            </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">showString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;InAnyCardanoEra&quot;</span></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span>
</span><span id="line-561"></span><span>            </span><span class="annot"><span class="annottext">Char -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">showChar</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span>
</span><span id="line-562"></span><span>            </span><span class="annot"><span class="annottext">Int -&gt; CardanoEra era -&gt; ShowS
forall a. Show a =&gt; Int -&gt; a -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">showsPrec</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">11</span></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621682430881"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span>
</span><span id="line-563"></span><span>            </span><span class="annot"><span class="annottext">Char -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">showChar</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span>
</span><span id="line-564"></span><span>            </span><span class="annot"><span class="annottext">Int -&gt; Tx era -&gt; ShowS
forall a. Show a =&gt; Int -&gt; a -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">showsPrec</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">11</span></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621682430880"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-565"></span><span>
</span><span id="line-566"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../formatting/html/src"><span class="hs-identifier hs-type">Buildable</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-type">SealedTx</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-567"></span><span>    </span><span id="local-6989586621682430878"><span class="annot"><span class="annottext">build :: SealedTx -&gt; Builder
</span><a href="#local-6989586621682430878"><span class="hs-identifier hs-var hs-var hs-var hs-var">build</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-type">SealedTx</span></a></span><span> </span><span id="local-6989586621682430877"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682430877"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621682430876"><span class="annot"><span class="annottext">InAnyCardanoEra Tx
</span><a href="#local-6989586621682430876"><span class="hs-identifier hs-var">tx'</span></a></span></span><span> </span><span id="local-6989586621682430875"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682430875"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682430877"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">InAnyCardanoEra Tx -&gt; Builder
</span><a href="#local-6989586621682430874"><span class="hs-identifier hs-var">buildTx</span></a></span><span> </span><span class="annot"><span class="annottext">InAnyCardanoEra Tx
</span><a href="#local-6989586621682430876"><span class="hs-identifier hs-var">tx'</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Builder
forall a. FormatAsHex a =&gt; a -&gt; Builder
</span><a href="../../../../fmt/html/src"><span class="hs-identifier hs-var">hexF</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682430875"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-568"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-569"></span><span>        </span><span class="annot"><a href="#local-6989586621682430874"><span class="hs-identifier hs-type">buildTx</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">InAnyCardanoEra</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">Cardano.Tx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Builder</span></a></span><span>
</span><span id="line-570"></span><span>        </span><span id="local-6989586621682430874"><span class="annot"><span class="annottext">buildTx :: InAnyCardanoEra Tx -&gt; Builder
</span><a href="#local-6989586621682430874"><span class="hs-identifier hs-var hs-var">buildTx</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">InAnyCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682430873"><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621682430873"><span class="hs-identifier hs-var">tx</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Builder
forall p. Buildable p =&gt; p -&gt; Builder
</span><a href="../../../../formatting/html/src"><span class="hs-identifier hs-var">build</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Builder) -&gt; Text -&gt; Builder
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><a href="../../../../pretty-simple/html/src"><span class="hs-identifier hs-var">pShowNoColor</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621682430873"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-571"></span><span>
</span><span id="line-572"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682430870"><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-type">SealedTx</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-573"></span><span>    </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-type">SealedTx</span></a></span><span> </span><span id="local-6989586621682430869"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682430869"><span class="hs-identifier hs-var">v1</span></a></span></span><span> </span><span id="local-6989586621682430868"><span class="annot"><span class="annottext">InAnyCardanoEra Tx
</span><a href="#local-6989586621682430868"><span class="hs-identifier hs-var">tx1</span></a></span></span><span> </span><span id="local-6989586621682430867"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682430867"><span class="hs-identifier hs-var">bs1</span></a></span></span><span> </span><span id="local-6989586621682430866"><span class="annot"><span class="annottext">== :: SealedTx -&gt; SealedTx -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var hs-var hs-var hs-var">==</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-type">SealedTx</span></a></span><span> </span><span id="local-6989586621682430865"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682430865"><span class="hs-identifier hs-var">v2</span></a></span></span><span> </span><span id="local-6989586621682430864"><span class="annot"><span class="annottext">InAnyCardanoEra Tx
</span><a href="#local-6989586621682430864"><span class="hs-identifier hs-var">tx2</span></a></span></span><span> </span><span id="local-6989586621682430863"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682430863"><span class="hs-identifier hs-var">bs2</span></a></span></span><span>
</span><span id="line-574"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682430869"><span class="hs-identifier hs-var">v1</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&amp;&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682430865"><span class="hs-identifier hs-var">v2</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InAnyCardanoEra Tx -&gt; InAnyCardanoEra Tx -&gt; Bool
forall (a :: * -&gt; *).
InAnyCardanoEra a -&gt; InAnyCardanoEra a -&gt; Bool
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#sameEra"><span class="hs-identifier hs-var">sameEra</span></a></span><span> </span><span class="annot"><span class="annottext">InAnyCardanoEra Tx
</span><a href="#local-6989586621682430868"><span class="hs-identifier hs-var">tx1</span></a></span><span> </span><span class="annot"><span class="annottext">InAnyCardanoEra Tx
</span><a href="#local-6989586621682430864"><span class="hs-identifier hs-var">tx2</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&amp;&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682430867"><span class="hs-identifier hs-var">bs1</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682430863"><span class="hs-identifier hs-var">bs2</span></a></span><span>
</span><span id="line-575"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682430869"><span class="hs-identifier hs-var">v1</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682430865"><span class="hs-identifier hs-var">v2</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682430867"><span class="hs-identifier hs-var">bs1</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682430863"><span class="hs-identifier hs-var">bs2</span></a></span><span>
</span><span id="line-576"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-577"></span><span>
</span><span id="line-578"></span><span id="local-6989586621682431568"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#sameEra"><span class="hs-identifier hs-type">sameEra</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">InAnyCardanoEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682431568"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">InAnyCardanoEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682431568"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span></span><span>
</span><span id="line-579"></span><span id="sameEra"><span class="annot"><span class="annottext">sameEra :: InAnyCardanoEra a -&gt; InAnyCardanoEra a -&gt; Bool
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#sameEra"><span class="hs-identifier hs-var hs-var">sameEra</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">InAnyCardanoEra</span></a></span><span> </span><span id="local-6989586621682430860"><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621682430860"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span class="annot"><span class="annottext">a era
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">InAnyCardanoEra</span></a></span><span> </span><span id="local-6989586621682430859"><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621682430859"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span class="annot"><span class="annottext">a era
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-580"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CardanoEra era -&gt; CardanoEra era -&gt; Maybe (era :~: era)
forall k (f :: k -&gt; *) (a :: k) (b :: k).
TestEquality f =&gt;
f a -&gt; f b -&gt; Maybe (a :~: b)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">testEquality</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621682430860"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621682430859"><span class="hs-identifier hs-var">e2</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-581"></span><span>        </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><span class="annottext">era :~: era
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Refl</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-582"></span><span>        </span><span class="annot"><span class="annottext">Maybe (era :~: era)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-583"></span><span>
</span><span id="line-584"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/deepseq-1.4.4.0/src"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-type">SealedTx</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-585"></span><span>    </span><span id="local-6989586621682430856"><span class="annot"><span class="annottext">rnf :: SealedTx -&gt; ()
</span><a href="../../../../ghc/html/libraries/deepseq-1.4.4.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">rnf</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-type">SealedTx</span></a></span><span> </span><span id="local-6989586621682430854"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682430854"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">InAnyCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682430853"><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621682430853"><span class="hs-identifier hs-var">tx</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682430852"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682430852"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682430851"><span class="hs-identifier hs-var">tx'</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ByteString -&gt; ByteString
forall a b. NFData a =&gt; a -&gt; b -&gt; b
</span><a href="../../../../ghc/html/libraries/deepseq-1.4.4.0/src"><span class="hs-operator hs-var">`deepseq`</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682430852"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; () -&gt; ()
forall a b. NFData a =&gt; a -&gt; b -&gt; b
</span><a href="../../../../ghc/html/libraries/deepseq-1.4.4.0/src"><span class="hs-operator hs-var">`deepseq`</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-586"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-587"></span><span>        </span><span class="hs-comment">-- Showing the transaction should be enough to fully evaluate it.</span><span>
</span><span id="line-588"></span><span>        </span><span id="local-6989586621682430851"><span class="annot"><span class="annottext">tx' :: String
</span><a href="#local-6989586621682430851"><span class="hs-identifier hs-var hs-var">tx'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682430854"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Tx era -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621682430853"><span class="hs-identifier hs-var">tx</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-589"></span><span>
</span><span id="line-590"></span><span class="hs-comment">-- Helper function to constrain the era of a 'SealedTx' to at most the provided</span><span>
</span><span id="line-591"></span><span class="hs-comment">-- era. If this is not possible, the original 'SealedTx' is returned.</span><span>
</span><span id="line-592"></span><span class="hs-comment">--</span><span>
</span><span id="line-593"></span><span class="hs-comment">-- In contrast to the &quot;most recent era&quot; argument of @sealedTxFromBytes'@, this</span><span>
</span><span id="line-594"></span><span class="hs-comment">-- function allows constraining the era at a point after the tx has been</span><span>
</span><span id="line-595"></span><span class="hs-comment">-- deserialised. For instance, in a server handler with known current era,</span><span>
</span><span id="line-596"></span><span class="hs-comment">-- instead of in an @Aeson.FromJSON@ instance.</span><span>
</span><span id="line-597"></span><span class="hs-comment">--</span><span>
</span><span id="line-598"></span><span class="hs-comment">-- &gt;&gt;&gt; ideallyNoLaterThan alonzoEra alonzoCompatibleBabbageTx</span><span>
</span><span id="line-599"></span><span class="hs-comment">-- alonzoCompatibleBabbageTx</span><span>
</span><span id="line-600"></span><span class="hs-comment">--</span><span>
</span><span id="line-601"></span><span class="hs-comment">-- &gt;&gt;&gt; ideallyNoLaterThan alonzoEra alonzoIncompatibleBabbageTx</span><span>
</span><span id="line-602"></span><span class="hs-comment">-- babbageTx</span><span>
</span><span id="line-603"></span><span class="hs-comment">--</span><span>
</span><span id="line-604"></span><span class="hs-comment">-- == Is this what we want? (for the new tx-workflow..)</span><span>
</span><span id="line-605"></span><span class="hs-comment">--</span><span>
</span><span id="line-606"></span><span class="hs-comment">-- Probably not. This is a minimally invasive approach to ensure:</span><span>
</span><span id="line-607"></span><span class="hs-comment">-- - tx workflow works in both Alonzo and Babbage</span><span>
</span><span id="line-608"></span><span class="hs-comment">-- - tx workflow tries to create Alonzo txs in Alonzo and Babbage txs in Babbage</span><span>
</span><span id="line-609"></span><span class="hs-comment">--</span><span>
</span><span id="line-610"></span><span class="hs-comment">-- With the added behaviour:</span><span>
</span><span id="line-611"></span><span class="hs-comment">-- - tx workflow may partially work for babbage-only txs when in alonzo</span><span>
</span><span id="line-612"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#ideallyNoLaterThan"><span class="hs-identifier hs-type">ideallyNoLaterThan</span></a></span><span>
</span><span id="line-613"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">AnyCardanoEra</span></a></span><span>
</span><span id="line-614"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-type">SealedTx</span></a></span><span>
</span><span id="line-615"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-type">SealedTx</span></a></span><span>
</span><span id="line-616"></span><span id="ideallyNoLaterThan"><span class="annot"><span class="annottext">ideallyNoLaterThan :: AnyCardanoEra -&gt; SealedTx -&gt; SealedTx
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#ideallyNoLaterThan"><span class="hs-identifier hs-var hs-var">ideallyNoLaterThan</span></a></span></span><span> </span><span id="local-6989586621682430848"><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621682430848"><span class="hs-identifier hs-var">maxEra</span></a></span></span><span> </span><span id="local-6989586621682430847"><span class="annot"><span class="annottext">SealedTx
</span><a href="#local-6989586621682430847"><span class="hs-identifier hs-var">sealedTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-617"></span><span>    </span><span class="annot"><span class="annottext">(DecoderError -&gt; SealedTx)
-&gt; (InAnyCardanoEra Tx -&gt; SealedTx)
-&gt; Either DecoderError (InAnyCardanoEra Tx)
-&gt; SealedTx
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SealedTx -&gt; DecoderError -&gt; SealedTx
forall a b. a -&gt; b -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">SealedTx
</span><a href="#local-6989586621682430847"><span class="hs-identifier hs-var">sealedTx</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InAnyCardanoEra Tx -&gt; SealedTx
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#sealedTxFromCardano"><span class="hs-identifier hs-var">sealedTxFromCardano</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-618"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnyCardanoEra
-&gt; ByteString -&gt; Either DecoderError (InAnyCardanoEra Tx)
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#cardanoTxFromBytes"><span class="hs-identifier hs-var">cardanoTxFromBytes</span></a></span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621682430848"><span class="hs-identifier hs-var">maxEra</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SealedTx -&gt; ByteString
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AserialisedTx%3ASealedTx"><span class="hs-identifier hs-var hs-var">serialisedTx</span></a></span><span> </span><span class="annot"><span class="annottext">SealedTx
</span><a href="#local-6989586621682430847"><span class="hs-identifier hs-var">sealedTx</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-619"></span><span>
</span><span id="line-620"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#cardanoTxIdeallyNoLaterThan"><span class="hs-identifier hs-type">cardanoTxIdeallyNoLaterThan</span></a></span><span>
</span><span id="line-621"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">AnyCardanoEra</span></a></span><span>
</span><span id="line-622"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-type">SealedTx</span></a></span><span>
</span><span id="line-623"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">InAnyCardanoEra</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">Cardano.Tx</span></a></span><span>
</span><span id="line-624"></span><span id="cardanoTxIdeallyNoLaterThan"><span class="annot"><span class="annottext">cardanoTxIdeallyNoLaterThan :: AnyCardanoEra -&gt; SealedTx -&gt; InAnyCardanoEra Tx
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#cardanoTxIdeallyNoLaterThan"><span class="hs-identifier hs-var hs-var">cardanoTxIdeallyNoLaterThan</span></a></span></span><span> </span><span id="local-6989586621682430843"><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621682430843"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SealedTx -&gt; InAnyCardanoEra Tx
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AunsafeCardanoTx%3ASealedTx"><span class="hs-identifier hs-var hs-var">unsafeCardanoTx</span></a></span><span> </span><span class="annot"><span class="annottext">(SealedTx -&gt; InAnyCardanoEra Tx)
-&gt; (SealedTx -&gt; SealedTx) -&gt; SealedTx -&gt; InAnyCardanoEra Tx
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra -&gt; SealedTx -&gt; SealedTx
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#ideallyNoLaterThan"><span class="hs-identifier hs-var">ideallyNoLaterThan</span></a></span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621682430843"><span class="hs-identifier hs-var">era</span></a></span><span>
</span><span id="line-625"></span><span>
</span><span id="line-626"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#getSealedTxBody"><span class="hs-identifier hs-type">getSealedTxBody</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-type">SealedTx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">InAnyCardanoEra</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">Cardano.TxBody</span></a></span><span>
</span><span id="line-627"></span><span id="getSealedTxBody"><span class="annot"><span class="annottext">getSealedTxBody :: SealedTx -&gt; InAnyCardanoEra TxBody
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#getSealedTxBody"><span class="hs-identifier hs-var hs-var">getSealedTxBody</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-type">SealedTx</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">InAnyCardanoEra</span></a></span><span> </span><span id="local-6989586621682430842"><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621682430842"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span id="local-6989586621682430841"><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621682430841"><span class="hs-identifier hs-var">tx</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-628"></span><span>    </span><span class="annot"><span class="annottext">CardanoEra era -&gt; TxBody era -&gt; InAnyCardanoEra TxBody
forall era (thing :: * -&gt; *).
IsCardanoEra era =&gt;
CardanoEra era -&gt; thing era -&gt; InAnyCardanoEra thing
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">InAnyCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621682430842"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tx era -&gt; TxBody era
forall era. Tx era -&gt; TxBody era
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">Cardano.getTxBody</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621682430841"><span class="hs-identifier hs-var">tx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-629"></span><span>
</span><span id="line-630"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#getSealedTxWitnesses"><span class="hs-identifier hs-type">getSealedTxWitnesses</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-type">SealedTx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">InAnyCardanoEra</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">Cardano.KeyWitness</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-631"></span><span id="getSealedTxWitnesses"><span class="annot"><span class="annottext">getSealedTxWitnesses :: SealedTx -&gt; [InAnyCardanoEra KeyWitness]
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#getSealedTxWitnesses"><span class="hs-identifier hs-var hs-var">getSealedTxWitnesses</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-type">SealedTx</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">InAnyCardanoEra</span></a></span><span> </span><span id="local-6989586621682430839"><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621682430839"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span id="local-6989586621682430838"><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621682430838"><span class="hs-identifier hs-var">tx</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-632"></span><span>    </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CardanoEra era -&gt; KeyWitness era -&gt; InAnyCardanoEra KeyWitness
forall era (thing :: * -&gt; *).
IsCardanoEra era =&gt;
CardanoEra era -&gt; thing era -&gt; InAnyCardanoEra thing
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">InAnyCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621682430839"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">KeyWitness era
</span><a href="#local-6989586621682430837"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621682430837"><span class="annot"><span class="annottext">KeyWitness era
</span><a href="#local-6989586621682430837"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Tx era -&gt; [KeyWitness era]
forall era. Tx era -&gt; [KeyWitness era]
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">Cardano.getTxWitnesses</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621682430838"><span class="hs-identifier hs-var">tx</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-633"></span><span>
</span><span id="line-634"></span><span class="hs-comment">-- | Construct a 'SealedTx' from a &quot;Cardano.Api&quot; transaction.</span><span>
</span><span id="line-635"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#sealedTxFromCardano"><span class="hs-identifier hs-type">sealedTxFromCardano</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">InAnyCardanoEra</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">Cardano.Tx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-type">SealedTx</span></a></span><span>
</span><span id="line-636"></span><span id="sealedTxFromCardano"><span class="annot"><span class="annottext">sealedTxFromCardano :: InAnyCardanoEra Tx -&gt; SealedTx
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#sealedTxFromCardano"><span class="hs-identifier hs-var hs-var">sealedTxFromCardano</span></a></span></span><span> </span><span id="local-6989586621682430835"><span class="annot"><span class="annottext">InAnyCardanoEra Tx
</span><a href="#local-6989586621682430835"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; InAnyCardanoEra Tx -&gt; ByteString -&gt; SealedTx
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-var">SealedTx</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">True</span></a></span><span> </span><span class="annot"><span class="annottext">InAnyCardanoEra Tx
</span><a href="#local-6989586621682430835"><span class="hs-identifier hs-var">tx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InAnyCardanoEra Tx -&gt; ByteString
</span><a href="#local-6989586621682430834"><span class="hs-identifier hs-var">cardanoTxToBytes</span></a></span><span> </span><span class="annot"><span class="annottext">InAnyCardanoEra Tx
</span><a href="#local-6989586621682430835"><span class="hs-identifier hs-var">tx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-637"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-638"></span><span>    </span><span class="annot"><a href="#local-6989586621682430834"><span class="hs-identifier hs-type">cardanoTxToBytes</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">InAnyCardanoEra</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">Cardano.Tx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span>
</span><span id="line-639"></span><span>    </span><span id="local-6989586621682430834"><span class="annot"><span class="annottext">cardanoTxToBytes :: InAnyCardanoEra Tx -&gt; ByteString
</span><a href="#local-6989586621682430834"><span class="hs-identifier hs-var hs-var">cardanoTxToBytes</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">InAnyCardanoEra</span></a></span><span> </span><span id="local-6989586621682430833"><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621682430833"><span class="hs-identifier hs-var">_era</span></a></span></span><span> </span><span id="local-6989586621682430832"><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621682430832"><span class="hs-identifier hs-var">tx'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tx era -&gt; ByteString
forall a. SerialiseAsCBOR a =&gt; a -&gt; ByteString
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">Cardano.serialiseToCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621682430832"><span class="hs-identifier hs-var">tx'</span></a></span><span>
</span><span id="line-640"></span><span>
</span><span id="line-641"></span><span class="hs-comment">-- | Construct a 'SealedTx' from a &quot;Cardano.Api&quot; transaction.</span><span>
</span><span id="line-642"></span><span id="local-6989586621682430831"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#sealedTxFromCardano%27"><span class="hs-identifier hs-type">sealedTxFromCardano'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">Cardano.IsCardanoEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682430831"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">Cardano.Tx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682430831"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-type">SealedTx</span></a></span></span><span>
</span><span id="line-643"></span><span id="sealedTxFromCardano%27"><span class="annot"><span class="annottext">sealedTxFromCardano' :: Tx era -&gt; SealedTx
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#sealedTxFromCardano%27"><span class="hs-identifier hs-var hs-var">sealedTxFromCardano'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InAnyCardanoEra Tx -&gt; SealedTx
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#sealedTxFromCardano"><span class="hs-identifier hs-var">sealedTxFromCardano</span></a></span><span> </span><span class="annot"><span class="annottext">(InAnyCardanoEra Tx -&gt; SealedTx)
-&gt; (Tx era -&gt; InAnyCardanoEra Tx) -&gt; Tx era -&gt; SealedTx
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era -&gt; Tx era -&gt; InAnyCardanoEra Tx
forall era (thing :: * -&gt; *).
IsCardanoEra era =&gt;
CardanoEra era -&gt; thing era -&gt; InAnyCardanoEra thing
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">InAnyCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
forall era. IsCardanoEra era =&gt; CardanoEra era
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">Cardano.cardanoEra</span></a></span><span>
</span><span id="line-644"></span><span>
</span><span id="line-645"></span><span class="hs-comment">-- | Construct a 'SealedTx' from a 'Cardano.Api.TxBody'.</span><span>
</span><span id="line-646"></span><span id="local-6989586621682430829"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#sealedTxFromCardanoBody"><span class="hs-identifier hs-type">sealedTxFromCardanoBody</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">Cardano.IsCardanoEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682430829"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">Cardano.TxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682430829"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-type">SealedTx</span></a></span></span><span>
</span><span id="line-647"></span><span id="sealedTxFromCardanoBody"><span class="annot"><span class="annottext">sealedTxFromCardanoBody :: TxBody era -&gt; SealedTx
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#sealedTxFromCardanoBody"><span class="hs-identifier hs-var hs-var">sealedTxFromCardanoBody</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InAnyCardanoEra Tx -&gt; SealedTx
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#sealedTxFromCardano"><span class="hs-identifier hs-var">sealedTxFromCardano</span></a></span><span> </span><span class="annot"><span class="annottext">(InAnyCardanoEra Tx -&gt; SealedTx)
-&gt; (TxBody era -&gt; InAnyCardanoEra Tx) -&gt; TxBody era -&gt; SealedTx
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era -&gt; Tx era -&gt; InAnyCardanoEra Tx
forall era (thing :: * -&gt; *).
IsCardanoEra era =&gt;
CardanoEra era -&gt; thing era -&gt; InAnyCardanoEra thing
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">InAnyCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
forall era. IsCardanoEra era =&gt; CardanoEra era
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">Cardano.cardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">(Tx era -&gt; InAnyCardanoEra Tx)
-&gt; (TxBody era -&gt; Tx era) -&gt; TxBody era -&gt; InAnyCardanoEra Tx
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody era -&gt; Tx era
forall era. TxBody era -&gt; Tx era
</span><a href="#local-6989586621682430828"><span class="hs-identifier hs-var">mk</span></a></span><span>
</span><span id="line-648"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-649"></span><span>    </span><span id="local-6989586621682430828"><span class="annot"><span class="annottext">mk :: TxBody era -&gt; Tx era
</span><a href="#local-6989586621682430828"><span class="hs-identifier hs-var hs-var">mk</span></a></span></span><span> </span><span id="local-6989586621682430827"><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621682430827"><span class="hs-identifier hs-var">body</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxBody era -&gt; [KeyWitness era] -&gt; Tx era
forall era. TxBody era -&gt; [KeyWitness era] -&gt; Tx era
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">Cardano.Tx</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621682430827"><span class="hs-identifier hs-var">body</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-650"></span><span>
</span><span id="line-651"></span><span class="hs-comment">-- | Deserialise a Cardano transaction. The transaction can be in the format of</span><span>
</span><span id="line-652"></span><span class="hs-comment">-- any era. This function will try the most recent era first, then</span><span>
</span><span id="line-653"></span><span class="hs-comment">-- previous eras until 'ByronEra'.</span><span>
</span><span id="line-654"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#cardanoTxFromBytes"><span class="hs-identifier hs-type">cardanoTxFromBytes</span></a></span><span>
</span><span id="line-655"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">AnyCardanoEra</span></a></span><span> </span><span class="hs-comment">-- ^ Most recent era</span><span>
</span><span id="line-656"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-comment">-- ^ Serialised transaction</span><span>
</span><span id="line-657"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-binary/html/src"><span class="hs-identifier hs-type">DecoderError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">InAnyCardanoEra</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">Cardano.Tx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-658"></span><span id="cardanoTxFromBytes"><span class="annot"><span class="annottext">cardanoTxFromBytes :: AnyCardanoEra
-&gt; ByteString -&gt; Either DecoderError (InAnyCardanoEra Tx)
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#cardanoTxFromBytes"><span class="hs-identifier hs-var hs-var">cardanoTxFromBytes</span></a></span></span><span> </span><span id="local-6989586621682430825"><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621682430825"><span class="hs-identifier hs-var">maxEra</span></a></span></span><span> </span><span id="local-6989586621682430824"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682430824"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Either DecoderError (InAnyCardanoEra Tx)]
-&gt; Either DecoderError (InAnyCardanoEra Tx)
forall e a. [Either e a] -&gt; Either e a
</span><a href="#local-6989586621682430823"><span class="hs-identifier hs-var">asum</span></a></span><span> </span><span class="annot"><span class="annottext">([Either DecoderError (InAnyCardanoEra Tx)]
 -&gt; Either DecoderError (InAnyCardanoEra Tx))
-&gt; [Either DecoderError (InAnyCardanoEra Tx)]
-&gt; Either DecoderError (InAnyCardanoEra Tx)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">((AnyCardanoEra, Either DecoderError (InAnyCardanoEra Tx))
 -&gt; Either DecoderError (InAnyCardanoEra Tx))
-&gt; [(AnyCardanoEra, Either DecoderError (InAnyCardanoEra Tx))]
-&gt; [Either DecoderError (InAnyCardanoEra Tx)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(AnyCardanoEra, Either DecoderError (InAnyCardanoEra Tx))
-&gt; Either DecoderError (InAnyCardanoEra Tx)
forall a b. (a, b) -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">([(AnyCardanoEra, Either DecoderError (InAnyCardanoEra Tx))]
 -&gt; [Either DecoderError (InAnyCardanoEra Tx)])
-&gt; [(AnyCardanoEra, Either DecoderError (InAnyCardanoEra Tx))]
-&gt; [Either DecoderError (InAnyCardanoEra Tx)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">((AnyCardanoEra, Either DecoderError (InAnyCardanoEra Tx)) -&gt; Bool)
-&gt; [(AnyCardanoEra, Either DecoderError (InAnyCardanoEra Tx))]
-&gt; [(AnyCardanoEra, Either DecoderError (InAnyCardanoEra Tx))]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AnyCardanoEra -&gt; AnyCardanoEra -&gt; Bool
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#withinEra"><span class="hs-identifier hs-var">withinEra</span></a></span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621682430825"><span class="hs-identifier hs-var">maxEra</span></a></span><span> </span><span class="annot"><span class="annottext">(AnyCardanoEra -&gt; Bool)
-&gt; ((AnyCardanoEra, Either DecoderError (InAnyCardanoEra Tx))
    -&gt; AnyCardanoEra)
-&gt; (AnyCardanoEra, Either DecoderError (InAnyCardanoEra Tx))
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(AnyCardanoEra, Either DecoderError (InAnyCardanoEra Tx))
-&gt; AnyCardanoEra
forall a b. (a, b) -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fst</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-659"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">CardanoEra BabbageEra
-&gt; AsType BabbageEra
-&gt; (AnyCardanoEra, Either DecoderError (InAnyCardanoEra Tx))
forall era.
IsCardanoEra era =&gt;
CardanoEra era
-&gt; AsType era
-&gt; (AnyCardanoEra, Either DecoderError (InAnyCardanoEra Tx))
</span><a href="#local-6989586621682430822"><span class="hs-identifier hs-var">deserialise</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra BabbageEra
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">BabbageEra</span></a></span><span> </span><span class="annot"><span class="annottext">AsType BabbageEra
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">Cardano.AsBabbageEra</span></a></span><span>
</span><span id="line-660"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CardanoEra AlonzoEra
-&gt; AsType AlonzoEra
-&gt; (AnyCardanoEra, Either DecoderError (InAnyCardanoEra Tx))
forall era.
IsCardanoEra era =&gt;
CardanoEra era
-&gt; AsType era
-&gt; (AnyCardanoEra, Either DecoderError (InAnyCardanoEra Tx))
</span><a href="#local-6989586621682430822"><span class="hs-identifier hs-var">deserialise</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra AlonzoEra
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">AlonzoEra</span></a></span><span>  </span><span class="annot"><span class="annottext">AsType AlonzoEra
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">Cardano.AsAlonzoEra</span></a></span><span>
</span><span id="line-661"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CardanoEra MaryEra
-&gt; AsType MaryEra
-&gt; (AnyCardanoEra, Either DecoderError (InAnyCardanoEra Tx))
forall era.
IsCardanoEra era =&gt;
CardanoEra era
-&gt; AsType era
-&gt; (AnyCardanoEra, Either DecoderError (InAnyCardanoEra Tx))
</span><a href="#local-6989586621682430822"><span class="hs-identifier hs-var">deserialise</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra MaryEra
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">MaryEra</span></a></span><span>    </span><span class="annot"><span class="annottext">AsType MaryEra
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">Cardano.AsMaryEra</span></a></span><span>
</span><span id="line-662"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CardanoEra AllegraEra
-&gt; AsType AllegraEra
-&gt; (AnyCardanoEra, Either DecoderError (InAnyCardanoEra Tx))
forall era.
IsCardanoEra era =&gt;
CardanoEra era
-&gt; AsType era
-&gt; (AnyCardanoEra, Either DecoderError (InAnyCardanoEra Tx))
</span><a href="#local-6989586621682430822"><span class="hs-identifier hs-var">deserialise</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra AllegraEra
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">AllegraEra</span></a></span><span> </span><span class="annot"><span class="annottext">AsType AllegraEra
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">Cardano.AsAllegraEra</span></a></span><span>
</span><span id="line-663"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CardanoEra ShelleyEra
-&gt; AsType ShelleyEra
-&gt; (AnyCardanoEra, Either DecoderError (InAnyCardanoEra Tx))
forall era.
IsCardanoEra era =&gt;
CardanoEra era
-&gt; AsType era
-&gt; (AnyCardanoEra, Either DecoderError (InAnyCardanoEra Tx))
</span><a href="#local-6989586621682430822"><span class="hs-identifier hs-var">deserialise</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra ShelleyEra
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">ShelleyEra</span></a></span><span> </span><span class="annot"><span class="annottext">AsType ShelleyEra
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">Cardano.AsShelleyEra</span></a></span><span>
</span><span id="line-664"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CardanoEra ByronEra
-&gt; AsType ByronEra
-&gt; (AnyCardanoEra, Either DecoderError (InAnyCardanoEra Tx))
forall era.
IsCardanoEra era =&gt;
CardanoEra era
-&gt; AsType era
-&gt; (AnyCardanoEra, Either DecoderError (InAnyCardanoEra Tx))
</span><a href="#local-6989586621682430822"><span class="hs-identifier hs-var">deserialise</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra ByronEra
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">ByronEra</span></a></span><span>   </span><span class="annot"><span class="annottext">AsType ByronEra
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">Cardano.AsByronEra</span></a></span><span>
</span><span id="line-665"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-666"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-667"></span><span>    </span><span class="annot"><a href="#local-6989586621682430822"><span class="hs-identifier hs-type">deserialise</span></a></span><span>
</span><span id="line-668"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682431523"><span class="annot"><a href="#local-6989586621682431523"><span class="hs-identifier hs-type">era</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">Cardano.IsCardanoEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682431523"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-669"></span><span>        </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">CardanoEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682431523"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-670"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">Cardano.AsType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682431523"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-671"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">AnyCardanoEra</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-binary/html/src"><span class="hs-identifier hs-type">DecoderError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">InAnyCardanoEra</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">Cardano.Tx</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-672"></span><span>    </span><span id="local-6989586621682430822"><span class="annot"><span class="annottext">deserialise :: CardanoEra era
-&gt; AsType era
-&gt; (AnyCardanoEra, Either DecoderError (InAnyCardanoEra Tx))
</span><a href="#local-6989586621682430822"><span class="hs-identifier hs-var hs-var">deserialise</span></a></span></span><span> </span><span id="local-6989586621682430809"><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621682430809"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span id="local-6989586621682430808"><span class="annot"><span class="annottext">AsType era
</span><a href="#local-6989586621682430808"><span class="hs-identifier hs-var">asEra</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-673"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">CardanoEra era -&gt; AnyCardanoEra
forall era. CardanoEra era -&gt; AnyCardanoEra
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">anyCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621682430809"><span class="hs-identifier hs-var">era</span></a></span><span>
</span><span id="line-674"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CardanoEra era -&gt; Tx era -&gt; InAnyCardanoEra Tx
forall era (thing :: * -&gt; *).
IsCardanoEra era =&gt;
CardanoEra era -&gt; thing era -&gt; InAnyCardanoEra thing
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">InAnyCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621682430809"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">(Tx era -&gt; InAnyCardanoEra Tx)
-&gt; Either DecoderError (Tx era)
-&gt; Either DecoderError (InAnyCardanoEra Tx)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">AsType (Tx era) -&gt; ByteString -&gt; Either DecoderError (Tx era)
forall a.
SerialiseAsCBOR a =&gt;
AsType a -&gt; ByteString -&gt; Either DecoderError a
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">deserialiseFromCBOR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AsType era -&gt; AsType (Tx era)
forall era. AsType era -&gt; AsType (Tx era)
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">Cardano.AsTx</span></a></span><span> </span><span class="annot"><span class="annottext">AsType era
</span><a href="#local-6989586621682430808"><span class="hs-identifier hs-var">asEra</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682430824"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-675"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-676"></span><span>
</span><span id="line-677"></span><span>    </span><span class="hs-comment">-- | Given a list of deserialise results that may fail, return the first</span><span>
</span><span id="line-678"></span><span>    </span><span class="hs-comment">-- success. If there was no success, then return the first failure message.</span><span>
</span><span id="line-679"></span><span>    </span><span id="local-6989586621682431529"><span id="local-6989586621682431530"><span class="annot"><a href="#local-6989586621682430823"><span class="hs-identifier hs-type">asum</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682431530"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682431529"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682431530"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682431529"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-680"></span><span>    </span><span id="local-6989586621682430823"><span class="annot"><span class="annottext">asum :: [Either e a] -&gt; Either e a
</span><a href="#local-6989586621682430823"><span class="hs-identifier hs-var hs-var">asum</span></a></span></span><span> </span><span id="local-6989586621682430806"><span class="annot"><span class="annottext">[Either e a]
</span><a href="#local-6989586621682430806"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[Either e a] -&gt; ([e], [a])
forall a b. [Either a b] -&gt; ([a], [b])
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">partitionEithers</span></a></span><span> </span><span class="annot"><span class="annottext">[Either e a]
</span><a href="#local-6989586621682430806"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-681"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[e]
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682430805"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682430805"><span class="hs-identifier hs-var">a</span></a></span></span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">[a]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; Either e a
forall a b. b -&gt; Either a b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682430805"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-682"></span><span>        </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621682430804"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621682430804"><span class="hs-identifier hs-var">e</span></a></span></span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-type">:</span></a></span><span class="annot"><span class="annottext">[e]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">e -&gt; Either e a
forall a b. a -&gt; Either a b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621682430804"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-683"></span><span>        </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Builder -&gt; Either e a
forall a. HasCallStack =&gt; Builder -&gt; a
</span><a href="Cardano.Wallet.Util.html#internalError"><span class="hs-identifier hs-var">internalError</span></a></span><span> </span><span class="annot"><span class="annottext">Builder
</span><span class="hs-string">&quot;cardanoTxFromBytes: impossible&quot;</span></span><span>
</span><span id="line-684"></span><span>
</span><span id="line-685"></span><span class="hs-comment">-- | @a `withinEra` b@ is 'True' iff @b@ is the same era as @a@, or an earlier</span><span>
</span><span id="line-686"></span><span class="hs-comment">-- one.</span><span>
</span><span id="line-687"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#withinEra"><span class="hs-identifier hs-type">withinEra</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">AnyCardanoEra</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">AnyCardanoEra</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-688"></span><span id="withinEra"><span class="annot"><span class="annottext">withinEra :: AnyCardanoEra -&gt; AnyCardanoEra -&gt; Bool
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#withinEra"><span class="hs-identifier hs-var hs-var">withinEra</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">(&gt;=)</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Int -&gt; Bool)
-&gt; (AnyCardanoEra -&gt; Int) -&gt; AnyCardanoEra -&gt; AnyCardanoEra -&gt; Bool
forall b c a. (b -&gt; b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">`on`</span></a></span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra -&gt; Int
</span><a href="#local-6989586621682430803"><span class="hs-identifier hs-var">numberEra</span></a></span><span>
</span><span id="line-689"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-690"></span><span>    </span><span class="annot"><a href="#local-6989586621682430803"><span class="hs-identifier hs-type">numberEra</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">AnyCardanoEra</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-691"></span><span>    </span><span id="local-6989586621682430803"><span class="annot"><span class="annottext">numberEra :: AnyCardanoEra -&gt; Int
</span><a href="#local-6989586621682430803"><span class="hs-identifier hs-var hs-var">numberEra</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">AnyCardanoEra</span></a></span><span> </span><span id="local-6989586621682430801"><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621682430801"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="#local-6989586621682430801"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-692"></span><span>        </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">ByronEra</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-693"></span><span>        </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">ShelleyEra</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>
</span><span id="line-694"></span><span>        </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">AllegraEra</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span>
</span><span id="line-695"></span><span>        </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">MaryEra</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span>
</span><span id="line-696"></span><span>        </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">AlonzoEra</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span>
</span><span id="line-697"></span><span>        </span><span class="annot"><span class="annottext">CardanoEra era
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">BabbageEra</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">6</span></span><span>
</span><span id="line-698"></span><span>
</span><span id="line-699"></span><span class="hs-comment">-- | Deserialise a transaction to construct a 'SealedTx'.</span><span>
</span><span id="line-700"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#sealedTxFromBytes"><span class="hs-identifier hs-type">sealedTxFromBytes</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-binary/html/src"><span class="hs-identifier hs-type">DecoderError</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-type">SealedTx</span></a></span><span>
</span><span id="line-701"></span><span id="sealedTxFromBytes"><span class="annot"><span class="annottext">sealedTxFromBytes :: ByteString -&gt; Either DecoderError SealedTx
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#sealedTxFromBytes"><span class="hs-identifier hs-var hs-var">sealedTxFromBytes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra -&gt; ByteString -&gt; Either DecoderError SealedTx
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#sealedTxFromBytes%27"><span class="hs-identifier hs-var">sealedTxFromBytes'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CardanoEra BabbageEra -&gt; AnyCardanoEra
forall era. CardanoEra era -&gt; AnyCardanoEra
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">anyCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra BabbageEra
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">BabbageEra</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-702"></span><span>
</span><span id="line-703"></span><span class="hs-comment">-- | Deserialise a transaction to construct a 'SealedTx'.</span><span>
</span><span id="line-704"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#sealedTxFromBytes%27"><span class="hs-identifier hs-type">sealedTxFromBytes'</span></a></span><span>
</span><span id="line-705"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">AnyCardanoEra</span></a></span><span> </span><span class="hs-comment">-- ^ Most recent era</span><span>
</span><span id="line-706"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-comment">-- ^ Serialised transaction</span><span>
</span><span id="line-707"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-binary/html/src"><span class="hs-identifier hs-type">DecoderError</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-type">SealedTx</span></a></span><span>
</span><span id="line-708"></span><span id="sealedTxFromBytes%27"><span class="annot"><span class="annottext">sealedTxFromBytes' :: AnyCardanoEra -&gt; ByteString -&gt; Either DecoderError SealedTx
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#sealedTxFromBytes%27"><span class="hs-identifier hs-var hs-var">sealedTxFromBytes'</span></a></span></span><span> </span><span id="local-6989586621682430800"><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621682430800"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span id="local-6989586621682430799"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682430799"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; InAnyCardanoEra Tx -&gt; ByteString -&gt; SealedTx
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-var">SealedTx</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-709"></span><span>    </span><span class="annot"><span class="annottext">(InAnyCardanoEra Tx -&gt; ByteString -&gt; SealedTx)
-&gt; Either DecoderError (InAnyCardanoEra Tx)
-&gt; Either DecoderError (ByteString -&gt; SealedTx)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
-&gt; ByteString -&gt; Either DecoderError (InAnyCardanoEra Tx)
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#cardanoTxFromBytes"><span class="hs-identifier hs-var">cardanoTxFromBytes</span></a></span><span> </span><span class="annot"><span class="annottext">AnyCardanoEra
</span><a href="#local-6989586621682430800"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682430799"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-710"></span><span>    </span><span class="annot"><span class="annottext">Either DecoderError (ByteString -&gt; SealedTx)
-&gt; Either DecoderError ByteString -&gt; Either DecoderError SealedTx
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either DecoderError ByteString
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682430799"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-711"></span><span>
</span><span id="line-712"></span><span class="hs-comment">-- | Serialise a 'SealedTx' for storage in a database field. The difference</span><span>
</span><span id="line-713"></span><span class="hs-comment">-- between 'persistSealedTx' and 'serialisedTx' is that this function has a</span><span>
</span><span id="line-714"></span><span class="hs-comment">-- special check for values created by 'mockSealedTx'.</span><span>
</span><span id="line-715"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#persistSealedTx"><span class="hs-identifier hs-type">persistSealedTx</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-type">SealedTx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span>
</span><span id="line-716"></span><span id="persistSealedTx"><span class="annot"><span class="annottext">persistSealedTx :: SealedTx -&gt; ByteString
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#persistSealedTx"><span class="hs-identifier hs-var hs-var">persistSealedTx</span></a></span></span><span> </span><span id="local-6989586621682430798"><span class="annot"><span class="annottext">SealedTx
</span><a href="#local-6989586621682430798"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682430797"><span class="hs-identifier hs-var">header</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; ByteString
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SealedTx -&gt; ByteString
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AserialisedTx%3ASealedTx"><span class="hs-identifier hs-var hs-var">serialisedTx</span></a></span><span> </span><span class="annot"><span class="annottext">SealedTx
</span><a href="#local-6989586621682430798"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-717"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-718"></span><span>    </span><span id="local-6989586621682430797"><span class="annot"><span class="annottext">header :: ByteString
</span><a href="#local-6989586621682430797"><span class="hs-identifier hs-var hs-var">header</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">SealedTx -&gt; Bool
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3Avalid%3ASealedTx"><span class="hs-identifier hs-var hs-var">valid</span></a></span><span> </span><span class="annot"><span class="annottext">SealedTx
</span><a href="#local-6989586621682430798"><span class="hs-identifier hs-var">tx</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">ByteString
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#mockSealedTxMagic"><span class="hs-identifier hs-var">mockSealedTxMagic</span></a></span><span>
</span><span id="line-719"></span><span>
</span><span id="line-720"></span><span class="hs-comment">-- | Deserialise a 'SealedTx' which has been stored in a database field. This</span><span>
</span><span id="line-721"></span><span class="hs-comment">-- function includes a special check for 'mockSealedTx' values.</span><span>
</span><span id="line-722"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#unPersistSealedTx"><span class="hs-identifier hs-type">unPersistSealedTx</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-type">SealedTx</span></a></span><span>
</span><span id="line-723"></span><span id="unPersistSealedTx"><span class="annot"><span class="annottext">unPersistSealedTx :: ByteString -&gt; Either Text SealedTx
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#unPersistSealedTx"><span class="hs-identifier hs-var hs-var">unPersistSealedTx</span></a></span></span><span> </span><span id="local-6989586621682430795"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682430795"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Maybe ByteString
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#unPersistMock"><span class="hs-identifier hs-var">unPersistMock</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682430795"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-724"></span><span>    </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(DecoderError -&gt; Text)
-&gt; Either DecoderError SealedTx -&gt; Either Text SealedTx
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">T.pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text)
-&gt; (DecoderError -&gt; String) -&gt; DecoderError -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">DecoderError -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Either DecoderError SealedTx -&gt; Either Text SealedTx)
-&gt; Either DecoderError SealedTx -&gt; Either Text SealedTx
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either DecoderError SealedTx
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#sealedTxFromBytes"><span class="hs-identifier hs-var">sealedTxFromBytes</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682430795"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-725"></span><span>    </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621682430792"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682430792"><span class="hs-identifier hs-var">bs'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SealedTx -&gt; Either Text SealedTx
forall a b. b -&gt; Either a b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="annot"><span class="annottext">(SealedTx -&gt; Either Text SealedTx)
-&gt; SealedTx -&gt; Either Text SealedTx
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">HasCallStack =&gt; ByteString -&gt; SealedTx
ByteString -&gt; SealedTx
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#mockSealedTx"><span class="hs-identifier hs-var">mockSealedTx</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682430792"><span class="hs-identifier hs-var">bs'</span></a></span><span>
</span><span id="line-726"></span><span>
</span><span id="line-727"></span><span class="hs-comment">-- | A header for use by 'persistSealedTx' and 'unPersistSealedTx'. A valid</span><span>
</span><span id="line-728"></span><span class="hs-comment">-- serialised Cardano transaction could not have this header, because they</span><span>
</span><span id="line-729"></span><span class="hs-comment">-- always start with a CBOR map.</span><span>
</span><span id="line-730"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#mockSealedTxMagic"><span class="hs-identifier hs-type">mockSealedTxMagic</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span>
</span><span id="line-731"></span><span id="mockSealedTxMagic"><span class="annot"><span class="annottext">mockSealedTxMagic :: ByteString
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#mockSealedTxMagic"><span class="hs-identifier hs-var hs-var">mockSealedTxMagic</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;MOCK&quot;</span></span><span>
</span><span id="line-732"></span><span>
</span><span id="line-733"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#unPersistMock"><span class="hs-identifier hs-type">unPersistMock</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span>
</span><span id="line-734"></span><span id="unPersistMock"><span class="annot"><span class="annottext">unPersistMock :: ByteString -&gt; Maybe ByteString
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#unPersistMock"><span class="hs-identifier hs-var hs-var">unPersistMock</span></a></span></span><span> </span><span id="local-6989586621682430791"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682430791"><span class="hs-identifier hs-var">bs</span></a></span></span><span>
</span><span id="line-735"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682430790"><span class="hs-identifier hs-var">header</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#mockSealedTxMagic"><span class="hs-identifier hs-var">mockSealedTxMagic</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Maybe ByteString
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682430789"><span class="hs-identifier hs-var">body</span></a></span><span>
</span><span id="line-736"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-737"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-738"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621682430790"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682430790"><span class="hs-identifier hs-var">header</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682430789"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682430789"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; ByteString -&gt; (ByteString, ByteString)
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">B8.splitAt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; Int
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">B8.length</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#mockSealedTxMagic"><span class="hs-identifier hs-var">mockSealedTxMagic</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682430791"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-739"></span><span>
</span><span id="line-740"></span><span class="hs-comment">-- | Get the serialised transaction body and witnesses from a 'SealedTx'.</span><span>
</span><span id="line-741"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#getSerialisedTxParts"><span class="hs-identifier hs-type">getSerialisedTxParts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-type">SealedTx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SerialisedTxParts"><span class="hs-identifier hs-type">SerialisedTxParts</span></a></span><span>
</span><span id="line-742"></span><span id="getSerialisedTxParts"><span class="annot"><span class="annottext">getSerialisedTxParts :: SealedTx -&gt; SerialisedTxParts
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#getSerialisedTxParts"><span class="hs-identifier hs-var hs-var">getSerialisedTxParts</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-type">SealedTx</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">InAnyCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">CardanoEra era
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682430786"><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621682430786"><span class="hs-identifier hs-var">tx</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SerialisedTxParts :: ByteString -&gt; [ByteString] -&gt; SerialisedTxParts
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#SerialisedTxParts"><span class="hs-identifier hs-type">SerialisedTxParts</span></a></span><span>
</span><span id="line-743"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:serialisedTxBody:SerialisedTxParts :: ByteString
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AserialisedTxBody%3ASerialisedTxParts"><span class="hs-identifier hs-var">serialisedTxBody</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxBody era -&gt; ByteString
forall a. SerialiseAsCBOR a =&gt; a -&gt; ByteString
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">serialiseToCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">(TxBody era -&gt; ByteString) -&gt; TxBody era -&gt; ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era -&gt; TxBody era
forall era. Tx era -&gt; TxBody era
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">Cardano.getTxBody</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621682430786"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-744"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:serialisedTxWitnesses:SerialisedTxParts :: [ByteString]
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AserialisedTxWitnesses%3ASerialisedTxParts"><span class="hs-identifier hs-var">serialisedTxWitnesses</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">KeyWitness era -&gt; ByteString
forall a. SerialiseAsCBOR a =&gt; a -&gt; ByteString
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">serialiseToCBOR</span></a></span><span> </span><span class="annot"><span class="annottext">(KeyWitness era -&gt; ByteString) -&gt; [KeyWitness era] -&gt; [ByteString]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era -&gt; [KeyWitness era]
forall era. Tx era -&gt; [KeyWitness era]
</span><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-var">Cardano.getTxWitnesses</span></a></span><span> </span><span class="annot"><span class="annottext">Tx era
</span><a href="#local-6989586621682430786"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-745"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-746"></span><span>
</span><span id="line-747"></span><span class="hs-comment">-- | A serialised transaction that may be only partially signed, or even</span><span>
</span><span id="line-748"></span><span class="hs-comment">-- invalid.</span><span>
</span><span id="line-749"></span><span id="local-6989586621682430781"><span id="local-6989586621682430782"></span></span><span class="hs-keyword">newtype</span><span> </span><span id="SerialisedTx"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SerialisedTx"><span class="hs-identifier hs-var">SerialisedTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SerialisedTx"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SerialisedTx"><span class="hs-identifier hs-var">SerialisedTx</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="%24sel%3Apayload%3ASerialisedTx"><span class="annot"><span class="annottext">SerialisedTx -&gt; ByteString
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3Apayload%3ASerialisedTx"><span class="hs-identifier hs-var hs-var">payload</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-750"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682430773"><span id="local-6989586621682430775"><span id="local-6989586621682430777"><span class="annot"><span class="annottext">Int -&gt; SerialisedTx -&gt; ShowS
[SerialisedTx] -&gt; ShowS
SerialisedTx -&gt; String
(Int -&gt; SerialisedTx -&gt; ShowS)
-&gt; (SerialisedTx -&gt; String)
-&gt; ([SerialisedTx] -&gt; ShowS)
-&gt; Show SerialisedTx
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [SerialisedTx] -&gt; ShowS
$cshowList :: [SerialisedTx] -&gt; ShowS
show :: SerialisedTx -&gt; String
$cshow :: SerialisedTx -&gt; String
showsPrec :: Int -&gt; SerialisedTx -&gt; ShowS
$cshowsPrec :: Int -&gt; SerialisedTx -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682430769"><span id="local-6989586621682430771"><span class="annot"><span class="annottext">SerialisedTx -&gt; SerialisedTx -&gt; Bool
(SerialisedTx -&gt; SerialisedTx -&gt; Bool)
-&gt; (SerialisedTx -&gt; SerialisedTx -&gt; Bool) -&gt; Eq SerialisedTx
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: SerialisedTx -&gt; SerialisedTx -&gt; Bool
$c/= :: SerialisedTx -&gt; SerialisedTx -&gt; Bool
== :: SerialisedTx -&gt; SerialisedTx -&gt; Bool
$c== :: SerialisedTx -&gt; SerialisedTx -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. SerialisedTx -&gt; Rep SerialisedTx x)
-&gt; (forall x. Rep SerialisedTx x -&gt; SerialisedTx)
-&gt; Generic SerialisedTx
forall x. Rep SerialisedTx x -&gt; SerialisedTx
forall x. SerialisedTx -&gt; Rep SerialisedTx x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep SerialisedTx x -&gt; SerialisedTx
$cfrom :: forall x. SerialisedTx -&gt; Rep SerialisedTx x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682430752"><span id="local-6989586621682430754"><span id="local-6989586621682430756"><span id="local-6989586621682430758"><span id="local-6989586621682430760"><span id="local-6989586621682430762"><span id="local-6989586621682430764"><span class="annot"><span class="annottext">Eq SerialisedTx
Eq SerialisedTx
-&gt; (SerialisedTx -&gt; SerialisedTx -&gt; Ordering)
-&gt; (SerialisedTx -&gt; SerialisedTx -&gt; Bool)
-&gt; (SerialisedTx -&gt; SerialisedTx -&gt; Bool)
-&gt; (SerialisedTx -&gt; SerialisedTx -&gt; Bool)
-&gt; (SerialisedTx -&gt; SerialisedTx -&gt; Bool)
-&gt; (SerialisedTx -&gt; SerialisedTx -&gt; SerialisedTx)
-&gt; (SerialisedTx -&gt; SerialisedTx -&gt; SerialisedTx)
-&gt; Ord SerialisedTx
SerialisedTx -&gt; SerialisedTx -&gt; Bool
SerialisedTx -&gt; SerialisedTx -&gt; Ordering
SerialisedTx -&gt; SerialisedTx -&gt; SerialisedTx
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: SerialisedTx -&gt; SerialisedTx -&gt; SerialisedTx
$cmin :: SerialisedTx -&gt; SerialisedTx -&gt; SerialisedTx
max :: SerialisedTx -&gt; SerialisedTx -&gt; SerialisedTx
$cmax :: SerialisedTx -&gt; SerialisedTx -&gt; SerialisedTx
&gt;= :: SerialisedTx -&gt; SerialisedTx -&gt; Bool
$c&gt;= :: SerialisedTx -&gt; SerialisedTx -&gt; Bool
&gt; :: SerialisedTx -&gt; SerialisedTx -&gt; Bool
$c&gt; :: SerialisedTx -&gt; SerialisedTx -&gt; Bool
&lt;= :: SerialisedTx -&gt; SerialisedTx -&gt; Bool
$c&lt;= :: SerialisedTx -&gt; SerialisedTx -&gt; Bool
&lt; :: SerialisedTx -&gt; SerialisedTx -&gt; Bool
$c&lt; :: SerialisedTx -&gt; SerialisedTx -&gt; Bool
compare :: SerialisedTx -&gt; SerialisedTx -&gt; Ordering
$ccompare :: SerialisedTx -&gt; SerialisedTx -&gt; Ordering
$cp1Ord :: Eq SerialisedTx
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-751"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">newtype</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682430746"><span id="local-6989586621682430748"><span id="local-6989586621682430750"><span class="annot"><span class="annottext">b -&gt; SerialisedTx -&gt; SerialisedTx
NonEmpty SerialisedTx -&gt; SerialisedTx
SerialisedTx -&gt; SerialisedTx -&gt; SerialisedTx
(SerialisedTx -&gt; SerialisedTx -&gt; SerialisedTx)
-&gt; (NonEmpty SerialisedTx -&gt; SerialisedTx)
-&gt; (forall b. Integral b =&gt; b -&gt; SerialisedTx -&gt; SerialisedTx)
-&gt; Semigroup SerialisedTx
forall b. Integral b =&gt; b -&gt; SerialisedTx -&gt; SerialisedTx
forall a.
(a -&gt; a -&gt; a)
-&gt; (NonEmpty a -&gt; a)
-&gt; (forall b. Integral b =&gt; b -&gt; a -&gt; a)
-&gt; Semigroup a
stimes :: b -&gt; SerialisedTx -&gt; SerialisedTx
$cstimes :: forall b. Integral b =&gt; b -&gt; SerialisedTx -&gt; SerialisedTx
sconcat :: NonEmpty SerialisedTx -&gt; SerialisedTx
$csconcat :: NonEmpty SerialisedTx -&gt; SerialisedTx
&lt;&gt; :: SerialisedTx -&gt; SerialisedTx -&gt; SerialisedTx
$c&lt;&gt; :: SerialisedTx -&gt; SerialisedTx -&gt; SerialisedTx
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Semigroup</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682430738"><span id="local-6989586621682430740"><span id="local-6989586621682430742"><span class="annot"><span class="annottext">Semigroup SerialisedTx
SerialisedTx
Semigroup SerialisedTx
-&gt; SerialisedTx
-&gt; (SerialisedTx -&gt; SerialisedTx -&gt; SerialisedTx)
-&gt; ([SerialisedTx] -&gt; SerialisedTx)
-&gt; Monoid SerialisedTx
[SerialisedTx] -&gt; SerialisedTx
SerialisedTx -&gt; SerialisedTx -&gt; SerialisedTx
forall a.
Semigroup a -&gt; a -&gt; (a -&gt; a -&gt; a) -&gt; ([a] -&gt; a) -&gt; Monoid a
mconcat :: [SerialisedTx] -&gt; SerialisedTx
$cmconcat :: [SerialisedTx] -&gt; SerialisedTx
mappend :: SerialisedTx -&gt; SerialisedTx -&gt; SerialisedTx
$cmappend :: SerialisedTx -&gt; SerialisedTx -&gt; SerialisedTx
mempty :: SerialisedTx
$cmempty :: SerialisedTx
$cp1Monoid :: Semigroup SerialisedTx
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monoid</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682430731"><span class="annot"><span class="annottext">Eq SerialisedTx
Ord SerialisedTx
Monoid SerialisedTx
ByteArrayAccess SerialisedTx
Eq SerialisedTx
-&gt; Ord SerialisedTx
-&gt; Monoid SerialisedTx
-&gt; ByteArrayAccess SerialisedTx
-&gt; (forall p a. Int -&gt; (Ptr p -&gt; IO a) -&gt; IO (a, SerialisedTx))
-&gt; ByteArray SerialisedTx
Int -&gt; (Ptr p -&gt; IO a) -&gt; IO (a, SerialisedTx)
forall ba.
Eq ba
-&gt; Ord ba
-&gt; Monoid ba
-&gt; ByteArrayAccess ba
-&gt; (forall p a. Int -&gt; (Ptr p -&gt; IO a) -&gt; IO (a, ba))
-&gt; ByteArray ba
forall p a. Int -&gt; (Ptr p -&gt; IO a) -&gt; IO (a, SerialisedTx)
allocRet :: Int -&gt; (Ptr p -&gt; IO a) -&gt; IO (a, SerialisedTx)
$callocRet :: forall p a. Int -&gt; (Ptr p -&gt; IO a) -&gt; IO (a, SerialisedTx)
$cp4ByteArray :: ByteArrayAccess SerialisedTx
$cp3ByteArray :: Monoid SerialisedTx
$cp2ByteArray :: Ord SerialisedTx
$cp1ByteArray :: Eq SerialisedTx
</span><a href="../../../../memory/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ByteArray</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682430724"><span id="local-6989586621682430726"><span id="local-6989586621682430728"><span class="annot"><span class="annottext">SerialisedTx -&gt; Int
SerialisedTx -&gt; Ptr p -&gt; IO ()
SerialisedTx -&gt; (Ptr p -&gt; IO a) -&gt; IO a
(SerialisedTx -&gt; Int)
-&gt; (forall p a. SerialisedTx -&gt; (Ptr p -&gt; IO a) -&gt; IO a)
-&gt; (forall p. SerialisedTx -&gt; Ptr p -&gt; IO ())
-&gt; ByteArrayAccess SerialisedTx
forall p. SerialisedTx -&gt; Ptr p -&gt; IO ()
forall ba.
(ba -&gt; Int)
-&gt; (forall p a. ba -&gt; (Ptr p -&gt; IO a) -&gt; IO a)
-&gt; (forall p. ba -&gt; Ptr p -&gt; IO ())
-&gt; ByteArrayAccess ba
forall p a. SerialisedTx -&gt; (Ptr p -&gt; IO a) -&gt; IO a
copyByteArrayToPtr :: SerialisedTx -&gt; Ptr p -&gt; IO ()
$ccopyByteArrayToPtr :: forall p. SerialisedTx -&gt; Ptr p -&gt; IO ()
withByteArray :: SerialisedTx -&gt; (Ptr p -&gt; IO a) -&gt; IO a
$cwithByteArray :: forall p a. SerialisedTx -&gt; (Ptr p -&gt; IO a) -&gt; IO a
length :: SerialisedTx -&gt; Int
$clength :: SerialisedTx -&gt; Int
</span><a href="../../../../memory/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ByteArrayAccess</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682430721"><span class="annot"><span class="annottext">SerialisedTx -&gt; ()
(SerialisedTx -&gt; ()) -&gt; NFData SerialisedTx
forall a. (a -&gt; ()) -&gt; NFData a
rnf :: SerialisedTx -&gt; ()
$crnf :: SerialisedTx -&gt; ()
</span><a href="#local-6989586621682430721"><span class="hs-identifier hs-var hs-var hs-var hs-var">NFData</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-752"></span><span>
</span><span id="line-753"></span><span class="hs-comment">-- | @SerialisedTxParts@ is a serialised transaction body, and a possibly</span><span>
</span><span id="line-754"></span><span class="hs-comment">-- incomplete set of serialised witnesses.</span><span>
</span><span id="line-755"></span><span id="local-6989586621682430719"><span id="local-6989586621682430720"></span></span><span class="hs-keyword">data</span><span> </span><span id="SerialisedTxParts"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SerialisedTxParts"><span class="hs-identifier hs-var">SerialisedTxParts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SerialisedTxParts"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SerialisedTxParts"><span class="hs-identifier hs-var">SerialisedTxParts</span></a></span></span><span>
</span><span id="line-756"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="%24sel%3AserialisedTxBody%3ASerialisedTxParts"><span class="annot"><span class="annottext">SerialisedTxParts -&gt; ByteString
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AserialisedTxBody%3ASerialisedTxParts"><span class="hs-identifier hs-var hs-var">serialisedTxBody</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span>
</span><span id="line-757"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AserialisedTxWitnesses%3ASerialisedTxParts"><span class="annot"><span class="annottext">SerialisedTxParts -&gt; [ByteString]
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AserialisedTxWitnesses%3ASerialisedTxParts"><span class="hs-identifier hs-var hs-var">serialisedTxWitnesses</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-758"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682430713"><span id="local-6989586621682430715"><span id="local-6989586621682430717"><span class="annot"><span class="annottext">Int -&gt; SerialisedTxParts -&gt; ShowS
[SerialisedTxParts] -&gt; ShowS
SerialisedTxParts -&gt; String
(Int -&gt; SerialisedTxParts -&gt; ShowS)
-&gt; (SerialisedTxParts -&gt; String)
-&gt; ([SerialisedTxParts] -&gt; ShowS)
-&gt; Show SerialisedTxParts
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [SerialisedTxParts] -&gt; ShowS
$cshowList :: [SerialisedTxParts] -&gt; ShowS
show :: SerialisedTxParts -&gt; String
$cshow :: SerialisedTxParts -&gt; String
showsPrec :: Int -&gt; SerialisedTxParts -&gt; ShowS
$cshowsPrec :: Int -&gt; SerialisedTxParts -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682430709"><span id="local-6989586621682430711"><span class="annot"><span class="annottext">SerialisedTxParts -&gt; SerialisedTxParts -&gt; Bool
(SerialisedTxParts -&gt; SerialisedTxParts -&gt; Bool)
-&gt; (SerialisedTxParts -&gt; SerialisedTxParts -&gt; Bool)
-&gt; Eq SerialisedTxParts
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: SerialisedTxParts -&gt; SerialisedTxParts -&gt; Bool
$c/= :: SerialisedTxParts -&gt; SerialisedTxParts -&gt; Bool
== :: SerialisedTxParts -&gt; SerialisedTxParts -&gt; Bool
$c== :: SerialisedTxParts -&gt; SerialisedTxParts -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. SerialisedTxParts -&gt; Rep SerialisedTxParts x)
-&gt; (forall x. Rep SerialisedTxParts x -&gt; SerialisedTxParts)
-&gt; Generic SerialisedTxParts
forall x. Rep SerialisedTxParts x -&gt; SerialisedTxParts
forall x. SerialisedTxParts -&gt; Rep SerialisedTxParts x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep SerialisedTxParts x -&gt; SerialisedTxParts
$cfrom :: forall x. SerialisedTxParts -&gt; Rep SerialisedTxParts x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-759"></span><span>
</span><span id="line-760"></span><span class="hs-comment">-- | True if the given metadata refers to a pending transaction</span><span>
</span><span id="line-761"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#isPending"><span class="hs-identifier hs-type">isPending</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxMeta"><span class="hs-identifier hs-type">TxMeta</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-762"></span><span id="isPending"><span class="annot"><span class="annottext">isPending :: TxMeta -&gt; Bool
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#isPending"><span class="hs-identifier hs-var hs-var">isPending</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxStatus -&gt; TxStatus -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">TxStatus
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#Pending"><span class="hs-identifier hs-var">Pending</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TxStatus -&gt; Bool) -&gt; (TxMeta -&gt; TxStatus) -&gt; TxMeta -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxMeta -&gt; TxStatus
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3Astatus%3ATxMeta"><span class="hs-identifier hs-var hs-var">status</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxMeta"><span class="hs-identifier hs-type">TxMeta</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxStatus"><span class="hs-identifier hs-type">TxStatus</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-763"></span><span>
</span><span id="line-764"></span><span class="hs-comment">-- | Full expanded and resolved information about a transaction, suitable for</span><span>
</span><span id="line-765"></span><span class="hs-comment">-- presentation to the user.</span><span>
</span><span id="line-766"></span><span id="local-6989586621682430705"><span id="local-6989586621682430706"></span></span><span class="hs-keyword">data</span><span> </span><span id="TransactionInfo"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TransactionInfo"><span class="hs-identifier hs-var">TransactionInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TransactionInfo"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TransactionInfo"><span class="hs-identifier hs-var">TransactionInfo</span></a></span></span><span>
</span><span id="line-767"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="%24sel%3AtxInfoId%3ATransactionInfo"><span class="annot"><span class="annottext">TransactionInfo -&gt; Hash &quot;Tx&quot;
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxInfoId%3ATransactionInfo"><span class="hs-identifier hs-var hs-var">txInfoId</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Hash.html#Hash"><span class="hs-identifier hs-type">Hash</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Tx&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-768"></span><span>    </span><span class="hs-comment">-- ^ Transaction ID of this transaction</span><span>
</span><span id="line-769"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AtxInfoFee%3ATransactionInfo"><span class="annot"><span class="annottext">TransactionInfo -&gt; Maybe Coin
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxInfoFee%3ATransactionInfo"><span class="hs-identifier hs-var hs-var">txInfoFee</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-770"></span><span>    </span><span class="hs-comment">-- ^ Explicit transaction fee</span><span>
</span><span id="line-771"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AtxInfoInputs%3ATransactionInfo"><span class="annot"><span class="annottext">TransactionInfo -&gt; [(TxIn, Coin, Maybe TxOut)]
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxInfoInputs%3ATransactionInfo"><span class="hs-identifier hs-var hs-var">txInfoInputs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-772"></span><span>    </span><span class="hs-comment">-- ^ Transaction inputs and (maybe) corresponding outputs of the</span><span>
</span><span id="line-773"></span><span>    </span><span class="hs-comment">-- source. Source information can only be provided for outgoing payments.</span><span>
</span><span id="line-774"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AtxInfoCollateralInputs%3ATransactionInfo"><span class="annot"><span class="annottext">TransactionInfo -&gt; [(TxIn, Coin, Maybe TxOut)]
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxInfoCollateralInputs%3ATransactionInfo"><span class="hs-identifier hs-var hs-var">txInfoCollateralInputs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-775"></span><span>    </span><span class="hs-comment">-- ^ Collateral inputs and (maybe) corresponding outputs.</span><span>
</span><span id="line-776"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AtxInfoOutputs%3ATransactionInfo"><span class="annot"><span class="annottext">TransactionInfo -&gt; [TxOut]
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxInfoOutputs%3ATransactionInfo"><span class="hs-identifier hs-var hs-var">txInfoOutputs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-777"></span><span>    </span><span class="hs-comment">-- ^ Payment destination.</span><span>
</span><span id="line-778"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AtxInfoCollateralOutput%3ATransactionInfo"><span class="annot"><span class="annottext">TransactionInfo -&gt; Maybe TxOut
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxInfoCollateralOutput%3ATransactionInfo"><span class="hs-identifier hs-var hs-var">txInfoCollateralOutput</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-779"></span><span>    </span><span class="hs-comment">-- ^ An output that is only created if a transaction script fails.</span><span>
</span><span id="line-780"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AtxInfoWithdrawals%3ATransactionInfo"><span class="annot"><span class="annottext">TransactionInfo -&gt; Map RewardAccount Coin
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxInfoWithdrawals%3ATransactionInfo"><span class="hs-identifier hs-var hs-var">txInfoWithdrawals</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../../../../containers/html/src"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.RewardAccount.html#RewardAccount"><span class="hs-identifier hs-type">RewardAccount</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-781"></span><span>    </span><span class="hs-comment">-- ^ Withdrawals on this transaction.</span><span>
</span><span id="line-782"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AtxInfoMeta%3ATransactionInfo"><span class="annot"><span class="annottext">TransactionInfo -&gt; TxMeta
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxInfoMeta%3ATransactionInfo"><span class="hs-identifier hs-var hs-var">txInfoMeta</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxMeta"><span class="hs-identifier hs-type">TxMeta</span></a></span><span>
</span><span id="line-783"></span><span>    </span><span class="hs-comment">-- ^ Other information calculated from the transaction.</span><span>
</span><span id="line-784"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AtxInfoDepth%3ATransactionInfo"><span class="annot"><span class="annottext">TransactionInfo -&gt; Quantity &quot;block&quot; Natural
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxInfoDepth%3ATransactionInfo"><span class="hs-identifier hs-var hs-var">txInfoDepth</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Quantity.html#Quantity"><span class="hs-identifier hs-type">Quantity</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;block&quot;</span></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Natural</span></a></span><span>
</span><span id="line-785"></span><span>    </span><span class="hs-comment">-- ^ Number of slots since the transaction slot.</span><span>
</span><span id="line-786"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AtxInfoTime%3ATransactionInfo"><span class="annot"><span class="annottext">TransactionInfo -&gt; UTCTime
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxInfoTime%3ATransactionInfo"><span class="hs-identifier hs-var hs-var">txInfoTime</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier hs-type">UTCTime</span></a></span><span>
</span><span id="line-787"></span><span>    </span><span class="hs-comment">-- ^ Creation time of the block including this transaction.</span><span>
</span><span id="line-788"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AtxInfoMetadata%3ATransactionInfo"><span class="annot"><span class="annottext">TransactionInfo -&gt; Maybe TxMetadata
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxInfoMetadata%3ATransactionInfo"><span class="hs-identifier hs-var hs-var">txInfoMetadata</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">TxMetadata</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-789"></span><span>    </span><span class="hs-comment">-- ^ Application-specific extension data.</span><span>
</span><span id="line-790"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AtxInfoScriptValidity%3ATransactionInfo"><span class="annot"><span class="annottext">TransactionInfo -&gt; Maybe TxScriptValidity
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxInfoScriptValidity%3ATransactionInfo"><span class="hs-identifier hs-var hs-var">txInfoScriptValidity</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxScriptValidity"><span class="hs-identifier hs-type">TxScriptValidity</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-791"></span><span>    </span><span class="hs-comment">-- ^ Tag indicating whether non-native scripts in this transaction passed</span><span>
</span><span id="line-792"></span><span>    </span><span class="hs-comment">-- validation. This is added by the block creator when constructing the</span><span>
</span><span id="line-793"></span><span>    </span><span class="hs-comment">-- block. May be 'Nothing' for pre-Alonzo and pending transactions.</span><span>
</span><span id="line-794"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. TransactionInfo -&gt; Rep TransactionInfo x)
-&gt; (forall x. Rep TransactionInfo x -&gt; TransactionInfo)
-&gt; Generic TransactionInfo
forall x. Rep TransactionInfo x -&gt; TransactionInfo
forall x. TransactionInfo -&gt; Rep TransactionInfo x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep TransactionInfo x -&gt; TransactionInfo
$cfrom :: forall x. TransactionInfo -&gt; Rep TransactionInfo x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682430684"><span id="local-6989586621682430686"><span id="local-6989586621682430688"><span class="annot"><span class="annottext">Int -&gt; TransactionInfo -&gt; ShowS
[TransactionInfo] -&gt; ShowS
TransactionInfo -&gt; String
(Int -&gt; TransactionInfo -&gt; ShowS)
-&gt; (TransactionInfo -&gt; String)
-&gt; ([TransactionInfo] -&gt; ShowS)
-&gt; Show TransactionInfo
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TransactionInfo] -&gt; ShowS
$cshowList :: [TransactionInfo] -&gt; ShowS
show :: TransactionInfo -&gt; String
$cshow :: TransactionInfo -&gt; String
showsPrec :: Int -&gt; TransactionInfo -&gt; ShowS
$cshowsPrec :: Int -&gt; TransactionInfo -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682430680"><span id="local-6989586621682430682"><span class="annot"><span class="annottext">TransactionInfo -&gt; TransactionInfo -&gt; Bool
(TransactionInfo -&gt; TransactionInfo -&gt; Bool)
-&gt; (TransactionInfo -&gt; TransactionInfo -&gt; Bool)
-&gt; Eq TransactionInfo
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TransactionInfo -&gt; TransactionInfo -&gt; Bool
$c/= :: TransactionInfo -&gt; TransactionInfo -&gt; Bool
== :: TransactionInfo -&gt; TransactionInfo -&gt; Bool
$c== :: TransactionInfo -&gt; TransactionInfo -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-795"></span><span>
</span><span id="line-796"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682430678"><span class="annot"><a href="../../../../ghc/html/libraries/deepseq-1.4.4.0/src"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TransactionInfo"><span class="hs-identifier hs-type">TransactionInfo</span></a></span></span><span>
</span><span id="line-797"></span><span>
</span><span id="line-798"></span><span class="hs-comment">-- | Indicates whether or not a transaction is marked as having an invalid</span><span>
</span><span id="line-799"></span><span class="hs-comment">--   script.</span><span>
</span><span id="line-800"></span><span class="hs-comment">--</span><span>
</span><span id="line-801"></span><span class="hs-comment">-- Pre-Alonzo era, scripts were not supported.</span><span>
</span><span id="line-802"></span><span class="hs-comment">--</span><span>
</span><span id="line-803"></span><span id="local-6989586621682430676"><span id="local-6989586621682430677"></span></span><span class="hs-keyword">data</span><span> </span><span id="TxScriptValidity"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxScriptValidity"><span class="hs-identifier hs-var">TxScriptValidity</span></a></span></span><span>
</span><span id="line-804"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="TxScriptValid"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxScriptValid"><span class="hs-identifier hs-var">TxScriptValid</span></a></span></span><span>
</span><span id="line-805"></span><span>    </span><span class="hs-comment">-- ^ The transaction is not marked as having an invalid script.</span><span>
</span><span id="line-806"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="TxScriptInvalid"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxScriptInvalid"><span class="hs-identifier hs-var">TxScriptInvalid</span></a></span></span><span>
</span><span id="line-807"></span><span>    </span><span class="hs-comment">-- ^ The transaction is marked as having an invalid script.</span><span>
</span><span id="line-808"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. TxScriptValidity -&gt; Rep TxScriptValidity x)
-&gt; (forall x. Rep TxScriptValidity x -&gt; TxScriptValidity)
-&gt; Generic TxScriptValidity
forall x. Rep TxScriptValidity x -&gt; TxScriptValidity
forall x. TxScriptValidity -&gt; Rep TxScriptValidity x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep TxScriptValidity x -&gt; TxScriptValidity
$cfrom :: forall x. TxScriptValidity -&gt; Rep TxScriptValidity x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682430668"><span id="local-6989586621682430670"><span id="local-6989586621682430672"><span class="annot"><span class="annottext">Int -&gt; TxScriptValidity -&gt; ShowS
[TxScriptValidity] -&gt; ShowS
TxScriptValidity -&gt; String
(Int -&gt; TxScriptValidity -&gt; ShowS)
-&gt; (TxScriptValidity -&gt; String)
-&gt; ([TxScriptValidity] -&gt; ShowS)
-&gt; Show TxScriptValidity
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TxScriptValidity] -&gt; ShowS
$cshowList :: [TxScriptValidity] -&gt; ShowS
show :: TxScriptValidity -&gt; String
$cshow :: TxScriptValidity -&gt; String
showsPrec :: Int -&gt; TxScriptValidity -&gt; ShowS
$cshowsPrec :: Int -&gt; TxScriptValidity -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682430664"><span id="local-6989586621682430666"><span class="annot"><span class="annottext">TxScriptValidity -&gt; TxScriptValidity -&gt; Bool
(TxScriptValidity -&gt; TxScriptValidity -&gt; Bool)
-&gt; (TxScriptValidity -&gt; TxScriptValidity -&gt; Bool)
-&gt; Eq TxScriptValidity
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TxScriptValidity -&gt; TxScriptValidity -&gt; Bool
$c/= :: TxScriptValidity -&gt; TxScriptValidity -&gt; Bool
== :: TxScriptValidity -&gt; TxScriptValidity -&gt; Bool
$c== :: TxScriptValidity -&gt; TxScriptValidity -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682430649"><span id="local-6989586621682430651"><span id="local-6989586621682430653"><span id="local-6989586621682430655"><span id="local-6989586621682430657"><span id="local-6989586621682430659"><span id="local-6989586621682430661"><span class="annot"><span class="annottext">Eq TxScriptValidity
Eq TxScriptValidity
-&gt; (TxScriptValidity -&gt; TxScriptValidity -&gt; Ordering)
-&gt; (TxScriptValidity -&gt; TxScriptValidity -&gt; Bool)
-&gt; (TxScriptValidity -&gt; TxScriptValidity -&gt; Bool)
-&gt; (TxScriptValidity -&gt; TxScriptValidity -&gt; Bool)
-&gt; (TxScriptValidity -&gt; TxScriptValidity -&gt; Bool)
-&gt; (TxScriptValidity -&gt; TxScriptValidity -&gt; TxScriptValidity)
-&gt; (TxScriptValidity -&gt; TxScriptValidity -&gt; TxScriptValidity)
-&gt; Ord TxScriptValidity
TxScriptValidity -&gt; TxScriptValidity -&gt; Bool
TxScriptValidity -&gt; TxScriptValidity -&gt; Ordering
TxScriptValidity -&gt; TxScriptValidity -&gt; TxScriptValidity
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: TxScriptValidity -&gt; TxScriptValidity -&gt; TxScriptValidity
$cmin :: TxScriptValidity -&gt; TxScriptValidity -&gt; TxScriptValidity
max :: TxScriptValidity -&gt; TxScriptValidity -&gt; TxScriptValidity
$cmax :: TxScriptValidity -&gt; TxScriptValidity -&gt; TxScriptValidity
&gt;= :: TxScriptValidity -&gt; TxScriptValidity -&gt; Bool
$c&gt;= :: TxScriptValidity -&gt; TxScriptValidity -&gt; Bool
&gt; :: TxScriptValidity -&gt; TxScriptValidity -&gt; Bool
$c&gt; :: TxScriptValidity -&gt; TxScriptValidity -&gt; Bool
&lt;= :: TxScriptValidity -&gt; TxScriptValidity -&gt; Bool
$c&lt;= :: TxScriptValidity -&gt; TxScriptValidity -&gt; Bool
&lt; :: TxScriptValidity -&gt; TxScriptValidity -&gt; Bool
$c&lt; :: TxScriptValidity -&gt; TxScriptValidity -&gt; Bool
compare :: TxScriptValidity -&gt; TxScriptValidity -&gt; Ordering
$ccompare :: TxScriptValidity -&gt; TxScriptValidity -&gt; Ordering
$cp1Ord :: Eq TxScriptValidity
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-809"></span><span>
</span><span id="line-810"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682430647"><span class="annot"><a href="../../../../ghc/html/libraries/deepseq-1.4.4.0/src"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxScriptValidity"><span class="hs-identifier hs-type">TxScriptValidity</span></a></span></span><span>
</span><span id="line-811"></span><span>
</span><span id="line-812"></span><span class="hs-comment">-- | Returns 'True' if (and only if) the given transaction is marked as having</span><span>
</span><span id="line-813"></span><span class="hs-comment">--   an invalid script.</span><span>
</span><span id="line-814"></span><span class="hs-comment">--</span><span>
</span><span id="line-815"></span><span class="hs-comment">-- This function does not actually verify the validity of scripts; it merely</span><span>
</span><span id="line-816"></span><span class="hs-comment">-- checks for the presence or absence of the 'TxScriptInvalid' marker.</span><span>
</span><span id="line-817"></span><span class="hs-comment">--</span><span>
</span><span id="line-818"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txScriptInvalid"><span class="hs-identifier hs-type">txScriptInvalid</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Tx"><span class="hs-identifier hs-type">Tx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-819"></span><span id="txScriptInvalid"><span class="annot"><span class="annottext">txScriptInvalid :: Tx -&gt; Bool
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txScriptInvalid"><span class="hs-identifier hs-var hs-var">txScriptInvalid</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Tx"><span class="hs-identifier hs-type">Tx</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621682430646"><span class="annot"><span class="annottext">Maybe TxScriptValidity
scriptValidity :: Maybe TxScriptValidity
$sel:scriptValidity:Tx :: Tx -&gt; Maybe TxScriptValidity
</span><a href="#local-6989586621682430646"><span class="hs-identifier hs-var hs-var">scriptValidity</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe TxScriptValidity
</span><a href="#local-6989586621682430646"><span class="hs-identifier hs-var">scriptValidity</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-820"></span><span>  </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><span class="annottext">TxScriptValidity
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxScriptInvalid"><span class="hs-identifier hs-var">TxScriptInvalid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-821"></span><span>  </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><span class="annottext">TxScriptValidity
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxScriptValid"><span class="hs-identifier hs-var">TxScriptValid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-822"></span><span>  </span><span class="hs-comment">-- Script validation always passes in eras that don't support scripts</span><span>
</span><span id="line-823"></span><span>  </span><span class="annot"><span class="annottext">Maybe TxScriptValidity
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-824"></span><span>
</span><span id="line-825"></span><span class="hs-comment">-- | Reconstruct a transaction info from a transaction.</span><span>
</span><span id="line-826"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#fromTransactionInfo"><span class="hs-identifier hs-type">fromTransactionInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TransactionInfo"><span class="hs-identifier hs-type">TransactionInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Tx"><span class="hs-identifier hs-type">Tx</span></a></span><span>
</span><span id="line-827"></span><span id="fromTransactionInfo"><span class="annot"><span class="annottext">fromTransactionInfo :: TransactionInfo -&gt; Tx
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#fromTransactionInfo"><span class="hs-identifier hs-var hs-var">fromTransactionInfo</span></a></span></span><span> </span><span id="local-6989586621682430645"><span class="annot"><span class="annottext">TransactionInfo
</span><a href="#local-6989586621682430645"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tx :: Hash &quot;Tx&quot;
-&gt; Maybe Coin
-&gt; [(TxIn, Coin)]
-&gt; [(TxIn, Coin)]
-&gt; [TxOut]
-&gt; Maybe TxOut
-&gt; Map RewardAccount Coin
-&gt; Maybe TxMetadata
-&gt; Maybe TxScriptValidity
-&gt; Tx
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#Tx"><span class="hs-identifier hs-type">Tx</span></a></span><span>
</span><span id="line-828"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:txId:Tx :: Hash &quot;Tx&quot;
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxId%3ATx"><span class="hs-identifier hs-var">txId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TransactionInfo -&gt; Hash &quot;Tx&quot;
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxInfoId%3ATransactionInfo"><span class="hs-identifier hs-var hs-var">txInfoId</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionInfo
</span><a href="#local-6989586621682430645"><span class="hs-identifier hs-var">info</span></a></span><span>
</span><span id="line-829"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:fee:Tx :: Maybe Coin
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3Afee%3ATx"><span class="hs-identifier hs-var">fee</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TransactionInfo -&gt; Maybe Coin
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxInfoFee%3ATransactionInfo"><span class="hs-identifier hs-var hs-var">txInfoFee</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionInfo
</span><a href="#local-6989586621682430645"><span class="hs-identifier hs-var">info</span></a></span><span>
</span><span id="line-830"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:resolvedInputs:Tx :: [(TxIn, Coin)]
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AresolvedInputs%3ATx"><span class="hs-identifier hs-var">resolvedInputs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TxIn, Coin, Maybe TxOut) -&gt; (TxIn, Coin)
forall a b c. (a, b, c) -&gt; (a, b)
</span><a href="#local-6989586621682430644"><span class="hs-identifier hs-var">drop3rd</span></a></span><span> </span><span class="annot"><span class="annottext">((TxIn, Coin, Maybe TxOut) -&gt; (TxIn, Coin))
-&gt; [(TxIn, Coin, Maybe TxOut)] -&gt; [(TxIn, Coin)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionInfo -&gt; [(TxIn, Coin, Maybe TxOut)]
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxInfoInputs%3ATransactionInfo"><span class="hs-identifier hs-var hs-var">txInfoInputs</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionInfo
</span><a href="#local-6989586621682430645"><span class="hs-identifier hs-var">info</span></a></span><span>
</span><span id="line-831"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:resolvedCollateralInputs:Tx :: [(TxIn, Coin)]
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AresolvedCollateralInputs%3ATx"><span class="hs-identifier hs-var">resolvedCollateralInputs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TxIn, Coin, Maybe TxOut) -&gt; (TxIn, Coin)
forall a b c. (a, b, c) -&gt; (a, b)
</span><a href="#local-6989586621682430644"><span class="hs-identifier hs-var">drop3rd</span></a></span><span> </span><span class="annot"><span class="annottext">((TxIn, Coin, Maybe TxOut) -&gt; (TxIn, Coin))
-&gt; [(TxIn, Coin, Maybe TxOut)] -&gt; [(TxIn, Coin)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionInfo -&gt; [(TxIn, Coin, Maybe TxOut)]
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxInfoCollateralInputs%3ATransactionInfo"><span class="hs-identifier hs-var hs-var">txInfoCollateralInputs</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionInfo
</span><a href="#local-6989586621682430645"><span class="hs-identifier hs-var">info</span></a></span><span>
</span><span id="line-832"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:outputs:Tx :: [TxOut]
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3Aoutputs%3ATx"><span class="hs-identifier hs-var">outputs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TransactionInfo -&gt; [TxOut]
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxInfoOutputs%3ATransactionInfo"><span class="hs-identifier hs-var hs-var">txInfoOutputs</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionInfo
</span><a href="#local-6989586621682430645"><span class="hs-identifier hs-var">info</span></a></span><span>
</span><span id="line-833"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:collateralOutput:Tx :: Maybe TxOut
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AcollateralOutput%3ATx"><span class="hs-identifier hs-var">collateralOutput</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TransactionInfo -&gt; Maybe TxOut
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxInfoCollateralOutput%3ATransactionInfo"><span class="hs-identifier hs-var hs-var">txInfoCollateralOutput</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionInfo
</span><a href="#local-6989586621682430645"><span class="hs-identifier hs-var">info</span></a></span><span>
</span><span id="line-834"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:withdrawals:Tx :: Map RewardAccount Coin
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3Awithdrawals%3ATx"><span class="hs-identifier hs-var">withdrawals</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TransactionInfo -&gt; Map RewardAccount Coin
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxInfoWithdrawals%3ATransactionInfo"><span class="hs-identifier hs-var hs-var">txInfoWithdrawals</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionInfo
</span><a href="#local-6989586621682430645"><span class="hs-identifier hs-var">info</span></a></span><span>
</span><span id="line-835"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:metadata:Tx :: Maybe TxMetadata
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3Ametadata%3ATx"><span class="hs-identifier hs-var">metadata</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TransactionInfo -&gt; Maybe TxMetadata
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxInfoMetadata%3ATransactionInfo"><span class="hs-identifier hs-var hs-var">txInfoMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionInfo
</span><a href="#local-6989586621682430645"><span class="hs-identifier hs-var">info</span></a></span><span>
</span><span id="line-836"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:scriptValidity:Tx :: Maybe TxScriptValidity
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AscriptValidity%3ATx"><span class="hs-identifier hs-var">scriptValidity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TransactionInfo -&gt; Maybe TxScriptValidity
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxInfoScriptValidity%3ATransactionInfo"><span class="hs-identifier hs-var hs-var">txInfoScriptValidity</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionInfo
</span><a href="#local-6989586621682430645"><span class="hs-identifier hs-var">info</span></a></span><span>
</span><span id="line-837"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-838"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-839"></span><span>    </span><span id="local-6989586621682431466"><span id="local-6989586621682431467"><span id="local-6989586621682431468"><span class="annot"><a href="#local-6989586621682430644"><span class="hs-identifier hs-type">drop3rd</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682431468"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682431467"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682431466"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682431468"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682431467"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-840"></span><span>    </span><span id="local-6989586621682430644"><span class="annot"><span class="annottext">drop3rd :: (a, b, c) -&gt; (a, b)
</span><a href="#local-6989586621682430644"><span class="hs-identifier hs-var hs-var">drop3rd</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682430643"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682430643"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682430642"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621682430642"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">c
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682430643"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621682430642"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-841"></span><span>
</span><span id="line-842"></span><span class="hs-comment">-- | Test whether the given metadata map is empty.</span><span>
</span><span id="line-843"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txMetadataIsNull"><span class="hs-identifier hs-type">txMetadataIsNull</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">TxMetadata</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-844"></span><span id="txMetadataIsNull"><span class="annot"><span class="annottext">txMetadataIsNull :: TxMetadata -&gt; Bool
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txMetadataIsNull"><span class="hs-identifier hs-var hs-var">txMetadataIsNull</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../cardano-api/html/src"><span class="hs-identifier hs-type">TxMetadata</span></a></span><span> </span><span id="local-6989586621682430640"><span class="annot"><span class="annottext">Map Word64 TxMetadataValue
</span><a href="#local-6989586621682430640"><span class="hs-identifier hs-var">md</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map Word64 TxMetadataValue -&gt; Bool
forall k a. Map k a -&gt; Bool
</span><a href="../../../../containers/html/src"><span class="hs-identifier hs-var">Map.null</span></a></span><span> </span><span class="annot"><span class="annottext">Map Word64 TxMetadataValue
</span><a href="#local-6989586621682430640"><span class="hs-identifier hs-var">md</span></a></span><span>
</span><span id="line-845"></span><span>
</span><span id="line-846"></span><span class="hs-comment">-- | Drop time-specific information</span><span>
</span><span id="line-847"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#toTxHistory"><span class="hs-identifier hs-type">toTxHistory</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TransactionInfo"><span class="hs-identifier hs-type">TransactionInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Tx"><span class="hs-identifier hs-type">Tx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxMeta"><span class="hs-identifier hs-type">TxMeta</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-848"></span><span id="toTxHistory"><span class="annot"><span class="annottext">toTxHistory :: TransactionInfo -&gt; (Tx, TxMeta)
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#toTxHistory"><span class="hs-identifier hs-var hs-var">toTxHistory</span></a></span></span><span> </span><span id="local-6989586621682430638"><span class="annot"><span class="annottext">TransactionInfo
</span><a href="#local-6989586621682430638"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-849"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TransactionInfo -&gt; Tx
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#fromTransactionInfo"><span class="hs-identifier hs-var">fromTransactionInfo</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionInfo
</span><a href="#local-6989586621682430638"><span class="hs-identifier hs-var">info</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TransactionInfo -&gt; TxMeta
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxInfoMeta%3ATransactionInfo"><span class="hs-identifier hs-var hs-var">txInfoMeta</span></a></span><span> </span><span class="annot"><span class="annottext">TransactionInfo
</span><a href="#local-6989586621682430638"><span class="hs-identifier hs-var">info</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-850"></span><span>
</span><span id="line-851"></span><span class="hs-comment">-- | Information about when a transaction was submitted to the local node.</span><span>
</span><span id="line-852"></span><span class="hs-comment">-- This is used for scheduling resubmissions.</span><span>
</span><span id="line-853"></span><span id="local-6989586621682430636"><span id="local-6989586621682430637"></span></span><span class="hs-keyword">data</span><span> </span><span id="LocalTxSubmissionStatus"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#LocalTxSubmissionStatus"><span class="hs-identifier hs-var">LocalTxSubmissionStatus</span></a></span></span><span> </span><span id="local-6989586621682430635"><span class="annot"><a href="#local-6989586621682430635"><span class="hs-identifier hs-type">tx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="LocalTxSubmissionStatus"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#LocalTxSubmissionStatus"><span class="hs-identifier hs-var">LocalTxSubmissionStatus</span></a></span></span><span>
</span><span id="line-854"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="%24sel%3AtxId%3ALocalTxSubmissionStatus"><span class="annot"><span class="annottext">LocalTxSubmissionStatus tx -&gt; Hash &quot;Tx&quot;
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxId%3ALocalTxSubmissionStatus"><span class="hs-identifier hs-var hs-var">txId</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Hash.html#Hash"><span class="hs-identifier hs-type">Hash</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Tx&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-855"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AsubmittedTx%3ALocalTxSubmissionStatus"><span class="annot"><span class="annottext">LocalTxSubmissionStatus tx -&gt; tx
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AsubmittedTx%3ALocalTxSubmissionStatus"><span class="hs-identifier hs-var hs-var">submittedTx</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="#local-6989586621682430635"><span class="hs-identifier hs-type">tx</span></a></span><span>
</span><span id="line-856"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AfirstSubmission%3ALocalTxSubmissionStatus"><span class="annot"><span class="annottext">LocalTxSubmissionStatus tx -&gt; SlotNo
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AfirstSubmission%3ALocalTxSubmissionStatus"><span class="hs-identifier hs-var hs-var">firstSubmission</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier hs-type">SlotNo</span></a></span><span>
</span><span id="line-857"></span><span>    </span><span class="hs-comment">-- ^ Time of first successful submission to the local node.</span><span>
</span><span id="line-858"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AlatestSubmission%3ALocalTxSubmissionStatus"><span class="annot"><span class="annottext">LocalTxSubmissionStatus tx -&gt; SlotNo
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AlatestSubmission%3ALocalTxSubmissionStatus"><span class="hs-identifier hs-var hs-var">latestSubmission</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier hs-type">SlotNo</span></a></span><span>
</span><span id="line-859"></span><span>    </span><span class="hs-comment">-- ^ Time of most recent resubmission attempt.</span><span>
</span><span id="line-860"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x.
 LocalTxSubmissionStatus tx -&gt; Rep (LocalTxSubmissionStatus tx) x)
-&gt; (forall x.
    Rep (LocalTxSubmissionStatus tx) x -&gt; LocalTxSubmissionStatus tx)
-&gt; Generic (LocalTxSubmissionStatus tx)
forall x.
Rep (LocalTxSubmissionStatus tx) x -&gt; LocalTxSubmissionStatus tx
forall x.
LocalTxSubmissionStatus tx -&gt; Rep (LocalTxSubmissionStatus tx) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall tx x.
Rep (LocalTxSubmissionStatus tx) x -&gt; LocalTxSubmissionStatus tx
forall tx x.
LocalTxSubmissionStatus tx -&gt; Rep (LocalTxSubmissionStatus tx) x
$cto :: forall tx x.
Rep (LocalTxSubmissionStatus tx) x -&gt; LocalTxSubmissionStatus tx
$cfrom :: forall tx x.
LocalTxSubmissionStatus tx -&gt; Rep (LocalTxSubmissionStatus tx) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682430622"><span id="local-6989586621682430624"><span id="local-6989586621682430626"><span class="annot"><span class="annottext">Int -&gt; LocalTxSubmissionStatus tx -&gt; ShowS
[LocalTxSubmissionStatus tx] -&gt; ShowS
LocalTxSubmissionStatus tx -&gt; String
(Int -&gt; LocalTxSubmissionStatus tx -&gt; ShowS)
-&gt; (LocalTxSubmissionStatus tx -&gt; String)
-&gt; ([LocalTxSubmissionStatus tx] -&gt; ShowS)
-&gt; Show (LocalTxSubmissionStatus tx)
forall tx. Show tx =&gt; Int -&gt; LocalTxSubmissionStatus tx -&gt; ShowS
forall tx. Show tx =&gt; [LocalTxSubmissionStatus tx] -&gt; ShowS
forall tx. Show tx =&gt; LocalTxSubmissionStatus tx -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [LocalTxSubmissionStatus tx] -&gt; ShowS
$cshowList :: forall tx. Show tx =&gt; [LocalTxSubmissionStatus tx] -&gt; ShowS
show :: LocalTxSubmissionStatus tx -&gt; String
$cshow :: forall tx. Show tx =&gt; LocalTxSubmissionStatus tx -&gt; String
showsPrec :: Int -&gt; LocalTxSubmissionStatus tx -&gt; ShowS
$cshowsPrec :: forall tx. Show tx =&gt; Int -&gt; LocalTxSubmissionStatus tx -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682430618"><span id="local-6989586621682430620"><span class="annot"><span class="annottext">LocalTxSubmissionStatus tx -&gt; LocalTxSubmissionStatus tx -&gt; Bool
(LocalTxSubmissionStatus tx -&gt; LocalTxSubmissionStatus tx -&gt; Bool)
-&gt; (LocalTxSubmissionStatus tx
    -&gt; LocalTxSubmissionStatus tx -&gt; Bool)
-&gt; Eq (LocalTxSubmissionStatus tx)
forall tx.
Eq tx =&gt;
LocalTxSubmissionStatus tx -&gt; LocalTxSubmissionStatus tx -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: LocalTxSubmissionStatus tx -&gt; LocalTxSubmissionStatus tx -&gt; Bool
$c/= :: forall tx.
Eq tx =&gt;
LocalTxSubmissionStatus tx -&gt; LocalTxSubmissionStatus tx -&gt; Bool
== :: LocalTxSubmissionStatus tx -&gt; LocalTxSubmissionStatus tx -&gt; Bool
$c== :: forall tx.
Eq tx =&gt;
LocalTxSubmissionStatus tx -&gt; LocalTxSubmissionStatus tx -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682430614"><span id="local-6989586621682430616"><span class="annot"><span class="annottext">a -&gt; LocalTxSubmissionStatus b -&gt; LocalTxSubmissionStatus a
(a -&gt; b) -&gt; LocalTxSubmissionStatus a -&gt; LocalTxSubmissionStatus b
(forall a b.
 (a -&gt; b) -&gt; LocalTxSubmissionStatus a -&gt; LocalTxSubmissionStatus b)
-&gt; (forall a b.
    a -&gt; LocalTxSubmissionStatus b -&gt; LocalTxSubmissionStatus a)
-&gt; Functor LocalTxSubmissionStatus
forall a b.
a -&gt; LocalTxSubmissionStatus b -&gt; LocalTxSubmissionStatus a
forall a b.
(a -&gt; b) -&gt; LocalTxSubmissionStatus a -&gt; LocalTxSubmissionStatus b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
&lt;$ :: a -&gt; LocalTxSubmissionStatus b -&gt; LocalTxSubmissionStatus a
$c&lt;$ :: forall a b.
a -&gt; LocalTxSubmissionStatus b -&gt; LocalTxSubmissionStatus a
fmap :: (a -&gt; b) -&gt; LocalTxSubmissionStatus a -&gt; LocalTxSubmissionStatus b
$cfmap :: forall a b.
(a -&gt; b) -&gt; LocalTxSubmissionStatus a -&gt; LocalTxSubmissionStatus b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-861"></span><span>
</span><span id="line-862"></span><span class="hs-comment">-- | A function capable of assessing the size of a token bundle relative to the</span><span>
</span><span id="line-863"></span><span class="hs-comment">--   upper limit of what can be included in a single transaction output.</span><span>
</span><span id="line-864"></span><span class="hs-comment">--</span><span>
</span><span id="line-865"></span><span class="hs-comment">-- In general, a token bundle size assessment function 'f' should satisfy the</span><span>
</span><span id="line-866"></span><span class="hs-comment">-- following properties:</span><span>
</span><span id="line-867"></span><span class="hs-comment">--</span><span>
</span><span id="line-868"></span><span class="hs-comment">--    * Enlarging a bundle that exceeds the limit should also result in a</span><span>
</span><span id="line-869"></span><span class="hs-comment">--      bundle that exceeds the limit:</span><span>
</span><span id="line-870"></span><span class="hs-comment">--      @</span><span>
</span><span id="line-871"></span><span class="hs-comment">--              f  b1           == TokenBundleSizeExceedsLimit</span><span>
</span><span id="line-872"></span><span class="hs-comment">--          ==&gt; f (b1 `add` b2) == TokenBundleSizeExceedsLimit</span><span>
</span><span id="line-873"></span><span class="hs-comment">--      @</span><span>
</span><span id="line-874"></span><span class="hs-comment">--</span><span>
</span><span id="line-875"></span><span class="hs-comment">--    * Shrinking a bundle that's within the limit should also result in a</span><span>
</span><span id="line-876"></span><span class="hs-comment">--      bundle that's within the limit:</span><span>
</span><span id="line-877"></span><span class="hs-comment">--      @</span><span>
</span><span id="line-878"></span><span class="hs-comment">--              f  b1                  == TokenBundleWithinLimit</span><span>
</span><span id="line-879"></span><span class="hs-comment">--          ==&gt; f (b1 `difference` b2) == TokenBundleWithinLimit</span><span>
</span><span id="line-880"></span><span class="hs-comment">--      @</span><span>
</span><span id="line-881"></span><span class="hs-comment">--</span><span>
</span><span id="line-882"></span><span id="local-6989586621682430611"><span id="local-6989586621682430612"></span></span><span class="hs-keyword">newtype</span><span> </span><span id="TokenBundleSizeAssessor"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TokenBundleSizeAssessor"><span class="hs-identifier hs-var">TokenBundleSizeAssessor</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TokenBundleSizeAssessor"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TokenBundleSizeAssessor"><span class="hs-identifier hs-var">TokenBundleSizeAssessor</span></a></span></span><span>
</span><span id="line-883"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="%24sel%3AassessTokenBundleSize%3ATokenBundleSizeAssessor"><span class="annot"><span class="annottext">TokenBundleSizeAssessor -&gt; TokenBundle -&gt; TokenBundleSizeAssessment
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AassessTokenBundleSize%3ATokenBundleSizeAssessor"><span class="hs-identifier hs-var hs-var">assessTokenBundleSize</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenBundle.html#TokenBundle"><span class="hs-identifier hs-type">TokenBundle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TokenBundleSizeAssessment"><span class="hs-identifier hs-type">TokenBundleSizeAssessment</span></a></span><span>
</span><span id="line-884"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-885"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="annottext">(forall x.
 TokenBundleSizeAssessor -&gt; Rep TokenBundleSizeAssessor x)
-&gt; (forall x.
    Rep TokenBundleSizeAssessor x -&gt; TokenBundleSizeAssessor)
-&gt; Generic TokenBundleSizeAssessor
forall x. Rep TokenBundleSizeAssessor x -&gt; TokenBundleSizeAssessor
forall x. TokenBundleSizeAssessor -&gt; Rep TokenBundleSizeAssessor x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep TokenBundleSizeAssessor x -&gt; TokenBundleSizeAssessor
$cfrom :: forall x. TokenBundleSizeAssessor -&gt; Rep TokenBundleSizeAssessor x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span>
</span><span id="line-886"></span><span>
</span><span id="line-887"></span><span class="hs-comment">-- | Indicates the size of a token bundle relative to the upper limit of what</span><span>
</span><span id="line-888"></span><span class="hs-comment">--   can be included in a single transaction output, defined by the protocol.</span><span>
</span><span id="line-889"></span><span class="hs-comment">--</span><span>
</span><span id="line-890"></span><span id="local-6989586621682430605"><span id="local-6989586621682430606"></span></span><span class="hs-keyword">data</span><span> </span><span id="TokenBundleSizeAssessment"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TokenBundleSizeAssessment"><span class="hs-identifier hs-var">TokenBundleSizeAssessment</span></a></span></span><span>
</span><span id="line-891"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="TokenBundleSizeWithinLimit"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TokenBundleSizeWithinLimit"><span class="hs-identifier hs-var">TokenBundleSizeWithinLimit</span></a></span></span><span>
</span><span id="line-892"></span><span>    </span><span class="hs-comment">-- ^ Indicates that the size of a token bundle does not exceed the maximum</span><span>
</span><span id="line-893"></span><span>    </span><span class="hs-comment">-- size that can be included in a transaction output.</span><span>
</span><span id="line-894"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="TokenBundleSizeExceedsLimit"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TokenBundleSizeExceedsLimit"><span class="hs-identifier hs-var">TokenBundleSizeExceedsLimit</span></a></span></span><span>
</span><span id="line-895"></span><span>    </span><span class="hs-comment">-- ^ Indicates that the size of a token bundle exceeds the maximum size</span><span>
</span><span id="line-896"></span><span>    </span><span class="hs-comment">-- that can be included in a transaction output.</span><span>
</span><span id="line-897"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682430599"><span id="local-6989586621682430601"><span class="annot"><span class="annottext">TokenBundleSizeAssessment -&gt; TokenBundleSizeAssessment -&gt; Bool
(TokenBundleSizeAssessment -&gt; TokenBundleSizeAssessment -&gt; Bool)
-&gt; (TokenBundleSizeAssessment -&gt; TokenBundleSizeAssessment -&gt; Bool)
-&gt; Eq TokenBundleSizeAssessment
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TokenBundleSizeAssessment -&gt; TokenBundleSizeAssessment -&gt; Bool
$c/= :: TokenBundleSizeAssessment -&gt; TokenBundleSizeAssessment -&gt; Bool
== :: TokenBundleSizeAssessment -&gt; TokenBundleSizeAssessment -&gt; Bool
$c== :: TokenBundleSizeAssessment -&gt; TokenBundleSizeAssessment -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x.
 TokenBundleSizeAssessment -&gt; Rep TokenBundleSizeAssessment x)
-&gt; (forall x.
    Rep TokenBundleSizeAssessment x -&gt; TokenBundleSizeAssessment)
-&gt; Generic TokenBundleSizeAssessment
forall x.
Rep TokenBundleSizeAssessment x -&gt; TokenBundleSizeAssessment
forall x.
TokenBundleSizeAssessment -&gt; Rep TokenBundleSizeAssessment x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x.
Rep TokenBundleSizeAssessment x -&gt; TokenBundleSizeAssessment
$cfrom :: forall x.
TokenBundleSizeAssessment -&gt; Rep TokenBundleSizeAssessment x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682430591"><span id="local-6989586621682430593"><span id="local-6989586621682430595"><span class="annot"><span class="annottext">Int -&gt; TokenBundleSizeAssessment -&gt; ShowS
[TokenBundleSizeAssessment] -&gt; ShowS
TokenBundleSizeAssessment -&gt; String
(Int -&gt; TokenBundleSizeAssessment -&gt; ShowS)
-&gt; (TokenBundleSizeAssessment -&gt; String)
-&gt; ([TokenBundleSizeAssessment] -&gt; ShowS)
-&gt; Show TokenBundleSizeAssessment
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TokenBundleSizeAssessment] -&gt; ShowS
$cshowList :: [TokenBundleSizeAssessment] -&gt; ShowS
show :: TokenBundleSizeAssessment -&gt; String
$cshow :: TokenBundleSizeAssessment -&gt; String
showsPrec :: Int -&gt; TokenBundleSizeAssessment -&gt; ShowS
$cshowsPrec :: Int -&gt; TokenBundleSizeAssessment -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-898"></span><span>
</span><span id="line-899"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-900"></span><span class="hs-comment">-- Constants</span><span>
</span><span id="line-901"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-902"></span><span>
</span><span id="line-903"></span><span class="hs-comment">-- | The smallest quantity of lovelace that can appear in a transaction output's</span><span>
</span><span id="line-904"></span><span class="hs-comment">--   token bundle.</span><span>
</span><span id="line-905"></span><span class="hs-comment">--</span><span>
</span><span id="line-906"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutMinCoin"><span class="hs-identifier hs-type">txOutMinCoin</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span>
</span><span id="line-907"></span><span id="txOutMinCoin"><span class="annot"><span class="annottext">txOutMinCoin :: Coin
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutMinCoin"><span class="hs-identifier hs-var hs-var">txOutMinCoin</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Natural -&gt; Coin
</span><a href="Cardano.Wallet.Primitive.Types.Coin.html#Coin"><span class="hs-identifier hs-var">Coin</span></a></span><span> </span><span class="annot"><span class="annottext">Natural
</span><span class="hs-number">0</span></span><span>
</span><span id="line-908"></span><span>
</span><span id="line-909"></span><span class="hs-comment">-- | The greatest quantity of lovelace that can appear in a transaction output's</span><span>
</span><span id="line-910"></span><span class="hs-comment">--   token bundle.</span><span>
</span><span id="line-911"></span><span class="hs-comment">--</span><span>
</span><span id="line-912"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutMaxCoin"><span class="hs-identifier hs-type">txOutMaxCoin</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span>
</span><span id="line-913"></span><span id="txOutMaxCoin"><span class="annot"><span class="annottext">txOutMaxCoin :: Coin
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutMaxCoin"><span class="hs-identifier hs-var hs-var">txOutMaxCoin</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Natural -&gt; Coin
</span><a href="Cardano.Wallet.Primitive.Types.Coin.html#Coin"><span class="hs-identifier hs-var">Coin</span></a></span><span> </span><span class="annot"><span class="annottext">Natural
</span><span class="hs-number">45_000_000_000_000_000</span></span><span>
</span><span id="line-914"></span><span>
</span><span id="line-915"></span><span class="hs-comment">-- | The smallest token quantity that can appear in a transaction output's</span><span>
</span><span id="line-916"></span><span class="hs-comment">--   token bundle.</span><span>
</span><span id="line-917"></span><span class="hs-comment">--</span><span>
</span><span id="line-918"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutMinTokenQuantity"><span class="hs-identifier hs-type">txOutMinTokenQuantity</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenQuantity.html#TokenQuantity"><span class="hs-identifier hs-type">TokenQuantity</span></a></span><span>
</span><span id="line-919"></span><span id="txOutMinTokenQuantity"><span class="annot"><span class="annottext">txOutMinTokenQuantity :: TokenQuantity
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutMinTokenQuantity"><span class="hs-identifier hs-var hs-var">txOutMinTokenQuantity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Natural -&gt; TokenQuantity
</span><a href="Cardano.Wallet.Primitive.Types.TokenQuantity.html#TokenQuantity"><span class="hs-identifier hs-var">TokenQuantity</span></a></span><span> </span><span class="annot"><span class="annottext">Natural
</span><span class="hs-number">1</span></span><span>
</span><span id="line-920"></span><span>
</span><span id="line-921"></span><span class="hs-comment">-- | The greatest token quantity that can appear in a transaction output's</span><span>
</span><span id="line-922"></span><span class="hs-comment">--   token bundle.</span><span>
</span><span id="line-923"></span><span class="hs-comment">--</span><span>
</span><span id="line-924"></span><span class="hs-comment">-- Although the ledger specification allows token quantities of unlimited</span><span>
</span><span id="line-925"></span><span class="hs-comment">-- sizes, in practice we'll only see transaction outputs where the token</span><span>
</span><span id="line-926"></span><span class="hs-comment">-- quantities are bounded by the size of a 'Word64'.</span><span>
</span><span id="line-927"></span><span class="hs-comment">--</span><span>
</span><span id="line-928"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutMaxTokenQuantity"><span class="hs-identifier hs-type">txOutMaxTokenQuantity</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenQuantity.html#TokenQuantity"><span class="hs-identifier hs-type">TokenQuantity</span></a></span><span>
</span><span id="line-929"></span><span id="txOutMaxTokenQuantity"><span class="annot"><span class="annottext">txOutMaxTokenQuantity :: TokenQuantity
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutMaxTokenQuantity"><span class="hs-identifier hs-var hs-var">txOutMaxTokenQuantity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Natural -&gt; TokenQuantity
</span><a href="Cardano.Wallet.Primitive.Types.TokenQuantity.html#TokenQuantity"><span class="hs-identifier hs-var">TokenQuantity</span></a></span><span> </span><span class="annot"><span class="annottext">(Natural -&gt; TokenQuantity) -&gt; Natural -&gt; TokenQuantity
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Natural
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; Natural) -&gt; Word64 -&gt; Natural
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Bounded Word64 =&gt; Word64
forall a. Bounded a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">maxBound</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Word64</span></a></span><span>
</span><span id="line-930"></span><span>
</span><span id="line-931"></span><span class="hs-comment">-- | The greatest quantity of any given token that can be minted or burned in a</span><span>
</span><span id="line-932"></span><span class="hs-comment">--   transaction.</span><span>
</span><span id="line-933"></span><span class="hs-comment">--</span><span>
</span><span id="line-934"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txMintBurnMaxTokenQuantity"><span class="hs-identifier hs-type">txMintBurnMaxTokenQuantity</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenQuantity.html#TokenQuantity"><span class="hs-identifier hs-type">TokenQuantity</span></a></span><span>
</span><span id="line-935"></span><span id="txMintBurnMaxTokenQuantity"><span class="annot"><span class="annottext">txMintBurnMaxTokenQuantity :: TokenQuantity
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txMintBurnMaxTokenQuantity"><span class="hs-identifier hs-var hs-var">txMintBurnMaxTokenQuantity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Natural -&gt; TokenQuantity
</span><a href="Cardano.Wallet.Primitive.Types.TokenQuantity.html#TokenQuantity"><span class="hs-identifier hs-var">TokenQuantity</span></a></span><span> </span><span class="annot"><span class="annottext">(Natural -&gt; TokenQuantity) -&gt; Natural -&gt; TokenQuantity
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; Natural
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">(Int64 -&gt; Natural) -&gt; Int64 -&gt; Natural
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Bounded Int64 =&gt; Int64
forall a. Bounded a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">maxBound</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Int64</span></a></span><span>
</span><span id="line-936"></span><span>
</span><span id="line-937"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-938"></span><span class="hs-comment">-- Constraints</span><span>
</span><span id="line-939"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-940"></span><span>
</span><span id="line-941"></span><span class="hs-comment">-- | Provides an abstract cost and size model for transactions.</span><span>
</span><span id="line-942"></span><span class="hs-comment">--</span><span>
</span><span id="line-943"></span><span class="hs-comment">-- This allows parts of a transaction to be costed (or sized) individually,</span><span>
</span><span id="line-944"></span><span class="hs-comment">-- without having to compute the cost (or size) of an entire transaction.</span><span>
</span><span id="line-945"></span><span class="hs-comment">--</span><span>
</span><span id="line-946"></span><span class="hs-comment">-- Note that the following functions assume one witness is required per input:</span><span>
</span><span id="line-947"></span><span class="hs-comment">--</span><span>
</span><span id="line-948"></span><span class="hs-comment">-- - 'txInputCost'</span><span>
</span><span id="line-949"></span><span class="hs-comment">-- - 'txInputSize'</span><span>
</span><span id="line-950"></span><span class="hs-comment">--</span><span>
</span><span id="line-951"></span><span class="hs-comment">-- This will lead to slight overestimation in the case of UTxOs that share the</span><span>
</span><span id="line-952"></span><span class="hs-comment">-- same payment key.</span><span>
</span><span id="line-953"></span><span class="hs-comment">--</span><span>
</span><span id="line-954"></span><span id="local-6989586621682430586"><span id="local-6989586621682430587"></span></span><span class="hs-keyword">data</span><span> </span><span id="TxConstraints"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxConstraints"><span class="hs-identifier hs-var">TxConstraints</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TxConstraints"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxConstraints"><span class="hs-identifier hs-var">TxConstraints</span></a></span></span><span>
</span><span id="line-955"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="%24sel%3AtxBaseCost%3ATxConstraints"><span class="annot"><span class="annottext">TxConstraints -&gt; Coin
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxBaseCost%3ATxConstraints"><span class="hs-identifier hs-var hs-var">txBaseCost</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span>
</span><span id="line-956"></span><span>      </span><span class="hs-comment">-- ^ The constant cost of an empty transaction.</span><span>
</span><span id="line-957"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AtxBaseSize%3ATxConstraints"><span class="annot"><span class="annottext">TxConstraints -&gt; TxSize
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxBaseSize%3ATxConstraints"><span class="hs-identifier hs-var hs-var">txBaseSize</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxSize"><span class="hs-identifier hs-type">TxSize</span></a></span><span>
</span><span id="line-958"></span><span>      </span><span class="hs-comment">-- ^ The constant size of an empty transaction.</span><span>
</span><span id="line-959"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AtxInputCost%3ATxConstraints"><span class="annot"><span class="annottext">TxConstraints -&gt; Coin
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxInputCost%3ATxConstraints"><span class="hs-identifier hs-var hs-var">txInputCost</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span>
</span><span id="line-960"></span><span>      </span><span class="hs-comment">-- ^ The constant cost of a transaction input, assuming one witness is</span><span>
</span><span id="line-961"></span><span>      </span><span class="hs-comment">-- required per input.</span><span>
</span><span id="line-962"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AtxInputSize%3ATxConstraints"><span class="annot"><span class="annottext">TxConstraints -&gt; TxSize
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxInputSize%3ATxConstraints"><span class="hs-identifier hs-var hs-var">txInputSize</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxSize"><span class="hs-identifier hs-type">TxSize</span></a></span><span>
</span><span id="line-963"></span><span>      </span><span class="hs-comment">-- ^ The constant size of a transaction input, assuming one witness is</span><span>
</span><span id="line-964"></span><span>      </span><span class="hs-comment">-- required per input.</span><span>
</span><span id="line-965"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AtxOutputCost%3ATxConstraints"><span class="annot"><span class="annottext">TxConstraints -&gt; TokenBundle -&gt; Coin
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxOutputCost%3ATxConstraints"><span class="hs-identifier hs-var hs-var">txOutputCost</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenBundle.html#TokenBundle"><span class="hs-identifier hs-type">TokenBundle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span>
</span><span id="line-966"></span><span>      </span><span class="hs-comment">-- ^ The variable cost of a transaction output.</span><span>
</span><span id="line-967"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AtxOutputSize%3ATxConstraints"><span class="annot"><span class="annottext">TxConstraints -&gt; TokenBundle -&gt; TxSize
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxOutputSize%3ATxConstraints"><span class="hs-identifier hs-var hs-var">txOutputSize</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenBundle.html#TokenBundle"><span class="hs-identifier hs-type">TokenBundle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxSize"><span class="hs-identifier hs-type">TxSize</span></a></span><span>
</span><span id="line-968"></span><span>      </span><span class="hs-comment">-- ^ The variable size of a transaction output.</span><span>
</span><span id="line-969"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AtxOutputMaximumSize%3ATxConstraints"><span class="annot"><span class="annottext">TxConstraints -&gt; TxSize
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxOutputMaximumSize%3ATxConstraints"><span class="hs-identifier hs-var hs-var">txOutputMaximumSize</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxSize"><span class="hs-identifier hs-type">TxSize</span></a></span><span>
</span><span id="line-970"></span><span>      </span><span class="hs-comment">-- ^ The maximum size of a transaction output.</span><span>
</span><span id="line-971"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AtxOutputMaximumTokenQuantity%3ATxConstraints"><span class="annot"><span class="annottext">TxConstraints -&gt; TokenQuantity
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxOutputMaximumTokenQuantity%3ATxConstraints"><span class="hs-identifier hs-var hs-var">txOutputMaximumTokenQuantity</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenQuantity.html#TokenQuantity"><span class="hs-identifier hs-type">TokenQuantity</span></a></span><span>
</span><span id="line-972"></span><span>      </span><span class="hs-comment">-- ^ The maximum token quantity that can appear in a transaction output.</span><span>
</span><span id="line-973"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AtxOutputMinimumAdaQuantity%3ATxConstraints"><span class="annot"><span class="annottext">TxConstraints -&gt; Address -&gt; TokenMap -&gt; Coin
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxOutputMinimumAdaQuantity%3ATxConstraints"><span class="hs-identifier hs-var hs-var">txOutputMinimumAdaQuantity</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Address.html#Address"><span class="hs-identifier hs-type">Address</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenMap.html#TokenMap"><span class="hs-identifier hs-type">TokenMap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span>
</span><span id="line-974"></span><span>      </span><span class="hs-comment">-- ^ The variable minimum ada quantity of a transaction output.</span><span>
</span><span id="line-975"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AtxOutputBelowMinimumAdaQuantity%3ATxConstraints"><span class="annot"><span class="annottext">TxConstraints -&gt; Address -&gt; TokenBundle -&gt; Bool
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxOutputBelowMinimumAdaQuantity%3ATxConstraints"><span class="hs-identifier hs-var hs-var">txOutputBelowMinimumAdaQuantity</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Address.html#Address"><span class="hs-identifier hs-type">Address</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenBundle.html#TokenBundle"><span class="hs-identifier hs-type">TokenBundle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-976"></span><span>      </span><span class="hs-comment">-- ^ Returns 'True' if the given 'TokenBundle' has a 'Coin' value that is</span><span>
</span><span id="line-977"></span><span>      </span><span class="hs-comment">-- below the minimum required.</span><span>
</span><span id="line-978"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AtxRewardWithdrawalCost%3ATxConstraints"><span class="annot"><span class="annottext">TxConstraints -&gt; Coin -&gt; Coin
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxRewardWithdrawalCost%3ATxConstraints"><span class="hs-identifier hs-var hs-var">txRewardWithdrawalCost</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span>
</span><span id="line-979"></span><span>      </span><span class="hs-comment">-- ^ The variable cost of a reward withdrawal.</span><span>
</span><span id="line-980"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AtxRewardWithdrawalSize%3ATxConstraints"><span class="annot"><span class="annottext">TxConstraints -&gt; Coin -&gt; TxSize
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxRewardWithdrawalSize%3ATxConstraints"><span class="hs-identifier hs-var hs-var">txRewardWithdrawalSize</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxSize"><span class="hs-identifier hs-type">TxSize</span></a></span><span>
</span><span id="line-981"></span><span>      </span><span class="hs-comment">-- ^ The variable size of a reward withdrawal.</span><span>
</span><span id="line-982"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AtxMaximumSize%3ATxConstraints"><span class="annot"><span class="annottext">TxConstraints -&gt; TxSize
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxMaximumSize%3ATxConstraints"><span class="hs-identifier hs-var hs-var">txMaximumSize</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxSize"><span class="hs-identifier hs-type">TxSize</span></a></span><span>
</span><span id="line-983"></span><span>      </span><span class="hs-comment">-- ^ The maximum size of a transaction.</span><span>
</span><span id="line-984"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-985"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="annottext">(forall x. TxConstraints -&gt; Rep TxConstraints x)
-&gt; (forall x. Rep TxConstraints x -&gt; TxConstraints)
-&gt; Generic TxConstraints
forall x. Rep TxConstraints x -&gt; TxConstraints
forall x. TxConstraints -&gt; Rep TxConstraints x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep TxConstraints x -&gt; TxConstraints
$cfrom :: forall x. TxConstraints -&gt; Rep TxConstraints x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span>
</span><span id="line-986"></span><span>
</span><span id="line-987"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutputCoinCost"><span class="hs-identifier hs-type">txOutputCoinCost</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxConstraints"><span class="hs-identifier hs-type">TxConstraints</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span>
</span><span id="line-988"></span><span id="txOutputCoinCost"><span class="annot"><span class="annottext">txOutputCoinCost :: TxConstraints -&gt; Coin -&gt; Coin
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutputCoinCost"><span class="hs-identifier hs-var hs-var">txOutputCoinCost</span></a></span></span><span> </span><span id="local-6989586621682430569"><span class="annot"><span class="annottext">TxConstraints
</span><a href="#local-6989586621682430569"><span class="hs-identifier hs-var">constraints</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxConstraints -&gt; TokenBundle -&gt; Coin
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxOutputCost%3ATxConstraints"><span class="hs-identifier hs-var hs-var">txOutputCost</span></a></span><span> </span><span class="annot"><span class="annottext">TxConstraints
</span><a href="#local-6989586621682430569"><span class="hs-identifier hs-var">constraints</span></a></span><span> </span><span class="annot"><span class="annottext">(TokenBundle -&gt; Coin) -&gt; (Coin -&gt; TokenBundle) -&gt; Coin -&gt; Coin
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Coin -&gt; TokenBundle
</span><a href="Cardano.Wallet.Primitive.Types.TokenBundle.html#fromCoin"><span class="hs-identifier hs-var">TokenBundle.fromCoin</span></a></span><span>
</span><span id="line-989"></span><span>
</span><span id="line-990"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutputCoinSize"><span class="hs-identifier hs-type">txOutputCoinSize</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxConstraints"><span class="hs-identifier hs-type">TxConstraints</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxSize"><span class="hs-identifier hs-type">TxSize</span></a></span><span>
</span><span id="line-991"></span><span id="txOutputCoinSize"><span class="annot"><span class="annottext">txOutputCoinSize :: TxConstraints -&gt; Coin -&gt; TxSize
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutputCoinSize"><span class="hs-identifier hs-var hs-var">txOutputCoinSize</span></a></span></span><span> </span><span id="local-6989586621682430568"><span class="annot"><span class="annottext">TxConstraints
</span><a href="#local-6989586621682430568"><span class="hs-identifier hs-var">constraints</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxConstraints -&gt; TokenBundle -&gt; TxSize
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxOutputSize%3ATxConstraints"><span class="hs-identifier hs-var hs-var">txOutputSize</span></a></span><span> </span><span class="annot"><span class="annottext">TxConstraints
</span><a href="#local-6989586621682430568"><span class="hs-identifier hs-var">constraints</span></a></span><span> </span><span class="annot"><span class="annottext">(TokenBundle -&gt; TxSize) -&gt; (Coin -&gt; TokenBundle) -&gt; Coin -&gt; TxSize
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Coin -&gt; TokenBundle
</span><a href="Cardano.Wallet.Primitive.Types.TokenBundle.html#fromCoin"><span class="hs-identifier hs-var">TokenBundle.fromCoin</span></a></span><span>
</span><span id="line-992"></span><span>
</span><span id="line-993"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutputHasValidSize"><span class="hs-identifier hs-type">txOutputHasValidSize</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxConstraints"><span class="hs-identifier hs-type">TxConstraints</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenBundle.html#TokenBundle"><span class="hs-identifier hs-type">TokenBundle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-994"></span><span id="txOutputHasValidSize"><span class="annot"><span class="annottext">txOutputHasValidSize :: TxConstraints -&gt; TokenBundle -&gt; Bool
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutputHasValidSize"><span class="hs-identifier hs-var hs-var">txOutputHasValidSize</span></a></span></span><span> </span><span id="local-6989586621682430567"><span class="annot"><span class="annottext">TxConstraints
</span><a href="#local-6989586621682430567"><span class="hs-identifier hs-var">constraints</span></a></span></span><span> </span><span id="local-6989586621682430566"><span class="annot"><span class="annottext">TokenBundle
</span><a href="#local-6989586621682430566"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-995"></span><span>    </span><span class="annot"><span class="annottext">TxConstraints -&gt; TokenBundle -&gt; TxSize
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxOutputSize%3ATxConstraints"><span class="hs-identifier hs-var hs-var">txOutputSize</span></a></span><span> </span><span class="annot"><span class="annottext">TxConstraints
</span><a href="#local-6989586621682430567"><span class="hs-identifier hs-var">constraints</span></a></span><span> </span><span class="annot"><span class="annottext">TokenBundle
</span><a href="#local-6989586621682430566"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">TxSize -&gt; TxSize -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&lt;=</span></a></span><span> </span><span class="annot"><span class="annottext">TxConstraints -&gt; TxSize
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxOutputMaximumSize%3ATxConstraints"><span class="hs-identifier hs-var hs-var">txOutputMaximumSize</span></a></span><span> </span><span class="annot"><span class="annottext">TxConstraints
</span><a href="#local-6989586621682430567"><span class="hs-identifier hs-var">constraints</span></a></span><span>
</span><span id="line-996"></span><span>
</span><span id="line-997"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutputHasValidTokenQuantities"><span class="hs-identifier hs-type">txOutputHasValidTokenQuantities</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxConstraints"><span class="hs-identifier hs-type">TxConstraints</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenMap.html#TokenMap"><span class="hs-identifier hs-type">TokenMap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-998"></span><span id="txOutputHasValidTokenQuantities"><span class="annot"><span class="annottext">txOutputHasValidTokenQuantities :: TxConstraints -&gt; TokenMap -&gt; Bool
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutputHasValidTokenQuantities"><span class="hs-identifier hs-var hs-var">txOutputHasValidTokenQuantities</span></a></span></span><span> </span><span id="local-6989586621682430564"><span class="annot"><span class="annottext">TxConstraints
</span><a href="#local-6989586621682430564"><span class="hs-identifier hs-var">constraints</span></a></span></span><span> </span><span id="local-6989586621682430563"><span class="annot"><span class="annottext">TokenMap
</span><a href="#local-6989586621682430563"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-999"></span><span>    </span><span class="annot"><span class="annottext">TokenMap -&gt; TokenQuantity
</span><a href="Cardano.Wallet.Primitive.Types.TokenMap.html#maximumQuantity"><span class="hs-identifier hs-var">TokenMap.maximumQuantity</span></a></span><span> </span><span class="annot"><span class="annottext">TokenMap
</span><a href="#local-6989586621682430563"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">TokenQuantity -&gt; TokenQuantity -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&lt;=</span></a></span><span> </span><span class="annot"><span class="annottext">TxConstraints -&gt; TokenQuantity
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AtxOutputMaximumTokenQuantity%3ATxConstraints"><span class="hs-identifier hs-var hs-var">txOutputMaximumTokenQuantity</span></a></span><span> </span><span class="annot"><span class="annottext">TxConstraints
</span><a href="#local-6989586621682430564"><span class="hs-identifier hs-var">constraints</span></a></span><span>
</span><span id="line-1000"></span><span>
</span><span id="line-1001"></span><span class="hs-comment">-- | The size of a transaction, or part of a transaction, in bytes.</span><span>
</span><span id="line-1002"></span><span class="hs-comment">--</span><span>
</span><span id="line-1003"></span><span id="local-6989586621682430560"><span id="local-6989586621682430561"></span></span><span class="hs-keyword">newtype</span><span> </span><span id="TxSize"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxSize"><span class="hs-identifier hs-var">TxSize</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TxSize"><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxSize"><span class="hs-identifier hs-var">TxSize</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="%24sel%3AunTxSize%3ATxSize"><span class="annot"><span class="annottext">TxSize -&gt; Natural
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#%24sel%3AunTxSize%3ATxSize"><span class="hs-identifier hs-var hs-var">unTxSize</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Natural</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1004"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682430554"><span id="local-6989586621682430556"><span class="annot"><span class="annottext">TxSize -&gt; TxSize -&gt; Bool
(TxSize -&gt; TxSize -&gt; Bool)
-&gt; (TxSize -&gt; TxSize -&gt; Bool) -&gt; Eq TxSize
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TxSize -&gt; TxSize -&gt; Bool
$c/= :: TxSize -&gt; TxSize -&gt; Bool
== :: TxSize -&gt; TxSize -&gt; Bool
$c== :: TxSize -&gt; TxSize -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682430539"><span id="local-6989586621682430541"><span id="local-6989586621682430543"><span id="local-6989586621682430545"><span id="local-6989586621682430547"><span id="local-6989586621682430549"><span id="local-6989586621682430551"><span class="annot"><span class="annottext">Eq TxSize
Eq TxSize
-&gt; (TxSize -&gt; TxSize -&gt; Ordering)
-&gt; (TxSize -&gt; TxSize -&gt; Bool)
-&gt; (TxSize -&gt; TxSize -&gt; Bool)
-&gt; (TxSize -&gt; TxSize -&gt; Bool)
-&gt; (TxSize -&gt; TxSize -&gt; Bool)
-&gt; (TxSize -&gt; TxSize -&gt; TxSize)
-&gt; (TxSize -&gt; TxSize -&gt; TxSize)
-&gt; Ord TxSize
TxSize -&gt; TxSize -&gt; Bool
TxSize -&gt; TxSize -&gt; Ordering
TxSize -&gt; TxSize -&gt; TxSize
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: TxSize -&gt; TxSize -&gt; TxSize
$cmin :: TxSize -&gt; TxSize -&gt; TxSize
max :: TxSize -&gt; TxSize -&gt; TxSize
$cmax :: TxSize -&gt; TxSize -&gt; TxSize
&gt;= :: TxSize -&gt; TxSize -&gt; Bool
$c&gt;= :: TxSize -&gt; TxSize -&gt; Bool
&gt; :: TxSize -&gt; TxSize -&gt; Bool
$c&gt; :: TxSize -&gt; TxSize -&gt; Bool
&lt;= :: TxSize -&gt; TxSize -&gt; Bool
$c&lt;= :: TxSize -&gt; TxSize -&gt; Bool
&lt; :: TxSize -&gt; TxSize -&gt; Bool
$c&lt; :: TxSize -&gt; TxSize -&gt; Bool
compare :: TxSize -&gt; TxSize -&gt; Ordering
$ccompare :: TxSize -&gt; TxSize -&gt; Ordering
$cp1Ord :: Eq TxSize
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. TxSize -&gt; Rep TxSize x)
-&gt; (forall x. Rep TxSize x -&gt; TxSize) -&gt; Generic TxSize
forall x. Rep TxSize x -&gt; TxSize
forall x. TxSize -&gt; Rep TxSize x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep TxSize x -&gt; TxSize
$cfrom :: forall x. TxSize -&gt; Rep TxSize x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1005"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621682430531"><span id="local-6989586621682430533"><span id="local-6989586621682430535"><span class="annot"><span class="annottext">Int -&gt; TxSize -&gt; ShowS
[TxSize] -&gt; ShowS
TxSize -&gt; String
(Int -&gt; TxSize -&gt; ShowS)
-&gt; (TxSize -&gt; String) -&gt; ([TxSize] -&gt; ShowS) -&gt; Show TxSize
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TxSize] -&gt; ShowS
$cshowList :: [TxSize] -&gt; ShowS
show :: TxSize -&gt; String
$cshow :: TxSize -&gt; String
showsPrec :: Int -&gt; TxSize -&gt; ShowS
$cshowsPrec :: Int -&gt; TxSize -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span> </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../quiet/html/src"><span class="hs-identifier hs-type">Quiet</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxSize"><span class="hs-identifier hs-type">TxSize</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1006"></span><span>
</span><span id="line-1007"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682430529"><span class="annot"><a href="../../../../ghc/html/libraries/deepseq-1.4.4.0/src"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxSize"><span class="hs-identifier hs-type">TxSize</span></a></span></span><span>
</span><span id="line-1008"></span><span>
</span><span id="line-1009"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682430524"><span id="local-6989586621682430526"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Semigroup</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxSize"><span class="hs-identifier hs-type">TxSize</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1010"></span><span>    </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxSize"><span class="hs-identifier hs-type">TxSize</span></a></span><span> </span><span id="local-6989586621682430523"><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621682430523"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621682430522"><span class="annot"><span class="annottext">&lt;&gt; :: TxSize -&gt; TxSize -&gt; TxSize
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;&gt;</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxSize"><span class="hs-identifier hs-type">TxSize</span></a></span><span> </span><span id="local-6989586621682430521"><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621682430521"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Natural -&gt; TxSize
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxSize"><span class="hs-identifier hs-var">TxSize</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621682430523"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Natural -&gt; Natural -&gt; Natural
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621682430521"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1011"></span><span>
</span><span id="line-1012"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682430515"><span id="local-6989586621682430517"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxSize"><span class="hs-identifier hs-type">TxSize</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1013"></span><span>    </span><span id="local-6989586621682430514"><span class="annot"><span class="annottext">mempty :: TxSize
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">mempty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Natural -&gt; TxSize
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxSize"><span class="hs-identifier hs-var">TxSize</span></a></span><span> </span><span class="annot"><span class="annottext">Natural
</span><span class="hs-number">0</span></span><span>
</span><span id="line-1014"></span><span>
</span><span id="line-1015"></span><span class="hs-comment">-- | Computes the absolute distance between two transaction size quantities.</span><span>
</span><span id="line-1016"></span><span class="hs-comment">--</span><span>
</span><span id="line-1017"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txSizeDistance"><span class="hs-identifier hs-type">txSizeDistance</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxSize"><span class="hs-identifier hs-type">TxSize</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxSize"><span class="hs-identifier hs-type">TxSize</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxSize"><span class="hs-identifier hs-type">TxSize</span></a></span><span>
</span><span id="line-1018"></span><span id="txSizeDistance"><span class="annot"><span class="annottext">txSizeDistance :: TxSize -&gt; TxSize -&gt; TxSize
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txSizeDistance"><span class="hs-identifier hs-var hs-var">txSizeDistance</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxSize"><span class="hs-identifier hs-type">TxSize</span></a></span><span> </span><span id="local-6989586621682430513"><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621682430513"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxSize"><span class="hs-identifier hs-type">TxSize</span></a></span><span> </span><span id="local-6989586621682430512"><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621682430512"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1019"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621682430513"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Natural -&gt; Natural -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621682430512"><span class="hs-identifier hs-var">b</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Natural -&gt; TxSize
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxSize"><span class="hs-identifier hs-var">TxSize</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621682430513"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Natural -&gt; Natural -&gt; Natural
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621682430512"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1020"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Natural -&gt; TxSize
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxSize"><span class="hs-identifier hs-var">TxSize</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621682430512"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Natural -&gt; Natural -&gt; Natural
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621682430513"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1021"></span><span>
</span><span id="line-1022"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-1023"></span><span class="hs-comment">-- Queries</span><span>
</span><span id="line-1024"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-1025"></span><span>
</span><span id="line-1026"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txAssetIds"><span class="hs-identifier hs-type">txAssetIds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Tx"><span class="hs-identifier hs-type">Tx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../containers/html/src"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenMap.html#AssetId"><span class="hs-identifier hs-type">AssetId</span></a></span><span>
</span><span id="line-1027"></span><span id="txAssetIds"><span class="annot"><span class="annottext">txAssetIds :: Tx -&gt; Set AssetId
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txAssetIds"><span class="hs-identifier hs-var hs-var">txAssetIds</span></a></span></span><span> </span><span id="local-6989586621682430511"><span class="annot"><span class="annottext">Tx
</span><a href="#local-6989586621682430511"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Set AssetId] -&gt; Set AssetId
forall (t :: * -&gt; *) m. (Foldable t, Monoid m) =&gt; t m -&gt; m
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">F.fold</span></a></span><span>
</span><span id="line-1028"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">(TxOut -&gt; Set AssetId) -&gt; [TxOut] -&gt; Set AssetId
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">F.foldMap</span></a></span><span> </span><span class="annot"><span class="annottext">TxOut -&gt; Set AssetId
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutAssetIds"><span class="hs-identifier hs-var">txOutAssetIds</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(([TxOut] -&gt; Const [TxOut] [TxOut]) -&gt; Tx -&gt; Const [TxOut] Tx)
-&gt; Tx -&gt; [TxOut]
forall a s. ((a -&gt; Const a a) -&gt; s -&gt; Const a s) -&gt; s -&gt; a
</span><a href="../../../../generic-lens/html/src"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;outputs&quot;
  (([TxOut] -&gt; Const [TxOut] [TxOut]) -&gt; Tx -&gt; Const [TxOut] Tx)
([TxOut] -&gt; Const [TxOut] [TxOut]) -&gt; Tx -&gt; Const [TxOut] Tx
</span><a href="#local-6989586621682430509"><span class="hs-var">#outputs</span></a></span><span> </span><span class="annot"><span class="annottext">Tx
</span><a href="#local-6989586621682430511"><span class="hs-identifier hs-var">tx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1029"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(TxOut -&gt; Set AssetId) -&gt; Maybe TxOut -&gt; Set AssetId
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">F.foldMap</span></a></span><span> </span><span class="annot"><span class="annottext">TxOut -&gt; Set AssetId
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutAssetIds"><span class="hs-identifier hs-var">txOutAssetIds</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((Maybe TxOut -&gt; Const (Maybe TxOut) (Maybe TxOut))
 -&gt; Tx -&gt; Const (Maybe TxOut) Tx)
-&gt; Tx -&gt; Maybe TxOut
forall a s. ((a -&gt; Const a a) -&gt; s -&gt; Const a s) -&gt; s -&gt; a
</span><a href="../../../../generic-lens/html/src"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;collateralOutput&quot;
  ((Maybe TxOut -&gt; Const (Maybe TxOut) (Maybe TxOut))
   -&gt; Tx -&gt; Const (Maybe TxOut) Tx)
(Maybe TxOut -&gt; Const (Maybe TxOut) (Maybe TxOut))
-&gt; Tx -&gt; Const (Maybe TxOut) Tx
</span><a href="#local-6989586621682430508"><span class="hs-var">#collateralOutput</span></a></span><span> </span><span class="annot"><span class="annottext">Tx
</span><a href="#local-6989586621682430511"><span class="hs-identifier hs-var">tx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1030"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-1031"></span><span>
</span><span id="line-1032"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutAssetIds"><span class="hs-identifier hs-type">txOutAssetIds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../containers/html/src"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenMap.html#AssetId"><span class="hs-identifier hs-type">AssetId</span></a></span><span>
</span><span id="line-1033"></span><span id="txOutAssetIds"><span class="annot"><span class="annottext">txOutAssetIds :: TxOut -&gt; Set AssetId
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutAssetIds"><span class="hs-identifier hs-var hs-var">txOutAssetIds</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span> </span><span class="annot"><span class="annottext">Address
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682430507"><span class="annot"><span class="annottext">TokenBundle
</span><a href="#local-6989586621682430507"><span class="hs-identifier hs-var">bundle</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TokenBundle -&gt; Set AssetId
</span><a href="Cardano.Wallet.Primitive.Types.TokenBundle.html#getAssets"><span class="hs-identifier hs-var">TokenBundle.getAssets</span></a></span><span> </span><span class="annot"><span class="annottext">TokenBundle
</span><a href="#local-6989586621682430507"><span class="hs-identifier hs-var">bundle</span></a></span><span>
</span><span id="line-1034"></span><span>
</span><span id="line-1035"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-1036"></span><span class="hs-comment">-- Transformations</span><span>
</span><span id="line-1037"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-1038"></span><span>
</span><span id="line-1039"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txMapAssetIds"><span class="hs-identifier hs-type">txMapAssetIds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenMap.html#AssetId"><span class="hs-identifier hs-type">AssetId</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenMap.html#AssetId"><span class="hs-identifier hs-type">AssetId</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Tx"><span class="hs-identifier hs-type">Tx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Tx"><span class="hs-identifier hs-type">Tx</span></a></span><span>
</span><span id="line-1040"></span><span id="txMapAssetIds"><span class="annot"><span class="annottext">txMapAssetIds :: (AssetId -&gt; AssetId) -&gt; Tx -&gt; Tx
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txMapAssetIds"><span class="hs-identifier hs-var hs-var">txMapAssetIds</span></a></span></span><span> </span><span id="local-6989586621682430505"><span class="annot"><span class="annottext">AssetId -&gt; AssetId
</span><a href="#local-6989586621682430505"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621682430504"><span class="annot"><span class="annottext">Tx
</span><a href="#local-6989586621682430504"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tx
</span><a href="#local-6989586621682430504"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-1041"></span><span>    </span><span class="annot"><span class="annottext">Tx -&gt; (Tx -&gt; Tx) -&gt; Tx
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(([TxOut] -&gt; Identity [TxOut]) -&gt; Tx -&gt; Identity Tx)
-&gt; ([TxOut] -&gt; [TxOut]) -&gt; Tx -&gt; Tx
forall a b s t.
((a -&gt; Identity b) -&gt; s -&gt; Identity t) -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><a href="../../../../generic-lens/html/src"><span class="hs-identifier hs-var">over</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;outputs&quot; (([TxOut] -&gt; Identity [TxOut]) -&gt; Tx -&gt; Identity Tx)
([TxOut] -&gt; Identity [TxOut]) -&gt; Tx -&gt; Identity Tx
</span><a href="#local-6989586621682430503"><span class="hs-var">#outputs</span></a></span><span>
</span><span id="line-1042"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TxOut -&gt; TxOut) -&gt; [TxOut] -&gt; [TxOut]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(AssetId -&gt; AssetId) -&gt; TxOut -&gt; TxOut
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutMapAssetIds"><span class="hs-identifier hs-var">txOutMapAssetIds</span></a></span><span> </span><span class="annot"><span class="annottext">AssetId -&gt; AssetId
</span><a href="#local-6989586621682430505"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1043"></span><span>    </span><span class="annot"><span class="annottext">Tx -&gt; (Tx -&gt; Tx) -&gt; Tx
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">((Maybe TxOut -&gt; Identity (Maybe TxOut)) -&gt; Tx -&gt; Identity Tx)
-&gt; (Maybe TxOut -&gt; Maybe TxOut) -&gt; Tx -&gt; Tx
forall a b s t.
((a -&gt; Identity b) -&gt; s -&gt; Identity t) -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><a href="../../../../generic-lens/html/src"><span class="hs-identifier hs-var">over</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;collateralOutput&quot;
  ((Maybe TxOut -&gt; Identity (Maybe TxOut)) -&gt; Tx -&gt; Identity Tx)
(Maybe TxOut -&gt; Identity (Maybe TxOut)) -&gt; Tx -&gt; Identity Tx
</span><a href="#local-6989586621682430502"><span class="hs-var">#collateralOutput</span></a></span><span>
</span><span id="line-1044"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TxOut -&gt; TxOut) -&gt; Maybe TxOut -&gt; Maybe TxOut
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(AssetId -&gt; AssetId) -&gt; TxOut -&gt; TxOut
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutMapAssetIds"><span class="hs-identifier hs-var">txOutMapAssetIds</span></a></span><span> </span><span class="annot"><span class="annottext">AssetId -&gt; AssetId
</span><a href="#local-6989586621682430505"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1045"></span><span>
</span><span id="line-1046"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txMapTxIds"><span class="hs-identifier hs-type">txMapTxIds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Hash.html#Hash"><span class="hs-identifier hs-type">Hash</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Tx&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Hash.html#Hash"><span class="hs-identifier hs-type">Hash</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Tx&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Tx"><span class="hs-identifier hs-type">Tx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Tx"><span class="hs-identifier hs-type">Tx</span></a></span><span>
</span><span id="line-1047"></span><span id="txMapTxIds"><span class="annot"><span class="annottext">txMapTxIds :: (Hash &quot;Tx&quot; -&gt; Hash &quot;Tx&quot;) -&gt; Tx -&gt; Tx
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txMapTxIds"><span class="hs-identifier hs-var hs-var">txMapTxIds</span></a></span></span><span> </span><span id="local-6989586621682430501"><span class="annot"><span class="annottext">Hash &quot;Tx&quot; -&gt; Hash &quot;Tx&quot;
</span><a href="#local-6989586621682430501"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621682430500"><span class="annot"><span class="annottext">Tx
</span><a href="#local-6989586621682430500"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tx
</span><a href="#local-6989586621682430500"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-1048"></span><span>    </span><span class="annot"><span class="annottext">Tx -&gt; (Tx -&gt; Tx) -&gt; Tx
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">((Hash &quot;Tx&quot; -&gt; Identity (Hash &quot;Tx&quot;)) -&gt; Tx -&gt; Identity Tx)
-&gt; (Hash &quot;Tx&quot; -&gt; Hash &quot;Tx&quot;) -&gt; Tx -&gt; Tx
forall a b s t.
((a -&gt; Identity b) -&gt; s -&gt; Identity t) -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><a href="../../../../generic-lens/html/src"><span class="hs-identifier hs-var">over</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;txId&quot; ((Hash &quot;Tx&quot; -&gt; Identity (Hash &quot;Tx&quot;)) -&gt; Tx -&gt; Identity Tx)
(Hash &quot;Tx&quot; -&gt; Identity (Hash &quot;Tx&quot;)) -&gt; Tx -&gt; Identity Tx
</span><a href="#local-6989586621682430499"><span class="hs-var">#txId</span></a></span><span>
</span><span id="line-1049"></span><span>        </span><span class="annot"><span class="annottext">Hash &quot;Tx&quot; -&gt; Hash &quot;Tx&quot;
</span><a href="#local-6989586621682430501"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-1050"></span><span>    </span><span class="annot"><span class="annottext">Tx -&gt; (Tx -&gt; Tx) -&gt; Tx
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(([(TxIn, Coin)] -&gt; Identity [(TxIn, Coin)]) -&gt; Tx -&gt; Identity Tx)
-&gt; ([(TxIn, Coin)] -&gt; [(TxIn, Coin)]) -&gt; Tx -&gt; Tx
forall a b s t.
((a -&gt; Identity b) -&gt; s -&gt; Identity t) -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><a href="../../../../generic-lens/html/src"><span class="hs-identifier hs-var">over</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;resolvedInputs&quot;
  (([(TxIn, Coin)] -&gt; Identity [(TxIn, Coin)]) -&gt; Tx -&gt; Identity Tx)
([(TxIn, Coin)] -&gt; Identity [(TxIn, Coin)]) -&gt; Tx -&gt; Identity Tx
</span><a href="#local-6989586621682430498"><span class="hs-var">#resolvedInputs</span></a></span><span>
</span><span id="line-1051"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((TxIn, Coin) -&gt; (TxIn, Coin)) -&gt; [(TxIn, Coin)] -&gt; [(TxIn, Coin)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TxIn -&gt; TxIn) -&gt; (TxIn, Coin) -&gt; (TxIn, Coin)
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((Hash &quot;Tx&quot; -&gt; Identity (Hash &quot;Tx&quot;)) -&gt; TxIn -&gt; Identity TxIn)
-&gt; (Hash &quot;Tx&quot; -&gt; Hash &quot;Tx&quot;) -&gt; TxIn -&gt; TxIn
forall a b s t.
((a -&gt; Identity b) -&gt; s -&gt; Identity t) -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><a href="../../../../generic-lens/html/src"><span class="hs-identifier hs-var">over</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;inputId&quot;
  ((Hash &quot;Tx&quot; -&gt; Identity (Hash &quot;Tx&quot;)) -&gt; TxIn -&gt; Identity TxIn)
(Hash &quot;Tx&quot; -&gt; Identity (Hash &quot;Tx&quot;)) -&gt; TxIn -&gt; Identity TxIn
</span><a href="#local-6989586621682430497"><span class="hs-var">#inputId</span></a></span><span> </span><span class="annot"><span class="annottext">Hash &quot;Tx&quot; -&gt; Hash &quot;Tx&quot;
</span><a href="#local-6989586621682430501"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1052"></span><span>    </span><span class="annot"><span class="annottext">Tx -&gt; (Tx -&gt; Tx) -&gt; Tx
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(([(TxIn, Coin)] -&gt; Identity [(TxIn, Coin)]) -&gt; Tx -&gt; Identity Tx)
-&gt; ([(TxIn, Coin)] -&gt; [(TxIn, Coin)]) -&gt; Tx -&gt; Tx
forall a b s t.
((a -&gt; Identity b) -&gt; s -&gt; Identity t) -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><a href="../../../../generic-lens/html/src"><span class="hs-identifier hs-var">over</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;resolvedCollateralInputs&quot;
  (([(TxIn, Coin)] -&gt; Identity [(TxIn, Coin)]) -&gt; Tx -&gt; Identity Tx)
([(TxIn, Coin)] -&gt; Identity [(TxIn, Coin)]) -&gt; Tx -&gt; Identity Tx
</span><a href="#local-6989586621682430496"><span class="hs-var">#resolvedCollateralInputs</span></a></span><span>
</span><span id="line-1053"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((TxIn, Coin) -&gt; (TxIn, Coin)) -&gt; [(TxIn, Coin)] -&gt; [(TxIn, Coin)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TxIn -&gt; TxIn) -&gt; (TxIn, Coin) -&gt; (TxIn, Coin)
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((Hash &quot;Tx&quot; -&gt; Identity (Hash &quot;Tx&quot;)) -&gt; TxIn -&gt; Identity TxIn)
-&gt; (Hash &quot;Tx&quot; -&gt; Hash &quot;Tx&quot;) -&gt; TxIn -&gt; TxIn
forall a b s t.
((a -&gt; Identity b) -&gt; s -&gt; Identity t) -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><a href="../../../../generic-lens/html/src"><span class="hs-identifier hs-var">over</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;inputId&quot;
  ((Hash &quot;Tx&quot; -&gt; Identity (Hash &quot;Tx&quot;)) -&gt; TxIn -&gt; Identity TxIn)
(Hash &quot;Tx&quot; -&gt; Identity (Hash &quot;Tx&quot;)) -&gt; TxIn -&gt; Identity TxIn
</span><a href="#local-6989586621682430495"><span class="hs-var">#inputId</span></a></span><span> </span><span class="annot"><span class="annottext">Hash &quot;Tx&quot; -&gt; Hash &quot;Tx&quot;
</span><a href="#local-6989586621682430501"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1054"></span><span>
</span><span id="line-1055"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txRemoveAssetId"><span class="hs-identifier hs-type">txRemoveAssetId</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Tx"><span class="hs-identifier hs-type">Tx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenMap.html#AssetId"><span class="hs-identifier hs-type">AssetId</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#Tx"><span class="hs-identifier hs-type">Tx</span></a></span><span>
</span><span id="line-1056"></span><span id="txRemoveAssetId"><span class="annot"><span class="annottext">txRemoveAssetId :: Tx -&gt; AssetId -&gt; Tx
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txRemoveAssetId"><span class="hs-identifier hs-var hs-var">txRemoveAssetId</span></a></span></span><span> </span><span id="local-6989586621682430494"><span class="annot"><span class="annottext">Tx
</span><a href="#local-6989586621682430494"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span id="local-6989586621682430493"><span class="annot"><span class="annottext">AssetId
</span><a href="#local-6989586621682430493"><span class="hs-identifier hs-var">asset</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tx
</span><a href="#local-6989586621682430494"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-1057"></span><span>    </span><span class="annot"><span class="annottext">Tx -&gt; (Tx -&gt; Tx) -&gt; Tx
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(([TxOut] -&gt; Identity [TxOut]) -&gt; Tx -&gt; Identity Tx)
-&gt; ([TxOut] -&gt; [TxOut]) -&gt; Tx -&gt; Tx
forall a b s t.
((a -&gt; Identity b) -&gt; s -&gt; Identity t) -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><a href="../../../../generic-lens/html/src"><span class="hs-identifier hs-var">over</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;outputs&quot; (([TxOut] -&gt; Identity [TxOut]) -&gt; Tx -&gt; Identity Tx)
([TxOut] -&gt; Identity [TxOut]) -&gt; Tx -&gt; Identity Tx
</span><a href="#local-6989586621682430492"><span class="hs-var">#outputs</span></a></span><span>
</span><span id="line-1058"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TxOut -&gt; TxOut) -&gt; [TxOut] -&gt; [TxOut]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxOut -&gt; AssetId -&gt; TxOut
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutRemoveAssetId"><span class="hs-operator hs-var">`txOutRemoveAssetId`</span></a></span><span> </span><span class="annot"><span class="annottext">AssetId
</span><a href="#local-6989586621682430493"><span class="hs-identifier hs-var">asset</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1059"></span><span>    </span><span class="annot"><span class="annottext">Tx -&gt; (Tx -&gt; Tx) -&gt; Tx
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">((Maybe TxOut -&gt; Identity (Maybe TxOut)) -&gt; Tx -&gt; Identity Tx)
-&gt; (Maybe TxOut -&gt; Maybe TxOut) -&gt; Tx -&gt; Tx
forall a b s t.
((a -&gt; Identity b) -&gt; s -&gt; Identity t) -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><a href="../../../../generic-lens/html/src"><span class="hs-identifier hs-var">over</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;collateralOutput&quot;
  ((Maybe TxOut -&gt; Identity (Maybe TxOut)) -&gt; Tx -&gt; Identity Tx)
(Maybe TxOut -&gt; Identity (Maybe TxOut)) -&gt; Tx -&gt; Identity Tx
</span><a href="#local-6989586621682430491"><span class="hs-var">#collateralOutput</span></a></span><span>
</span><span id="line-1060"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TxOut -&gt; TxOut) -&gt; Maybe TxOut -&gt; Maybe TxOut
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxOut -&gt; AssetId -&gt; TxOut
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutRemoveAssetId"><span class="hs-operator hs-var">`txOutRemoveAssetId`</span></a></span><span> </span><span class="annot"><span class="annottext">AssetId
</span><a href="#local-6989586621682430493"><span class="hs-identifier hs-var">asset</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1061"></span><span>
</span><span id="line-1062"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutMapAssetIds"><span class="hs-identifier hs-type">txOutMapAssetIds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenMap.html#AssetId"><span class="hs-identifier hs-type">AssetId</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenMap.html#AssetId"><span class="hs-identifier hs-type">AssetId</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span>
</span><span id="line-1063"></span><span id="txOutMapAssetIds"><span class="annot"><span class="annottext">txOutMapAssetIds :: (AssetId -&gt; AssetId) -&gt; TxOut -&gt; TxOut
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutMapAssetIds"><span class="hs-identifier hs-var hs-var">txOutMapAssetIds</span></a></span></span><span> </span><span id="local-6989586621682430490"><span class="annot"><span class="annottext">AssetId -&gt; AssetId
</span><a href="#local-6989586621682430490"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span> </span><span id="local-6989586621682430489"><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621682430489"><span class="hs-identifier hs-var">address</span></a></span></span><span> </span><span id="local-6989586621682430488"><span class="annot"><span class="annottext">TokenBundle
</span><a href="#local-6989586621682430488"><span class="hs-identifier hs-var">bundle</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1064"></span><span>    </span><span class="annot"><span class="annottext">Address -&gt; TokenBundle -&gt; TxOut
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier hs-var">TxOut</span></a></span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621682430489"><span class="hs-identifier hs-var">address</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(AssetId -&gt; AssetId) -&gt; TokenBundle -&gt; TokenBundle
</span><a href="Cardano.Wallet.Primitive.Types.TokenBundle.html#mapAssetIds"><span class="hs-identifier hs-var">TokenBundle.mapAssetIds</span></a></span><span> </span><span class="annot"><span class="annottext">AssetId -&gt; AssetId
</span><a href="#local-6989586621682430490"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">TokenBundle
</span><a href="#local-6989586621682430488"><span class="hs-identifier hs-var">bundle</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1065"></span><span>
</span><span id="line-1066"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutRemoveAssetId"><span class="hs-identifier hs-type">txOutRemoveAssetId</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.TokenMap.html#AssetId"><span class="hs-identifier hs-type">AssetId</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span>
</span><span id="line-1067"></span><span id="txOutRemoveAssetId"><span class="annot"><span class="annottext">txOutRemoveAssetId :: TxOut -&gt; AssetId -&gt; TxOut
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutRemoveAssetId"><span class="hs-identifier hs-var hs-var">txOutRemoveAssetId</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a></span><span> </span><span id="local-6989586621682430486"><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621682430486"><span class="hs-identifier hs-var">address</span></a></span></span><span> </span><span id="local-6989586621682430485"><span class="annot"><span class="annottext">TokenBundle
</span><a href="#local-6989586621682430485"><span class="hs-identifier hs-var">bundle</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682430484"><span class="annot"><span class="annottext">AssetId
</span><a href="#local-6989586621682430484"><span class="hs-identifier hs-var">asset</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1068"></span><span>    </span><span class="annot"><span class="annottext">Address -&gt; TokenBundle -&gt; TxOut
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#TxOut"><span class="hs-identifier hs-var">TxOut</span></a></span><span> </span><span class="annot"><span class="annottext">Address
</span><a href="#local-6989586621682430486"><span class="hs-identifier hs-var">address</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TokenBundle -&gt; AssetId -&gt; TokenQuantity -&gt; TokenBundle
</span><a href="Cardano.Wallet.Primitive.Types.TokenBundle.html#setQuantity"><span class="hs-identifier hs-var">TokenBundle.setQuantity</span></a></span><span> </span><span class="annot"><span class="annottext">TokenBundle
</span><a href="#local-6989586621682430485"><span class="hs-identifier hs-var">bundle</span></a></span><span> </span><span class="annot"><span class="annottext">AssetId
</span><a href="#local-6989586621682430484"><span class="hs-identifier hs-var">asset</span></a></span><span> </span><span class="annot"><span class="annottext">TokenQuantity
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1069"></span><span>
</span><span id="line-1070"></span><span class="hs-comment">{-------------------------------------------------------------------------------
                      Internal functions for unit testing
-------------------------------------------------------------------------------}</span><span>
</span><span id="line-1073"></span><span>
</span><span id="line-1074"></span><span class="hs-comment">-- | Only use this for tests.</span><span>
</span><span id="line-1075"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#unsafeSealedTxFromBytes"><span class="hs-identifier hs-type">unsafeSealedTxFromBytes</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-type">SealedTx</span></a></span><span>
</span><span id="line-1076"></span><span id="unsafeSealedTxFromBytes"><span class="annot"><span class="annottext">unsafeSealedTxFromBytes :: ByteString -&gt; SealedTx
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#unsafeSealedTxFromBytes"><span class="hs-identifier hs-var hs-var">unsafeSealedTxFromBytes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DecoderError -&gt; SealedTx)
-&gt; (SealedTx -&gt; SealedTx)
-&gt; Either DecoderError SealedTx
-&gt; SealedTx
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Builder -&gt; SealedTx
forall a. HasCallStack =&gt; Builder -&gt; a
</span><a href="Cardano.Wallet.Util.html#internalError"><span class="hs-identifier hs-var">internalError</span></a></span><span> </span><span class="annot"><span class="annottext">(Builder -&gt; SealedTx)
-&gt; (DecoderError -&gt; Builder) -&gt; DecoderError -&gt; SealedTx
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">DecoderError -&gt; Builder
forall b a. (FromBuilder b, Show a) =&gt; a -&gt; b
</span><a href="#local-6989586621682430482"><span class="hs-identifier hs-var">errMsg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SealedTx -&gt; SealedTx
forall a. a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">id</span></a></span><span> </span><span class="annot"><span class="annottext">(Either DecoderError SealedTx -&gt; SealedTx)
-&gt; (ByteString -&gt; Either DecoderError SealedTx)
-&gt; ByteString
-&gt; SealedTx
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either DecoderError SealedTx
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#sealedTxFromBytes"><span class="hs-identifier hs-var">sealedTxFromBytes</span></a></span><span>
</span><span id="line-1077"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1078"></span><span>    </span><span id="local-6989586621682430482"><span class="annot"><span class="annottext">errMsg :: a -&gt; b
</span><a href="#local-6989586621682430482"><span class="hs-identifier hs-var hs-var">errMsg</span></a></span></span><span> </span><span id="local-6989586621682430481"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682430481"><span class="hs-identifier hs-var">reason</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Builder
</span><span class="hs-string">&quot;unsafeSealedTxFromBytes: &quot;</span></span><span class="annot"><span class="annottext">Builder -&gt; Builder -&gt; b
forall b. FromBuilder b =&gt; Builder -&gt; Builder -&gt; b
</span><a href="../../../../fmt/html/src"><span class="hs-operator hs-var">+||</span></a></span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682430481"><span class="hs-identifier hs-var">reason</span></a></span><span class="annot"><span class="annottext">a -&gt; Builder -&gt; Builder
forall a b. (Show a, FromBuilder b) =&gt; a -&gt; Builder -&gt; b
</span><a href="../../../../fmt/html/src"><span class="hs-operator hs-var">||+</span></a></span><span class="annot"><span class="annottext">Builder
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-1079"></span><span>
</span><span id="line-1080"></span><span class="hs-comment">-- | Construct a 'SealedTx' from a string which need not be a well-formed</span><span>
</span><span id="line-1081"></span><span class="hs-comment">-- serialised Cardano transaction.</span><span>
</span><span id="line-1082"></span><span class="hs-comment">--</span><span>
</span><span id="line-1083"></span><span class="hs-comment">-- Be careful using the 'SealedTx', because any attempt to evaluate its</span><span>
</span><span id="line-1084"></span><span class="hs-comment">-- 'cardanoTx' field will crash.</span><span>
</span><span id="line-1085"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#mockSealedTx"><span class="hs-identifier hs-type">mockSealedTx</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-type">SealedTx</span></a></span><span>
</span><span id="line-1086"></span><span id="mockSealedTx"><span class="annot"><span class="annottext">mockSealedTx :: ByteString -&gt; SealedTx
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#mockSealedTx"><span class="hs-identifier hs-var hs-var">mockSealedTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; InAnyCardanoEra Tx -&gt; ByteString -&gt; SealedTx
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#SealedTx"><span class="hs-identifier hs-var">SealedTx</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-1087"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Builder -&gt; InAnyCardanoEra Tx
forall a. HasCallStack =&gt; Builder -&gt; a
</span><a href="Cardano.Wallet.Util.html#internalError"><span class="hs-identifier hs-var">internalError</span></a></span><span> </span><span class="annot"><span class="annottext">Builder
</span><span class="hs-string">&quot;mockSealedTx: attempted to decode gibberish&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1088"></span><span>
</span><span id="line-1089"></span><span class="hs-comment">{-------------------------------------------------------------------------------
                          Checks
-------------------------------------------------------------------------------}</span><span>
</span><span id="line-1092"></span><span>
</span><span id="line-1093"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#coinIsValidForTxOut"><span class="hs-identifier hs-type">coinIsValidForTxOut</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-1094"></span><span id="coinIsValidForTxOut"><span class="annot"><span class="annottext">coinIsValidForTxOut :: Coin -&gt; Bool
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#coinIsValidForTxOut"><span class="hs-identifier hs-var hs-var">coinIsValidForTxOut</span></a></span></span><span> </span><span id="local-6989586621682430480"><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621682430480"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">(&amp;&amp;)</span></a></span><span>
</span><span id="line-1095"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621682430480"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Coin -&gt; Coin -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Coin
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutMinCoin"><span class="hs-identifier hs-var">txOutMinCoin</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1096"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621682430480"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Coin -&gt; Coin -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&lt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Coin
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutMaxCoin"><span class="hs-identifier hs-var">txOutMaxCoin</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1097"></span><span>
</span><span id="line-1098"></span><span class="hs-comment">{-------------------------------------------------------------------------------
                          Conversions (Unsafe)
-------------------------------------------------------------------------------}</span><span>
</span><span id="line-1101"></span><span>
</span><span id="line-1102"></span><span class="hs-comment">-- | Converts the given 'Coin' value to a value that can be included in a</span><span>
</span><span id="line-1103"></span><span class="hs-comment">--   transaction output.</span><span>
</span><span id="line-1104"></span><span class="hs-comment">--</span><span>
</span><span id="line-1105"></span><span class="hs-comment">-- Callers of this function must take responsibility for checking that the</span><span>
</span><span id="line-1106"></span><span class="hs-comment">-- given value is:</span><span>
</span><span id="line-1107"></span><span class="hs-comment">--</span><span>
</span><span id="line-1108"></span><span class="hs-comment">--   - not smaller than 'txOutMinCoin'</span><span>
</span><span id="line-1109"></span><span class="hs-comment">--   - not greater than 'txOutMaxCoin'</span><span>
</span><span id="line-1110"></span><span class="hs-comment">--</span><span>
</span><span id="line-1111"></span><span class="hs-comment">-- This function throws a run-time error if the pre-condition is violated.</span><span>
</span><span id="line-1112"></span><span class="hs-comment">--</span><span>
</span><span id="line-1113"></span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Tx.html#unsafeCoinToTxOutCoinValue"><span class="hs-identifier hs-type">unsafeCoinToTxOutCoinValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.Coin.html#Coin"><span class="hs-identifier hs-type">Coin</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Word64</span></a></span><span>
</span><span id="line-1114"></span><span id="unsafeCoinToTxOutCoinValue"><span class="annot"><span class="annottext">unsafeCoinToTxOutCoinValue :: Coin -&gt; Word64
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#unsafeCoinToTxOutCoinValue"><span class="hs-identifier hs-var hs-var">unsafeCoinToTxOutCoinValue</span></a></span></span><span> </span><span id="local-6989586621682430479"><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621682430479"><span class="hs-identifier hs-var">c</span></a></span></span><span>
</span><span id="line-1115"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621682430479"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Coin -&gt; Coin -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">Coin
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutMinCoin"><span class="hs-identifier hs-var">txOutMinCoin</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1116"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; Word64
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Word64) -&gt; String -&gt; Word64
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">unwords</span></a></span><span>
</span><span id="line-1117"></span><span>            </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;unsafeCoinToTxOutCoinValue: coin value&quot;</span></span><span>
</span><span id="line-1118"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Coin -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621682430479"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1119"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;too small for transaction output&quot;</span></span><span>
</span><span id="line-1120"></span><span>            </span><span class="hs-special">]</span><span>
</span><span id="line-1121"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621682430479"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Coin -&gt; Coin -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Coin
</span><a href="Cardano.Wallet.Primitive.Types.Tx.html#txOutMaxCoin"><span class="hs-identifier hs-var">txOutMaxCoin</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1122"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; Word64
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Word64) -&gt; String -&gt; Word64
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">unwords</span></a></span><span>
</span><span id="line-1123"></span><span>            </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;unsafeCoinToTxOutCoinValue: coin value&quot;</span></span><span>
</span><span id="line-1124"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Coin -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621682430479"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1125"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;too large for transaction output&quot;</span></span><span>
</span><span id="line-1126"></span><span>            </span><span class="hs-special">]</span><span>
</span><span id="line-1127"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1128"></span><span>        </span><span class="annot"><span class="annottext">HasCallStack =&gt; Coin -&gt; Word64
Coin -&gt; Word64
</span><a href="Cardano.Wallet.Primitive.Types.Coin.html#unsafeToWord64"><span class="hs-identifier hs-var">Coin.unsafeToWord64</span></a></span><span> </span><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621682430479"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1129"></span></pre></body></html>