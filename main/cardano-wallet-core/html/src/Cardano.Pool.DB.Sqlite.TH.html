<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DerivingStrategies #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE GADTs #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE GeneralizedNewtypeDeriving #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE QuasiQuotes #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE StandaloneDeriving #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE TemplateHaskell #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-13"></span><span>
</span><span id="line-14"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-15"></span><span class="hs-comment">-- Copyright: &#169; 2018-2020 IOHK</span><span>
</span><span id="line-16"></span><span class="hs-comment">-- License: Apache-2.0</span><span>
</span><span id="line-17"></span><span class="hs-comment">--</span><span>
</span><span id="line-18"></span><span class="hs-comment">-- Auto-generated Sqlite &amp; Persistent machinery via Template-Haskell. This has</span><span>
</span><span id="line-19"></span><span class="hs-comment">-- been moved into a separate file so that we can treat it slightly differently</span><span>
</span><span id="line-20"></span><span class="hs-comment">-- when computing code-coverage.</span><span>
</span><span id="line-21"></span><span>
</span><span id="line-22"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Cardano.Pool.DB.Sqlite.TH</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Prelude</span></a></span><span>
</span><span id="line-25"></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier">Cardano.Slotting.Slot</span></a></span><span>
</span><span id="line-27"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../cardano-slotting/html/src"><span class="hs-identifier">SlotNo</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Wallet.DB.Sqlite.Types.html"><span class="hs-identifier">Cardano.Wallet.DB.Sqlite.Types</span></a></span><span>
</span><span id="line-29"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Cardano.Wallet.DB.Sqlite.Types.html#sqlSettings%27"><span class="hs-identifier">sqlSettings'</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Data.Text</span></a></span><span>
</span><span id="line-31"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Text</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier">Data.Time.Clock</span></a></span><span>
</span><span id="line-33"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier">UTCTime</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier">Data.Time.Clock.POSIX</span></a></span><span>
</span><span id="line-35"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier">POSIXTime</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Word</span></a></span><span>
</span><span id="line-37"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Word32</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Word64</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Word8</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../persistent/html/src"><span class="hs-identifier">Database.Persist.TH</span></a></span><span>
</span><span id="line-39"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../persistent/html/src"><span class="hs-identifier">mkMigrate</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../persistent/html/src"><span class="hs-identifier">mkPersist</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../persistent/html/src"><span class="hs-identifier">persistLowerCase</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../persistent/html/src"><span class="hs-identifier">share</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">GHC.Generics</span></a></span><span>
</span><span id="line-41"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Generic</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../random/html/src"><span class="hs-identifier">System.Random</span></a></span><span>
</span><span id="line-43"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../random/html/src"><span class="hs-identifier">StdGen</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Cardano.Wallet.DB.Sqlite.Types.html"><span class="hs-identifier">Cardano.Wallet.DB.Sqlite.Types</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">W</span></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Cardano.Wallet.Primitive.Types.html"><span class="hs-identifier">Cardano.Wallet.Primitive.Types</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">W</span></span><span>
</span><span id="line-47"></span><span>
</span><span id="line-48"></span><span id="migrateAll"><span id="entityDefListFormigrateAll"><span id="fk_registration_pool_id"><span id="LastGCMetadata"><span id="InternalStateId"><span id="unInternalStateKey"><span id="InternalStateKey"><span id="SettingsPoolMetadataSource"><span id="SettingsId"><span id="unSettingsKey"><span id="SettingsKey"><span id="SeedSeed"><span id="ArbitrarySeedId"><span id="unArbitrarySeedKey"><span id="ArbitrarySeedKey"><span id="PoolProductionBlockHeight"><span id="PoolProductionParentHash"><span id="PoolProductionHeaderHash"><span id="PoolProductionSlot"><span id="PoolProductionPoolId"><span id="PoolProductionId"><span id="unPoolProductionKey"><span id="PoolProductionKey"><span id="BlockHeight"><span id="BlockParentHash"><span id="BlockHeaderHash"><span id="BlockSlot"><span id="BlockHeaderId"><span id="unBlockHeaderKey"><span id="BlockHeaderKey"><span id="StakeDistributionStake"><span id="StakeDistributionEpoch"><span id="StakeDistributionPoolId"><span id="StakeDistributionId"><span id="stakeDistributionKeystakeDistributionEpoch"><span id="stakeDistributionKeystakeDistributionPoolId"><span id="StakeDistributionKey"><span id="PoolOwnerIndex"><span id="PoolOwnerOwner"><span id="PoolOwnerSlotInternalIndex"><span id="PoolOwnerSlot"><span id="PoolOwnerPoolId"><span id="PoolOwnerId"><span id="poolOwnerKeypoolOwnerIndex"><span id="poolOwnerKeypoolOwnerOwner"><span id="poolOwnerKeypoolOwnerSlotInternalIndex"><span id="poolOwnerKeypoolOwnerSlot"><span id="poolOwnerKeypoolOwnerPoolId"><span id="PoolOwnerKey"><span id="PoolRegistrationMetadataHash"><span id="PoolRegistrationMetadataUrl"><span id="PoolRegistrationPledge"><span id="PoolRegistrationCost"><span id="PoolRegistrationMarginDenominator"><span id="PoolRegistrationMarginNumerator"><span id="PoolRegistrationSlotInternalIndex"><span id="PoolRegistrationSlot"><span id="PoolRegistrationPoolId"><span id="PoolRegistrationId"><span id="poolRegistrationKeypoolRegistrationSlotInternalIndex"><span id="poolRegistrationKeypoolRegistrationSlot"><span id="poolRegistrationKeypoolRegistrationPoolId"><span id="PoolRegistrationKey"><span id="DelistedPoolId"><span id="PoolDelistmentId"><span id="unPoolDelistmentKey"><span id="PoolDelistmentKey"><span id="PoolRetirementEpoch"><span id="PoolRetirementSlotInternalIndex"><span id="PoolRetirementSlot"><span id="PoolRetirementPoolId"><span id="PoolRetirementId"><span id="poolRetirementKeypoolRetirementSlotInternalIndex"><span id="poolRetirementKeypoolRetirementSlot"><span id="poolRetirementKeypoolRetirementPoolId"><span id="PoolRetirementKey"><span id="PoolMetadataHomepage"><span id="PoolMetadataDescription"><span id="PoolMetadataTicker"><span id="PoolMetadataName"><span id="PoolMetadataHash"><span id="PoolMetadataId"><span id="unPoolMetadataKey"><span id="PoolMetadataKey"><span id="PoolFetchAttemptsRetryCount"><span id="PoolFetchAttemptsRetryAfter"><span id="PoolFetchAttemptsMetadataUrl"><span id="PoolFetchAttemptsMetadataHash"><span id="PoolMetadataFetchAttemptsId"><span id="poolMetadataFetchAttemptsKeypoolFetchAttemptsMetadataUrl"><span id="poolMetadataFetchAttemptsKeypoolFetchAttemptsMetadataHash"><span id="PoolMetadataFetchAttemptsKey"><span id="lastGCMetadata"><span id="InternalState"><span id="InternalStateId"><span id="settingsPoolMetadataSource"><span id="Settings"><span id="SettingsId"><span id="seedSeed"><span id="ArbitrarySeed"><span id="ArbitrarySeedId"><span id="poolProductionBlockHeight"><span id="poolProductionParentHash"><span id="poolProductionHeaderHash"><span id="poolProductionSlot"><span id="poolProductionPoolId"><span id="PoolProduction"><span id="PoolProductionId"><span id="blockHeight"><span id="blockParentHash"><span id="blockHeaderHash"><span id="blockSlot"><span id="BlockHeader"><span id="BlockHeaderId"><span id="stakeDistributionStake"><span id="stakeDistributionEpoch"><span id="stakeDistributionPoolId"><span id="StakeDistribution"><span id="StakeDistributionId"><span id="poolOwnerIndex"><span id="poolOwnerOwner"><span id="poolOwnerSlotInternalIndex"><span id="poolOwnerSlot"><span id="poolOwnerPoolId"><span id="PoolOwner"><span id="PoolOwnerId"><span id="poolRegistrationMetadataHash"><span id="poolRegistrationMetadataUrl"><span id="poolRegistrationPledge"><span id="poolRegistrationCost"><span id="poolRegistrationMarginDenominator"><span id="poolRegistrationMarginNumerator"><span id="poolRegistrationSlotInternalIndex"><span id="poolRegistrationSlot"><span id="poolRegistrationPoolId"><span id="PoolRegistration"><span id="PoolRegistrationId"><span id="delistedPoolId"><span id="PoolDelistment"><span id="PoolDelistmentId"><span id="poolRetirementEpoch"><span id="poolRetirementSlotInternalIndex"><span id="poolRetirementSlot"><span id="poolRetirementPoolId"><span id="PoolRetirement"><span id="PoolRetirementId"><span id="poolMetadataHomepage"><span id="poolMetadataDescription"><span id="poolMetadataTicker"><span id="poolMetadataName"><span id="poolMetadataHash"><span id="PoolMetadata"><span id="PoolMetadataId"><span id="poolFetchAttemptsRetryCount"><span id="poolFetchAttemptsRetryAfter"><span id="poolFetchAttemptsMetadataUrl"><span id="poolFetchAttemptsMetadataHash"><span id="PoolMetadataFetchAttempts"><span id="PoolMetadataFetchAttemptsId"><span id="local-6989586621682451054"><span id="local-6989586621682451056"><span id="local-6989586621682451058"><span id="local-6989586621682451061"><span id="local-6989586621682451063"><span id="local-6989586621682451068"><span id="local-6989586621682451071"><span id="local-6989586621682451074"><span id="local-6989586621682451076"><span id="local-6989586621682451078"><span id="local-6989586621682451080"><span id="local-6989586621682451082"><span id="local-6989586621682451084"><span id="local-6989586621682451086"><span id="local-6989586621682451088"><span id="local-6989586621682451090"><span id="local-6989586621682451092"><span id="local-6989586621682451094"><span id="local-6989586621682451096"><span id="local-6989586621682451098"><span id="local-6989586621682451100"><span id="local-6989586621682451109"><span id="local-6989586621682451111"><span id="local-6989586621682451113"><span id="local-6989586621682451116"><span id="local-6989586621682451118"><span id="local-6989586621682451123"><span id="local-6989586621682451126"><span id="local-6989586621682451129"><span id="local-6989586621682451131"><span id="local-6989586621682451133"><span id="local-6989586621682451135"><span id="local-6989586621682451137"><span id="local-6989586621682451139"><span id="local-6989586621682451141"><span id="local-6989586621682451143"><span id="local-6989586621682451145"><span id="local-6989586621682451147"><span id="local-6989586621682451149"><span id="local-6989586621682451151"><span id="local-6989586621682451153"><span id="local-6989586621682451155"><span id="local-6989586621682451164"><span id="local-6989586621682451166"><span id="local-6989586621682451168"><span id="local-6989586621682451171"><span id="local-6989586621682451173"><span id="local-6989586621682451178"><span id="local-6989586621682451181"><span id="local-6989586621682451184"><span id="local-6989586621682451186"><span id="local-6989586621682451188"><span id="local-6989586621682451190"><span id="local-6989586621682451192"><span id="local-6989586621682451194"><span id="local-6989586621682451196"><span id="local-6989586621682451198"><span id="local-6989586621682451200"><span id="local-6989586621682451202"><span id="local-6989586621682451204"><span id="local-6989586621682451206"><span id="local-6989586621682451208"><span id="local-6989586621682451210"><span id="local-6989586621682451219"><span id="local-6989586621682451221"><span id="local-6989586621682451223"><span id="local-6989586621682451226"><span id="local-6989586621682451229"><span id="local-6989586621682451232"><span id="local-6989586621682451234"><span id="local-6989586621682451236"><span id="local-6989586621682451238"><span id="local-6989586621682451240"><span id="local-6989586621682451242"><span id="local-6989586621682451244"><span id="local-6989586621682451246"><span id="local-6989586621682451248"><span id="local-6989586621682451250"><span id="local-6989586621682451252"><span id="local-6989586621682451254"><span id="local-6989586621682451256"><span id="local-6989586621682451258"><span id="local-6989586621682451260"><span id="local-6989586621682451262"><span id="local-6989586621682451264"><span id="local-6989586621682451273"><span id="local-6989586621682451275"><span id="local-6989586621682451277"><span id="local-6989586621682451280"><span id="local-6989586621682451283"><span id="local-6989586621682451286"><span id="local-6989586621682451288"><span id="local-6989586621682451290"><span id="local-6989586621682451292"><span id="local-6989586621682451294"><span id="local-6989586621682451296"><span id="local-6989586621682451298"><span id="local-6989586621682451300"><span id="local-6989586621682451302"><span id="local-6989586621682451304"><span id="local-6989586621682451306"><span id="local-6989586621682451308"><span id="local-6989586621682451310"><span id="local-6989586621682451312"><span id="local-6989586621682451314"><span id="local-6989586621682451316"><span id="local-6989586621682451325"><span id="local-6989586621682451327"><span id="local-6989586621682451329"><span id="local-6989586621682451332"><span id="local-6989586621682451334"><span id="local-6989586621682451336"><span id="local-6989586621682451339"><span id="local-6989586621682451341"><span id="local-6989586621682451343"><span id="local-6989586621682451345"><span id="local-6989586621682451347"><span id="local-6989586621682451349"><span id="local-6989586621682451351"><span id="local-6989586621682451354"><span id="local-6989586621682451357"><span id="local-6989586621682451359"><span id="local-6989586621682451361"><span id="local-6989586621682451363"><span id="local-6989586621682451365"><span id="local-6989586621682451367"><span id="local-6989586621682451369"><span id="local-6989586621682451371"><span id="local-6989586621682451373"><span id="local-6989586621682451375"><span id="local-6989586621682451377"><span id="local-6989586621682451379"><span id="local-6989586621682451381"><span id="local-6989586621682451383"><span id="local-6989586621682451385"><span id="local-6989586621682451394"><span id="local-6989586621682451396"><span id="local-6989586621682451398"><span id="local-6989586621682451401"><span id="local-6989586621682451403"><span id="local-6989586621682451405"><span id="local-6989586621682451408"><span id="local-6989586621682451410"><span id="local-6989586621682451412"><span id="local-6989586621682451414"><span id="local-6989586621682451416"><span id="local-6989586621682451418"><span id="local-6989586621682451420"><span id="local-6989586621682451423"><span id="local-6989586621682451426"><span id="local-6989586621682451428"><span id="local-6989586621682451430"><span id="local-6989586621682451432"><span id="local-6989586621682451434"><span id="local-6989586621682451436"><span id="local-6989586621682451438"><span id="local-6989586621682451440"><span id="local-6989586621682451442"><span id="local-6989586621682451444"><span id="local-6989586621682451446"><span id="local-6989586621682451448"><span id="local-6989586621682451450"><span id="local-6989586621682451452"><span id="local-6989586621682451454"><span id="local-6989586621682451456"><span id="local-6989586621682451458"><span id="local-6989586621682451467"><span id="local-6989586621682451469"><span id="local-6989586621682451471"><span id="local-6989586621682451474"><span id="local-6989586621682451476"><span id="local-6989586621682451478"><span id="local-6989586621682451481"><span id="local-6989586621682451483"><span id="local-6989586621682451485"><span id="local-6989586621682451487"><span id="local-6989586621682451489"><span id="local-6989586621682451491"><span id="local-6989586621682451493"><span id="local-6989586621682451496"><span id="local-6989586621682451499"><span id="local-6989586621682451501"><span id="local-6989586621682451503"><span id="local-6989586621682451505"><span id="local-6989586621682451507"><span id="local-6989586621682451509"><span id="local-6989586621682451511"><span id="local-6989586621682451513"><span id="local-6989586621682451515"><span id="local-6989586621682451517"><span id="local-6989586621682451519"><span id="local-6989586621682451521"><span id="local-6989586621682451523"><span id="local-6989586621682451525"><span id="local-6989586621682451527"><span id="local-6989586621682451529"><span id="local-6989586621682451531"><span id="local-6989586621682451533"><span id="local-6989586621682451535"><span id="local-6989586621682451537"><span id="local-6989586621682451539"><span id="local-6989586621682451548"><span id="local-6989586621682451550"><span id="local-6989586621682451552"><span id="local-6989586621682451555"><span id="local-6989586621682451558"><span id="local-6989586621682451561"><span id="local-6989586621682451563"><span id="local-6989586621682451565"><span id="local-6989586621682451567"><span id="local-6989586621682451569"><span id="local-6989586621682451571"><span id="local-6989586621682451573"><span id="local-6989586621682451575"><span id="local-6989586621682451577"><span id="local-6989586621682451579"><span id="local-6989586621682451581"><span id="local-6989586621682451583"><span id="local-6989586621682451585"><span id="local-6989586621682451594"><span id="local-6989586621682451596"><span id="local-6989586621682451598"><span id="local-6989586621682451601"><span id="local-6989586621682451603"><span id="local-6989586621682451605"><span id="local-6989586621682451608"><span id="local-6989586621682451610"><span id="local-6989586621682451612"><span id="local-6989586621682451614"><span id="local-6989586621682451616"><span id="local-6989586621682451618"><span id="local-6989586621682451620"><span id="local-6989586621682451623"><span id="local-6989586621682451626"><span id="local-6989586621682451628"><span id="local-6989586621682451630"><span id="local-6989586621682451632"><span id="local-6989586621682451634"><span id="local-6989586621682451636"><span id="local-6989586621682451638"><span id="local-6989586621682451640"><span id="local-6989586621682451642"><span id="local-6989586621682451644"><span id="local-6989586621682451646"><span id="local-6989586621682451648"><span id="local-6989586621682451650"><span id="local-6989586621682451652"><span id="local-6989586621682451654"><span id="local-6989586621682451656"><span id="local-6989586621682451665"><span id="local-6989586621682451667"><span id="local-6989586621682451669"><span id="local-6989586621682451672"><span id="local-6989586621682451675"><span id="local-6989586621682451678"><span id="local-6989586621682451680"><span id="local-6989586621682451682"><span id="local-6989586621682451684"><span id="local-6989586621682451686"><span id="local-6989586621682451688"><span id="local-6989586621682451690"><span id="local-6989586621682451692"><span id="local-6989586621682451694"><span id="local-6989586621682451696"><span id="local-6989586621682451698"><span id="local-6989586621682451700"><span id="local-6989586621682451702"><span id="local-6989586621682451704"><span id="local-6989586621682451706"><span id="local-6989586621682451708"><span id="local-6989586621682451710"><span id="local-6989586621682451719"><span id="local-6989586621682451721"><span id="local-6989586621682451723"><span id="local-6989586621682451726"><span id="local-6989586621682451728"><span id="local-6989586621682451730"><span id="local-6989586621682451733"><span id="local-6989586621682451735"><span id="local-6989586621682451737"><span id="local-6989586621682451739"><span id="local-6989586621682451741"><span id="local-6989586621682451743"><span id="local-6989586621682451745"><span id="local-6989586621682451748"><span id="local-6989586621682451751"><span id="local-6989586621682451753"><span id="local-6989586621682451755"><span id="local-6989586621682451757"><span id="local-6989586621682451759"><span id="local-6989586621682451761"><span id="local-6989586621682451763"><span id="local-6989586621682451765"><span id="local-6989586621682451767"><span id="local-6989586621682451769"><span id="local-6989586621682451771"><span id="local-6989586621682451773"><span id="local-6989586621682451775"><span id="local-6989586621682451777"><span id="local-6989586621682451779"><span id="local-6989586621682451781"><span id="local-6989586621682451792"><span id="local-6989586621682451794"><span id="local-6989586621682451796"><span id="local-6989586621682451798"><span id="local-6989586621682451800"><span id="local-6989586621682451802"><span id="local-6989586621682451804"><span id="local-6989586621682451806"><span id="local-6989586621682451808"><span id="local-6989586621682451810"><span id="local-6989586621682451813"><span id="local-6989586621682451815"><span id="local-6989586621682451817"><span id="local-6989586621682451819"><span id="local-6989586621682451821"><span id="local-6989586621682451823"><span id="local-6989586621682451825"><span id="local-6989586621682451827"><span id="local-6989586621682451829"><span id="local-6989586621682451831"><span id="local-6989586621682451833"><span id="local-6989586621682451835"><span id="local-6989586621682451837"><span id="local-6989586621682451839"><span id="local-6989586621682451841"><span id="local-6989586621682451843"><span id="local-6989586621682451845"><span id="local-6989586621682451847"><span id="local-6989586621682451850"><span id="local-6989586621682451852"><span id="local-6989586621682451854"><span id="local-6989586621682451856"><span id="local-6989586621682451858"><span id="local-6989586621682451860"><span id="local-6989586621682451862"><span id="local-6989586621682451864"><span id="local-6989586621682451866"><span id="local-6989586621682451870"><span id="local-6989586621682451872"><span id="local-6989586621682451874"><span id="local-6989586621682451876"><span id="local-6989586621682451878"><span id="local-6989586621682451880"><span id="local-6989586621682451882"><span id="local-6989586621682451884"><span id="local-6989586621682451886"><span id="local-6989586621682451888"><span id="local-6989586621682451891"><span id="local-6989586621682451893"><span id="local-6989586621682451895"><span id="local-6989586621682451897"><span id="local-6989586621682451899"><span id="local-6989586621682451901"><span id="local-6989586621682451903"><span id="local-6989586621682451905"><span id="local-6989586621682451907"><span id="local-6989586621682451909"><span id="local-6989586621682451911"><span id="local-6989586621682451913"><span id="local-6989586621682451915"><span id="local-6989586621682451917"><span id="local-6989586621682451919"><span id="local-6989586621682451921"><span id="local-6989586621682451923"><span id="local-6989586621682451925"><span id="local-6989586621682451928"><span id="local-6989586621682451930"><span id="local-6989586621682451932"><span id="local-6989586621682451934"><span id="local-6989586621682451936"><span id="local-6989586621682451938"><span id="local-6989586621682451940"><span id="local-6989586621682451942"><span id="local-6989586621682451944"><span id="local-6989586621682451948"><span id="local-6989586621682451950"><span id="local-6989586621682451952"><span id="local-6989586621682451954"><span id="local-6989586621682451956"><span id="local-6989586621682451958"><span id="local-6989586621682451960"><span id="local-6989586621682451962"><span id="local-6989586621682451964"><span id="local-6989586621682451966"><span id="local-6989586621682451969"><span id="local-6989586621682451971"><span id="local-6989586621682451973"><span id="local-6989586621682451975"><span id="local-6989586621682451977"><span id="local-6989586621682451979"><span id="local-6989586621682451981"><span id="local-6989586621682451983"><span id="local-6989586621682451985"><span id="local-6989586621682451987"><span id="local-6989586621682451989"><span id="local-6989586621682451991"><span id="local-6989586621682451993"><span id="local-6989586621682451995"><span id="local-6989586621682451997"><span id="local-6989586621682451999"><span id="local-6989586621682452001"><span id="local-6989586621682452003"><span id="local-6989586621682452006"><span id="local-6989586621682452008"><span id="local-6989586621682452010"><span id="local-6989586621682452012"><span id="local-6989586621682452014"><span id="local-6989586621682452016"><span id="local-6989586621682452018"><span id="local-6989586621682452020"><span id="local-6989586621682452022"><span id="local-6989586621682452026"><span id="local-6989586621682452028"><span id="local-6989586621682452030"><span id="local-6989586621682452032"><span id="local-6989586621682452034"><span id="local-6989586621682452036"><span id="local-6989586621682452038"><span id="local-6989586621682452040"><span id="local-6989586621682452042"><span id="local-6989586621682452044"><span id="local-6989586621682452047"><span id="local-6989586621682452049"><span id="local-6989586621682452051"><span id="local-6989586621682452053"><span id="local-6989586621682452055"><span id="local-6989586621682452057"><span id="local-6989586621682452059"><span id="local-6989586621682452061"><span id="local-6989586621682452063"><span id="local-6989586621682452065"><span id="local-6989586621682452067"><span id="local-6989586621682452069"><span id="local-6989586621682452071"><span id="local-6989586621682452073"><span id="local-6989586621682452075"><span id="local-6989586621682452077"><span id="local-6989586621682452079"><span id="local-6989586621682452081"><span id="local-6989586621682452084"><span id="local-6989586621682452086"><span id="local-6989586621682452088"><span id="local-6989586621682452090"><span id="local-6989586621682452092"><span id="local-6989586621682452094"><span id="local-6989586621682452096"><span id="local-6989586621682452098"><span id="local-6989586621682452100"><span id="local-6989586621682452104"><span id="local-6989586621682452106"><span id="local-6989586621682452108"><span id="local-6989586621682452110"><span id="local-6989586621682452112"><span id="local-6989586621682452114"><span id="local-6989586621682452116"><span id="local-6989586621682452118"><span id="local-6989586621682452120"><span id="local-6989586621682452122"><span id="local-6989586621682452125"><span id="local-6989586621682452127"><span id="local-6989586621682452129"><span id="local-6989586621682452131"><span id="local-6989586621682452133"><span id="local-6989586621682452135"><span id="local-6989586621682452137"><span id="local-6989586621682452139"><span id="local-6989586621682452141"><span id="local-6989586621682452143"><span id="local-6989586621682452145"><span id="local-6989586621682452147"><span id="local-6989586621682452149"><span id="local-6989586621682452151"><span id="local-6989586621682452153"><span id="local-6989586621682452155"><span id="local-6989586621682452157"><span id="local-6989586621682452159"><span id="local-6989586621682452162"><span id="local-6989586621682452164"><span id="local-6989586621682452166"><span id="local-6989586621682452168"><span id="local-6989586621682452170"><span id="local-6989586621682452172"><span id="local-6989586621682452174"><span id="local-6989586621682452176"><span id="local-6989586621682452178"><span id="local-6989586621682452182"><span id="local-6989586621682452184"><span id="local-6989586621682452186"><span id="local-6989586621682452190"><span id="local-6989586621682452192"><span id="local-6989586621682452194"><span id="local-6989586621682452196"><span id="local-6989586621682452198"><span id="local-6989586621682452200"><span id="local-6989586621682452202"><span id="local-6989586621682452205"><span id="local-6989586621682452207"><span id="local-6989586621682452209"><span id="local-6989586621682452211"><span id="local-6989586621682452213"><span id="local-6989586621682452215"><span id="local-6989586621682452217"><span id="local-6989586621682452219"><span id="local-6989586621682452221"><span id="local-6989586621682452225"><span id="local-6989586621682452227"><span id="local-6989586621682452229"><span id="local-6989586621682452233"><span id="local-6989586621682452235"><span id="local-6989586621682452237"><span id="local-6989586621682452239"><span id="local-6989586621682452241"><span id="local-6989586621682452243"><span id="local-6989586621682452245"><span id="local-6989586621682452248"><span id="local-6989586621682452250"><span id="local-6989586621682452252"><span id="local-6989586621682452254"><span id="local-6989586621682452256"><span id="local-6989586621682452258"><span id="local-6989586621682452260"><span id="local-6989586621682452262"><span id="local-6989586621682452264"><span id="local-6989586621682452268"><span id="local-6989586621682452270"><span id="local-6989586621682452272"><span id="local-6989586621682452276"><span id="local-6989586621682452278"><span id="local-6989586621682452280"><span id="local-6989586621682452282"><span id="local-6989586621682452284"><span id="local-6989586621682452286"><span id="local-6989586621682452288"><span id="local-6989586621682452291"><span id="local-6989586621682452293"><span id="local-6989586621682452295"><span id="local-6989586621682452297"><span id="local-6989586621682452299"><span id="local-6989586621682452301"><span id="local-6989586621682452303"><span id="local-6989586621682452305"><span id="local-6989586621682452307"><span id="local-6989586621682452311"><span id="local-6989586621682452313"><span id="local-6989586621682452315"><span id="local-6989586621682452317"><span id="local-6989586621682452319"><span id="local-6989586621682452321"><span id="local-6989586621682452323"><span id="local-6989586621682452325"><span id="local-6989586621682452327"><span id="local-6989586621682452329"><span id="local-6989586621682452332"><span id="local-6989586621682452334"><span id="local-6989586621682452336"><span id="local-6989586621682452338"><span id="local-6989586621682452340"><span id="local-6989586621682452342"><span id="local-6989586621682452344"><span id="local-6989586621682452346"><span id="local-6989586621682452348"><span id="local-6989586621682452350"><span id="local-6989586621682452352"><span id="local-6989586621682452354"><span id="local-6989586621682452356"><span id="local-6989586621682452358"><span id="local-6989586621682452360"><span id="local-6989586621682452362"><span id="local-6989586621682452364"><span id="local-6989586621682452366"><span id="local-6989586621682452369"><span id="local-6989586621682452371"><span id="local-6989586621682452373"><span id="local-6989586621682452375"><span id="local-6989586621682452377"><span id="local-6989586621682452379"><span id="local-6989586621682452381"><span id="local-6989586621682452383"><span id="local-6989586621682452385"><span id="local-6989586621682452389"><span id="local-6989586621682452391"><span id="local-6989586621682452393"><span id="local-6989586621682452397"><span id="local-6989586621682452399"><span id="local-6989586621682452401"><span id="local-6989586621682452403"><span id="local-6989586621682452405"><span id="local-6989586621682452407"><span id="local-6989586621682452409"><span id="local-6989586621682452412"><span id="local-6989586621682452414"><span id="local-6989586621682452416"><span id="local-6989586621682452418"><span id="local-6989586621682452420"><span id="local-6989586621682452422"><span id="local-6989586621682452424"><span id="local-6989586621682452426"><span id="local-6989586621682452428"><span id="local-6989586621682452432"><span id="local-6989586621682452434"><span id="local-6989586621682452436"><span id="local-6989586621682452438"><span id="local-6989586621682452440"><span id="local-6989586621682452442"><span id="local-6989586621682452444"><span id="local-6989586621682452446"><span id="local-6989586621682452448"><span id="local-6989586621682452450"><span id="local-6989586621682452453"><span id="local-6989586621682452455"><span id="local-6989586621682452457"><span id="local-6989586621682452459"><span id="local-6989586621682452461"><span id="local-6989586621682452463"><span id="local-6989586621682452465"><span id="local-6989586621682452467"><span id="local-6989586621682452469"><span id="local-6989586621682452471"><span id="local-6989586621682452473"><span id="local-6989586621682452475"><span id="local-6989586621682452477"><span id="local-6989586621682452479"><span id="local-6989586621682452481"><span id="local-6989586621682452483"><span id="local-6989586621682452485"><span id="local-6989586621682452487"><span id="local-6989586621682452490"><span id="local-6989586621682452492"><span id="local-6989586621682452494"><span id="local-6989586621682452496"><span id="local-6989586621682452498"><span id="local-6989586621682452500"><span id="local-6989586621682452502"><span id="local-6989586621682452504"><span id="local-6989586621682452506"><span id="local-6989586621682452510"><span id="local-6989586621682452512"><span id="local-6989586621682452514"><span id="local-6989586621682452518"><span id="local-6989586621682452520"><span id="local-6989586621682452522"><span id="local-6989586621682452524"><span id="local-6989586621682452526"><span id="local-6989586621682452528"><span id="local-6989586621682452530"><span id="local-6989586621682452533"><span id="local-6989586621682452535"><span id="local-6989586621682452537"><span id="local-6989586621682452539"><span id="local-6989586621682452541"><span id="local-6989586621682452543"><span id="local-6989586621682452545"><span id="local-6989586621682452547"><span id="local-6989586621682452549"><span id="local-6989586621682452551"><span id="local-6989586621682452552"><span id="local-6989586621682452553"><span id="local-6989586621682452554"><span id="local-6989586621682452555"><span id="local-6989586621682452556"><span id="local-6989586621682452557"><span id="local-6989586621682452558"><span id="local-6989586621682452559"><span id="local-6989586621682452560"><span id="local-6989586621682452561"><span id="local-6989586621682452562"><span id="Unique"><span id="EntityField"><span id="PersistEntityBackend"><span id="InternalState"><span id="Settings"><span id="ArbitrarySeed"><span id="PoolProduction"><span id="BlockHeader"><span id="StakeDistribution"><span id="PoolOwner"><span id="PoolRegistration"><span id="PoolDelistment"><span id="PoolRetirement"><span id="PoolMetadata"><span id="Key"><span id="PoolMetadataFetchAttempts"><span id="local-6989586621682450824"><span id="local-6989586621682450825"><span id="local-6989586621682450826"><span id="local-6989586621682450827"><span id="local-6989586621682450828"><span id="local-6989586621682450829"><span id="local-6989586621682450830"><span id="local-6989586621682450831"><span id="local-6989586621682450832"><span id="local-6989586621682450833"><span id="local-6989586621682450834"><span id="local-6989586621682450835"><span id="local-6989586621682450836"><span id="local-6989586621682450837"><span id="local-6989586621682450838"><span id="local-6989586621682450839"><span id="local-6989586621682450840"><span id="local-6989586621682450841"><span id="local-6989586621682450842"><span id="local-6989586621682450843"><span id="local-6989586621682450844"><span id="local-6989586621682450845"><span id="local-6989586621682450846"><span id="local-6989586621682450847"><span id="local-6989586621682450848"><span id="local-6989586621682450849"><span id="local-6989586621682450850"><span id="local-6989586621682450851"><span id="local-6989586621682450852"><span id="local-6989586621682450853"><span id="local-6989586621682450854"><span id="local-6989586621682450855"><span id="local-6989586621682450856"><span id="local-6989586621682450857"></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-identifier">share</span><span>
</span><span id="line-49"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="hs-identifier">mkPersist</span><span> </span><span class="hs-identifier">sqlSettings'</span><span>
</span><span id="line-50"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">mkMigrate</span><span> </span><span class="hs-string">&quot;migrateAll&quot;</span><span>
</span><span id="line-51"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-52"></span><span>    </span><span class="">[persistLowerCase|

InternalState sql=internal_state
    lastGCMetadata                   POSIXTime Maybe   sql=last_gc_metadata

    deriving Show Generic

Settings sql=settings
    settingsPoolMetadataSource       W.PoolMetadataSource   sql=metadata_source

    deriving Show Generic

-- A unique, but arbitrary, value for this particular device
ArbitrarySeed sql=arbitrary_seed
    seedSeed                    StdGen       sql=seed

    deriving Show Generic

-- The set of stake pools that produced a given block
PoolProduction sql=pool_production
    poolProductionPoolId         W.PoolId     sql=pool_id
    poolProductionSlot           SlotNo       sql=slot
    poolProductionHeaderHash     W.BlockId    sql=header_hash
    poolProductionParentHash     W.BlockId    sql=parent_header_hash
    poolProductionBlockHeight    Word32       sql=block_height

    Primary poolProductionSlot
    deriving Show Generic

-- A block header
BlockHeader sql=block_headers
    blockSlot           SlotNo       sql=slot
    blockHeaderHash     W.BlockId    sql=header_hash
    blockParentHash     W.BlockId    sql=parent_header_hash
    blockHeight         Word32       sql=block_height

    Primary blockHeight
    deriving Show Generic

-- Stake distribution for each stake pool
StakeDistribution sql=stake_distribution
    stakeDistributionPoolId     W.PoolId     sql=pool_id
    stakeDistributionEpoch      Word64       sql=epoch
    stakeDistributionStake      Word64       sql=stake

    Primary stakeDistributionPoolId stakeDistributionEpoch
    deriving Show Generic

-- Mapping from pool id to owner.
PoolOwner sql=pool_owner
    poolOwnerPoolId             W.PoolId            sql=pool_id
    poolOwnerSlot               W.SlotNo            sql=slot
    poolOwnerSlotInternalIndex  Word64              sql=slot_internal_index
    poolOwnerOwner              W.PoolOwner         sql=pool_owner
    poolOwnerIndex              Word8               sql=pool_owner_index

    Primary poolOwnerPoolId poolOwnerSlot poolOwnerSlotInternalIndex poolOwnerOwner poolOwnerIndex
    Foreign PoolRegistration OnDeleteCascade fk_registration_pool_id poolOwnerPoolId poolOwnerSlot poolOwnerSlotInternalIndex
    deriving Show Generic

-- Mapping of registration certificate to pool
PoolRegistration sql=pool_registration
    poolRegistrationPoolId            W.PoolId                      sql=pool_id
    poolRegistrationSlot              W.SlotNo                      sql=slot
    poolRegistrationSlotInternalIndex Word64                        sql=slot_internal_index
    poolRegistrationMarginNumerator   Word64                        sql=margin_numerator
    poolRegistrationMarginDenominator Word64                        sql=margin_denominator
    poolRegistrationCost              Word64                        sql=cost
    poolRegistrationPledge            Word64                        sql=pledge
    poolRegistrationMetadataUrl       W.StakePoolMetadataUrl  Maybe sql=metadata_url
    poolRegistrationMetadataHash      W.StakePoolMetadataHash Maybe sql=metadata_hash

    Primary poolRegistrationPoolId poolRegistrationSlot poolRegistrationSlotInternalIndex
    deriving Show Generic

PoolDelistment sql=pool_delistment
    delistedPoolId                W.PoolId                      sql=pool_id
    Primary delistedPoolId
    deriving Show Generic

-- Mapping of retirement certificates to pools
PoolRetirement sql=pool_retirement
    poolRetirementPoolId              W.PoolId            sql=pool_id
    poolRetirementSlot                W.SlotNo            sql=slot
    poolRetirementSlotInternalIndex   Word64              sql=slot_internal_index
    poolRetirementEpoch               Word64              sql=epoch

    Primary poolRetirementPoolId poolRetirementSlot poolRetirementSlotInternalIndex
    deriving Show Generic

-- Cached metadata after they've been fetched from a remote server.
PoolMetadata sql=pool_metadata
    poolMetadataHash                   W.StakePoolMetadataHash sql=metadata_hash
    poolMetadataName                   Text                    sql=name
    poolMetadataTicker                 W.StakePoolTicker       sql=ticker
    poolMetadataDescription            Text Maybe              sql=description
    poolMetadataHomepage               Text                    sql=homepage

    Primary poolMetadataHash
    deriving Show Generic

PoolMetadataFetchAttempts sql=pool_metadata_fetch_attempts
    poolFetchAttemptsMetadataHash    W.StakePoolMetadataHash sql=metadata_hash
    poolFetchAttemptsMetadataUrl     W.StakePoolMetadataUrl  sql=metadata_url
    poolFetchAttemptsRetryAfter      UTCTime                 sql=retry_after
    poolFetchAttemptsRetryCount      Word8                   sql=retry_count

    Primary poolFetchAttemptsMetadataHash poolFetchAttemptsMetadataUrl
    deriving Show Generic
|]</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-162"></span></pre></body></html>