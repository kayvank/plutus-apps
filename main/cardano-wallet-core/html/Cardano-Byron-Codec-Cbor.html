<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Cardano.Byron.Codec.Cbor</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">cardano-wallet-core-2022.7.1: The Wallet Backend for a Cardano node.</span><ul class="links" id="page-menu"><li><a href="src/Cardano.Byron.Codec.Cbor.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>&#169; 2018-2020 IOHK</td></tr><tr><th>License</th><td>Apache-2.0</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Cardano.Byron.Codec.Cbor</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Decoding</a></li><li><a href="#g:2">Encoding</a></li><li><a href="#g:3">Helpers</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>These are (partial) CBOR decoders for Byron binary types. Note that we
 ignore most of the block's and header's content and only retrieve the pieces
 of information relevant to us, wallet (we do assume a trusted node and
 therefore, we needn't to care about verifying signatures and blocks
 themselves).</p><p>The format described in the decoders below are the one used in the Byron era
 of Cardano and will endure in the first stages of Shelley. They are also used
 by components like the Rust <a href="https://github.com/input-output-hk/cardano-http-bridge">cardano-http-bridge</a>.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:decodeAddressDerivationPath">decodeAddressDerivationPath</a> :: <a href="Cardano-Wallet-Primitive-Passphrase-Types.html#t:Passphrase" title="Cardano.Wallet.Primitive.Passphrase.Types">Passphrase</a> &quot;addr-derivation-payload&quot; -&gt; <a href="../../cardano-data/html/Data-Coders.html#t:Decoder" title="Data.Coders">Decoder</a> s (<a href="../../Cabal/html/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> (<a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:Index" title="Cardano.Wallet.Primitive.AddressDerivation">Index</a> '<a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:WholeDomain" title="Cardano.Wallet.Primitive.AddressDerivation">WholeDomain</a> '<a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:AccountK" title="Cardano.Wallet.Primitive.AddressDerivation">AccountK</a>, <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:Index" title="Cardano.Wallet.Primitive.AddressDerivation">Index</a> '<a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:WholeDomain" title="Cardano.Wallet.Primitive.AddressDerivation">WholeDomain</a> '<a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:AddressK" title="Cardano.Wallet.Primitive.AddressDerivation">AddressK</a>))</li><li class="src short"><a href="#v:decodeAddressPayload">decodeAddressPayload</a> :: <a href="../../cardano-data/html/Data-Coders.html#t:Decoder" title="Data.Coders">Decoder</a> s <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li><li class="src short"><a href="#v:decodeAllAttributes">decodeAllAttributes</a> :: <a href="../../cardano-data/html/Data-Coders.html#t:Decoder" title="Data.Coders">Decoder</a> s [(<a href="../../Cabal/html/Distribution-Compat-Prelude-Internal.html#t:Word8" title="Distribution.Compat.Prelude.Internal">Word8</a>, <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)]</li><li class="src short"><a href="#v:decodeDerivationPathAttr">decodeDerivationPathAttr</a> :: <a href="Cardano-Wallet-Primitive-Passphrase-Types.html#t:Passphrase" title="Cardano.Wallet.Primitive.Passphrase.Types">Passphrase</a> &quot;addr-derivation-payload&quot; -&gt; [(<a href="../../Cabal/html/Distribution-Compat-Prelude-Internal.html#t:Word8" title="Distribution.Compat.Prelude.Internal">Word8</a>, <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)] -&gt; <a href="../../cardano-data/html/Data-Coders.html#t:Decoder" title="Data.Coders">Decoder</a> s (<a href="../../Cabal/html/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> (<a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:Index" title="Cardano.Wallet.Primitive.AddressDerivation">Index</a> '<a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:WholeDomain" title="Cardano.Wallet.Primitive.AddressDerivation">WholeDomain</a> '<a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:AccountK" title="Cardano.Wallet.Primitive.AddressDerivation">AccountK</a>, <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:Index" title="Cardano.Wallet.Primitive.AddressDerivation">Index</a> '<a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:WholeDomain" title="Cardano.Wallet.Primitive.AddressDerivation">WholeDomain</a> '<a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:AddressK" title="Cardano.Wallet.Primitive.AddressDerivation">AddressK</a>))</li><li class="src short"><a href="#v:decodeTx">decodeTx</a> :: <a href="../../cardano-data/html/Data-Coders.html#t:Decoder" title="Data.Coders">Decoder</a> s ([<a href="Cardano-Wallet-Primitive-Types-Tx.html#t:TxIn" title="Cardano.Wallet.Primitive.Types.Tx">TxIn</a>], [<a href="Cardano-Wallet-Primitive-Types-Tx.html#t:TxOut" title="Cardano.Wallet.Primitive.Types.Tx">TxOut</a>])</li><li class="src short"><a href="#v:encodeAddress">encodeAddress</a> :: <a href="../../cardano-addresses/html/Cardano-Address-Derivation.html#t:XPub" title="Cardano.Address.Derivation">XPub</a> -&gt; [<a href="../../cardano-data/html/Data-Coders.html#t:Encoding" title="Data.Coders">Encoding</a>] -&gt; <a href="../../cardano-data/html/Data-Coders.html#t:Encoding" title="Data.Coders">Encoding</a></li><li class="src short"><a href="#v:encodeAttributes">encodeAttributes</a> :: [<a href="../../cardano-data/html/Data-Coders.html#t:Encoding" title="Data.Coders">Encoding</a>] -&gt; <a href="../../cardano-data/html/Data-Coders.html#t:Encoding" title="Data.Coders">Encoding</a></li><li class="src short"><a href="#v:encodeDerivationPathAttr">encodeDerivationPathAttr</a> :: <a href="Cardano-Wallet-Primitive-Passphrase-Types.html#t:Passphrase" title="Cardano.Wallet.Primitive.Passphrase.Types">Passphrase</a> &quot;addr-derivation-payload&quot; -&gt; <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:Index" title="Cardano.Wallet.Primitive.AddressDerivation">Index</a> '<a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:WholeDomain" title="Cardano.Wallet.Primitive.AddressDerivation">WholeDomain</a> '<a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:AccountK" title="Cardano.Wallet.Primitive.AddressDerivation">AccountK</a> -&gt; <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:Index" title="Cardano.Wallet.Primitive.AddressDerivation">Index</a> '<a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:WholeDomain" title="Cardano.Wallet.Primitive.AddressDerivation">WholeDomain</a> '<a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:AddressK" title="Cardano.Wallet.Primitive.AddressDerivation">AddressK</a> -&gt; <a href="../../cardano-data/html/Data-Coders.html#t:Encoding" title="Data.Coders">Encoding</a></li><li class="src short"><a href="#v:encodeProtocolMagicAttr">encodeProtocolMagicAttr</a> :: <a href="Cardano-Wallet-Primitive-Types-ProtocolMagic.html#t:ProtocolMagic" title="Cardano.Wallet.Primitive.Types.ProtocolMagic">ProtocolMagic</a> -&gt; <a href="../../cardano-data/html/Data-Coders.html#t:Encoding" title="Data.Coders">Encoding</a></li><li class="src short"><a href="#v:encodeTx">encodeTx</a> :: ([<a href="Cardano-Wallet-Primitive-Types-Tx.html#t:TxIn" title="Cardano.Wallet.Primitive.Types.Tx">TxIn</a>], [<a href="Cardano-Wallet-Primitive-Types-Tx.html#t:TxOut" title="Cardano.Wallet.Primitive.Types.Tx">TxOut</a>]) -&gt; <a href="../../cardano-data/html/Data-Coders.html#t:Encoding" title="Data.Coders">Encoding</a></li><li class="src short"><a href="#v:deserialiseCbor">deserialiseCbor</a> :: (<span class="keyword">forall</span> s. <a href="../../cardano-data/html/Data-Coders.html#t:Decoder" title="Data.Coders">Decoder</a> s a) -&gt; <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../../Cabal/html/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> a</li><li class="src short"><a href="#v:decodeListIndef">decodeListIndef</a> :: <span class="keyword">forall</span> s a. <a href="../../cardano-data/html/Data-Coders.html#t:Decoder" title="Data.Coders">Decoder</a> s a -&gt; <a href="../../cardano-data/html/Data-Coders.html#t:Decoder" title="Data.Coders">Decoder</a> s [a]</li><li class="src short"><a href="#v:decodeNestedBytes">decodeNestedBytes</a> :: <a href="../../Cabal/html/Distribution-Compat-Prelude-Internal.html#t:MonadFail" title="Distribution.Compat.Prelude.Internal">MonadFail</a> m =&gt; (<span class="keyword">forall</span> s. <a href="../../cardano-data/html/Data-Coders.html#t:Decoder" title="Data.Coders">Decoder</a> s r) -&gt; <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m r</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Decoding</h1></a><div class="top"><p class="src"><a id="v:decodeAddressDerivationPath" class="def">decodeAddressDerivationPath</a> :: <a href="Cardano-Wallet-Primitive-Passphrase-Types.html#t:Passphrase" title="Cardano.Wallet.Primitive.Passphrase.Types">Passphrase</a> &quot;addr-derivation-payload&quot; -&gt; <a href="../../cardano-data/html/Data-Coders.html#t:Decoder" title="Data.Coders">Decoder</a> s (<a href="../../Cabal/html/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> (<a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:Index" title="Cardano.Wallet.Primitive.AddressDerivation">Index</a> '<a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:WholeDomain" title="Cardano.Wallet.Primitive.AddressDerivation">WholeDomain</a> '<a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:AccountK" title="Cardano.Wallet.Primitive.AddressDerivation">AccountK</a>, <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:Index" title="Cardano.Wallet.Primitive.AddressDerivation">Index</a> '<a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:WholeDomain" title="Cardano.Wallet.Primitive.AddressDerivation">WholeDomain</a> '<a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:AddressK" title="Cardano.Wallet.Primitive.AddressDerivation">AddressK</a>)) <a href="src/Cardano.Byron.Codec.Cbor.html#decodeAddressDerivationPath" class="link">Source</a> <a href="#v:decodeAddressDerivationPath" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeAddressPayload" class="def">decodeAddressPayload</a> :: <a href="../../cardano-data/html/Data-Coders.html#t:Decoder" title="Data.Coders">Decoder</a> s <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="src/Cardano.Byron.Codec.Cbor.html#decodeAddressPayload" class="link">Source</a> <a href="#v:decodeAddressPayload" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeAllAttributes" class="def">decodeAllAttributes</a> :: <a href="../../cardano-data/html/Data-Coders.html#t:Decoder" title="Data.Coders">Decoder</a> s [(<a href="../../Cabal/html/Distribution-Compat-Prelude-Internal.html#t:Word8" title="Distribution.Compat.Prelude.Internal">Word8</a>, <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)] <a href="src/Cardano.Byron.Codec.Cbor.html#decodeAllAttributes" class="link">Source</a> <a href="#v:decodeAllAttributes" class="selflink">#</a></p><div class="doc"><p>The attributes are pairs of numeric tags and bytes, where the bytes will be
 CBOR-encoded stuff. This decoder does not enforce &quot;canonicity&quot; of entries.</p></div></div><div class="top"><p class="src"><a id="v:decodeDerivationPathAttr" class="def">decodeDerivationPathAttr</a> :: <a href="Cardano-Wallet-Primitive-Passphrase-Types.html#t:Passphrase" title="Cardano.Wallet.Primitive.Passphrase.Types">Passphrase</a> &quot;addr-derivation-payload&quot; -&gt; [(<a href="../../Cabal/html/Distribution-Compat-Prelude-Internal.html#t:Word8" title="Distribution.Compat.Prelude.Internal">Word8</a>, <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)] -&gt; <a href="../../cardano-data/html/Data-Coders.html#t:Decoder" title="Data.Coders">Decoder</a> s (<a href="../../Cabal/html/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> (<a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:Index" title="Cardano.Wallet.Primitive.AddressDerivation">Index</a> '<a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:WholeDomain" title="Cardano.Wallet.Primitive.AddressDerivation">WholeDomain</a> '<a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:AccountK" title="Cardano.Wallet.Primitive.AddressDerivation">AccountK</a>, <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:Index" title="Cardano.Wallet.Primitive.AddressDerivation">Index</a> '<a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:WholeDomain" title="Cardano.Wallet.Primitive.AddressDerivation">WholeDomain</a> '<a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:AddressK" title="Cardano.Wallet.Primitive.AddressDerivation">AddressK</a>)) <a href="src/Cardano.Byron.Codec.Cbor.html#decodeDerivationPathAttr" class="link">Source</a> <a href="#v:decodeDerivationPathAttr" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeTx" class="def">decodeTx</a> :: <a href="../../cardano-data/html/Data-Coders.html#t:Decoder" title="Data.Coders">Decoder</a> s ([<a href="Cardano-Wallet-Primitive-Types-Tx.html#t:TxIn" title="Cardano.Wallet.Primitive.Types.Tx">TxIn</a>], [<a href="Cardano-Wallet-Primitive-Types-Tx.html#t:TxOut" title="Cardano.Wallet.Primitive.Types.Tx">TxOut</a>]) <a href="src/Cardano.Byron.Codec.Cbor.html#decodeTx" class="link">Source</a> <a href="#v:decodeTx" class="selflink">#</a></p></div><a href="#g:2" id="g:2"><h1>Encoding</h1></a><div class="top"><p class="src"><a id="v:encodeAddress" class="def">encodeAddress</a> :: <a href="../../cardano-addresses/html/Cardano-Address-Derivation.html#t:XPub" title="Cardano.Address.Derivation">XPub</a> -&gt; [<a href="../../cardano-data/html/Data-Coders.html#t:Encoding" title="Data.Coders">Encoding</a>] -&gt; <a href="../../cardano-data/html/Data-Coders.html#t:Encoding" title="Data.Coders">Encoding</a> <a href="src/Cardano.Byron.Codec.Cbor.html#encodeAddress" class="link">Source</a> <a href="#v:encodeAddress" class="selflink">#</a></p><div class="doc"><p>Encode a public key to a corresponding Cardano Address. The encoding of the
 attributes part of an address is left out to the caller; This allows for
 distinguishing between Sequential and Random addresses (the former doesn't
 have any attributes to encode).</p><pre>-- Old / Random Addresses
let encodeAddrAttributes = mempty
     &lt;&gt; CBOR.encodeMapLen 1
     &lt;&gt; CBOR.encodeWord8 1
     &lt;&gt; encodeDerivationPath (hdPassphrase rootXPub) accIx addrIx
let addr = encodeAddress xpub encodeAddrAttributes

-- New / Sequential Addresses
let encodeAddrAttributes = mempty &lt;&gt; CBOR.encodeMapLen 0
let addr = encodeAddress xpub encodeAddrAttributes
</pre><p>Note that we are passing the behavior to encode attributes as a parameter
 here and do not handle multiple cases in <code><a href="Cardano-Byron-Codec-Cbor.html#v:encodeAddress" title="Cardano.Byron.Codec.Cbor">encodeAddress</a></code> itself for multiple
 reasons:</p><ul><li>Inversion of control gives us a nicer implementation overall</li><li>Encoding attributes for Random addresses requires more context than just
   the public key (like the wallet root id and some extra logic for encoding
   passphrases). This is just scheme-specific and is better left out of this
   particular function</li></ul></div></div><div class="top"><p class="src"><a id="v:encodeAttributes" class="def">encodeAttributes</a> :: [<a href="../../cardano-data/html/Data-Coders.html#t:Encoding" title="Data.Coders">Encoding</a>] -&gt; <a href="../../cardano-data/html/Data-Coders.html#t:Encoding" title="Data.Coders">Encoding</a> <a href="src/Cardano.Byron.Codec.Cbor.html#encodeAttributes" class="link">Source</a> <a href="#v:encodeAttributes" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:encodeDerivationPathAttr" class="def">encodeDerivationPathAttr</a> :: <a href="Cardano-Wallet-Primitive-Passphrase-Types.html#t:Passphrase" title="Cardano.Wallet.Primitive.Passphrase.Types">Passphrase</a> &quot;addr-derivation-payload&quot; -&gt; <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:Index" title="Cardano.Wallet.Primitive.AddressDerivation">Index</a> '<a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:WholeDomain" title="Cardano.Wallet.Primitive.AddressDerivation">WholeDomain</a> '<a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:AccountK" title="Cardano.Wallet.Primitive.AddressDerivation">AccountK</a> -&gt; <a href="Cardano-Wallet-Primitive-AddressDerivation.html#t:Index" title="Cardano.Wallet.Primitive.AddressDerivation">Index</a> '<a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:WholeDomain" title="Cardano.Wallet.Primitive.AddressDerivation">WholeDomain</a> '<a href="Cardano-Wallet-Primitive-AddressDerivation.html#v:AddressK" title="Cardano.Wallet.Primitive.AddressDerivation">AddressK</a> -&gt; <a href="../../cardano-data/html/Data-Coders.html#t:Encoding" title="Data.Coders">Encoding</a> <a href="src/Cardano.Byron.Codec.Cbor.html#encodeDerivationPathAttr" class="link">Source</a> <a href="#v:encodeDerivationPathAttr" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:encodeProtocolMagicAttr" class="def">encodeProtocolMagicAttr</a> :: <a href="Cardano-Wallet-Primitive-Types-ProtocolMagic.html#t:ProtocolMagic" title="Cardano.Wallet.Primitive.Types.ProtocolMagic">ProtocolMagic</a> -&gt; <a href="../../cardano-data/html/Data-Coders.html#t:Encoding" title="Data.Coders">Encoding</a> <a href="src/Cardano.Byron.Codec.Cbor.html#encodeProtocolMagicAttr" class="link">Source</a> <a href="#v:encodeProtocolMagicAttr" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:encodeTx" class="def">encodeTx</a> :: ([<a href="Cardano-Wallet-Primitive-Types-Tx.html#t:TxIn" title="Cardano.Wallet.Primitive.Types.Tx">TxIn</a>], [<a href="Cardano-Wallet-Primitive-Types-Tx.html#t:TxOut" title="Cardano.Wallet.Primitive.Types.Tx">TxOut</a>]) -&gt; <a href="../../cardano-data/html/Data-Coders.html#t:Encoding" title="Data.Coders">Encoding</a> <a href="src/Cardano.Byron.Codec.Cbor.html#encodeTx" class="link">Source</a> <a href="#v:encodeTx" class="selflink">#</a></p></div><a href="#g:3" id="g:3"><h1>Helpers</h1></a><div class="top"><p class="src"><a id="v:deserialiseCbor" class="def">deserialiseCbor</a> :: (<span class="keyword">forall</span> s. <a href="../../cardano-data/html/Data-Coders.html#t:Decoder" title="Data.Coders">Decoder</a> s a) -&gt; <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../../Cabal/html/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> a <a href="src/Cardano.Byron.Codec.Cbor.html#deserialiseCbor" class="link">Source</a> <a href="#v:deserialiseCbor" class="selflink">#</a></p><div class="doc"><p>Shortcut for deserialising a strict <code>Bytestring</code> with the given decoder.</p></div></div><div class="top"><p class="src"><a id="v:decodeListIndef" class="def">decodeListIndef</a> :: <span class="keyword">forall</span> s a. <a href="../../cardano-data/html/Data-Coders.html#t:Decoder" title="Data.Coders">Decoder</a> s a -&gt; <a href="../../cardano-data/html/Data-Coders.html#t:Decoder" title="Data.Coders">Decoder</a> s [a] <a href="src/Cardano.Byron.Codec.Cbor.html#decodeListIndef" class="link">Source</a> <a href="#v:decodeListIndef" class="selflink">#</a></p><div class="doc"><p>Decode an arbitrary long list. CBOR introduce a &quot;break&quot; character to
 mark the end of the list, so we simply decode each item until we encounter
 a break character.</p><pre>    myDecoder :: CBOR.Decoder s [MyType]
    myDecoder = decodeListIndef decodeOne
      where
        decodeOne :: CBOR.Decoder s MyType
</pre></div></div><div class="top"><p class="src"><a id="v:decodeNestedBytes" class="def">decodeNestedBytes</a> :: <a href="../../Cabal/html/Distribution-Compat-Prelude-Internal.html#t:MonadFail" title="Distribution.Compat.Prelude.Internal">MonadFail</a> m =&gt; (<span class="keyword">forall</span> s. <a href="../../cardano-data/html/Data-Coders.html#t:Decoder" title="Data.Coders">Decoder</a> s r) -&gt; <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m r <a href="src/Cardano.Byron.Codec.Cbor.html#decodeNestedBytes" class="link">Source</a> <a href="#v:decodeNestedBytes" class="selflink">#</a></p><div class="doc"><p>Byron CBOR encodings often have CBOR nested in CBOR. This helps decoding
 a particular <code><a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></code> that represents a CBOR object.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>