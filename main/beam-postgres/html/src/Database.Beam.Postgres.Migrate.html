<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-orphans -fno-warn-type-defaults #-}</span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-comment">-- | Migrations support for beam-postgres. See &quot;Database.Beam.Migrate&quot; for more</span><span>
</span><span id="line-11"></span><span class="hs-comment">-- information on beam migrations.</span><span>
</span><span id="line-12"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Database.Beam.Postgres.Migrate</span><span>
</span><span id="line-13"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Syntax.html#PgCommandSyntax"><span class="hs-identifier">PgCommandSyntax</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#migrationBackend"><span class="hs-identifier">migrationBackend</span></a></span><span>
</span><span id="line-14"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#postgresDataTypeDeserializers"><span class="hs-identifier">postgresDataTypeDeserializers</span></a></span><span>
</span><span id="line-15"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#pgPredConverter"><span class="hs-identifier">pgPredConverter</span></a></span><span>
</span><span id="line-16"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#getDbConstraints"><span class="hs-identifier">getDbConstraints</span></a></span><span>
</span><span id="line-17"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#getDbConstraintsForSchemas"><span class="hs-identifier">getDbConstraintsForSchemas</span></a></span><span>
</span><span id="line-18"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#pgTypeToHs"><span class="hs-identifier">pgTypeToHs</span></a></span><span>
</span><span id="line-19"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#migrateScript"><span class="hs-identifier">migrateScript</span></a></span><span>
</span><span id="line-20"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#writeMigrationScript"><span class="hs-identifier">writeMigrationScript</span></a></span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#pgDataTypeFromAtt"><span class="hs-identifier">pgDataTypeFromAtt</span></a></span><span>
</span><span id="line-22"></span><span>
</span><span id="line-23"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Postgres data types</span></span><span>
</span><span id="line-24"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#tsquery"><span class="hs-identifier">tsquery</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#tsvector"><span class="hs-identifier">tsvector</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#text"><span class="hs-identifier">text</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#bytea"><span class="hs-identifier">bytea</span></a></span><span>
</span><span id="line-25"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#unboundedArray"><span class="hs-identifier">unboundedArray</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#uuid"><span class="hs-identifier">uuid</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#money"><span class="hs-identifier">money</span></a></span><span>
</span><span id="line-26"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#json"><span class="hs-identifier">json</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#jsonb"><span class="hs-identifier">jsonb</span></a></span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#smallserial"><span class="hs-identifier">smallserial</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#serial"><span class="hs-identifier">serial</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#bigserial"><span class="hs-identifier">bigserial</span></a></span><span>
</span><span id="line-28"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#point"><span class="hs-identifier">point</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#line"><span class="hs-identifier">line</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#lineSegment"><span class="hs-identifier">lineSegment</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#box"><span class="hs-identifier">box</span></a></span><span>
</span><span id="line-29"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-30"></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier">Database.Beam.Backend.SQL</span></a></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier">Database.Beam.Migrate.Actions</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier">defaultActionProvider</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier">Database.Beam.Migrate.Backend</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Tool</span></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier">Database.Beam.Migrate.Checks</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Db</span></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier">Database.Beam.Migrate.SQL</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Db</span></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier">Database.Beam.Migrate.SQL.BeamExtensions</span></a></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier">Database.Beam.Migrate.Serialization</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Db</span></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier">Database.Beam.Migrate.Types</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Db</span></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier">Database.Beam.Query.DataTypes</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Db</span></span><span>
</span><span id="line-40"></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Database.Beam.Postgres.Connection.html"><span class="hs-identifier">Database.Beam.Postgres.Connection</span></a></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Database.Beam.Postgres.CustomTypes.html"><span class="hs-identifier">Database.Beam.Postgres.CustomTypes</span></a></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Database.Beam.Postgres.Extensions.html"><span class="hs-identifier">Database.Beam.Postgres.Extensions</span></a></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Database.Beam.Postgres.PgSpecific.html"><span class="hs-identifier">Database.Beam.Postgres.PgSpecific</span></a></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Database.Beam.Postgres.Syntax.html"><span class="hs-identifier">Database.Beam.Postgres.Syntax</span></a></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Database.Beam.Postgres.Types.html"><span class="hs-identifier">Database.Beam.Postgres.Types</span></a></span><span>
</span><span id="line-47"></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier">Database.Beam.Haskell.Syntax</span></a></span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier">Database.PostgreSQL.Simple</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Pg</span></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier">Database.PostgreSQL.Simple.Types</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Pg</span></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier">Database.PostgreSQL.Simple.TypeInfo.Static</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Pg</span></span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Applicative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator">(&lt;|&gt;)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Arrow</span></a></span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Exception</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">bracket</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Monad</span></a></span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier">Data.Aeson</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier">json</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Bits</span></a></span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">Data.ByteString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">ByteString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">Data.ByteString.Lazy</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BL</span></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">Data.ByteString.Lazy.Char8</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BCL</span></span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../unordered-containers/html/src"><span class="hs-identifier">Data.HashMap.Strict</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">HM</span></span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Int</span></a></span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Maybe</span></a></span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.String</span></a></span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Data.Text.Encoding</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TE</span></span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Typeable</span></a></span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../uuid-types/html/src"><span class="hs-identifier">Data.UUID.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../uuid-types/html/src"><span class="hs-identifier">UUID</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../vector/html/src"><span class="hs-identifier">Data.Vector</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">V</span></span><span class="hs-cpp">
#if !MIN_VERSION_base(4, 11, 0)
</span><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Data.Semigroup</span><span class="hs-cpp">
#else
</span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Monoid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Endo</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Word</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Word64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span class="hs-comment">-- | Top-level migration backend for use by @beam-migrate@ tools</span><span>
</span><span id="line-81"></span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#migrationBackend"><span class="hs-identifier hs-type">migrationBackend</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-type">Tool.BeamMigrationBackend</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Connection.html#Pg"><span class="hs-identifier hs-type">Pg</span></a></span><span>
</span><span id="line-82"></span><span id="migrationBackend"><span class="annot"><span class="annottext">migrationBackend :: BeamMigrationBackend Postgres Pg
</span><a href="Database.Beam.Postgres.Migrate.html#migrationBackend"><span class="hs-identifier hs-var hs-var">migrationBackend</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; Pg [SomeDatabasePredicate]
-&gt; BeamDeserializers Postgres
-&gt; (BeamSqlBackendSyntax Postgres -&gt; String)
-&gt; String
-&gt; HaskellPredicateConverter
-&gt; ActionProvider Postgres
-&gt; (forall a. String -&gt; Pg a -&gt; IO (Either String a))
-&gt; BeamMigrationBackend Postgres Pg
forall be (m :: * -&gt; *).
(MonadBeam be m, MonadFail m, HasQBuilder be,
 BeamMigrateSqlBackend be,
 HasDataTypeCreatedCheck (BeamMigrateSqlBackendDataTypeSyntax be),
 BeamSqlBackendCanSerialize be LocalTime,
 BeamSqlBackendCanSerialize be (Maybe LocalTime),
 BeamSqlBackendCanSerialize be Text,
 BeamSqlBackendCanSerialize be SqlNull,
 Sql92ReasonableMarshaller be) =&gt;
String
-&gt; String
-&gt; m [SomeDatabasePredicate]
-&gt; BeamDeserializers be
-&gt; (BeamSqlBackendSyntax be -&gt; String)
-&gt; String
-&gt; HaskellPredicateConverter
-&gt; ActionProvider be
-&gt; (forall a. String -&gt; m a -&gt; IO (Either String a))
-&gt; BeamMigrationBackend be m
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Tool.BeamMigrationBackend</span></a></span><span>
</span><span id="line-83"></span><span>                        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;postgres&quot;</span></span><span>
</span><span id="line-84"></span><span>                        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">unlines</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;For beam-postgres, this is a libpq connection string which can either be a list of key value pairs or a URI&quot;</span></span><span>
</span><span id="line-85"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-86"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;For example, 'host=localhost port=5432 dbname=mydb connect_timeout=10' or 'dbname=mydb'&quot;</span></span><span>
</span><span id="line-87"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-88"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Or use URIs, for which the general form is:&quot;</span></span><span>
</span><span id="line-89"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;  postgresql://[user[:password]@][netloc][:port][/dbname][?param1=value1&amp;...]&quot;</span></span><span>
</span><span id="line-90"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-91"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;See &lt;https://www.postgresql.org/docs/9.5/static/libpq-connect.html#LIBPQ-CONNSTRING&gt; for more information&quot;</span></span><span> </span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span>                        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Connection -&gt; IO [SomeDatabasePredicate])
-&gt; Pg [SomeDatabasePredicate]
forall a. (Connection -&gt; IO a) -&gt; Pg a
</span><a href="Database.Beam.Postgres.Connection.html#liftIOWithHandle"><span class="hs-identifier hs-var">liftIOWithHandle</span></a></span><span> </span><span class="annot"><span class="annottext">Connection -&gt; IO [SomeDatabasePredicate]
</span><a href="Database.Beam.Postgres.Migrate.html#getDbConstraints"><span class="hs-identifier hs-var">getDbConstraints</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span>                        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BeamDeserializers Postgres
forall be. BeamMigrateSqlBackend be =&gt; BeamDeserializers be
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Db.sql92Deserializers</span></a></span><span> </span><span class="annot"><span class="annottext">BeamDeserializers Postgres
-&gt; BeamDeserializers Postgres -&gt; BeamDeserializers Postgres
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">BeamDeserializers Postgres
forall be. BeamMigrateSql99Backend be =&gt; BeamDeserializers be
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Db.sql99DataTypeDeserializers</span></a></span><span> </span><span class="annot"><span class="annottext">BeamDeserializers Postgres
-&gt; BeamDeserializers Postgres -&gt; BeamDeserializers Postgres
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>
</span><span id="line-94"></span><span>                         </span><span class="annot"><span class="annottext">BeamDeserializers Postgres
forall be.
(BeamMigrateSqlBackend be, BeamSqlT071Backend be) =&gt;
BeamDeserializers be
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Db.sql2008BigIntDataTypeDeserializers</span></a></span><span> </span><span class="annot"><span class="annottext">BeamDeserializers Postgres
-&gt; BeamDeserializers Postgres -&gt; BeamDeserializers Postgres
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>
</span><span id="line-95"></span><span>                         </span><span class="annot"><span class="annottext">BeamDeserializers Postgres
</span><a href="Database.Beam.Postgres.Migrate.html#postgresDataTypeDeserializers"><span class="hs-identifier hs-var">postgresDataTypeDeserializers</span></a></span><span> </span><span class="annot"><span class="annottext">BeamDeserializers Postgres
-&gt; BeamDeserializers Postgres -&gt; BeamDeserializers Postgres
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>
</span><span id="line-96"></span><span>                         </span><span class="annot"><span class="annottext">BeamDeserializers Postgres
forall be.
(Typeable be, BeamMigrateOnlySqlBackend be,
 HasDataTypeCreatedCheck
   (BeamMigrateSqlBackendDataTypeSyntax be)) =&gt;
BeamDeserializers be
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Db.beamCheckDeserializers</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span>                        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; String
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">BCL.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; String)
-&gt; (PgCommandSyntax -&gt; ByteString) -&gt; PgCommandSyntax -&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; ByteString
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;;&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString)
-&gt; (PgCommandSyntax -&gt; ByteString) -&gt; PgCommandSyntax -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">PgSyntax -&gt; ByteString
</span><a href="Database.Beam.Postgres.Syntax.html#pgRenderSyntaxScript"><span class="hs-identifier hs-var">pgRenderSyntaxScript</span></a></span><span> </span><span class="annot"><span class="annottext">(PgSyntax -&gt; ByteString)
-&gt; (PgCommandSyntax -&gt; PgSyntax) -&gt; PgCommandSyntax -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">PgCommandSyntax -&gt; PgSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#fromPgCommand"><span class="hs-identifier hs-var hs-var">fromPgCommand</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;postgres.sql&quot;</span></span><span>
</span><span id="line-98"></span><span>                        </span><span class="annot"><span class="annottext">HaskellPredicateConverter
</span><a href="Database.Beam.Postgres.Migrate.html#pgPredConverter"><span class="hs-identifier hs-var">pgPredConverter</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ActionProvider Postgres
forall be.
(Typeable be, BeamMigrateOnlySqlBackend be) =&gt;
ActionProvider be
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">defaultActionProvider</span></a></span><span> </span><span class="annot"><span class="annottext">ActionProvider Postgres
-&gt; ActionProvider Postgres -&gt; ActionProvider Postgres
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ActionProvider Postgres
</span><a href="Database.Beam.Postgres.Extensions.html#pgExtensionActionProvider"><span class="hs-identifier hs-var">pgExtensionActionProvider</span></a></span><span> </span><span class="annot"><span class="annottext">ActionProvider Postgres
-&gt; ActionProvider Postgres -&gt; ActionProvider Postgres
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>
</span><span id="line-99"></span><span>                                         </span><span class="annot"><span class="annottext">ActionProvider Postgres
</span><a href="Database.Beam.Postgres.CustomTypes.html#pgCustomEnumActionProvider"><span class="hs-identifier hs-var">pgCustomEnumActionProvider</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>                        </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679190763"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679190763"><span class="hs-identifier hs-var">options</span></a></span></span><span> </span><span id="local-6989586621679190762"><span class="annot"><span class="annottext">Pg a
</span><a href="#local-6989586621679190762"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-101"></span><span>                            </span><span class="annot"><span class="annottext">IO Connection
-&gt; (Connection -&gt; IO ())
-&gt; (Connection -&gt; IO (Either String a))
-&gt; IO (Either String a)
forall a b c. IO a -&gt; (a -&gt; IO b) -&gt; (a -&gt; IO c) -&gt; IO c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">bracket</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; IO Connection
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.connectPostgreSQL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; ByteString
forall a. IsString a =&gt; String -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679190763"><span class="hs-identifier hs-var">options</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Connection -&gt; IO ()
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.close</span></a></span><span> </span><span class="annot"><span class="annottext">((Connection -&gt; IO (Either String a)) -&gt; IO (Either String a))
-&gt; (Connection -&gt; IO (Either String a)) -&gt; IO (Either String a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679190759"><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679190759"><span class="hs-identifier hs-var">conn</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-102"></span><span>                              </span><span class="annot"><span class="annottext">(BeamRowReadError -&gt; String)
-&gt; Either BeamRowReadError a -&gt; Either String a
forall (a :: * -&gt; * -&gt; *) b c d.
ArrowChoice a =&gt;
a b c -&gt; a (Either b d) (Either c d)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">left</span></a></span><span> </span><span class="annot"><span class="annottext">BeamRowReadError -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">(Either BeamRowReadError a -&gt; Either String a)
-&gt; IO (Either BeamRowReadError a) -&gt; IO (Either String a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ())
-&gt; Connection -&gt; Pg a -&gt; IO (Either BeamRowReadError a)
forall a.
(String -&gt; IO ())
-&gt; Connection -&gt; Pg a -&gt; IO (Either BeamRowReadError a)
</span><a href="Database.Beam.Postgres.Connection.html#withPgDebug"><span class="hs-identifier hs-var">withPgDebug</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; IO ()
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679190759"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="annot"><span class="annottext">Pg a
</span><a href="#local-6989586621679190762"><span class="hs-identifier hs-var">action</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span class="hs-comment">-- | 'BeamDeserializers' for postgres-specific types:</span><span>
</span><span id="line-105"></span><span class="hs-comment">--</span><span>
</span><span id="line-106"></span><span class="hs-comment">--    * 'bytea'</span><span>
</span><span id="line-107"></span><span class="hs-comment">--    * 'smallserial'</span><span>
</span><span id="line-108"></span><span class="hs-comment">--    * 'serial'</span><span>
</span><span id="line-109"></span><span class="hs-comment">--    * 'bigserial'</span><span>
</span><span id="line-110"></span><span class="hs-comment">--    * 'tsvector'</span><span>
</span><span id="line-111"></span><span class="hs-comment">--    * 'tsquery'</span><span>
</span><span id="line-112"></span><span class="hs-comment">--    * 'text'</span><span>
</span><span id="line-113"></span><span class="hs-comment">--    * 'json'</span><span>
</span><span id="line-114"></span><span class="hs-comment">--    * 'jsonb'</span><span>
</span><span id="line-115"></span><span class="hs-comment">--    * 'uuid'</span><span>
</span><span id="line-116"></span><span class="hs-comment">--    * 'money'</span><span>
</span><span id="line-117"></span><span class="hs-comment">--</span><span>
</span><span id="line-118"></span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#postgresDataTypeDeserializers"><span class="hs-identifier hs-type">postgresDataTypeDeserializers</span></a></span><span>
</span><span id="line-119"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-type">Db.BeamDeserializers</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span>
</span><span id="line-120"></span><span id="postgresDataTypeDeserializers"><span class="annot"><span class="annottext">postgresDataTypeDeserializers :: BeamDeserializers Postgres
</span><a href="Database.Beam.Postgres.Migrate.html#postgresDataTypeDeserializers"><span class="hs-identifier hs-var hs-var">postgresDataTypeDeserializers</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-121"></span><span>  </span><span class="annot"><span class="annottext">(forall be'.
 BeamDeserializers be' -&gt; Value -&gt; Parser PgDataTypeSyntax)
-&gt; BeamDeserializers Postgres
forall ty be.
Typeable ty =&gt;
(forall be'. BeamDeserializers be' -&gt; Value -&gt; Parser ty)
-&gt; BeamDeserializers be
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Db.beamDeserializer</span></a></span><span> </span><span class="annot"><span class="annottext">((forall be'.
  BeamDeserializers be' -&gt; Value -&gt; Parser PgDataTypeSyntax)
 -&gt; BeamDeserializers Postgres)
-&gt; (forall be'.
    BeamDeserializers be' -&gt; Value -&gt; Parser PgDataTypeSyntax)
-&gt; BeamDeserializers Postgres
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">BeamDeserializers be'
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679190753"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679190753"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-122"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679190753"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-123"></span><span>    </span><span class="annot"><span class="annottext">Value
</span><span class="hs-string">&quot;bytea&quot;</span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Parser PgDataTypeSyntax
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgByteaType"><span class="hs-identifier hs-var">pgByteaType</span></a></span><span>
</span><span id="line-124"></span><span>    </span><span class="annot"><span class="annottext">Value
</span><span class="hs-string">&quot;smallserial&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Parser PgDataTypeSyntax
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgSmallSerialType"><span class="hs-identifier hs-var">pgSmallSerialType</span></a></span><span>
</span><span id="line-125"></span><span>    </span><span class="annot"><span class="annottext">Value
</span><span class="hs-string">&quot;serial&quot;</span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Parser PgDataTypeSyntax
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgSerialType"><span class="hs-identifier hs-var">pgSerialType</span></a></span><span>
</span><span id="line-126"></span><span>    </span><span class="annot"><span class="annottext">Value
</span><span class="hs-string">&quot;bigserial&quot;</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Parser PgDataTypeSyntax
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgBigSerialType"><span class="hs-identifier hs-var">pgBigSerialType</span></a></span><span>
</span><span id="line-127"></span><span>    </span><span class="annot"><span class="annottext">Value
</span><span class="hs-string">&quot;tsquery&quot;</span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Parser PgDataTypeSyntax
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgTsQueryType"><span class="hs-identifier hs-var">pgTsQueryType</span></a></span><span>
</span><span id="line-128"></span><span>    </span><span class="annot"><span class="annottext">Value
</span><span class="hs-string">&quot;tsvector&quot;</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Parser PgDataTypeSyntax
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgTsVectorType"><span class="hs-identifier hs-var">pgTsVectorType</span></a></span><span>
</span><span id="line-129"></span><span>    </span><span class="annot"><span class="annottext">Value
</span><span class="hs-string">&quot;text&quot;</span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Parser PgDataTypeSyntax
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgTextType"><span class="hs-identifier hs-var">pgTextType</span></a></span><span>
</span><span id="line-130"></span><span>    </span><span class="annot"><span class="annottext">Value
</span><span class="hs-string">&quot;json&quot;</span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Parser PgDataTypeSyntax
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgJsonType"><span class="hs-identifier hs-var">pgJsonType</span></a></span><span>
</span><span id="line-131"></span><span>    </span><span class="annot"><span class="annottext">Value
</span><span class="hs-string">&quot;jsonb&quot;</span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Parser PgDataTypeSyntax
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgJsonbType"><span class="hs-identifier hs-var">pgJsonbType</span></a></span><span>
</span><span id="line-132"></span><span>    </span><span class="annot"><span class="annottext">Value
</span><span class="hs-string">&quot;uuid&quot;</span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Parser PgDataTypeSyntax
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgUuidType"><span class="hs-identifier hs-var">pgUuidType</span></a></span><span>
</span><span id="line-133"></span><span>    </span><span class="annot"><span class="annottext">Value
</span><span class="hs-string">&quot;money&quot;</span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Parser PgDataTypeSyntax
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgMoneyType"><span class="hs-identifier hs-var">pgMoneyType</span></a></span><span>
</span><span id="line-134"></span><span>    </span><span class="annot"><span class="annottext">Value
</span><span class="hs-string">&quot;point&quot;</span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Parser PgDataTypeSyntax
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgPointType"><span class="hs-identifier hs-var">pgPointType</span></a></span><span>
</span><span id="line-135"></span><span>    </span><span class="annot"><span class="annottext">Value
</span><span class="hs-string">&quot;line&quot;</span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Parser PgDataTypeSyntax
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgLineType"><span class="hs-identifier hs-var">pgLineType</span></a></span><span>
</span><span id="line-136"></span><span>    </span><span class="annot"><span class="annottext">Value
</span><span class="hs-string">&quot;lseg&quot;</span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Parser PgDataTypeSyntax
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgLineSegmentType"><span class="hs-identifier hs-var">pgLineSegmentType</span></a></span><span>
</span><span id="line-137"></span><span>    </span><span class="annot"><span class="annottext">Value
</span><span class="hs-string">&quot;box&quot;</span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Parser PgDataTypeSyntax
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgBoxType"><span class="hs-identifier hs-var">pgBoxType</span></a></span><span>
</span><span id="line-138"></span><span>    </span><span class="annot"><span class="annottext">Value
</span><span class="hs-identifier">_</span></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Parser PgDataTypeSyntax
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Postgres data type&quot;</span></span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span class="hs-comment">-- | Converts postgres 'DatabasePredicate's to 'DatabasePredicate's in the</span><span>
</span><span id="line-141"></span><span class="hs-comment">-- Haskell syntax. Allows automatic generation of Haskell schemas from postgres</span><span>
</span><span id="line-142"></span><span class="hs-comment">-- constraints.</span><span>
</span><span id="line-143"></span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#pgPredConverter"><span class="hs-identifier hs-type">pgPredConverter</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-type">Tool.HaskellPredicateConverter</span></a></span><span>
</span><span id="line-144"></span><span id="pgPredConverter"><span class="annot"><span class="annottext">pgPredConverter :: HaskellPredicateConverter
</span><a href="Database.Beam.Postgres.Migrate.html#pgPredConverter"><span class="hs-identifier hs-var hs-var">pgPredConverter</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(BeamMigrateSqlBackendDataTypeSyntax Postgres -&gt; Maybe HsDataType)
-&gt; HaskellPredicateConverter
forall fromBe.
Typeable fromBe =&gt;
(BeamMigrateSqlBackendDataTypeSyntax fromBe -&gt; Maybe HsDataType)
-&gt; HaskellPredicateConverter
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Tool.sql92HsPredicateConverters</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span> </span><span class="annot"><span class="annottext">BeamMigrateSqlBackendDataTypeSyntax Postgres -&gt; Maybe HsDataType
PgDataTypeSyntax -&gt; Maybe HsDataType
</span><a href="Database.Beam.Postgres.Migrate.html#pgTypeToHs"><span class="hs-identifier hs-var">pgTypeToHs</span></a></span><span> </span><span class="annot"><span class="annottext">HaskellPredicateConverter
-&gt; HaskellPredicateConverter -&gt; HaskellPredicateConverter
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>
</span><span id="line-145"></span><span>                  </span><span class="annot"><span class="annottext">(TableColumnHasConstraint Postgres -&gt; Maybe SomeDatabasePredicate)
-&gt; HaskellPredicateConverter
forall pred.
Typeable pred =&gt;
(pred -&gt; Maybe SomeDatabasePredicate) -&gt; HaskellPredicateConverter
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Tool.hsPredicateConverter</span></a></span><span> </span><span class="annot"><span class="annottext">TableColumnHasConstraint Postgres -&gt; Maybe SomeDatabasePredicate
</span><a href="#local-6989586621679190735"><span class="hs-identifier hs-var">pgHasColumnConstraint</span></a></span><span>
</span><span id="line-146"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-147"></span><span>    </span><span id="local-6989586621679190735"><span class="annot"><span class="annottext">pgHasColumnConstraint :: TableColumnHasConstraint Postgres -&gt; Maybe SomeDatabasePredicate
</span><a href="#local-6989586621679190735"><span class="hs-identifier hs-var hs-var">pgHasColumnConstraint</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-type">Db.TableColumnHasConstraint</span></a></span><span> </span><span id="local-6989586621679190733"><span class="annot"><span class="annottext">QualifiedName
</span><a href="#local-6989586621679190733"><span class="hs-identifier hs-var">tblNm</span></a></span></span><span> </span><span id="local-6989586621679190732"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679190732"><span class="hs-identifier hs-var">colNm</span></a></span></span><span> </span><span id="local-6989586621679190731"><span class="annot"><span class="annottext">BeamSqlBackendColumnConstraintDefinitionSyntax Postgres
</span><a href="#local-6989586621679190731"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-type">Db.TableColumnHasConstraint</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-148"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendColumnConstraintDefinitionSyntax Postgres
PgColumnConstraintDefinitionSyntax
</span><a href="#local-6989586621679190731"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">PgColumnConstraintDefinitionSyntax
-&gt; PgColumnConstraintDefinitionSyntax -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Text
-&gt; Sql92ColumnConstraintDefinitionConstraintSyntax
     PgColumnConstraintDefinitionSyntax
-&gt; Maybe
     (Sql92ColumnConstraintDefinitionAttributesSyntax
        PgColumnConstraintDefinitionSyntax)
-&gt; PgColumnConstraintDefinitionSyntax
forall constraint.
IsSql92ColumnConstraintDefinitionSyntax constraint =&gt;
Maybe Text
-&gt; Sql92ColumnConstraintDefinitionConstraintSyntax constraint
-&gt; Maybe
     (Sql92ColumnConstraintDefinitionAttributesSyntax constraint)
-&gt; constraint
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Db.constraintDefinitionSyntax</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Text
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Sql92ColumnConstraintDefinitionConstraintSyntax
  PgColumnConstraintDefinitionSyntax
forall constraint.
IsSql92ColumnConstraintSyntax constraint =&gt;
constraint
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Db.notNullConstraintSyntax</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe
  (Sql92ColumnConstraintDefinitionAttributesSyntax
     PgColumnConstraintDefinitionSyntax)
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-149"></span><span>          </span><span class="annot"><span class="annottext">SomeDatabasePredicate -&gt; Maybe SomeDatabasePredicate
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TableColumnHasConstraint HsMigrateBackend -&gt; SomeDatabasePredicate
forall p. DatabasePredicate p =&gt; p -&gt; SomeDatabasePredicate
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Db.SomeDatabasePredicate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QualifiedName
-&gt; Text
-&gt; BeamSqlBackendColumnConstraintDefinitionSyntax HsMigrateBackend
-&gt; TableColumnHasConstraint HsMigrateBackend
forall be.
QualifiedName
-&gt; Text
-&gt; BeamSqlBackendColumnConstraintDefinitionSyntax be
-&gt; TableColumnHasConstraint be
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Db.TableColumnHasConstraint</span></a></span><span> </span><span class="annot"><span class="annottext">QualifiedName
</span><a href="#local-6989586621679190733"><span class="hs-identifier hs-var">tblNm</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679190732"><span class="hs-identifier hs-var">colNm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Text
-&gt; Sql92ColumnConstraintDefinitionConstraintSyntax
     HsConstraintDefinition
-&gt; Maybe
     (Sql92ColumnConstraintDefinitionAttributesSyntax
        HsConstraintDefinition)
-&gt; HsConstraintDefinition
forall constraint.
IsSql92ColumnConstraintDefinitionSyntax constraint =&gt;
Maybe Text
-&gt; Sql92ColumnConstraintDefinitionConstraintSyntax constraint
-&gt; Maybe
     (Sql92ColumnConstraintDefinitionAttributesSyntax constraint)
-&gt; constraint
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Db.constraintDefinitionSyntax</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Text
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Sql92ColumnConstraintDefinitionConstraintSyntax
  HsConstraintDefinition
forall constraint.
IsSql92ColumnConstraintSyntax constraint =&gt;
constraint
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Db.notNullConstraintSyntax</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe
  (Sql92ColumnConstraintDefinitionAttributesSyntax
     HsConstraintDefinition)
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-type">Db.TableColumnHasConstraint</span></a></span><span> </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-type">HsMigrateBackend</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-150"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe SomeDatabasePredicate
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-151"></span><span>
</span><span id="line-152"></span><span class="hs-comment">-- | Turn a 'PgDataTypeSyntax' into the corresponding 'HsDataType'. This is a</span><span>
</span><span id="line-153"></span><span class="hs-comment">-- best effort guess, and may fail on more exotic types. Feel free to send PRs</span><span>
</span><span id="line-154"></span><span class="hs-comment">-- to make this function more robust!</span><span>
</span><span id="line-155"></span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#pgTypeToHs"><span class="hs-identifier hs-type">pgTypeToHs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Syntax.html#PgDataTypeSyntax"><span class="hs-identifier hs-type">PgDataTypeSyntax</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-type">HsDataType</span></a></span><span>
</span><span id="line-156"></span><span id="pgTypeToHs"><span class="annot"><span class="annottext">pgTypeToHs :: PgDataTypeSyntax -&gt; Maybe HsDataType
</span><a href="Database.Beam.Postgres.Migrate.html#pgTypeToHs"><span class="hs-identifier hs-var hs-var">pgTypeToHs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Postgres.Syntax.html#PgDataTypeSyntax"><span class="hs-identifier hs-type">PgDataTypeSyntax</span></a></span><span> </span><span id="local-6989586621679190726"><span class="annot"><span class="annottext">PgDataTypeDescr
</span><a href="#local-6989586621679190726"><span class="hs-identifier hs-var">tyDescr</span></a></span></span><span> </span><span class="annot"><span class="annottext">PgSyntax
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">BeamSerializedDataType
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-157"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PgDataTypeDescr
</span><a href="#local-6989586621679190726"><span class="hs-identifier hs-var">tyDescr</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-158"></span><span>    </span><span class="annot"><a href="Database.Beam.Postgres.Syntax.html#PgDataTypeDescrOid"><span class="hs-identifier hs-type">PgDataTypeDescrOid</span></a></span><span> </span><span id="local-6989586621679190724"><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190724"><span class="hs-identifier hs-var">oid</span></a></span></span><span> </span><span id="local-6989586621679190723"><span class="annot"><span class="annottext">Maybe Int32
</span><a href="#local-6989586621679190723"><span class="hs-identifier hs-var">width</span></a></span></span><span>
</span><span id="line-159"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.int2</span></a></span><span>    </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190724"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsDataType -&gt; Maybe HsDataType
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">HsDataType
forall dataType. IsSql92DataTypeSyntax dataType =&gt; dataType
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">smallIntType</span></a></span><span>
</span><span id="line-160"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.int4</span></a></span><span>    </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190724"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsDataType -&gt; Maybe HsDataType
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">HsDataType
forall dataType. IsSql92DataTypeSyntax dataType =&gt; dataType
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">intType</span></a></span><span>
</span><span id="line-161"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.int8</span></a></span><span>    </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190724"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsDataType -&gt; Maybe HsDataType
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">HsDataType
forall dataType. IsSql2008BigIntDataTypeSyntax dataType =&gt; dataType
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">bigIntType</span></a></span><span>
</span><span id="line-162"></span><span>
</span><span id="line-163"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.bpchar</span></a></span><span>  </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190724"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsDataType -&gt; Maybe HsDataType
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Word -&gt; Maybe Text -&gt; HsDataType
forall dataType.
IsSql92DataTypeSyntax dataType =&gt;
Maybe Word -&gt; Maybe Text -&gt; dataType
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">charType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int32 -&gt; Word
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">(Int32 -&gt; Word) -&gt; Maybe Int32 -&gt; Maybe Word
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int32
</span><a href="#local-6989586621679190723"><span class="hs-identifier hs-var">width</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe Text
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-164"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.varchar</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190724"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsDataType -&gt; Maybe HsDataType
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Word -&gt; Maybe Text -&gt; HsDataType
forall dataType.
IsSql92DataTypeSyntax dataType =&gt;
Maybe Word -&gt; Maybe Text -&gt; dataType
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">varCharType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int32 -&gt; Word
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">(Int32 -&gt; Word) -&gt; Maybe Int32 -&gt; Maybe Word
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int32
</span><a href="#local-6989586621679190723"><span class="hs-identifier hs-var">width</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe Text
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-165"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.bit</span></a></span><span>     </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190724"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsDataType -&gt; Maybe HsDataType
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Word -&gt; HsDataType
forall dataType.
IsSql92DataTypeSyntax dataType =&gt;
Maybe Word -&gt; dataType
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">bitType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int32 -&gt; Word
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">(Int32 -&gt; Word) -&gt; Maybe Int32 -&gt; Maybe Word
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int32
</span><a href="#local-6989586621679190723"><span class="hs-identifier hs-var">width</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-166"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.varbit</span></a></span><span>  </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190724"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsDataType -&gt; Maybe HsDataType
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Word -&gt; HsDataType
forall dataType.
IsSql92DataTypeSyntax dataType =&gt;
Maybe Word -&gt; dataType
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">varBitType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int32 -&gt; Word
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">(Int32 -&gt; Word) -&gt; Maybe Int32 -&gt; Maybe Word
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int32
</span><a href="#local-6989586621679190723"><span class="hs-identifier hs-var">width</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span>
</span><span id="line-168"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.numeric</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190724"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-169"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679190706"><span class="annot"><span class="annottext">decimals :: Int32
</span><a href="#local-6989586621679190706"><span class="hs-identifier hs-var hs-var">decimals</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Maybe Int32 -&gt; Int32
forall a. a -&gt; Maybe a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Int32
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Maybe Int32
</span><a href="#local-6989586621679190723"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Int32 -&gt; Int32
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.&amp;.</span></a></span><span> </span><span class="annot"><span class="annottext">Int32
</span><span class="hs-number">0xFFFF</span></span><span>
</span><span id="line-170"></span><span>              </span><span id="local-6989586621679190703"><span class="annot"><span class="annottext">prec :: Int32
</span><a href="#local-6989586621679190703"><span class="hs-identifier hs-var hs-var">prec</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int32 -&gt; Maybe Int32 -&gt; Int32
forall a. a -&gt; Maybe a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Int32
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Maybe Int32
</span><a href="#local-6989586621679190723"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Int -&gt; Int32
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">`shiftR`</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">16</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Int32 -&gt; Int32
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.&amp;.</span></a></span><span> </span><span class="annot"><span class="annottext">Int32
</span><span class="hs-number">0xFFFF</span></span><span>
</span><span id="line-171"></span><span>          </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">HsDataType -&gt; Maybe HsDataType
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (Word, Maybe Word) -&gt; HsDataType
forall dataType.
IsSql92DataTypeSyntax dataType =&gt;
Maybe (Word, Maybe Word) -&gt; dataType
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">numericType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Word, Maybe Word) -&gt; Maybe (Word, Maybe Word)
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int32 -&gt; Word
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621679190703"><span class="hs-identifier hs-var">prec</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Word -&gt; Maybe Word
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int32 -&gt; Word
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621679190706"><span class="hs-identifier hs-var">decimals</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-172"></span><span>
</span><span id="line-173"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.float4</span></a></span><span>  </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190724"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsDataType -&gt; Maybe HsDataType
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Word -&gt; HsDataType
forall dataType.
IsSql92DataTypeSyntax dataType =&gt;
Maybe Word -&gt; dataType
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">floatType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int32 -&gt; Word
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">(Int32 -&gt; Word) -&gt; Maybe Int32 -&gt; Maybe Word
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int32
</span><a href="#local-6989586621679190723"><span class="hs-identifier hs-var">width</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-174"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.float8</span></a></span><span>  </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190724"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsDataType -&gt; Maybe HsDataType
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">HsDataType
forall dataType. IsSql92DataTypeSyntax dataType =&gt; dataType
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">doubleType</span></a></span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.date</span></a></span><span>    </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190724"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsDataType -&gt; Maybe HsDataType
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">HsDataType
forall dataType. IsSql92DataTypeSyntax dataType =&gt; dataType
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">dateType</span></a></span><span>
</span><span id="line-177"></span><span>
</span><span id="line-178"></span><span>      </span><span class="hs-comment">-- We prefer using the standard beam names</span><span>
</span><span id="line-179"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.text</span></a></span><span>    </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190724"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsDataType -&gt; Maybe HsDataType
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">HsDataType
forall dataType. IsSql99DataTypeSyntax dataType =&gt; dataType
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">characterLargeObjectType</span></a></span><span>
</span><span id="line-180"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.bytea</span></a></span><span>   </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190724"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsDataType -&gt; Maybe HsDataType
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">HsDataType
forall dataType. IsSql99DataTypeSyntax dataType =&gt; dataType
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">binaryLargeObjectType</span></a></span><span>
</span><span id="line-181"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.bool</span></a></span><span>    </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190724"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsDataType -&gt; Maybe HsDataType
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">HsDataType
forall dataType. IsSql99DataTypeSyntax dataType =&gt; dataType
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">booleanType</span></a></span><span>
</span><span id="line-182"></span><span>
</span><span id="line-183"></span><span>      </span><span class="hs-comment">-- TODO timestamp prec</span><span>
</span><span id="line-184"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.time</span></a></span><span>        </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190724"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsDataType -&gt; Maybe HsDataType
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Word -&gt; Bool -&gt; HsDataType
forall dataType.
IsSql92DataTypeSyntax dataType =&gt;
Maybe Word -&gt; Bool -&gt; dataType
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">timeType</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Word
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">False</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-185"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.timestamp</span></a></span><span>   </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190724"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsDataType -&gt; Maybe HsDataType
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Word -&gt; Bool -&gt; HsDataType
forall dataType.
IsSql92DataTypeSyntax dataType =&gt;
Maybe Word -&gt; Bool -&gt; dataType
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">timestampType</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Word
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">False</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-186"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.timestamptz</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190724"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsDataType -&gt; Maybe HsDataType
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Word -&gt; Bool -&gt; HsDataType
forall dataType.
IsSql92DataTypeSyntax dataType =&gt;
Maybe Word -&gt; Bool -&gt; dataType
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">timestampType</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Word
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">True</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-187"></span><span>
</span><span id="line-188"></span><span>      </span><span class="hs-comment">-- Postgres specific datatypes, haskell versions</span><span>
</span><span id="line-189"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.uuid</span></a></span><span>        </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190724"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-190"></span><span>          </span><span class="annot"><span class="annottext">HsDataType -&gt; Maybe HsDataType
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(HsDataType -&gt; Maybe HsDataType) -&gt; HsDataType -&gt; Maybe HsDataType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr -&gt; HsType -&gt; BeamSerializedDataType -&gt; HsDataType
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">HsDataType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; HsExpr
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">hsVarFrom</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;uuid&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Database.Beam.Postgres&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-191"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type () -&gt; HsImports -&gt; HsType
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">HsType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Type ()
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">tyConNamed</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;UUID&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-192"></span><span>                                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; [ImportSpec ()] -&gt; HsImports
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">importSome</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Data.UUID.Types&quot;</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text -&gt; ImportSpec ()
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">importTyNamed</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;UUID&quot;</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; BeamSerializedDataType
</span><a href="Database.Beam.Postgres.Syntax.html#pgDataTypeSerialized"><span class="hs-identifier hs-var hs-var">pgDataTypeSerialized</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgUuidType"><span class="hs-identifier hs-var">pgUuidType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-194"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.money</span></a></span><span>       </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190724"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-195"></span><span>          </span><span class="annot"><span class="annottext">HsDataType -&gt; Maybe HsDataType
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(HsDataType -&gt; Maybe HsDataType) -&gt; HsDataType -&gt; Maybe HsDataType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr -&gt; HsType -&gt; BeamSerializedDataType -&gt; HsDataType
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">HsDataType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; HsExpr
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">hsVarFrom</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;money&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Database.Beam.Postgres&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-196"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type () -&gt; HsImports -&gt; HsType
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">HsType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Type ()
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">tyConNamed</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;PgMoney&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span>                                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; [ImportSpec ()] -&gt; HsImports
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">importSome</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Database.Beam.Postgres&quot;</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text -&gt; ImportSpec ()
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">importTyNamed</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;PgMoney&quot;</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-198"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; BeamSerializedDataType
</span><a href="Database.Beam.Postgres.Syntax.html#pgDataTypeSerialized"><span class="hs-identifier hs-var hs-var">pgDataTypeSerialized</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgMoneyType"><span class="hs-identifier hs-var">pgMoneyType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-199"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.json</span></a></span><span>        </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190724"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-200"></span><span>          </span><span class="annot"><span class="annottext">HsDataType -&gt; Maybe HsDataType
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(HsDataType -&gt; Maybe HsDataType) -&gt; HsDataType -&gt; Maybe HsDataType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr -&gt; HsType -&gt; BeamSerializedDataType -&gt; HsDataType
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">HsDataType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; HsExpr
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">hsVarFrom</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;json&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Database.Beam.Postgres&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-201"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type () -&gt; HsImports -&gt; HsType
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">HsType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type () -&gt; [Type ()] -&gt; Type ()
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">tyApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Type ()
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">tyConNamed</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;PgJSON&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; Type ()
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">tyConNamed</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Value&quot;</span></span><span> </span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-202"></span><span>                                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; [ImportSpec ()] -&gt; HsImports
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">importSome</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Data.Aeson&quot;</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text -&gt; ImportSpec ()
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">importTyNamed</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Value&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">HsImports -&gt; HsImports -&gt; HsImports
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>
</span><span id="line-203"></span><span>                                     </span><span class="annot"><span class="annottext">Text -&gt; [ImportSpec ()] -&gt; HsImports
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">importSome</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Database.Beam.Postgres&quot;</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text -&gt; ImportSpec ()
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">importTyNamed</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;PgJSON&quot;</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-204"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; BeamSerializedDataType
</span><a href="Database.Beam.Postgres.Syntax.html#pgDataTypeSerialized"><span class="hs-identifier hs-var hs-var">pgDataTypeSerialized</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgJsonType"><span class="hs-identifier hs-var">pgJsonType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-205"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.jsonb</span></a></span><span>       </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190724"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-206"></span><span>          </span><span class="annot"><span class="annottext">HsDataType -&gt; Maybe HsDataType
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(HsDataType -&gt; Maybe HsDataType) -&gt; HsDataType -&gt; Maybe HsDataType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr -&gt; HsType -&gt; BeamSerializedDataType -&gt; HsDataType
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">HsDataType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; HsExpr
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">hsVarFrom</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;jsonb&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Database.Beam.Postgres&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-207"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type () -&gt; HsImports -&gt; HsType
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">HsType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type () -&gt; [Type ()] -&gt; Type ()
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">tyApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Type ()
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">tyConNamed</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;PgJSONB&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; Type ()
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">tyConNamed</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Value&quot;</span></span><span> </span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span>                                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; [ImportSpec ()] -&gt; HsImports
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">importSome</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Data.Aeson&quot;</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text -&gt; ImportSpec ()
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">importTyNamed</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Value&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">HsImports -&gt; HsImports -&gt; HsImports
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>
</span><span id="line-209"></span><span>                                     </span><span class="annot"><span class="annottext">Text -&gt; [ImportSpec ()] -&gt; HsImports
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">importSome</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Database.Beam.Postgres&quot;</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text -&gt; ImportSpec ()
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">importTyNamed</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;PgJSONB&quot;</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-210"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; BeamSerializedDataType
</span><a href="Database.Beam.Postgres.Syntax.html#pgDataTypeSerialized"><span class="hs-identifier hs-var hs-var">pgDataTypeSerialized</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgJsonType"><span class="hs-identifier hs-var">pgJsonType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-211"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="Database.Beam.Postgres.Syntax.html#pgTsVectorTypeInfo"><span class="hs-identifier hs-var">pgTsVectorTypeInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190724"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-212"></span><span>          </span><span class="annot"><span class="annottext">HsDataType -&gt; Maybe HsDataType
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(HsDataType -&gt; Maybe HsDataType) -&gt; HsDataType -&gt; Maybe HsDataType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr -&gt; HsType -&gt; BeamSerializedDataType -&gt; HsDataType
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">HsDataType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; HsExpr
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">hsVarFrom</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;tsvector&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Database.Beam.Postgres&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type () -&gt; HsImports -&gt; HsType
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">HsType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Type ()
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">tyConNamed</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;TsVector&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-214"></span><span>                                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; [ImportSpec ()] -&gt; HsImports
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">importSome</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Database.Beam.Postgres&quot;</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text -&gt; ImportSpec ()
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">importTyNamed</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;TsVector&quot;</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-215"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; BeamSerializedDataType
</span><a href="Database.Beam.Postgres.Syntax.html#pgDataTypeSerialized"><span class="hs-identifier hs-var hs-var">pgDataTypeSerialized</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgTsVectorType"><span class="hs-identifier hs-var">pgTsVectorType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-216"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="Database.Beam.Postgres.Syntax.html#pgTsQueryTypeInfo"><span class="hs-identifier hs-var">pgTsQueryTypeInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190724"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-217"></span><span>          </span><span class="annot"><span class="annottext">HsDataType -&gt; Maybe HsDataType
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(HsDataType -&gt; Maybe HsDataType) -&gt; HsDataType -&gt; Maybe HsDataType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr -&gt; HsType -&gt; BeamSerializedDataType -&gt; HsDataType
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">HsDataType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; HsExpr
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">hsVarFrom</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;tsquery&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Database.Beam.Postgres&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-218"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type () -&gt; HsImports -&gt; HsType
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">HsType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Type ()
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">tyConNamed</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;TsQuery&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-219"></span><span>                                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; [ImportSpec ()] -&gt; HsImports
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">importSome</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Database.Beam.Postgres&quot;</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text -&gt; ImportSpec ()
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">importTyNamed</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;TsQuery&quot;</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-220"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; BeamSerializedDataType
</span><a href="Database.Beam.Postgres.Syntax.html#pgDataTypeSerialized"><span class="hs-identifier hs-var hs-var">pgDataTypeSerialized</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgTsQueryType"><span class="hs-identifier hs-var">pgTsQueryType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-221"></span><span>
</span><span id="line-222"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.point</span></a></span><span>   </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190724"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-223"></span><span>          </span><span class="annot"><span class="annottext">HsDataType -&gt; Maybe HsDataType
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(HsDataType -&gt; Maybe HsDataType) -&gt; HsDataType -&gt; Maybe HsDataType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr -&gt; HsType -&gt; BeamSerializedDataType -&gt; HsDataType
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">HsDataType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; HsExpr
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">hsVarFrom</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;point&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Database.Beam.Postgres&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-224"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type () -&gt; HsImports -&gt; HsType
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">HsType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Type ()
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">tyConNamed</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;PgPoint&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-225"></span><span>                                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; [ImportSpec ()] -&gt; HsImports
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">importSome</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Database.Beam.Postgres&quot;</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text -&gt; ImportSpec ()
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">importTyNamed</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;PgPoint&quot;</span></span><span> </span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-226"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; BeamSerializedDataType
</span><a href="Database.Beam.Postgres.Syntax.html#pgDataTypeSerialized"><span class="hs-identifier hs-var hs-var">pgDataTypeSerialized</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgPointType"><span class="hs-identifier hs-var">pgPointType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-227"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.line</span></a></span><span>    </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190724"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-228"></span><span>          </span><span class="annot"><span class="annottext">HsDataType -&gt; Maybe HsDataType
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(HsDataType -&gt; Maybe HsDataType) -&gt; HsDataType -&gt; Maybe HsDataType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr -&gt; HsType -&gt; BeamSerializedDataType -&gt; HsDataType
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">HsDataType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; HsExpr
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">hsVarFrom</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;line&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Database.Beam.Postgres&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-229"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type () -&gt; HsImports -&gt; HsType
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">HsType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Type ()
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">tyConNamed</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;PgLine&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-230"></span><span>                                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; [ImportSpec ()] -&gt; HsImports
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">importSome</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Database.Beam.Postgres&quot;</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text -&gt; ImportSpec ()
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">importTyNamed</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;PgLine&quot;</span></span><span> </span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-231"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; BeamSerializedDataType
</span><a href="Database.Beam.Postgres.Syntax.html#pgDataTypeSerialized"><span class="hs-identifier hs-var hs-var">pgDataTypeSerialized</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgLineType"><span class="hs-identifier hs-var">pgLineType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-232"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.lseg</span></a></span><span>    </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190724"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-233"></span><span>          </span><span class="annot"><span class="annottext">HsDataType -&gt; Maybe HsDataType
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(HsDataType -&gt; Maybe HsDataType) -&gt; HsDataType -&gt; Maybe HsDataType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr -&gt; HsType -&gt; BeamSerializedDataType -&gt; HsDataType
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">HsDataType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; HsExpr
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">hsVarFrom</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;lineSegment&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Database.Beam.Postgres&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-234"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type () -&gt; HsImports -&gt; HsType
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">HsType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Type ()
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">tyConNamed</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;PgLineSegment&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-235"></span><span>                                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; [ImportSpec ()] -&gt; HsImports
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">importSome</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Database.Beam.Postgres&quot;</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text -&gt; ImportSpec ()
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">importTyNamed</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;PgLineSegment&quot;</span></span><span> </span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-236"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; BeamSerializedDataType
</span><a href="Database.Beam.Postgres.Syntax.html#pgDataTypeSerialized"><span class="hs-identifier hs-var hs-var">pgDataTypeSerialized</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgLineSegmentType"><span class="hs-identifier hs-var">pgLineSegmentType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-237"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.box</span></a></span><span>     </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190724"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-238"></span><span>          </span><span class="annot"><span class="annottext">HsDataType -&gt; Maybe HsDataType
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(HsDataType -&gt; Maybe HsDataType) -&gt; HsDataType -&gt; Maybe HsDataType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr -&gt; HsType -&gt; BeamSerializedDataType -&gt; HsDataType
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">HsDataType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; HsExpr
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">hsVarFrom</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;box&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Database.Beam.Postgres&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-239"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type () -&gt; HsImports -&gt; HsType
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">HsType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Type ()
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">tyConNamed</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;PgBox&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-240"></span><span>                                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; [ImportSpec ()] -&gt; HsImports
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">importSome</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Database.Beam.Postgres&quot;</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Text -&gt; ImportSpec ()
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">importTyNamed</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;PgBox&quot;</span></span><span> </span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-241"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; BeamSerializedDataType
</span><a href="Database.Beam.Postgres.Syntax.html#pgDataTypeSerialized"><span class="hs-identifier hs-var hs-var">pgDataTypeSerialized</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgBoxType"><span class="hs-identifier hs-var">pgBoxType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span>    </span><span class="annot"><span class="annottext">PgDataTypeDescr
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsDataType -&gt; Maybe HsDataType
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; HsDataType
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">hsErrorType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;PG type &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeDescr -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeDescr
</span><a href="#local-6989586621679190726"><span class="hs-identifier hs-var">tyDescr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-244"></span><span>
</span><span id="line-245"></span><span class="hs-comment">-- | Turn a series of 'Db.MigrationSteps' into a line-by-line array of</span><span>
</span><span id="line-246"></span><span class="hs-comment">-- 'BL.ByteString's suitable for writing to a script.</span><span>
</span><span id="line-247"></span><span id="local-6989586621679190910"><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#migrateScript"><span class="hs-identifier hs-type">migrateScript</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-type">Db.MigrationSteps</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679190910"><span class="hs-identifier hs-type">a'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">BL.ByteString</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-248"></span><span id="migrateScript"><span class="annot"><span class="annottext">migrateScript :: MigrationSteps Postgres () a' -&gt; [ByteString]
</span><a href="Database.Beam.Postgres.Migrate.html#migrateScript"><span class="hs-identifier hs-var hs-var">migrateScript</span></a></span></span><span> </span><span id="local-6989586621679190664"><span class="annot"><span class="annottext">MigrationSteps Postgres () a'
</span><a href="#local-6989586621679190664"><span class="hs-identifier hs-var">steps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-249"></span><span>  </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;-- CAUTION: beam-postgres currently escapes postgres string literals somewhat\n&quot;</span></span><span>                 </span><span class="annot"><span class="annottext">ByteString -&gt; [ByteString] -&gt; [ByteString]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span>
</span><span id="line-250"></span><span>  </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;--          haphazardly when generating scripts (but not when generating commands)\n&quot;</span></span><span>            </span><span class="annot"><span class="annottext">ByteString -&gt; [ByteString] -&gt; [ByteString]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span>
</span><span id="line-251"></span><span>  </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;--          This is due to technical limitations in libPq that require a Postgres\n&quot;</span></span><span>             </span><span class="annot"><span class="annottext">ByteString -&gt; [ByteString] -&gt; [ByteString]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span>
</span><span id="line-252"></span><span>  </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;--          Connection in order to correctly escape strings. Please verify that the\n&quot;</span></span><span>           </span><span class="annot"><span class="annottext">ByteString -&gt; [ByteString] -&gt; [ByteString]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span>
</span><span id="line-253"></span><span>  </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;--          generated migration script is correct before running it on your database.\n&quot;</span></span><span>         </span><span class="annot"><span class="annottext">ByteString -&gt; [ByteString] -&gt; [ByteString]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span>
</span><span id="line-254"></span><span>  </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;--          If you feel so called, please contribute better escaping support to beam-postgres\n&quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; [ByteString] -&gt; [ByteString]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span>
</span><span id="line-255"></span><span>  </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;\n&quot;</span></span><span>                                                                                              </span><span class="annot"><span class="annottext">ByteString -&gt; [ByteString] -&gt; [ByteString]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span>
</span><span id="line-256"></span><span>  </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;-- Set connection encoding to UTF-8\n&quot;</span></span><span>                                                           </span><span class="annot"><span class="annottext">ByteString -&gt; [ByteString] -&gt; [ByteString]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span>
</span><span id="line-257"></span><span>  </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;SET client_encoding = 'UTF8';\n&quot;</span></span><span>                                                                 </span><span class="annot"><span class="annottext">ByteString -&gt; [ByteString] -&gt; [ByteString]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span>
</span><span id="line-258"></span><span>  </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;SET standard_conforming_strings = off;\n\n&quot;</span></span><span>                                                      </span><span class="annot"><span class="annottext">ByteString -&gt; [ByteString] -&gt; [ByteString]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span>
</span><span id="line-259"></span><span>  </span><span class="annot"><span class="annottext">Endo [ByteString] -&gt; [ByteString] -&gt; [ByteString]
forall a. Endo a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var">appEndo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Text -&gt; Endo [ByteString])
-&gt; (BeamSqlBackendSyntax Postgres -&gt; Endo [ByteString])
-&gt; MigrationSteps Postgres () a'
-&gt; Endo [ByteString]
forall be m a.
(Monoid m, Semigroup m, BeamSqlBackend be) =&gt;
(Text -&gt; m)
-&gt; (BeamSqlBackendSyntax be -&gt; m) -&gt; MigrationSteps be () a -&gt; m
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Db.migrateScript</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Endo [ByteString]
</span><a href="#local-6989586621679190661"><span class="hs-identifier hs-var">renderHeader</span></a></span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendSyntax Postgres -&gt; Endo [ByteString]
PgCommandSyntax -&gt; Endo [ByteString]
</span><a href="#local-6989586621679190660"><span class="hs-identifier hs-var">renderCommand</span></a></span><span> </span><span class="annot"><span class="annottext">MigrationSteps Postgres () a'
</span><a href="#local-6989586621679190664"><span class="hs-identifier hs-var">steps</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-260"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-261"></span><span>    </span><span id="local-6989586621679190661"><span class="annot"><span class="annottext">renderHeader :: Text -&gt; Endo [ByteString]
</span><a href="#local-6989586621679190661"><span class="hs-identifier hs-var hs-var">renderHeader</span></a></span></span><span> </span><span id="local-6989586621679190659"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679190659"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-262"></span><span>      </span><span class="annot"><span class="annottext">([ByteString] -&gt; [ByteString]) -&gt; Endo [ByteString]
forall a. (a -&gt; a) -&gt; Endo a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Endo</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;-- &quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; ByteString
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">BL.fromStrict</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; ByteString
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">TE.encodeUtf8</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679190659"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; ByteString
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;\n&quot;</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">ByteString -&gt; [ByteString] -&gt; [ByteString]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-263"></span><span>    </span><span id="local-6989586621679190660"><span class="annot"><span class="annottext">renderCommand :: PgCommandSyntax -&gt; Endo [ByteString]
</span><a href="#local-6989586621679190660"><span class="hs-identifier hs-var hs-var">renderCommand</span></a></span></span><span> </span><span id="local-6989586621679190655"><span class="annot"><span class="annottext">PgCommandSyntax
</span><a href="#local-6989586621679190655"><span class="hs-identifier hs-var">command</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-264"></span><span>      </span><span class="annot"><span class="annottext">([ByteString] -&gt; [ByteString]) -&gt; Endo [ByteString]
forall a. (a -&gt; a) -&gt; Endo a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Endo</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">PgSyntax -&gt; ByteString
</span><a href="Database.Beam.Postgres.Syntax.html#pgRenderSyntaxScript"><span class="hs-identifier hs-var">pgRenderSyntaxScript</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PgCommandSyntax -&gt; PgSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#fromPgCommand"><span class="hs-identifier hs-var hs-var">fromPgCommand</span></a></span><span> </span><span class="annot"><span class="annottext">PgCommandSyntax
</span><a href="#local-6989586621679190655"><span class="hs-identifier hs-var">command</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; ByteString
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;;\n&quot;</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">ByteString -&gt; [ByteString] -&gt; [ByteString]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span class="hs-comment">-- | Write the migration given by the 'Db.MigrationSteps' to a file.</span><span>
</span><span id="line-267"></span><span id="local-6989586621679190654"><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#writeMigrationScript"><span class="hs-identifier hs-type">writeMigrationScript</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">FilePath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-type">Db.MigrationSteps</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679190654"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-268"></span><span id="writeMigrationScript"><span class="annot"><span class="annottext">writeMigrationScript :: String -&gt; MigrationSteps Postgres () a -&gt; IO ()
</span><a href="Database.Beam.Postgres.Migrate.html#writeMigrationScript"><span class="hs-identifier hs-var hs-var">writeMigrationScript</span></a></span></span><span> </span><span id="local-6989586621679190652"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679190652"><span class="hs-identifier hs-var">fp</span></a></span></span><span> </span><span id="local-6989586621679190651"><span class="annot"><span class="annottext">MigrationSteps Postgres () a
</span><a href="#local-6989586621679190651"><span class="hs-identifier hs-var">steps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-269"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679190650"><span class="annot"><span class="annottext">stepBs :: [ByteString]
</span><a href="#local-6989586621679190650"><span class="hs-identifier hs-var hs-var">stepBs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MigrationSteps Postgres () a -&gt; [ByteString]
forall a'. MigrationSteps Postgres () a' -&gt; [ByteString]
</span><a href="Database.Beam.Postgres.Migrate.html#migrateScript"><span class="hs-identifier hs-var">migrateScript</span></a></span><span> </span><span class="annot"><span class="annottext">MigrationSteps Postgres () a
</span><a href="#local-6989586621679190651"><span class="hs-identifier hs-var">steps</span></a></span><span>
</span><span id="line-270"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">String -&gt; ByteString -&gt; IO ()
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">BL.writeFile</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679190652"><span class="hs-identifier hs-var">fp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[ByteString] -&gt; ByteString
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">BL.concat</span></a></span><span> </span><span class="annot"><span class="annottext">[ByteString]
</span><a href="#local-6989586621679190650"><span class="hs-identifier hs-var">stepBs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-271"></span><span>
</span><span id="line-272"></span><span id="local-6989586621679190906"><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#pgExpandDataType"><span class="hs-identifier hs-type">pgExpandDataType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Db.DataType</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190906"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Syntax.html#PgDataTypeSyntax"><span class="hs-identifier hs-type">PgDataTypeSyntax</span></a></span></span><span>
</span><span id="line-273"></span><span id="pgExpandDataType"><span class="annot"><span class="annottext">pgExpandDataType :: DataType Postgres a -&gt; PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Migrate.html#pgExpandDataType"><span class="hs-identifier hs-var hs-var">pgExpandDataType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Db.DataType</span></a></span><span> </span><span id="local-6989586621679190645"><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
</span><a href="#local-6989586621679190645"><span class="hs-identifier hs-var">pg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
PgDataTypeSyntax
</span><a href="#local-6989586621679190645"><span class="hs-identifier hs-var">pg</span></a></span><span>
</span><span id="line-274"></span><span>
</span><span id="line-275"></span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#pgCharLength"><span class="hs-identifier hs-type">pgCharLength</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Int32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Word</span></a></span><span>
</span><span id="line-276"></span><span id="pgCharLength"><span class="annot"><span class="annottext">pgCharLength :: Maybe Int32 -&gt; Maybe Word
</span><a href="Database.Beam.Postgres.Migrate.html#pgCharLength"><span class="hs-identifier hs-var hs-var">pgCharLength</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe Int32
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Word
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-277"></span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#pgCharLength"><span class="hs-identifier hs-var">pgCharLength</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-number">1</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Word
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-278"></span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#pgCharLength"><span class="hs-identifier hs-var">pgCharLength</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679190643"><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621679190643"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word -&gt; Maybe Word
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int32 -&gt; Word
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621679190643"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-279"></span><span>
</span><span id="line-280"></span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#pgDataTypeFromAtt"><span class="hs-identifier hs-type">pgDataTypeFromAtt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-type">Pg.Oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Int32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Syntax.html#PgDataTypeSyntax"><span class="hs-identifier hs-type">PgDataTypeSyntax</span></a></span><span>
</span><span id="line-281"></span><span id="pgDataTypeFromAtt"><span class="annot"><span class="annottext">pgDataTypeFromAtt :: ByteString -&gt; Oid -&gt; Maybe Int32 -&gt; Maybe PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Migrate.html#pgDataTypeFromAtt"><span class="hs-identifier hs-var hs-var">pgDataTypeFromAtt</span></a></span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679190642"><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190642"><span class="hs-identifier hs-var">oid</span></a></span></span><span> </span><span id="local-6989586621679190641"><span class="annot"><span class="annottext">Maybe Int32
</span><a href="#local-6989586621679190641"><span class="hs-identifier hs-var">pgMod</span></a></span></span><span>
</span><span id="line-282"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.bool</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190642"><span class="hs-identifier hs-var">oid</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax)
-&gt; PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DataType Postgres Bool -&gt; PgDataTypeSyntax
forall a. DataType Postgres a -&gt; PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Migrate.html#pgExpandDataType"><span class="hs-identifier hs-var">pgExpandDataType</span></a></span><span> </span><span class="annot"><span class="annottext">DataType Postgres Bool
forall be. BeamSql99DataTypeBackend be =&gt; DataType be Bool
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Db.boolean</span></a></span><span>
</span><span id="line-283"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.bytea</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190642"><span class="hs-identifier hs-var">oid</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax)
-&gt; PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DataType Postgres Text -&gt; PgDataTypeSyntax
forall a. DataType Postgres a -&gt; PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Migrate.html#pgExpandDataType"><span class="hs-identifier hs-var">pgExpandDataType</span></a></span><span> </span><span class="annot"><span class="annottext">DataType Postgres Text
forall be. BeamSql99DataTypeBackend be =&gt; DataType be Text
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Db.binaryLargeObject</span></a></span><span>
</span><span id="line-284"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.char</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190642"><span class="hs-identifier hs-var">oid</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax)
-&gt; PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DataType Postgres Text -&gt; PgDataTypeSyntax
forall a. DataType Postgres a -&gt; PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Migrate.html#pgExpandDataType"><span class="hs-identifier hs-var">pgExpandDataType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Word -&gt; DataType Postgres Text
forall be. BeamSqlBackend be =&gt; Maybe Word -&gt; DataType be Text
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Db.char</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Int32 -&gt; Maybe Word
</span><a href="Database.Beam.Postgres.Migrate.html#pgCharLength"><span class="hs-identifier hs-var">pgCharLength</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int32
</span><a href="#local-6989586621679190641"><span class="hs-identifier hs-var">pgMod</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-285"></span><span>  </span><span class="hs-comment">-- TODO Pg.name</span><span>
</span><span id="line-286"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.int8</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190642"><span class="hs-identifier hs-var">oid</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax)
-&gt; PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DataType Postgres Int64 -&gt; PgDataTypeSyntax
forall a. DataType Postgres a -&gt; PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Migrate.html#pgExpandDataType"><span class="hs-identifier hs-var">pgExpandDataType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataType Postgres Int64
forall be a.
(BeamSqlBackend be, BeamSqlT071Backend be, Integral a) =&gt;
DataType be a
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Db.bigint</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Db.DataType</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Int64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-287"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.int4</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190642"><span class="hs-identifier hs-var">oid</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax)
-&gt; PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DataType Postgres Int32 -&gt; PgDataTypeSyntax
forall a. DataType Postgres a -&gt; PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Migrate.html#pgExpandDataType"><span class="hs-identifier hs-var">pgExpandDataType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataType Postgres Int32
forall be a. (BeamSqlBackend be, Integral a) =&gt; DataType be a
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Db.int</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Db.DataType</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Int32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-288"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.int2</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190642"><span class="hs-identifier hs-var">oid</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax)
-&gt; PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DataType Postgres Int16 -&gt; PgDataTypeSyntax
forall a. DataType Postgres a -&gt; PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Migrate.html#pgExpandDataType"><span class="hs-identifier hs-var">pgExpandDataType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataType Postgres Int16
forall be a. (BeamSqlBackend be, Integral a) =&gt; DataType be a
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Db.smallint</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Db.DataType</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Int16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-289"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.varchar</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190642"><span class="hs-identifier hs-var">oid</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax)
-&gt; PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DataType Postgres Text -&gt; PgDataTypeSyntax
forall a. DataType Postgres a -&gt; PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Migrate.html#pgExpandDataType"><span class="hs-identifier hs-var">pgExpandDataType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Word -&gt; DataType Postgres Text
forall be. BeamSqlBackend be =&gt; Maybe Word -&gt; DataType be Text
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Db.varchar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Int32 -&gt; Maybe Word
</span><a href="Database.Beam.Postgres.Migrate.html#pgCharLength"><span class="hs-identifier hs-var">pgCharLength</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int32
</span><a href="#local-6989586621679190641"><span class="hs-identifier hs-var">pgMod</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-290"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.timestamp</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190642"><span class="hs-identifier hs-var">oid</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax)
-&gt; PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DataType Postgres LocalTime -&gt; PgDataTypeSyntax
forall a. DataType Postgres a -&gt; PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Migrate.html#pgExpandDataType"><span class="hs-identifier hs-var">pgExpandDataType</span></a></span><span> </span><span class="annot"><span class="annottext">DataType Postgres LocalTime
forall be. BeamSqlBackend be =&gt; DataType be LocalTime
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Db.timestamp</span></a></span><span>
</span><span id="line-291"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.timestamptz</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190642"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax)
-&gt; PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DataType Postgres LocalTime -&gt; PgDataTypeSyntax
forall a. DataType Postgres a -&gt; PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Migrate.html#pgExpandDataType"><span class="hs-identifier hs-var">pgExpandDataType</span></a></span><span> </span><span class="annot"><span class="annottext">DataType Postgres LocalTime
forall be. BeamSqlBackend be =&gt; DataType be LocalTime
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Db.timestamptz</span></a></span><span>
</span><span id="line-292"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.float8</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190642"><span class="hs-identifier hs-var">oid</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax)
-&gt; PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DataType Postgres Double -&gt; PgDataTypeSyntax
forall a. DataType Postgres a -&gt; PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Migrate.html#pgExpandDataType"><span class="hs-identifier hs-var">pgExpandDataType</span></a></span><span> </span><span class="annot"><span class="annottext">DataType Postgres Double
forall be. BeamSqlBackend be =&gt; DataType be Double
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Db.double</span></a></span><span>
</span><span id="line-293"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.text</span></a></span><span>  </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190642"><span class="hs-identifier hs-var">oid</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax)
-&gt; PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgTextType"><span class="hs-identifier hs-var">pgTextType</span></a></span><span>
</span><span id="line-294"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.json</span></a></span><span>  </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190642"><span class="hs-identifier hs-var">oid</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax)
-&gt; PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgJsonType"><span class="hs-identifier hs-var">pgJsonType</span></a></span><span>
</span><span id="line-295"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.jsonb</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190642"><span class="hs-identifier hs-var">oid</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax)
-&gt; PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgJsonbType"><span class="hs-identifier hs-var">pgJsonbType</span></a></span><span>
</span><span id="line-296"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.uuid</span></a></span><span>  </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190642"><span class="hs-identifier hs-var">oid</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax)
-&gt; PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgUuidType"><span class="hs-identifier hs-var">pgUuidType</span></a></span><span>
</span><span id="line-297"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.point</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190642"><span class="hs-identifier hs-var">oid</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax)
-&gt; PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgPointType"><span class="hs-identifier hs-var">pgPointType</span></a></span><span>
</span><span id="line-298"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.line</span></a></span><span>  </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190642"><span class="hs-identifier hs-var">oid</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax)
-&gt; PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgLineType"><span class="hs-identifier hs-var">pgLineType</span></a></span><span>
</span><span id="line-299"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.lseg</span></a></span><span>  </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190642"><span class="hs-identifier hs-var">oid</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax)
-&gt; PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgLineSegmentType"><span class="hs-identifier hs-var">pgLineSegmentType</span></a></span><span>
</span><span id="line-300"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.box</span></a></span><span>   </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190642"><span class="hs-identifier hs-var">oid</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax)
-&gt; PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgBoxType"><span class="hs-identifier hs-var">pgBoxType</span></a></span><span>
</span><span id="line-301"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var hs-var">Pg.typoid</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.numeric</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190642"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-302"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679190629"><span class="annot"><span class="annottext">precAndDecimal :: Maybe (Word, Maybe Word)
</span><a href="#local-6989586621679190629"><span class="hs-identifier hs-var hs-var">precAndDecimal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-303"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Int32
</span><a href="#local-6989586621679190641"><span class="hs-identifier hs-var">pgMod</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-304"></span><span>              </span><span class="annot"><span class="annottext">Maybe Int32
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Word, Maybe Word)
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-305"></span><span>              </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679190628"><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621679190628"><span class="hs-identifier hs-var">pgMod'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-306"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679190627"><span class="annot"><span class="annottext">prec :: Word
</span><a href="#local-6989586621679190627"><span class="hs-identifier hs-var hs-var">prec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Word
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621679190628"><span class="hs-identifier hs-var">pgMod'</span></a></span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Int -&gt; Int32
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">`shiftR`</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">16</span></span><span class="hs-special">)</span><span>
</span><span id="line-307"></span><span>                    </span><span id="local-6989586621679190626"><span class="annot"><span class="annottext">dec :: Word
</span><a href="#local-6989586621679190626"><span class="hs-identifier hs-var hs-var">dec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Word
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621679190628"><span class="hs-identifier hs-var">pgMod'</span></a></span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Int32 -&gt; Int32
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.&amp;.</span></a></span><span> </span><span class="annot"><span class="annottext">Int32
</span><span class="hs-number">0xFFFF</span></span><span class="hs-special">)</span><span>
</span><span id="line-308"></span><span>                </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(Word, Maybe Word) -&gt; Maybe (Word, Maybe Word)
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679190627"><span class="hs-identifier hs-var">prec</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679190626"><span class="hs-identifier hs-var">dec</span></a></span><span> </span><span class="annot"><span class="annottext">Word -&gt; Word -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><span class="hs-number">0</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Maybe Word
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Word -&gt; Maybe Word
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Word
</span><a href="#local-6989586621679190626"><span class="hs-identifier hs-var">dec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-309"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax)
-&gt; PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">DataType Postgres Scientific -&gt; PgDataTypeSyntax
forall a. DataType Postgres a -&gt; PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Migrate.html#pgExpandDataType"><span class="hs-identifier hs-var">pgExpandDataType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (Word, Maybe Word) -&gt; DataType Postgres Scientific
forall be.
BeamSqlBackend be =&gt;
Maybe (Word, Maybe Word) -&gt; DataType be Scientific
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Db.numeric</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Word, Maybe Word)
</span><a href="#local-6989586621679190629"><span class="hs-identifier hs-var">precAndDecimal</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-310"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe PgDataTypeSyntax
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-311"></span><span>
</span><span id="line-312"></span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#pgEnumerationTypeFromAtt"><span class="hs-identifier hs-type">pgEnumerationTypeFromAtt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">T.Text</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-type">Pg.Oid</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../vector/html/src"><span class="hs-identifier hs-type">V.Vector</span></a></span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">T.Text</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-type">Pg.Oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Int32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Syntax.html#PgDataTypeSyntax"><span class="hs-identifier hs-type">PgDataTypeSyntax</span></a></span><span>
</span><span id="line-313"></span><span id="pgEnumerationTypeFromAtt"><span class="annot"><span class="annottext">pgEnumerationTypeFromAtt :: [(Text, Oid, Vector Text)]
-&gt; ByteString -&gt; Oid -&gt; Maybe Int32 -&gt; Maybe PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Migrate.html#pgEnumerationTypeFromAtt"><span class="hs-identifier hs-var hs-var">pgEnumerationTypeFromAtt</span></a></span></span><span> </span><span id="local-6989586621679190623"><span class="annot"><span class="annottext">[(Text, Oid, Vector Text)]
</span><a href="#local-6989586621679190623"><span class="hs-identifier hs-var">enumData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-314"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679190622"><span class="annot"><span class="annottext">enumDataMap :: HashMap Word64 PgDataTypeSyntax
</span><a href="#local-6989586621679190622"><span class="hs-identifier hs-var hs-var">enumDataMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Word64, PgDataTypeSyntax)] -&gt; HashMap Word64 PgDataTypeSyntax
forall k v. (Eq k, Hashable k) =&gt; [(k, v)] -&gt; HashMap k v
</span><a href="../../../../unordered-containers/html/src"><span class="hs-identifier hs-var">HM.fromList</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CUInt -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">CUInt
</span><a href="#local-6989586621679190620"><span class="hs-identifier hs-var">oid'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Word64</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- Get around lack of Hashable for CUInt</span><span>
</span><span id="line-315"></span><span>                                   </span><span class="annot"><span class="annottext">PgDataTypeDescr
-&gt; PgSyntax -&gt; BeamSerializedDataType -&gt; PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#PgDataTypeSyntax"><span class="hs-identifier hs-var">PgDataTypeSyntax</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; PgDataTypeDescr
</span><a href="Database.Beam.Postgres.Syntax.html#PgDataTypeDescrDomain"><span class="hs-identifier hs-var">PgDataTypeDescrDomain</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679190618"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; PgSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#emit"><span class="hs-identifier hs-var">emit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; ByteString
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">TE.encodeUtf8</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679190618"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-316"></span><span>                                          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Value -&gt; BeamSerializedDataType
</span><a href="Database.Beam.Postgres.Syntax.html#pgDataTypeJSON"><span class="hs-identifier hs-var">pgDataTypeJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">object</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;customType&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Text -&gt; Pair
forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">.=</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679190618"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679190618"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679190618"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-type">Pg.Oid</span></a></span><span> </span><span id="local-6989586621679190620"><span class="annot"><span class="annottext">CUInt
</span><a href="#local-6989586621679190620"><span class="hs-identifier hs-var">oid'</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Vector Text
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(Text, Oid, Vector Text)]
</span><a href="#local-6989586621679190623"><span class="hs-identifier hs-var">enumData</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-317"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-type">Pg.Oid</span></a></span><span> </span><span id="local-6989586621679190612"><span class="annot"><span class="annottext">CUInt
</span><a href="#local-6989586621679190612"><span class="hs-identifier hs-var">oid</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe Int32
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; HashMap Word64 PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall k v. (Eq k, Hashable k) =&gt; k -&gt; HashMap k v -&gt; Maybe v
</span><a href="../../../../unordered-containers/html/src"><span class="hs-identifier hs-var">HM.lookup</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CUInt -&gt; Word64
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">CUInt
</span><a href="#local-6989586621679190612"><span class="hs-identifier hs-var">oid</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HashMap Word64 PgDataTypeSyntax
</span><a href="#local-6989586621679190622"><span class="hs-identifier hs-var">enumDataMap</span></a></span><span>
</span><span id="line-318"></span><span>
</span><span id="line-319"></span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#pgUnknownDataType"><span class="hs-identifier hs-type">pgUnknownDataType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-type">Pg.Oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Int32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Syntax.html#PgDataTypeSyntax"><span class="hs-identifier hs-type">PgDataTypeSyntax</span></a></span><span>
</span><span id="line-320"></span><span id="pgUnknownDataType"><span class="annot"><span class="annottext">pgUnknownDataType :: Oid -&gt; Maybe Int32 -&gt; PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Migrate.html#pgUnknownDataType"><span class="hs-identifier hs-var hs-var">pgUnknownDataType</span></a></span></span><span> </span><span id="local-6989586621679190609"><span class="annot"><span class="annottext">oid :: Oid
</span><a href="#local-6989586621679190609"><span class="hs-identifier hs-var">oid</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-type">Pg.Oid</span></a></span><span> </span><span id="local-6989586621679190608"><span class="annot"><span class="annottext">CUInt
</span><a href="#local-6989586621679190608"><span class="hs-identifier hs-var">oid'</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679190607"><span class="annot"><span class="annottext">Maybe Int32
</span><a href="#local-6989586621679190607"><span class="hs-identifier hs-var">pgMod</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-321"></span><span>  </span><span class="annot"><span class="annottext">PgDataTypeDescr
-&gt; PgSyntax -&gt; BeamSerializedDataType -&gt; PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#PgDataTypeSyntax"><span class="hs-identifier hs-var">PgDataTypeSyntax</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Oid -&gt; Maybe Int32 -&gt; PgDataTypeDescr
</span><a href="Database.Beam.Postgres.Syntax.html#PgDataTypeDescrOid"><span class="hs-identifier hs-var">PgDataTypeDescrOid</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190609"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int32
</span><a href="#local-6989586621679190607"><span class="hs-identifier hs-var">pgMod</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; PgSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#emit"><span class="hs-identifier hs-var">emit</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;{- UNKNOWN -}&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-322"></span><span>                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Value -&gt; BeamSerializedDataType
</span><a href="Database.Beam.Postgres.Syntax.html#pgDataTypeJSON"><span class="hs-identifier hs-var">pgDataTypeJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">object</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;oid&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Word -&gt; Pair
forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">.=</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CUInt -&gt; Word
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">CUInt
</span><a href="#local-6989586621679190608"><span class="hs-identifier hs-var">oid'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Word</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;mod&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Maybe Int32 -&gt; Pair
forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">.=</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int32
</span><a href="#local-6989586621679190607"><span class="hs-identifier hs-var">pgMod</span></a></span><span> </span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-323"></span><span>
</span><span id="line-324"></span><span class="hs-comment">-- * Create constraints from a connection</span><span>
</span><span id="line-325"></span><span>
</span><span id="line-326"></span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#getDbConstraints"><span class="hs-identifier hs-type">getDbConstraints</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-type">Pg.Connection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-type">Db.SomeDatabasePredicate</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-327"></span><span id="getDbConstraints"><span class="annot"><span class="annottext">getDbConstraints :: Connection -&gt; IO [SomeDatabasePredicate]
</span><a href="Database.Beam.Postgres.Migrate.html#getDbConstraints"><span class="hs-identifier hs-var hs-var">getDbConstraints</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe [String] -&gt; Connection -&gt; IO [SomeDatabasePredicate]
</span><a href="Database.Beam.Postgres.Migrate.html#getDbConstraintsForSchemas"><span class="hs-identifier hs-var">getDbConstraintsForSchemas</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-328"></span><span>
</span><span id="line-329"></span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#getDbConstraintsForSchemas"><span class="hs-identifier hs-type">getDbConstraintsForSchemas</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-type">Pg.Connection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-type">Db.SomeDatabasePredicate</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-330"></span><span id="getDbConstraintsForSchemas"><span class="annot"><span class="annottext">getDbConstraintsForSchemas :: Maybe [String] -&gt; Connection -&gt; IO [SomeDatabasePredicate]
</span><a href="Database.Beam.Postgres.Migrate.html#getDbConstraintsForSchemas"><span class="hs-identifier hs-var hs-var">getDbConstraintsForSchemas</span></a></span></span><span> </span><span id="local-6989586621679190606"><span class="annot"><span class="annottext">Maybe [String]
</span><a href="#local-6989586621679190606"><span class="hs-identifier hs-var">subschemas</span></a></span></span><span> </span><span id="local-6989586621679190605"><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679190605"><span class="hs-identifier hs-var">conn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-331"></span><span>  </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621679190604"><span class="annot"><span class="annottext">[(Oid, Text)]
</span><a href="#local-6989586621679190604"><span class="hs-identifier hs-var">tbls</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe [String]
</span><a href="#local-6989586621679190606"><span class="hs-identifier hs-var">subschemas</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-332"></span><span>        </span><span class="annot"><span class="annottext">Maybe [String]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Connection -&gt; Query -&gt; IO [(Oid, Text)]
forall r. FromRow r =&gt; Connection -&gt; Query -&gt; IO [r]
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.query_</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679190605"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="annot"><span class="annottext">Query
</span><span class="hs-string">&quot;SELECT cl.oid, relname FROM pg_catalog.pg_class \&quot;cl\&quot; join pg_catalog.pg_namespace \&quot;ns\&quot; on (ns.oid = relnamespace) where nspname = any (current_schemas(false)) and relkind='r'&quot;</span></span><span>
</span><span id="line-333"></span><span>        </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679190602"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679190602"><span class="hs-identifier hs-var">ss</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Connection -&gt; Query -&gt; Only (In [String]) -&gt; IO [(Oid, Text)]
forall q r.
(ToRow q, FromRow r) =&gt;
Connection -&gt; Query -&gt; q -&gt; IO [r]
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.query</span></a></span><span>  </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679190605"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="annot"><span class="annottext">Query
</span><span class="hs-string">&quot;SELECT cl.oid, relname FROM pg_catalog.pg_class \&quot;cl\&quot; join pg_catalog.pg_namespace \&quot;ns\&quot; on (ns.oid = relnamespace) where nspname IN ? and relkind='r'&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">In [String] -&gt; Only (In [String])
forall a. a -&gt; Only a
</span><a href="../../../../Only/html/src"><span class="hs-identifier hs-var">Pg.Only</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[String] -&gt; In [String]
forall a. a -&gt; In a
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.In</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679190602"><span class="hs-identifier hs-var">ss</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-334"></span><span>     </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679190598"><span class="annot"><span class="annottext">tblsExist :: [SomeDatabasePredicate]
</span><a href="#local-6989586621679190598"><span class="hs-identifier hs-var hs-var">tblsExist</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Oid, Text) -&gt; SomeDatabasePredicate)
-&gt; [(Oid, Text)] -&gt; [SomeDatabasePredicate]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Oid
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679190597"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679190597"><span class="hs-identifier hs-var">tbl</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TableExistsPredicate -&gt; SomeDatabasePredicate
forall p. DatabasePredicate p =&gt; p -&gt; SomeDatabasePredicate
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Db.SomeDatabasePredicate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QualifiedName -&gt; TableExistsPredicate
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Db.TableExistsPredicate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Text -&gt; Text -&gt; QualifiedName
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Db.QualifiedName</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Text
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679190597"><span class="hs-identifier hs-var">tbl</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Oid, Text)]
</span><a href="#local-6989586621679190604"><span class="hs-identifier hs-var">tbls</span></a></span><span>
</span><span id="line-335"></span><span>
</span><span id="line-336"></span><span>     </span><span id="local-6989586621679190594"><span class="annot"><span class="annottext">[(Text, Oid, Vector Text)]
</span><a href="#local-6989586621679190594"><span class="hs-identifier hs-var">enumerationData</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-337"></span><span>       </span><span class="annot"><span class="annottext">Connection -&gt; Query -&gt; IO [(Text, Oid, Vector Text)]
forall r. FromRow r =&gt; Connection -&gt; Query -&gt; IO [r]
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.query_</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679190605"><span class="hs-identifier hs-var">conn</span></a></span><span>
</span><span id="line-338"></span><span>         </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Query
forall a. IsString a =&gt; String -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">unlines</span></a></span><span>
</span><span id="line-339"></span><span>                      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SELECT t.typname, t.oid, array_agg(e.enumlabel ORDER BY e.enumsortorder)&quot;</span></span><span>
</span><span id="line-340"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;FROM pg_enum e JOIN pg_type t ON t.oid = e.enumtypid&quot;</span></span><span>
</span><span id="line-341"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;GROUP BY t.typname, t.oid&quot;</span></span><span> </span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-342"></span><span>
</span><span id="line-343"></span><span>     </span><span id="local-6989586621679190593"><span class="annot"><span class="annottext">[SomeDatabasePredicate]
</span><a href="#local-6989586621679190593"><span class="hs-identifier hs-var">columnChecks</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-344"></span><span>       </span><span class="annot"><span class="annottext">([[SomeDatabasePredicate]] -&gt; [SomeDatabasePredicate])
-&gt; IO [[SomeDatabasePredicate]] -&gt; IO [SomeDatabasePredicate]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">[[SomeDatabasePredicate]] -&gt; [SomeDatabasePredicate]
forall a. Monoid a =&gt; [a] -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mconcat</span></a></span><span> </span><span class="annot"><span class="annottext">(IO [[SomeDatabasePredicate]] -&gt; IO [SomeDatabasePredicate])
-&gt; (((Oid, Text) -&gt; IO [SomeDatabasePredicate])
    -&gt; IO [[SomeDatabasePredicate]])
-&gt; ((Oid, Text) -&gt; IO [SomeDatabasePredicate])
-&gt; IO [SomeDatabasePredicate]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[(Oid, Text)]
-&gt; ((Oid, Text) -&gt; IO [SomeDatabasePredicate])
-&gt; IO [[SomeDatabasePredicate]]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m (t b)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">forM</span></a></span><span> </span><span class="annot"><span class="annottext">[(Oid, Text)]
</span><a href="#local-6989586621679190604"><span class="hs-identifier hs-var">tbls</span></a></span><span> </span><span class="annot"><span class="annottext">(((Oid, Text) -&gt; IO [SomeDatabasePredicate])
 -&gt; IO [SomeDatabasePredicate])
-&gt; ((Oid, Text) -&gt; IO [SomeDatabasePredicate])
-&gt; IO [SomeDatabasePredicate]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679190591"><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190591"><span class="hs-identifier hs-var">oid</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679190590"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679190590"><span class="hs-identifier hs-var">tbl</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-345"></span><span>       </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621679190589"><span class="annot"><span class="annottext">[(Text, Oid, Int32, Bool, ByteString)]
</span><a href="#local-6989586621679190589"><span class="hs-identifier hs-var">columns</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Connection
-&gt; Query -&gt; Only Oid -&gt; IO [(Text, Oid, Int32, Bool, ByteString)]
forall q r.
(ToRow q, FromRow r) =&gt;
Connection -&gt; Query -&gt; q -&gt; IO [r]
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.query</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679190605"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="annot"><span class="annottext">Query
</span><span class="hs-string">&quot;SELECT attname, atttypid, atttypmod, attnotnull, pg_catalog.format_type(atttypid, atttypmod) FROM pg_catalog.pg_attribute att WHERE att.attrelid=? AND att.attnum&gt;0 AND att.attisdropped='f'&quot;</span></span><span>
</span><span id="line-346"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Oid -&gt; Only Oid
forall a. a -&gt; Only a
</span><a href="../../../../Only/html/src"><span class="hs-identifier hs-var">Pg.Only</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190591"><span class="hs-identifier hs-var">oid</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-type">Pg.Oid</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-347"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679190588"><span class="annot"><span class="annottext">columnChecks :: [SomeDatabasePredicate]
</span><a href="#local-6989586621679190588"><span class="hs-identifier hs-var hs-var">columnChecks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Text, Oid, Int32, Bool, ByteString) -&gt; SomeDatabasePredicate)
-&gt; [(Text, Oid, Int32, Bool, ByteString)]
-&gt; [SomeDatabasePredicate]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679190587"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679190587"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679190586"><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190586"><span class="hs-identifier hs-var">typId</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-type">Pg.Oid</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679190585"><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621679190585"><span class="hs-identifier hs-var">typmod</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679190584"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679190584"><span class="hs-identifier hs-var">typ</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-348"></span><span>                                    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679190583"><span class="annot"><span class="annottext">typmod' :: Maybe Int32
</span><a href="#local-6989586621679190583"><span class="hs-identifier hs-var hs-var">typmod'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621679190585"><span class="hs-identifier hs-var">typmod</span></a></span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Int32 -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Int32
</span><span class="hs-number">1</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Maybe Int32
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Maybe Int32
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int32
</span><a href="#local-6989586621679190585"><span class="hs-identifier hs-var">typmod</span></a></span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Int32 -&gt; Int32
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Int32
</span><span class="hs-number">4</span></span><span class="hs-special">)</span><span>
</span><span id="line-349"></span><span>
</span><span id="line-350"></span><span>                                        </span><span id="local-6989586621679190582"><span class="annot"><span class="annottext">pgDataType :: PgDataTypeSyntax
</span><a href="#local-6989586621679190582"><span class="hs-identifier hs-var hs-var">pgDataType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax -&gt; PgDataTypeSyntax
forall a. a -&gt; Maybe a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Oid -&gt; Maybe Int32 -&gt; PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Migrate.html#pgUnknownDataType"><span class="hs-identifier hs-var">pgUnknownDataType</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190586"><span class="hs-identifier hs-var">typId</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int32
</span><a href="#local-6989586621679190583"><span class="hs-identifier hs-var">typmod'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe PgDataTypeSyntax -&gt; PgDataTypeSyntax)
-&gt; Maybe PgDataTypeSyntax -&gt; PgDataTypeSyntax
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-351"></span><span>                                                     </span><span class="annot"><span class="annottext">ByteString -&gt; Oid -&gt; Maybe Int32 -&gt; Maybe PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Migrate.html#pgDataTypeFromAtt"><span class="hs-identifier hs-var">pgDataTypeFromAtt</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679190584"><span class="hs-identifier hs-var">typ</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190586"><span class="hs-identifier hs-var">typId</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int32
</span><a href="#local-6989586621679190583"><span class="hs-identifier hs-var">typmod'</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe PgDataTypeSyntax
-&gt; Maybe PgDataTypeSyntax -&gt; Maybe PgDataTypeSyntax
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;|&gt;</span></a></span><span>
</span><span id="line-352"></span><span>                                                     </span><span class="annot"><span class="annottext">[(Text, Oid, Vector Text)]
-&gt; ByteString -&gt; Oid -&gt; Maybe Int32 -&gt; Maybe PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Migrate.html#pgEnumerationTypeFromAtt"><span class="hs-identifier hs-var">pgEnumerationTypeFromAtt</span></a></span><span> </span><span class="annot"><span class="annottext">[(Text, Oid, Vector Text)]
</span><a href="#local-6989586621679190594"><span class="hs-identifier hs-var">enumerationData</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679190584"><span class="hs-identifier hs-var">typ</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679190586"><span class="hs-identifier hs-var">typId</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int32
</span><a href="#local-6989586621679190583"><span class="hs-identifier hs-var">typmod'</span></a></span><span>
</span><span id="line-353"></span><span>
</span><span id="line-354"></span><span>                                    </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">TableHasColumn Postgres -&gt; SomeDatabasePredicate
forall p. DatabasePredicate p =&gt; p -&gt; SomeDatabasePredicate
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Db.SomeDatabasePredicate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QualifiedName
-&gt; Text
-&gt; BeamMigrateSqlBackendDataTypeSyntax Postgres
-&gt; TableHasColumn Postgres
forall be.
HasDataTypeCreatedCheck (BeamMigrateSqlBackendDataTypeSyntax be) =&gt;
QualifiedName
-&gt; Text
-&gt; BeamMigrateSqlBackendDataTypeSyntax be
-&gt; TableHasColumn be
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Db.TableHasColumn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Text -&gt; Text -&gt; QualifiedName
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Db.QualifiedName</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Text
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679190590"><span class="hs-identifier hs-var">tbl</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679190587"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">BeamMigrateSqlBackendDataTypeSyntax Postgres
PgDataTypeSyntax
</span><a href="#local-6989586621679190582"><span class="hs-identifier hs-var">pgDataType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-type">Db.TableHasColumn</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Text, Oid, Int32, Bool, ByteString)]
</span><a href="#local-6989586621679190589"><span class="hs-identifier hs-var">columns</span></a></span><span>
</span><span id="line-355"></span><span>              </span><span id="local-6989586621679190580"><span class="annot"><span class="annottext">notNullChecks :: [SomeDatabasePredicate]
</span><a href="#local-6989586621679190580"><span class="hs-identifier hs-var hs-var">notNullChecks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Text, Oid, Int32, Bool, ByteString) -&gt; [SomeDatabasePredicate])
-&gt; [(Text, Oid, Int32, Bool, ByteString)]
-&gt; [SomeDatabasePredicate]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">concatMap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679190578"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679190578"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Oid
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int32
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679190577"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679190577"><span class="hs-identifier hs-var">isNotNull</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-356"></span><span>                                           </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679190577"><span class="hs-identifier hs-var">isNotNull</span></a></span><span> </span><span class="hs-keyword">then</span><span>
</span><span id="line-357"></span><span>                                            </span><span class="hs-special">[</span><span class="annot"><span class="annottext">TableColumnHasConstraint Postgres -&gt; SomeDatabasePredicate
forall p. DatabasePredicate p =&gt; p -&gt; SomeDatabasePredicate
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Db.SomeDatabasePredicate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QualifiedName
-&gt; Text
-&gt; BeamSqlBackendColumnConstraintDefinitionSyntax Postgres
-&gt; TableColumnHasConstraint Postgres
forall be.
QualifiedName
-&gt; Text
-&gt; BeamSqlBackendColumnConstraintDefinitionSyntax be
-&gt; TableColumnHasConstraint be
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Db.TableColumnHasConstraint</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Text -&gt; Text -&gt; QualifiedName
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Db.QualifiedName</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Text
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679190590"><span class="hs-identifier hs-var">tbl</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679190578"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Text
-&gt; Sql92ColumnConstraintDefinitionConstraintSyntax
     PgColumnConstraintDefinitionSyntax
-&gt; Maybe
     (Sql92ColumnConstraintDefinitionAttributesSyntax
        PgColumnConstraintDefinitionSyntax)
-&gt; PgColumnConstraintDefinitionSyntax
forall constraint.
IsSql92ColumnConstraintDefinitionSyntax constraint =&gt;
Maybe Text
-&gt; Sql92ColumnConstraintDefinitionConstraintSyntax constraint
-&gt; Maybe
     (Sql92ColumnConstraintDefinitionAttributesSyntax constraint)
-&gt; constraint
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Db.constraintDefinitionSyntax</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Text
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Sql92ColumnConstraintDefinitionConstraintSyntax
  PgColumnConstraintDefinitionSyntax
forall constraint.
IsSql92ColumnConstraintSyntax constraint =&gt;
constraint
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Db.notNullConstraintSyntax</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe
  (Sql92ColumnConstraintDefinitionAttributesSyntax
     PgColumnConstraintDefinitionSyntax)
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-358"></span><span>                                              </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-type">Db.TableColumnHasConstraint</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-359"></span><span>                                           </span><span class="hs-keyword">else</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Text, Oid, Int32, Bool, ByteString)]
</span><a href="#local-6989586621679190589"><span class="hs-identifier hs-var">columns</span></a></span><span>
</span><span id="line-360"></span><span>
</span><span id="line-361"></span><span>          </span><span class="annot"><span class="annottext">[SomeDatabasePredicate] -&gt; IO [SomeDatabasePredicate]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SomeDatabasePredicate]
</span><a href="#local-6989586621679190588"><span class="hs-identifier hs-var">columnChecks</span></a></span><span> </span><span class="annot"><span class="annottext">[SomeDatabasePredicate]
-&gt; [SomeDatabasePredicate] -&gt; [SomeDatabasePredicate]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[SomeDatabasePredicate]
</span><a href="#local-6989586621679190580"><span class="hs-identifier hs-var">notNullChecks</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-362"></span><span>
</span><span id="line-363"></span><span>     </span><span id="local-6989586621679190576"><span class="annot"><span class="annottext">[SomeDatabasePredicate]
</span><a href="#local-6989586621679190576"><span class="hs-identifier hs-var">primaryKeys</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-364"></span><span>       </span><span class="annot"><span class="annottext">((Text, Vector Text) -&gt; SomeDatabasePredicate)
-&gt; [(Text, Vector Text)] -&gt; [SomeDatabasePredicate]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679190575"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679190575"><span class="hs-identifier hs-var">relnm</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679190574"><span class="annot"><span class="annottext">Vector Text
</span><a href="#local-6989586621679190574"><span class="hs-identifier hs-var">cols</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TableHasPrimaryKey -&gt; SomeDatabasePredicate
forall p. DatabasePredicate p =&gt; p -&gt; SomeDatabasePredicate
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Db.SomeDatabasePredicate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QualifiedName -&gt; [Text] -&gt; TableHasPrimaryKey
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Db.TableHasPrimaryKey</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Text -&gt; Text -&gt; QualifiedName
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Db.QualifiedName</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Text
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679190575"><span class="hs-identifier hs-var">relnm</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector Text -&gt; [Text]
forall a. Vector a -&gt; [a]
</span><a href="../../../../vector/html/src"><span class="hs-identifier hs-var">V.toList</span></a></span><span> </span><span class="annot"><span class="annottext">Vector Text
</span><a href="#local-6989586621679190574"><span class="hs-identifier hs-var">cols</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(Text, Vector Text)] -&gt; [SomeDatabasePredicate])
-&gt; IO [(Text, Vector Text)] -&gt; IO [SomeDatabasePredicate]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span>
</span><span id="line-365"></span><span>       </span><span class="annot"><span class="annottext">Connection -&gt; Query -&gt; IO [(Text, Vector Text)]
forall r. FromRow r =&gt; Connection -&gt; Query -&gt; IO [r]
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.query_</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679190605"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Query
forall a. IsString a =&gt; String -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[String] -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">unlines</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SELECT c.relname, array_agg(a.attname ORDER BY k.n ASC)&quot;</span></span><span>
</span><span id="line-366"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;FROM pg_index i&quot;</span></span><span>
</span><span id="line-367"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;CROSS JOIN unnest(i.indkey) WITH ORDINALITY k(attid, n)&quot;</span></span><span>
</span><span id="line-368"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;JOIN pg_attribute a ON a.attnum=k.attid AND a.attrelid=i.indrelid&quot;</span></span><span>
</span><span id="line-369"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;JOIN pg_class c ON c.oid=i.indrelid&quot;</span></span><span>
</span><span id="line-370"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;JOIN pg_namespace ns ON ns.oid=c.relnamespace&quot;</span></span><span>
</span><span id="line-371"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;WHERE ns.nspname = any (current_schemas(false)) AND c.relkind='r' AND i.indisprimary GROUP BY relname, i.indrelid&quot;</span></span><span> </span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-372"></span><span>
</span><span id="line-373"></span><span>     </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679190571"><span class="annot"><span class="annottext">enumerations :: [SomeDatabasePredicate]
</span><a href="#local-6989586621679190571"><span class="hs-identifier hs-var hs-var">enumerations</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-374"></span><span>           </span><span class="annot"><span class="annottext">((Text, Oid, Vector Text) -&gt; SomeDatabasePredicate)
-&gt; [(Text, Oid, Vector Text)] -&gt; [SomeDatabasePredicate]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679190570"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679190570"><span class="hs-identifier hs-var">enumNm</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Oid
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679190569"><span class="annot"><span class="annottext">Vector Text
</span><a href="#local-6989586621679190569"><span class="hs-identifier hs-var">options</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PgHasEnum -&gt; SomeDatabasePredicate
forall p. DatabasePredicate p =&gt; p -&gt; SomeDatabasePredicate
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Db.SomeDatabasePredicate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; [Text] -&gt; PgHasEnum
</span><a href="Database.Beam.Postgres.Syntax.html#PgHasEnum"><span class="hs-identifier hs-var">PgHasEnum</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679190570"><span class="hs-identifier hs-var">enumNm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Vector Text -&gt; [Text]
forall a. Vector a -&gt; [a]
</span><a href="../../../../vector/html/src"><span class="hs-identifier hs-var">V.toList</span></a></span><span> </span><span class="annot"><span class="annottext">Vector Text
</span><a href="#local-6989586621679190569"><span class="hs-identifier hs-var">options</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Text, Oid, Vector Text)]
</span><a href="#local-6989586621679190594"><span class="hs-identifier hs-var">enumerationData</span></a></span><span>
</span><span id="line-375"></span><span>
</span><span id="line-376"></span><span>     </span><span id="local-6989586621679190567"><span class="annot"><span class="annottext">[SomeDatabasePredicate]
</span><a href="#local-6989586621679190567"><span class="hs-identifier hs-var">extensions</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-377"></span><span>       </span><span class="annot"><span class="annottext">(Only Text -&gt; SomeDatabasePredicate)
-&gt; [Only Text] -&gt; [SomeDatabasePredicate]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="../../../../Only/html/src"><span class="hs-identifier hs-type">Pg.Only</span></a></span><span> </span><span id="local-6989586621679190566"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679190566"><span class="hs-identifier hs-var">extname</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PgHasExtension -&gt; SomeDatabasePredicate
forall p. DatabasePredicate p =&gt; p -&gt; SomeDatabasePredicate
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Db.SomeDatabasePredicate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; PgHasExtension
</span><a href="Database.Beam.Postgres.Extensions.html#PgHasExtension"><span class="hs-identifier hs-var">PgHasExtension</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679190566"><span class="hs-identifier hs-var">extname</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Only Text] -&gt; [SomeDatabasePredicate])
-&gt; IO [Only Text] -&gt; IO [SomeDatabasePredicate]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span>
</span><span id="line-378"></span><span>       </span><span class="annot"><span class="annottext">Connection -&gt; Query -&gt; IO [Only Text]
forall r. FromRow r =&gt; Connection -&gt; Query -&gt; IO [r]
</span><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier hs-var">Pg.query_</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679190605"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="annot"><span class="annottext">Query
</span><span class="hs-string">&quot;SELECT extname from pg_extension&quot;</span></span><span>
</span><span id="line-379"></span><span>
</span><span id="line-380"></span><span>     </span><span class="annot"><span class="annottext">[SomeDatabasePredicate] -&gt; IO [SomeDatabasePredicate]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SomeDatabasePredicate]
</span><a href="#local-6989586621679190598"><span class="hs-identifier hs-var">tblsExist</span></a></span><span> </span><span class="annot"><span class="annottext">[SomeDatabasePredicate]
-&gt; [SomeDatabasePredicate] -&gt; [SomeDatabasePredicate]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[SomeDatabasePredicate]
</span><a href="#local-6989586621679190593"><span class="hs-identifier hs-var">columnChecks</span></a></span><span> </span><span class="annot"><span class="annottext">[SomeDatabasePredicate]
-&gt; [SomeDatabasePredicate] -&gt; [SomeDatabasePredicate]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[SomeDatabasePredicate]
</span><a href="#local-6989586621679190576"><span class="hs-identifier hs-var">primaryKeys</span></a></span><span> </span><span class="annot"><span class="annottext">[SomeDatabasePredicate]
-&gt; [SomeDatabasePredicate] -&gt; [SomeDatabasePredicate]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[SomeDatabasePredicate]
</span><a href="#local-6989586621679190571"><span class="hs-identifier hs-var">enumerations</span></a></span><span> </span><span class="annot"><span class="annottext">[SomeDatabasePredicate]
-&gt; [SomeDatabasePredicate] -&gt; [SomeDatabasePredicate]
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">[SomeDatabasePredicate]
</span><a href="#local-6989586621679190567"><span class="hs-identifier hs-var">extensions</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-381"></span><span>
</span><span id="line-382"></span><span class="hs-comment">-- * Postgres-specific data types</span><span>
</span><span id="line-383"></span><span>
</span><span id="line-384"></span><span class="hs-comment">-- | 'Db.DataType' for @tsquery@. See 'TsQuery' for more information</span><span>
</span><span id="line-385"></span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#tsquery"><span class="hs-identifier hs-type">tsquery</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Db.DataType</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.PgSpecific.html#TsQuery"><span class="hs-identifier hs-type">TsQuery</span></a></span><span>
</span><span id="line-386"></span><span id="tsquery"><span class="annot"><span class="annottext">tsquery :: DataType Postgres TsQuery
</span><a href="Database.Beam.Postgres.Migrate.html#tsquery"><span class="hs-identifier hs-var hs-var">tsquery</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
-&gt; DataType Postgres TsQuery
forall be a. BeamSqlBackendCastTargetSyntax be -&gt; DataType be a
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Db.DataType</span></a></span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgTsQueryType"><span class="hs-identifier hs-var">pgTsQueryType</span></a></span><span>
</span><span id="line-387"></span><span>
</span><span id="line-388"></span><span class="hs-comment">-- | 'Db.DataType' for @tsvector@. See 'TsVector' for more information</span><span>
</span><span id="line-389"></span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#tsvector"><span class="hs-identifier hs-type">tsvector</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Db.DataType</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.PgSpecific.html#TsVector"><span class="hs-identifier hs-type">TsVector</span></a></span><span>
</span><span id="line-390"></span><span id="tsvector"><span class="annot"><span class="annottext">tsvector :: DataType Postgres TsVector
</span><a href="Database.Beam.Postgres.Migrate.html#tsvector"><span class="hs-identifier hs-var hs-var">tsvector</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
-&gt; DataType Postgres TsVector
forall be a. BeamSqlBackendCastTargetSyntax be -&gt; DataType be a
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Db.DataType</span></a></span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgTsVectorType"><span class="hs-identifier hs-var">pgTsVectorType</span></a></span><span>
</span><span id="line-391"></span><span>
</span><span id="line-392"></span><span class="hs-comment">-- | 'Db.DataType' for Postgres @TEXT@. 'characterLargeObject' is also mapped to</span><span>
</span><span id="line-393"></span><span class="hs-comment">-- this data type</span><span>
</span><span id="line-394"></span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#text"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Db.DataType</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">T.Text</span></a></span><span>
</span><span id="line-395"></span><span id="text"><span class="annot"><span class="annottext">text :: DataType Postgres Text
</span><a href="Database.Beam.Postgres.Migrate.html#text"><span class="hs-identifier hs-var hs-var">text</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres -&gt; DataType Postgres Text
forall be a. BeamSqlBackendCastTargetSyntax be -&gt; DataType be a
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Db.DataType</span></a></span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgTextType"><span class="hs-identifier hs-var">pgTextType</span></a></span><span>
</span><span id="line-396"></span><span>
</span><span id="line-397"></span><span class="hs-comment">-- | 'Db.DataType' for Postgres @BYTEA@. 'binaryLargeObject' is also mapped to</span><span>
</span><span id="line-398"></span><span class="hs-comment">-- this data type</span><span>
</span><span id="line-399"></span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#bytea"><span class="hs-identifier hs-type">bytea</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Db.DataType</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span>
</span><span id="line-400"></span><span id="bytea"><span class="annot"><span class="annottext">bytea :: DataType Postgres ByteString
</span><a href="Database.Beam.Postgres.Migrate.html#bytea"><span class="hs-identifier hs-var hs-var">bytea</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
-&gt; DataType Postgres ByteString
forall be a. BeamSqlBackendCastTargetSyntax be -&gt; DataType be a
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Db.DataType</span></a></span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgByteaType"><span class="hs-identifier hs-var">pgByteaType</span></a></span><span>
</span><span id="line-401"></span><span>
</span><span id="line-402"></span><span class="hs-comment">-- | 'Db.DataType' for a Postgres array without any bounds.</span><span>
</span><span id="line-403"></span><span class="hs-comment">--</span><span>
</span><span id="line-404"></span><span class="hs-comment">-- Note that array support in @beam-migrate@ is still incomplete.</span><span>
</span><span id="line-405"></span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#unboundedArray"><span class="hs-identifier hs-type">unboundedArray</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679190564"><span class="annot"><a href="#local-6989586621679190564"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190564"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-406"></span><span>               </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Db.DataType</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190564"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-407"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Db.DataType</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../vector/html/src"><span class="hs-identifier hs-type">V.Vector</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190564"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-408"></span><span id="unboundedArray"><span class="annot"><span class="annottext">unboundedArray :: DataType Postgres a -&gt; DataType Postgres (Vector a)
</span><a href="Database.Beam.Postgres.Migrate.html#unboundedArray"><span class="hs-identifier hs-var hs-var">unboundedArray</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Db.DataType</span></a></span><span> </span><span id="local-6989586621679190563"><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
</span><a href="#local-6989586621679190563"><span class="hs-identifier hs-var">elTy</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-409"></span><span>  </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
-&gt; DataType Postgres (Vector a)
forall be a. BeamSqlBackendCastTargetSyntax be -&gt; DataType be a
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Db.DataType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PgDataTypeSyntax -&gt; PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgUnboundedArrayType"><span class="hs-identifier hs-var">pgUnboundedArrayType</span></a></span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
PgDataTypeSyntax
</span><a href="#local-6989586621679190563"><span class="hs-identifier hs-var">elTy</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-410"></span><span>
</span><span id="line-411"></span><span class="hs-comment">-- | 'Db.DataType' for @JSON@. See 'PgJSON' for more information</span><span>
</span><span id="line-412"></span><span id="local-6989586621679190561"><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#json"><span class="hs-identifier hs-type">json</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190561"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">FromJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190561"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Db.DataType</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Postgres.PgSpecific.html#PgJSON"><span class="hs-identifier hs-type">PgJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190561"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-413"></span><span id="json"><span class="annot"><span class="annottext">json :: DataType Postgres (PgJSON a)
</span><a href="Database.Beam.Postgres.Migrate.html#json"><span class="hs-identifier hs-var hs-var">json</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
-&gt; DataType Postgres (PgJSON a)
forall be a. BeamSqlBackendCastTargetSyntax be -&gt; DataType be a
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Db.DataType</span></a></span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgJsonType"><span class="hs-identifier hs-var">pgJsonType</span></a></span><span>
</span><span id="line-414"></span><span>
</span><span id="line-415"></span><span class="hs-comment">-- | 'Db.DataType' for @JSONB@. See 'PgJSON' for more information</span><span>
</span><span id="line-416"></span><span id="local-6989586621679190559"><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#jsonb"><span class="hs-identifier hs-type">jsonb</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190559"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">FromJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190559"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Db.DataType</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Postgres.PgSpecific.html#PgJSONB"><span class="hs-identifier hs-type">PgJSONB</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190559"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-417"></span><span id="jsonb"><span class="annot"><span class="annottext">jsonb :: DataType Postgres (PgJSONB a)
</span><a href="Database.Beam.Postgres.Migrate.html#jsonb"><span class="hs-identifier hs-var hs-var">jsonb</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
-&gt; DataType Postgres (PgJSONB a)
forall be a. BeamSqlBackendCastTargetSyntax be -&gt; DataType be a
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Db.DataType</span></a></span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgJsonbType"><span class="hs-identifier hs-var">pgJsonbType</span></a></span><span>
</span><span id="line-418"></span><span>
</span><span id="line-419"></span><span class="hs-comment">-- | 'Db.DataType' for @UUID@ columns. The 'pgCryptoGenRandomUUID' function in</span><span>
</span><span id="line-420"></span><span class="hs-comment">-- the 'PgCrypto' extension can be used to generate UUIDs at random.</span><span>
</span><span id="line-421"></span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#uuid"><span class="hs-identifier hs-type">uuid</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Db.DataType</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span> </span><span class="annot"><a href="../../../../uuid-types/html/src"><span class="hs-identifier hs-type">UUID</span></a></span><span>
</span><span id="line-422"></span><span id="uuid"><span class="annot"><span class="annottext">uuid :: DataType Postgres UUID
</span><a href="Database.Beam.Postgres.Migrate.html#uuid"><span class="hs-identifier hs-var hs-var">uuid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres -&gt; DataType Postgres UUID
forall be a. BeamSqlBackendCastTargetSyntax be -&gt; DataType be a
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Db.DataType</span></a></span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgUuidType"><span class="hs-identifier hs-var">pgUuidType</span></a></span><span>
</span><span id="line-423"></span><span>
</span><span id="line-424"></span><span class="hs-comment">-- | 'Db.DataType' for @MONEY@ columns.</span><span>
</span><span id="line-425"></span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#money"><span class="hs-identifier hs-type">money</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Db.DataType</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.PgSpecific.html#PgMoney"><span class="hs-identifier hs-type">PgMoney</span></a></span><span>
</span><span id="line-426"></span><span id="money"><span class="annot"><span class="annottext">money :: DataType Postgres PgMoney
</span><a href="Database.Beam.Postgres.Migrate.html#money"><span class="hs-identifier hs-var hs-var">money</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
-&gt; DataType Postgres PgMoney
forall be a. BeamSqlBackendCastTargetSyntax be -&gt; DataType be a
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Db.DataType</span></a></span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgMoneyType"><span class="hs-identifier hs-var">pgMoneyType</span></a></span><span>
</span><span id="line-427"></span><span>
</span><span id="line-428"></span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#point"><span class="hs-identifier hs-type">point</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Db.DataType</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.PgSpecific.html#PgPoint"><span class="hs-identifier hs-type">PgPoint</span></a></span><span>
</span><span id="line-429"></span><span id="point"><span class="annot"><span class="annottext">point :: DataType Postgres PgPoint
</span><a href="Database.Beam.Postgres.Migrate.html#point"><span class="hs-identifier hs-var hs-var">point</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
-&gt; DataType Postgres PgPoint
forall be a. BeamSqlBackendCastTargetSyntax be -&gt; DataType be a
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Db.DataType</span></a></span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgPointType"><span class="hs-identifier hs-var">pgPointType</span></a></span><span>
</span><span id="line-430"></span><span>
</span><span id="line-431"></span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#line"><span class="hs-identifier hs-type">line</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Db.DataType</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.PgSpecific.html#PgLine"><span class="hs-identifier hs-type">PgLine</span></a></span><span>
</span><span id="line-432"></span><span id="line"><span class="annot"><span class="annottext">line :: DataType Postgres PgLine
</span><a href="Database.Beam.Postgres.Migrate.html#line"><span class="hs-identifier hs-var hs-var">line</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres -&gt; DataType Postgres PgLine
forall be a. BeamSqlBackendCastTargetSyntax be -&gt; DataType be a
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Db.DataType</span></a></span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgLineType"><span class="hs-identifier hs-var">pgLineType</span></a></span><span>
</span><span id="line-433"></span><span>
</span><span id="line-434"></span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#lineSegment"><span class="hs-identifier hs-type">lineSegment</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Db.DataType</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.PgSpecific.html#PgLineSegment"><span class="hs-identifier hs-type">PgLineSegment</span></a></span><span>
</span><span id="line-435"></span><span id="lineSegment"><span class="annot"><span class="annottext">lineSegment :: DataType Postgres PgLineSegment
</span><a href="Database.Beam.Postgres.Migrate.html#lineSegment"><span class="hs-identifier hs-var hs-var">lineSegment</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
-&gt; DataType Postgres PgLineSegment
forall be a. BeamSqlBackendCastTargetSyntax be -&gt; DataType be a
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Db.DataType</span></a></span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgLineSegmentType"><span class="hs-identifier hs-var">pgLineSegmentType</span></a></span><span>
</span><span id="line-436"></span><span>
</span><span id="line-437"></span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#box"><span class="hs-identifier hs-type">box</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Db.DataType</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.PgSpecific.html#PgBox"><span class="hs-identifier hs-type">PgBox</span></a></span><span>
</span><span id="line-438"></span><span id="box"><span class="annot"><span class="annottext">box :: DataType Postgres PgBox
</span><a href="Database.Beam.Postgres.Migrate.html#box"><span class="hs-identifier hs-var hs-var">box</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres -&gt; DataType Postgres PgBox
forall be a. BeamSqlBackendCastTargetSyntax be -&gt; DataType be a
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Db.DataType</span></a></span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgBoxType"><span class="hs-identifier hs-var">pgBoxType</span></a></span><span>
</span><span id="line-439"></span><span>
</span><span id="line-440"></span><span class="hs-comment">-- * Pseudo-data types</span><span>
</span><span id="line-441"></span><span>
</span><span id="line-442"></span><span class="hs-comment">-- | Postgres @SERIAL@ data types. Automatically generates an appropriate</span><span>
</span><span id="line-443"></span><span class="hs-comment">-- @DEFAULT@ clause and sequence</span><span>
</span><span id="line-444"></span><span id="local-6989586621679190806"><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#smallserial"><span class="hs-identifier hs-type">smallserial</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#serial"><span class="hs-identifier hs-type">serial</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#bigserial"><span class="hs-identifier hs-type">bigserial</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Integral</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190806"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">Db.DataType</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-type">SqlSerial</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190806"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-445"></span><span id="smallserial"><span class="annot"><span class="annottext">smallserial :: DataType Postgres (SqlSerial a)
</span><a href="Database.Beam.Postgres.Migrate.html#smallserial"><span class="hs-identifier hs-var hs-var">smallserial</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
-&gt; DataType Postgres (SqlSerial a)
forall be a. BeamSqlBackendCastTargetSyntax be -&gt; DataType be a
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Db.DataType</span></a></span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgSmallSerialType"><span class="hs-identifier hs-var">pgSmallSerialType</span></a></span><span>
</span><span id="line-446"></span><span id="serial"><span class="annot"><span class="annottext">serial :: DataType Postgres (SqlSerial a)
</span><a href="Database.Beam.Postgres.Migrate.html#serial"><span class="hs-identifier hs-var hs-var">serial</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
-&gt; DataType Postgres (SqlSerial a)
forall be a. BeamSqlBackendCastTargetSyntax be -&gt; DataType be a
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Db.DataType</span></a></span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgSerialType"><span class="hs-identifier hs-var">pgSerialType</span></a></span><span>
</span><span id="line-447"></span><span id="bigserial"><span class="annot"><span class="annottext">bigserial :: DataType Postgres (SqlSerial a)
</span><a href="Database.Beam.Postgres.Migrate.html#bigserial"><span class="hs-identifier hs-var hs-var">bigserial</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
-&gt; DataType Postgres (SqlSerial a)
forall be a. BeamSqlBackendCastTargetSyntax be -&gt; DataType be a
</span><a href="../../../../beam-core/html/src"><span class="hs-identifier hs-var">Db.DataType</span></a></span><span> </span><span class="annot"><span class="annottext">BeamSqlBackendCastTargetSyntax Postgres
PgDataTypeSyntax
</span><a href="Database.Beam.Postgres.Syntax.html#pgBigSerialType"><span class="hs-identifier hs-var">pgBigSerialType</span></a></span><span>
</span><span id="line-448"></span><span>
</span><span id="line-449"></span><span class="hs-keyword">data</span><span> </span><span id="PgHasDefault"><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#PgHasDefault"><span class="hs-identifier hs-var">PgHasDefault</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PgHasDefault"><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#PgHasDefault"><span class="hs-identifier hs-var">PgHasDefault</span></a></span></span><span>
</span><span id="line-450"></span><span id="local-6989586621679190556"><span id="local-6989586621679190557"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-type">Db.FieldReturnType</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">True</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">False</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190557"><span class="hs-identifier hs-type">resTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190556"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-451"></span><span>         </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-type">Db.FieldReturnType</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">False</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">False</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679190557"><span class="hs-identifier hs-type">resTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#PgHasDefault"><span class="hs-identifier hs-type">PgHasDefault</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679190556"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-452"></span><span>  </span><span id="local-6989586621679190553"><span class="annot"><span class="annottext">field' :: Proxy 'False
-&gt; Proxy 'False
-&gt; Text
-&gt; BeamMigrateSqlBackendDataTypeSyntax Postgres
-&gt; Maybe (BeamSqlBackendExpressionSyntax Postgres)
-&gt; Maybe Text
-&gt; [BeamSqlBackendColumnConstraintDefinitionSyntax Postgres]
-&gt; PgHasDefault
-&gt; a
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">field'</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy 'False
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Proxy 'False
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679190551"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679190551"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621679190550"><span class="annot"><span class="annottext">BeamMigrateSqlBackendDataTypeSyntax Postgres
</span><a href="#local-6989586621679190550"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe (BeamSqlBackendExpressionSyntax Postgres)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679190549"><span class="annot"><span class="annottext">Maybe Text
</span><a href="#local-6989586621679190549"><span class="hs-identifier hs-var">collation</span></a></span></span><span> </span><span id="local-6989586621679190548"><span class="annot"><span class="annottext">[BeamSqlBackendColumnConstraintDefinitionSyntax Postgres]
</span><a href="#local-6989586621679190548"><span class="hs-identifier hs-var">constraints</span></a></span></span><span> </span><span class="annot"><span class="annottext">PgHasDefault
</span><a href="Database.Beam.Postgres.Migrate.html#PgHasDefault"><span class="hs-identifier hs-var">PgHasDefault</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-453"></span><span>    </span><span class="annot"><span class="annottext">Proxy 'True
-&gt; Proxy 'False
-&gt; Text
-&gt; BeamMigrateSqlBackendDataTypeSyntax Postgres
-&gt; Maybe (BeamSqlBackendExpressionSyntax Postgres)
-&gt; Maybe Text
-&gt; [BeamSqlBackendColumnConstraintDefinitionSyntax Postgres]
-&gt; a
forall (defaultGiven :: Bool) (collationGiven :: Bool) be resTy a.
(FieldReturnType defaultGiven collationGiven be resTy a,
 BeamMigrateSqlBackend be) =&gt;
Proxy defaultGiven
-&gt; Proxy collationGiven
-&gt; Text
-&gt; BeamMigrateSqlBackendDataTypeSyntax be
-&gt; Maybe (BeamSqlBackendExpressionSyntax be)
-&gt; Maybe Text
-&gt; [BeamSqlBackendColumnConstraintDefinitionSyntax be]
-&gt; a
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Db.field'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy 'True
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">'</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">True</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy 'False
forall k (t :: k). Proxy t
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">'</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">False</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679190551"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">BeamMigrateSqlBackendDataTypeSyntax Postgres
</span><a href="#local-6989586621679190550"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (BeamSqlBackendExpressionSyntax Postgres)
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Text
</span><a href="#local-6989586621679190549"><span class="hs-identifier hs-var">collation</span></a></span><span> </span><span class="annot"><span class="annottext">[BeamSqlBackendColumnConstraintDefinitionSyntax Postgres]
</span><a href="#local-6989586621679190548"><span class="hs-identifier hs-var">constraints</span></a></span></span></span><span>
</span><span id="line-454"></span><span>
</span><span id="line-455"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-type">BeamSqlBackendHasSerial</span></a></span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-456"></span><span>  </span><span id="local-6989586621679190543"><span class="annot"><span class="annottext">genericSerial :: Text -&gt; a
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">genericSerial</span></a></span></span><span> </span><span id="local-6989586621679190541"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679190541"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; DataType Postgres (SqlSerial Int) -&gt; PgHasDefault -&gt; a
forall be resTy a.
(BeamMigrateSqlBackend be,
 FieldReturnType 'False 'False be resTy a) =&gt;
Text -&gt; DataType be resTy -&gt; a
</span><a href="../../../../beam-migrate/html/src"><span class="hs-identifier hs-var">Db.field</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679190541"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">DataType Postgres (SqlSerial Int)
forall a. Integral a =&gt; DataType Postgres (SqlSerial a)
</span><a href="Database.Beam.Postgres.Migrate.html#serial"><span class="hs-identifier hs-var">serial</span></a></span><span> </span><span class="annot"><span class="annottext">PgHasDefault
</span><a href="Database.Beam.Postgres.Migrate.html#PgHasDefault"><span class="hs-identifier hs-var">PgHasDefault</span></a></span><span>
</span><span id="line-457"></span></pre></body></html>