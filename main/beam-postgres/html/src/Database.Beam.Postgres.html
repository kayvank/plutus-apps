<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-- | Postgres is a popular, open-source RDBMS. It is fairly standards compliant</span><span>
</span><span id="line-2"></span><span class="hs-comment">-- and supports many advanced features and data types.</span><span>
</span><span id="line-3"></span><span class="hs-comment">--</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- The @beam-postgres@ module is built atop of @postgresql-simple@, which is</span><span>
</span><span id="line-5"></span><span class="hs-comment">-- used for connection management, transaction support, serialization, and</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- deserialization.</span><span>
</span><span id="line-7"></span><span class="hs-comment">--</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- @beam-postgres@ supports most beam features as well as many postgres-specific</span><span>
</span><span id="line-9"></span><span class="hs-comment">-- features. For example, @beam-postgres@ provides support for full-text search,</span><span>
</span><span id="line-10"></span><span class="hs-comment">-- @DISTINCT ON@, JSON handling, postgres @ARRAY@s, @RANGE@s, and the @MONEY@ type.</span><span>
</span><span id="line-11"></span><span class="hs-comment">--</span><span>
</span><span id="line-12"></span><span class="hs-comment">-- The documentation for @beam-postgres@ functionality below indicates which</span><span>
</span><span id="line-13"></span><span class="hs-comment">-- postgres function each function or type wraps. Postgres maintains its own</span><span>
</span><span id="line-14"></span><span class="hs-comment">-- in-depth documentation. Please refer to that for more detailed information on</span><span>
</span><span id="line-15"></span><span class="hs-comment">-- &lt;https://www.postgresql.org/docs/current/static/index.html behavior&gt;.</span><span>
</span><span id="line-16"></span><span class="hs-comment">--</span><span>
</span><span id="line-17"></span><span class="hs-comment">-- For examples on how to use @beam-postgres@ usage, see</span><span>
</span><span id="line-18"></span><span class="hs-comment">-- &lt;https://haskell-beam.github.io/beam/user-guide/backends/beam-postgres/ its manual&gt;.</span><span>
</span><span id="line-19"></span><span>
</span><span id="line-20"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Database.Beam.Postgres</span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-special">(</span><span>  </span><span class="annot"><span class="hs-comment">-- * Beam Postgres backend</span></span><span>
</span><span id="line-22"></span><span>    </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#Postgres"><span class="hs-identifier">Postgres</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Connection.html#Pg"><span class="hs-identifier">Pg</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Connection.html#liftIOWithHandle"><span class="hs-identifier">liftIOWithHandle</span></a></span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Postgres syntax</span></span><span>
</span><span id="line-25"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Syntax.html#PgCommandSyntax"><span class="hs-identifier">PgCommandSyntax</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Syntax.html#PgSyntax"><span class="hs-identifier">PgSyntax</span></a></span><span>
</span><span id="line-26"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Syntax.html#PgSelectSyntax"><span class="hs-identifier">PgSelectSyntax</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Syntax.html#PgInsertSyntax"><span class="hs-identifier">PgInsertSyntax</span></a></span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Syntax.html#PgUpdateSyntax"><span class="hs-identifier">PgUpdateSyntax</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Syntax.html#PgDeleteSyntax"><span class="hs-identifier">PgDeleteSyntax</span></a></span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Beam URI support</span></span><span>
</span><span id="line-30"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Connection.html#postgresUriSyntax"><span class="hs-identifier">postgresUriSyntax</span></a></span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Postgres-specific features</span></span><span>
</span><span id="line-33"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Postgres-specific data types</span></span><span>
</span><span id="line-34"></span><span>
</span><span id="line-35"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#json"><span class="hs-identifier">json</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#jsonb"><span class="hs-identifier">jsonb</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#uuid"><span class="hs-identifier">uuid</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#money"><span class="hs-identifier">money</span></a></span><span>
</span><span id="line-36"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#tsquery"><span class="hs-identifier">tsquery</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#tsvector"><span class="hs-identifier">tsvector</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#text"><span class="hs-identifier">text</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#bytea"><span class="hs-identifier">bytea</span></a></span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#unboundedArray"><span class="hs-identifier">unboundedArray</span></a></span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span>    </span><span class="annot"><span class="hs-comment">-- *** @SERIAL@ support</span></span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#smallserial"><span class="hs-identifier">smallserial</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#serial"><span class="hs-identifier">serial</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#bigserial"><span class="hs-identifier">bigserial</span></a></span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.PgSpecific.html"><span class="hs-identifier">Database.Beam.Postgres.PgSpecific</span></a></span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Connection.html#runBeamPostgres"><span class="hs-identifier">runBeamPostgres</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Connection.html#runBeamPostgresDebug"><span class="hs-identifier">runBeamPostgresDebug</span></a></span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Postgres extension support</span></span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Extensions.html#PgExtensionEntity"><span class="hs-identifier">PgExtensionEntity</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Extensions.html#IsPgExtension"><span class="hs-identifier">IsPgExtension</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Extensions.html#pgCreateExtension"><span class="hs-identifier">pgCreateExtension</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Extensions.html#pgDropExtension"><span class="hs-identifier">pgDropExtension</span></a></span><span>
</span><span id="line-49"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Extensions.html#getPgExtension"><span class="hs-identifier">getPgExtension</span></a></span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Utilities for defining custom instances</span></span><span>
</span><span id="line-52"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#fromPgIntegral"><span class="hs-identifier">fromPgIntegral</span></a></span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html#fromPgScientificOrIntegral"><span class="hs-identifier">fromPgScientificOrIntegral</span></a></span><span>
</span><span id="line-54"></span><span>
</span><span id="line-55"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Debug support</span></span><span>
</span><span id="line-56"></span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Debug.html#PgDebugStmt"><span class="hs-identifier">PgDebugStmt</span></a></span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Debug.html#pgTraceStmtIO"><span class="hs-identifier">pgTraceStmtIO</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Debug.html#pgTraceStmtIO%27"><span class="hs-identifier">pgTraceStmtIO'</span></a></span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Debug.html#pgTraceStmt"><span class="hs-identifier">pgTraceStmt</span></a></span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span>  </span><span class="annot"><span class="hs-comment">-- * @postgresql-simple@ re-exports</span></span><span>
</span><span id="line-62"></span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier">Pg.ResultError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier">Pg.SqlError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier">Pg.Connection</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier">Pg.ConnectInfo</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier">Pg.defaultConnectInfo</span></a></span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier">Pg.connectPostgreSQL</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier">Pg.connect</span></a></span><span>
</span><span id="line-69"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier">Pg.close</span></a></span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-72"></span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Connection.html"><span class="hs-identifier">Database.Beam.Postgres.Connection</span></a></span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Full.html"><span class="hs-identifier">Database.Beam.Postgres.Full</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- for BeamHasInsertOnConflict instance</span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Syntax.html"><span class="hs-identifier">Database.Beam.Postgres.Syntax</span></a></span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Types.html"><span class="hs-identifier">Database.Beam.Postgres.Types</span></a></span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.PgSpecific.html"><span class="hs-identifier">Database.Beam.Postgres.PgSpecific</span></a></span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html"><span class="hs-identifier">Database.Beam.Postgres.Migrate</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#tsquery"><span class="hs-identifier">tsquery</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#tsvector"><span class="hs-identifier">tsvector</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#text"><span class="hs-identifier">text</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#bytea"><span class="hs-identifier">bytea</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#unboundedArray"><span class="hs-identifier">unboundedArray</span></a></span><span>
</span><span id="line-79"></span><span>                                      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#json"><span class="hs-identifier">json</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#jsonb"><span class="hs-identifier">jsonb</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#uuid"><span class="hs-identifier">uuid</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#money"><span class="hs-identifier">money</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#smallserial"><span class="hs-identifier">smallserial</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#serial"><span class="hs-identifier">serial</span></a></span><span>
</span><span id="line-80"></span><span>                                      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Migrate.html#bigserial"><span class="hs-identifier">bigserial</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Extensions.html"><span class="hs-identifier">Database.Beam.Postgres.Extensions</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Extensions.html#PgExtensionEntity"><span class="hs-identifier">PgExtensionEntity</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Extensions.html#IsPgExtension"><span class="hs-identifier">IsPgExtension</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span>                                         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Extensions.html#pgCreateExtension"><span class="hs-identifier">pgCreateExtension</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Extensions.html#pgDropExtension"><span class="hs-identifier">pgDropExtension</span></a></span><span>
</span><span id="line-83"></span><span>                                         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Extensions.html#getPgExtension"><span class="hs-identifier">getPgExtension</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Database.Beam.Postgres.Debug.html"><span class="hs-identifier">Database.Beam.Postgres.Debug</span></a></span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../postgresql-simple/html/src"><span class="hs-identifier">Database.PostgreSQL.Simple</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Pg</span></span><span>
</span><span id="line-87"></span></pre></body></html>