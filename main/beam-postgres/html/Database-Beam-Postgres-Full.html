<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Database.Beam.Postgres.Full</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">beam-postgres-0.5.3.0: Connection layer between beam and postgres</span><ul class="links" id="page-menu"><li><a href="src/Database.Beam.Postgres.Full.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Database.Beam.Postgres.Full</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Additional <code>SELECT</code> features</a><ul><li><a href="#g:2"><code>SELECT</code> Locking clause</a></li><li><a href="#g:3">Lateral joins</a></li></ul></li><li><a href="#g:4"><code>INSERT</code> and <code>INSERT RETURNING</code></a><ul><li><a href="#g:5">Specifying conflict actions</a></li></ul></li><li><a href="#g:6"><code>UPDATE RETURNING</code></a></li><li><a href="#g:7"><code>DELETE RETURNING</code></a></li><li><a href="#g:8">Generalized <code>RETURNING</code></a></li><li><a href="#section.orphans">Orphan instances</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Module providing (almost) full support for Postgres query and data
 manipulation statements. These functions shadow the functions in
 <a href="../../beam-core/html/Database-Beam-Query.html">Database.Beam.Query</a> and provide a strict superset of functionality. They
 map 1-to-1 with the underlying Postgres support.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:PgWithLocking">PgWithLocking</a> s a</li><li class="src short"><span class="keyword">data</span> <a href="#t:PgLockedTables">PgLockedTables</a> s</li><li class="src short"><span class="keyword">data</span> <a href="#t:PgSelectLockingStrength">PgSelectLockingStrength</a><ul class="subs"><li>= <a href="#v:PgSelectLockingStrengthUpdate">PgSelectLockingStrengthUpdate</a></li><li>| <a href="#v:PgSelectLockingStrengthNoKeyUpdate">PgSelectLockingStrengthNoKeyUpdate</a></li><li>| <a href="#v:PgSelectLockingStrengthShare">PgSelectLockingStrengthShare</a></li><li>| <a href="#v:PgSelectLockingStrengthKeyShare">PgSelectLockingStrengthKeyShare</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:PgSelectLockingOptions">PgSelectLockingOptions</a><ul class="subs"><li>= <a href="#v:PgSelectLockingOptionsNoWait">PgSelectLockingOptionsNoWait</a></li><li>| <a href="#v:PgSelectLockingOptionsSkipLocked">PgSelectLockingOptionsSkipLocked</a></li></ul></li><li class="src short"><a href="#v:lockingAllTablesFor_">lockingAllTablesFor_</a> :: (<a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Database" title="Database.Beam.Schema.Tables">Database</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> db, <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Projectible" title="Database.Beam.Query.Internal">Projectible</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> a, <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:ThreadRewritable" title="Database.Beam.Query.Internal">ThreadRewritable</a> (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QNested" title="Database.Beam.Query.Internal">QNested</a> s) a) =&gt; <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingStrength" title="Database.Beam.Postgres.Full">PgSelectLockingStrength</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingOptions" title="Database.Beam.Postgres.Full">PgSelectLockingOptions</a> -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Q" title="Database.Beam.Query.Internal">Q</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> db (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QNested" title="Database.Beam.Query.Internal">QNested</a> s) a -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Q" title="Database.Beam.Query.Internal">Q</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> db s (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:WithRewrittenThread" title="Database.Beam.Query.Internal">WithRewrittenThread</a> (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QNested" title="Database.Beam.Query.Internal">QNested</a> s) s a)</li><li class="src short"><a href="#v:lockingFor_">lockingFor_</a> :: <span class="keyword">forall</span> a db s. (<a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Database" title="Database.Beam.Schema.Tables">Database</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> db, <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Projectible" title="Database.Beam.Query.Internal">Projectible</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> a, <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:ThreadRewritable" title="Database.Beam.Query.Internal">ThreadRewritable</a> (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QNested" title="Database.Beam.Query.Internal">QNested</a> s) a) =&gt; <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingStrength" title="Database.Beam.Postgres.Full">PgSelectLockingStrength</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingOptions" title="Database.Beam.Postgres.Full">PgSelectLockingOptions</a> -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Q" title="Database.Beam.Query.Internal">Q</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> db (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QNested" title="Database.Beam.Query.Internal">QNested</a> s) (<a href="Database-Beam-Postgres-Full.html#t:PgWithLocking" title="Database.Beam.Postgres.Full">PgWithLocking</a> (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QNested" title="Database.Beam.Query.Internal">QNested</a> s) a) -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Q" title="Database.Beam.Query.Internal">Q</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> db s (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:WithRewrittenThread" title="Database.Beam.Query.Internal">WithRewrittenThread</a> (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QNested" title="Database.Beam.Query.Internal">QNested</a> s) s a)</li><li class="src short"><a href="#v:locked_">locked_</a> :: (<a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Beamable" title="Database.Beam.Schema.Tables">Beamable</a> tbl, <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Database" title="Database.Beam.Schema.Tables">Database</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> db) =&gt; <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:DatabaseEntity" title="Database.Beam.Schema.Tables">DatabaseEntity</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> db (<a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:TableEntity" title="Database.Beam.Schema.Tables">TableEntity</a> tbl) -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Q" title="Database.Beam.Query.Internal">Q</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> db s (<a href="Database-Beam-Postgres-Full.html#t:PgLockedTables" title="Database.Beam.Postgres.Full">PgLockedTables</a> s, tbl (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s))</li><li class="src short"><a href="#v:lockAll_">lockAll_</a> :: a -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgWithLocking" title="Database.Beam.Postgres.Full">PgWithLocking</a> s a</li><li class="src short"><a href="#v:withLocks_">withLocks_</a> :: a -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgLockedTables" title="Database.Beam.Postgres.Full">PgLockedTables</a> s -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgWithLocking" title="Database.Beam.Postgres.Full">PgWithLocking</a> s a</li><li class="src short"><a href="#v:lateral_">lateral_</a> :: <span class="keyword">forall</span> s a b db. (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:ThreadRewritable" title="Database.Beam.Query.Internal">ThreadRewritable</a> s a, <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:ThreadRewritable" title="Database.Beam.Query.Internal">ThreadRewritable</a> (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QNested" title="Database.Beam.Query.Internal">QNested</a> s) b, <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Projectible" title="Database.Beam.Query.Internal">Projectible</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> b) =&gt; a -&gt; (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:WithRewrittenThread" title="Database.Beam.Query.Internal">WithRewrittenThread</a> s (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QNested" title="Database.Beam.Query.Internal">QNested</a> s) a -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Q" title="Database.Beam.Query.Internal">Q</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> db (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QNested" title="Database.Beam.Query.Internal">QNested</a> s) b) -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Q" title="Database.Beam.Query.Internal">Q</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> db s (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:WithRewrittenThread" title="Database.Beam.Query.Internal">WithRewrittenThread</a> (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QNested" title="Database.Beam.Query.Internal">QNested</a> s) s b)</li><li class="src short"><a href="#v:insert">insert</a> :: <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:DatabaseEntity" title="Database.Beam.Schema.Tables">DatabaseEntity</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> db (<a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:TableEntity" title="Database.Beam.Schema.Tables">TableEntity</a> table) -&gt; <a href="../../beam-core/html/Database-Beam-Query.html#t:SqlInsertValues" title="Database.Beam.Query">SqlInsertValues</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> (table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s)) -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgInsertOnConflict" title="Database.Beam.Postgres.Full">PgInsertOnConflict</a> table -&gt; <a href="../../beam-core/html/Database-Beam-Query.html#t:SqlInsert" title="Database.Beam.Query">SqlInsert</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> table</li><li class="src short"><a href="#v:insertReturning">insertReturning</a> :: <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Projectible" title="Database.Beam.Query.Internal">Projectible</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> a =&gt; <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:DatabaseEntity" title="Database.Beam.Schema.Tables">DatabaseEntity</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> be (<a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:TableEntity" title="Database.Beam.Schema.Tables">TableEntity</a> table) -&gt; <a href="../../beam-core/html/Database-Beam-Query.html#t:SqlInsertValues" title="Database.Beam.Query">SqlInsertValues</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> (table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s)) -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgInsertOnConflict" title="Database.Beam.Postgres.Full">PgInsertOnConflict</a> table -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> <a href="Database-Beam-Postgres-Syntax.html#t:PostgresInaccessible" title="Database.Beam.Postgres.Syntax">PostgresInaccessible</a>) -&gt; a) -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgInsertReturning" title="Database.Beam.Postgres.Full">PgInsertReturning</a> (<a href="../../beam-core/html/Database-Beam-Query-Types.html#t:QExprToIdentity" title="Database.Beam.Query.Types">QExprToIdentity</a> a)</li><li class="src short"><a href="#v:insertDefaults">insertDefaults</a> :: <a href="../../beam-core/html/Database-Beam-Query.html#t:SqlInsertValues" title="Database.Beam.Query">SqlInsertValues</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> tbl</li><li class="src short"><a href="#v:runPgInsertReturningList">runPgInsertReturningList</a> :: (<a href="../../beam-core/html/Database-Beam-Backend-SQL.html#t:MonadBeam" title="Database.Beam.Backend.SQL">MonadBeam</a> be m, <a href="../../beam-core/html/Database-Beam-Backend-SQL.html#t:BeamSqlBackendSyntax" title="Database.Beam.Backend.SQL">BeamSqlBackendSyntax</a> be ~ <a href="Database-Beam-Postgres-Syntax.html#t:PgCommandSyntax" title="Database.Beam.Postgres.Syntax">PgCommandSyntax</a>, <a href="Database-Beam-Postgres-CustomTypes.html#t:FromBackendRow" title="Database.Beam.Postgres.CustomTypes">FromBackendRow</a> be a) =&gt; <a href="Database-Beam-Postgres-Full.html#t:PgInsertReturning" title="Database.Beam.Postgres.Full">PgInsertReturning</a> a -&gt; m [a]</li><li class="src short"><span class="keyword">data</span> <a href="#t:PgInsertReturning">PgInsertReturning</a> a<ul class="subs"><li>= <a href="#v:PgInsertReturning">PgInsertReturning</a> <a href="Database-Beam-Postgres-Syntax.html#t:PgSyntax" title="Database.Beam.Postgres.Syntax">PgSyntax</a></li><li>| <a href="#v:PgInsertReturningEmpty">PgInsertReturningEmpty</a></li></ul></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:PgInsertOnConflict">PgInsertOnConflict</a> (tbl :: (* -&gt; *) -&gt; *) = <a href="#v:PgInsertOnConflict">PgInsertOnConflict</a> (tbl (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QField" title="Database.Beam.Query.Internal">QField</a> <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QInternal" title="Database.Beam.Query.Internal">QInternal</a>) -&gt; <a href="Database-Beam-Postgres-Syntax.html#t:PgInsertOnConflictSyntax" title="Database.Beam.Postgres.Syntax">PgInsertOnConflictSyntax</a>)</li><li class="src short"><a href="#v:onConflictDefault">onConflictDefault</a> :: <a href="Database-Beam-Postgres-Full.html#t:PgInsertOnConflict" title="Database.Beam.Postgres.Full">PgInsertOnConflict</a> tbl</li><li class="src short"><a href="#v:onConflict">onConflict</a> :: <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Beamable" title="Database.Beam.Schema.Tables">Beamable</a> tbl =&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictTarget" title="Database.Beam.Postgres.Full">SqlConflictTarget</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> tbl -&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictAction" title="Database.Beam.Postgres.Full">SqlConflictAction</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> tbl -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgInsertOnConflict" title="Database.Beam.Postgres.Full">PgInsertOnConflict</a> tbl</li><li class="src short"><a href="#v:conflictingConstraint">conflictingConstraint</a> :: <a href="../../text/html/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictTarget" title="Database.Beam.Postgres.Full">SqlConflictTarget</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> tbl</li><li class="src short"><span class="keyword">class</span> <a href="../../beam-core/html/Database-Beam-Backend-SQL.html#t:BeamSqlBackend" title="Database.Beam.Backend.SQL">BeamSqlBackend</a> be =&gt; <a href="#t:BeamHasInsertOnConflict">BeamHasInsertOnConflict</a> be <span class="keyword">where</span><ul class="subs"><li><span class="keyword">data</span> <a href="#t:SqlConflictTarget">SqlConflictTarget</a> be (table :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>)</li><li><span class="keyword">data</span> <a href="#t:SqlConflictAction">SqlConflictAction</a> be (table :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>)</li><li><a href="#v:insertOnConflict">insertOnConflict</a> :: <span class="keyword">forall</span> table (db :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) s. <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Beamable" title="Database.Beam.Schema.Tables">Beamable</a> table =&gt; <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:DatabaseEntity" title="Database.Beam.Schema.Tables">DatabaseEntity</a> be db (<a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:TableEntity" title="Database.Beam.Schema.Tables">TableEntity</a> table) -&gt; <a href="../../beam-core/html/Database-Beam-Query.html#t:SqlInsertValues" title="Database.Beam.Query">SqlInsertValues</a> be (table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> be s)) -&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictTarget" title="Database.Beam.Postgres.Full">SqlConflictTarget</a> be table -&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictAction" title="Database.Beam.Postgres.Full">SqlConflictAction</a> be table -&gt; <a href="../../beam-core/html/Database-Beam-Query.html#t:SqlInsert" title="Database.Beam.Query">SqlInsert</a> be table</li><li><a href="#v:anyConflict">anyConflict</a> :: <span class="keyword">forall</span> (table :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="Database-Beam-Postgres-Full.html#t:SqlConflictTarget" title="Database.Beam.Postgres.Full">SqlConflictTarget</a> be table</li><li><a href="#v:conflictingFields">conflictingFields</a> :: <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Projectible" title="Database.Beam.Query.Internal">Projectible</a> be proj =&gt; (table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> be <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QInternal" title="Database.Beam.Query.Internal">QInternal</a>) -&gt; proj) -&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictTarget" title="Database.Beam.Postgres.Full">SqlConflictTarget</a> be table</li><li><a href="#v:conflictingFieldsWhere">conflictingFieldsWhere</a> :: <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Projectible" title="Database.Beam.Query.Internal">Projectible</a> be proj =&gt; (table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> be <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QInternal" title="Database.Beam.Query.Internal">QInternal</a>) -&gt; proj) -&gt; (<span class="keyword">forall</span> s. table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> be s) -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> be s <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictTarget" title="Database.Beam.Postgres.Full">SqlConflictTarget</a> be table</li><li><a href="#v:onConflictDoNothing">onConflictDoNothing</a> :: <span class="keyword">forall</span> (table :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="Database-Beam-Postgres-Full.html#t:SqlConflictAction" title="Database.Beam.Postgres.Full">SqlConflictAction</a> be table</li><li><a href="#v:onConflictUpdateSet">onConflictUpdateSet</a> :: <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Beamable" title="Database.Beam.Schema.Tables">Beamable</a> table =&gt; (<span class="keyword">forall</span> s. table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QField" title="Database.Beam.Query.Internal">QField</a> s) -&gt; table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> be s) -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QAssignment" title="Database.Beam.Query.Internal">QAssignment</a> be s) -&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictAction" title="Database.Beam.Postgres.Full">SqlConflictAction</a> be table</li><li><a href="#v:onConflictUpdateSetWhere">onConflictUpdateSetWhere</a> :: <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Beamable" title="Database.Beam.Schema.Tables">Beamable</a> table =&gt; (<span class="keyword">forall</span> s. table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QField" title="Database.Beam.Query.Internal">QField</a> s) -&gt; table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> be s) -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QAssignment" title="Database.Beam.Query.Internal">QAssignment</a> be s) -&gt; (<span class="keyword">forall</span> s. table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QField" title="Database.Beam.Query.Internal">QField</a> s) -&gt; table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> be s) -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> be s <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictAction" title="Database.Beam.Postgres.Full">SqlConflictAction</a> be table</li></ul></li><li class="src short"><a href="#v:onConflictUpdateAll">onConflictUpdateAll</a> :: <span class="keyword">forall</span> be (table :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="Database-Beam-Postgres-Full.html#t:BeamHasInsertOnConflict" title="Database.Beam.Postgres.Full">BeamHasInsertOnConflict</a> be, <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Beamable" title="Database.Beam.Schema.Tables">Beamable</a> table) =&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictAction" title="Database.Beam.Postgres.Full">SqlConflictAction</a> be table</li><li class="src short"><a href="#v:onConflictUpdateInstead">onConflictUpdateInstead</a> :: (<a href="Database-Beam-Postgres-Full.html#t:BeamHasInsertOnConflict" title="Database.Beam.Postgres.Full">BeamHasInsertOnConflict</a> be, <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Beamable" title="Database.Beam.Schema.Tables">Beamable</a> table, <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:ProjectibleWithPredicate" title="Database.Beam.Query.Internal">ProjectibleWithPredicate</a> <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:AnyType" title="Database.Beam.Query.Internal">AnyType</a> () (InaccessibleQAssignment be) proj) =&gt; (table (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Functor-Const.html#t:Const" title="Data.Functor.Const">Const</a> (InaccessibleQAssignment be) :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; proj) -&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictAction" title="Database.Beam.Postgres.Full">SqlConflictAction</a> be table</li><li class="src short"><span class="keyword">data</span> <a href="#t:PgUpdateReturning">PgUpdateReturning</a> a<ul class="subs"><li>= <a href="#v:PgUpdateReturning">PgUpdateReturning</a> <a href="Database-Beam-Postgres-Syntax.html#t:PgSyntax" title="Database.Beam.Postgres.Syntax">PgSyntax</a></li><li>| <a href="#v:PgUpdateReturningEmpty">PgUpdateReturningEmpty</a></li></ul></li><li class="src short"><a href="#v:runPgUpdateReturningList">runPgUpdateReturningList</a> :: (<a href="../../beam-core/html/Database-Beam-Backend-SQL.html#t:MonadBeam" title="Database.Beam.Backend.SQL">MonadBeam</a> be m, <a href="../../beam-core/html/Database-Beam-Backend-SQL.html#t:BeamSqlBackendSyntax" title="Database.Beam.Backend.SQL">BeamSqlBackendSyntax</a> be ~ <a href="Database-Beam-Postgres-Syntax.html#t:PgCommandSyntax" title="Database.Beam.Postgres.Syntax">PgCommandSyntax</a>, <a href="Database-Beam-Postgres-CustomTypes.html#t:FromBackendRow" title="Database.Beam.Postgres.CustomTypes">FromBackendRow</a> be a) =&gt; <a href="Database-Beam-Postgres-Full.html#t:PgUpdateReturning" title="Database.Beam.Postgres.Full">PgUpdateReturning</a> a -&gt; m [a]</li><li class="src short"><a href="#v:updateReturning">updateReturning</a> :: <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Projectible" title="Database.Beam.Query.Internal">Projectible</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> a =&gt; <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:DatabaseEntity" title="Database.Beam.Schema.Tables">DatabaseEntity</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> be (<a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:TableEntity" title="Database.Beam.Schema.Tables">TableEntity</a> table) -&gt; (<span class="keyword">forall</span> s. table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QField" title="Database.Beam.Query.Internal">QField</a> s) -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QAssignment" title="Database.Beam.Query.Internal">QAssignment</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s) -&gt; (<span class="keyword">forall</span> s. table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s) -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; (table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> <a href="Database-Beam-Postgres-Syntax.html#t:PostgresInaccessible" title="Database.Beam.Postgres.Syntax">PostgresInaccessible</a>) -&gt; a) -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgUpdateReturning" title="Database.Beam.Postgres.Full">PgUpdateReturning</a> (<a href="../../beam-core/html/Database-Beam-Query-Types.html#t:QExprToIdentity" title="Database.Beam.Query.Types">QExprToIdentity</a> a)</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:PgDeleteReturning">PgDeleteReturning</a> a = <a href="#v:PgDeleteReturning">PgDeleteReturning</a> <a href="Database-Beam-Postgres-Syntax.html#t:PgSyntax" title="Database.Beam.Postgres.Syntax">PgSyntax</a></li><li class="src short"><a href="#v:runPgDeleteReturningList">runPgDeleteReturningList</a> :: (<a href="../../beam-core/html/Database-Beam-Backend-SQL.html#t:MonadBeam" title="Database.Beam.Backend.SQL">MonadBeam</a> be m, <a href="../../beam-core/html/Database-Beam-Backend-SQL.html#t:BeamSqlBackendSyntax" title="Database.Beam.Backend.SQL">BeamSqlBackendSyntax</a> be ~ <a href="Database-Beam-Postgres-Syntax.html#t:PgCommandSyntax" title="Database.Beam.Postgres.Syntax">PgCommandSyntax</a>, <a href="Database-Beam-Postgres-CustomTypes.html#t:FromBackendRow" title="Database.Beam.Postgres.CustomTypes">FromBackendRow</a> be a) =&gt; <a href="Database-Beam-Postgres-Full.html#t:PgDeleteReturning" title="Database.Beam.Postgres.Full">PgDeleteReturning</a> a -&gt; m [a]</li><li class="src short"><a href="#v:deleteReturning">deleteReturning</a> :: <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Projectible" title="Database.Beam.Query.Internal">Projectible</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> a =&gt; <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:DatabaseEntity" title="Database.Beam.Schema.Tables">DatabaseEntity</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> be (<a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:TableEntity" title="Database.Beam.Schema.Tables">TableEntity</a> table) -&gt; (<span class="keyword">forall</span> s. table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s) -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; (table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> <a href="Database-Beam-Postgres-Syntax.html#t:PostgresInaccessible" title="Database.Beam.Postgres.Syntax">PostgresInaccessible</a>) -&gt; a) -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgDeleteReturning" title="Database.Beam.Postgres.Full">PgDeleteReturning</a> (<a href="../../beam-core/html/Database-Beam-Query-Types.html#t:QExprToIdentity" title="Database.Beam.Query.Types">QExprToIdentity</a> a)</li><li class="src short"><span class="keyword">class</span> <a href="#t:PgReturning">PgReturning</a> cmd <span class="keyword">where</span><ul class="subs"><li><span class="keyword">type</span> <a href="#t:PgReturningType">PgReturningType</a> cmd :: * -&gt; *</li><li><a href="#v:returning">returning</a> :: (<a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Beamable" title="Database.Beam.Schema.Tables">Beamable</a> tbl, <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Projectible" title="Database.Beam.Query.Internal">Projectible</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> a) =&gt; cmd <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> tbl -&gt; (tbl (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> <a href="Database-Beam-Postgres-Syntax.html#t:PostgresInaccessible" title="Database.Beam.Postgres.Syntax">PostgresInaccessible</a>) -&gt; a) -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgReturningType" title="Database.Beam.Postgres.Full">PgReturningType</a> cmd (<a href="../../beam-core/html/Database-Beam-Query-Types.html#t:QExprToIdentity" title="Database.Beam.Query.Types">QExprToIdentity</a> a)</li></ul></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Additional <code>SELECT</code> features</h1></a><a href="#g:2" id="g:2"><h2><code>SELECT</code> Locking clause</h2></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PgWithLocking" class="def">PgWithLocking</a> s a <a href="src/Database.Beam.Postgres.Full.html#PgWithLocking" class="link">Source</a> <a href="#t:PgWithLocking" class="selflink">#</a></p><div class="doc"><p>Combines the result of a query along with a set of locked tables. Used as a
 return value for the <code><a href="Database-Beam-Postgres-Full.html#v:lockingFor_" title="Database.Beam.Postgres.Full">lockingFor_</a></code> function.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PgWithLocking">Instances</h4><details id="i:PgWithLocking" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PgWithLocking:ProjectibleWithPredicate:1"></span> <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:ProjectibleWithPredicate" title="Database.Beam.Query.Internal">ProjectibleWithPredicate</a> c be res a =&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:ProjectibleWithPredicate" title="Database.Beam.Query.Internal">ProjectibleWithPredicate</a> c be res (<a href="Database-Beam-Postgres-Full.html#t:PgWithLocking" title="Database.Beam.Postgres.Full">PgWithLocking</a> s a)</span> <a href="src/Database.Beam.Postgres.Full.html#line-84" class="link">Source</a> <a href="#t:PgWithLocking" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PgWithLocking:ProjectibleWithPredicate:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Beam-Postgres-Full.html">Database.Beam.Postgres.Full</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:project-39-">project'</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> c -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> (be, res) -&gt; (<span class="keyword">forall</span> context. c context =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> context -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> be -&gt; res -&gt; m res) -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgWithLocking" title="Database.Beam.Postgres.Full">PgWithLocking</a> s a -&gt; m (<a href="Database-Beam-Postgres-Full.html#t:PgWithLocking" title="Database.Beam.Postgres.Full">PgWithLocking</a> s a) <a href="../../beam-core/html/src" class="link">Source</a> <a href="#v:project-39-" class="selflink">#</a></p><p class="src"><a href="#v:projectSkeleton-39-">projectSkeleton'</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> c -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> (be, res) -&gt; (<span class="keyword">forall</span> context. c context =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> context -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> be -&gt; m res) -&gt; m (<a href="Database-Beam-Postgres-Full.html#t:PgWithLocking" title="Database.Beam.Postgres.Full">PgWithLocking</a> s a) <a href="../../beam-core/html/src" class="link">Source</a> <a href="#v:projectSkeleton-39-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PgLockedTables" class="def">PgLockedTables</a> s <a href="src/Database.Beam.Postgres.Full.html#PgLockedTables" class="link">Source</a> <a href="#t:PgLockedTables" class="selflink">#</a></p><div class="doc"><p>An explicit lock against some tables. You can create a value of this type using the <code><a href="Database-Beam-Postgres-Full.html#v:locked_" title="Database.Beam.Postgres.Full">locked_</a></code>
 function. You can combine these values monoidally to combine multiple locks for use with the
 <code><a href="Database-Beam-Postgres-Full.html#v:withLocks_" title="Database.Beam.Postgres.Full">withLocks_</a></code> function.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PgLockedTables">Instances</h4><details id="i:PgLockedTables" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PgLockedTables:Semigroup:1"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> (<a href="Database-Beam-Postgres-Full.html#t:PgLockedTables" title="Database.Beam.Postgres.Full">PgLockedTables</a> s)</span> <a href="src/Database.Beam.Postgres.Full.html#line-79" class="link">Source</a> <a href="#t:PgLockedTables" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PgLockedTables:Semigroup:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Beam-Postgres-Full.html">Database.Beam.Postgres.Full</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="Database-Beam-Postgres-Full.html#t:PgLockedTables" title="Database.Beam.Postgres.Full">PgLockedTables</a> s -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgLockedTables" title="Database.Beam.Postgres.Full">PgLockedTables</a> s -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgLockedTables" title="Database.Beam.Postgres.Full">PgLockedTables</a> s <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> (<a href="Database-Beam-Postgres-Full.html#t:PgLockedTables" title="Database.Beam.Postgres.Full">PgLockedTables</a> s) -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgLockedTables" title="Database.Beam.Postgres.Full">PgLockedTables</a> s <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Prelude.html#t:Integral" title="Prelude">Integral</a> b =&gt; b -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgLockedTables" title="Database.Beam.Postgres.Full">PgLockedTables</a> s -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgLockedTables" title="Database.Beam.Postgres.Full">PgLockedTables</a> s <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PgLockedTables:Monoid:2"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> (<a href="Database-Beam-Postgres-Full.html#t:PgLockedTables" title="Database.Beam.Postgres.Full">PgLockedTables</a> s)</span> <a href="src/Database.Beam.Postgres.Full.html#line-79" class="link">Source</a> <a href="#t:PgLockedTables" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PgLockedTables:Monoid:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Beam-Postgres-Full.html">Database.Beam.Postgres.Full</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Database-Beam-Postgres-Full.html#t:PgLockedTables" title="Database.Beam.Postgres.Full">PgLockedTables</a> s <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Database-Beam-Postgres-Full.html#t:PgLockedTables" title="Database.Beam.Postgres.Full">PgLockedTables</a> s -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgLockedTables" title="Database.Beam.Postgres.Full">PgLockedTables</a> s -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgLockedTables" title="Database.Beam.Postgres.Full">PgLockedTables</a> s <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Database-Beam-Postgres-Full.html#t:PgLockedTables" title="Database.Beam.Postgres.Full">PgLockedTables</a> s] -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgLockedTables" title="Database.Beam.Postgres.Full">PgLockedTables</a> s <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:mconcat" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PgSelectLockingStrength" class="def">PgSelectLockingStrength</a> <a href="src/Database.Beam.Postgres.Syntax.html#PgSelectLockingStrength" class="link">Source</a> <a href="#t:PgSelectLockingStrength" class="selflink">#</a></p><div class="doc"><p>Specifies the level of lock that will be taken against a row. See
 <a href="https://www.postgresql.org/docs/current/static/explicit-locking.html#LOCKING-ROWS">the manual section</a>
 for more information.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PgSelectLockingStrengthUpdate" class="def">PgSelectLockingStrengthUpdate</a></td><td class="doc"><pre>UPDATE</pre></td></tr><tr><td class="src"><a id="v:PgSelectLockingStrengthNoKeyUpdate" class="def">PgSelectLockingStrengthNoKeyUpdate</a></td><td class="doc"><pre>NO KEY UPDATE</pre></td></tr><tr><td class="src"><a id="v:PgSelectLockingStrengthShare" class="def">PgSelectLockingStrengthShare</a></td><td class="doc"><pre>SHARE</pre></td></tr><tr><td class="src"><a id="v:PgSelectLockingStrengthKeyShare" class="def">PgSelectLockingStrengthKeyShare</a></td><td class="doc"><pre>KEY SHARE</pre></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PgSelectLockingStrength">Instances</h4><details id="i:PgSelectLockingStrength" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PgSelectLockingStrength:Eq:1"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingStrength" title="Database.Beam.Postgres.Full">PgSelectLockingStrength</a></span> <a href="src/Database.Beam.Postgres.Syntax.html#line-314" class="link">Source</a> <a href="#t:PgSelectLockingStrength" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PgSelectLockingStrength:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Beam-Postgres-Syntax.html">Database.Beam.Postgres.Syntax</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingStrength" title="Database.Beam.Postgres.Full">PgSelectLockingStrength</a> -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingStrength" title="Database.Beam.Postgres.Full">PgSelectLockingStrength</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="../../ghc/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingStrength" title="Database.Beam.Postgres.Full">PgSelectLockingStrength</a> -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingStrength" title="Database.Beam.Postgres.Full">PgSelectLockingStrength</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="../../ghc/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PgSelectLockingStrength:Show:2"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingStrength" title="Database.Beam.Postgres.Full">PgSelectLockingStrength</a></span> <a href="src/Database.Beam.Postgres.Syntax.html#line-314" class="link">Source</a> <a href="#t:PgSelectLockingStrength" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PgSelectLockingStrength:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Beam-Postgres-Syntax.html">Database.Beam.Postgres.Syntax</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingStrength" title="Database.Beam.Postgres.Full">PgSelectLockingStrength</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingStrength" title="Database.Beam.Postgres.Full">PgSelectLockingStrength</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingStrength" title="Database.Beam.Postgres.Full">PgSelectLockingStrength</a>] -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PgSelectLockingStrength:Generic:3"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingStrength" title="Database.Beam.Postgres.Full">PgSelectLockingStrength</a></span> <a href="src/Database.Beam.Postgres.Syntax.html#line-314" class="link">Source</a> <a href="#t:PgSelectLockingStrength" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PgSelectLockingStrength:Generic:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Beam-Postgres-Syntax.html">Database.Beam.Postgres.Syntax</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingStrength" title="Database.Beam.Postgres.Full">PgSelectLockingStrength</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> :: <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingStrength" title="Database.Beam.Postgres.Full">PgSelectLockingStrength</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingStrength" title="Database.Beam.Postgres.Full">PgSelectLockingStrength</a> x <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingStrength" title="Database.Beam.Postgres.Full">PgSelectLockingStrength</a> x -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingStrength" title="Database.Beam.Postgres.Full">PgSelectLockingStrength</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PgSelectLockingStrength:Rep:4"></span> <span class="keyword">type</span> <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingStrength" title="Database.Beam.Postgres.Full">PgSelectLockingStrength</a></span> <a href="src/Database.Beam.Postgres.Syntax.html#line-314" class="link">Source</a> <a href="#t:PgSelectLockingStrength" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PgSelectLockingStrength:Rep:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Beam-Postgres-Syntax.html">Database.Beam.Postgres.Syntax</a></p> <div class="src"><span class="keyword">type</span> <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingStrength" title="Database.Beam.Postgres.Full">PgSelectLockingStrength</a> = <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> ('<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;PgSelectLockingStrength&quot; &quot;Database.Beam.Postgres.Syntax&quot; &quot;beam-postgres-0.5.3.0-GbCpPynIpRQJYQ9V40cFTr&quot; '<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) ((<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;PgSelectLockingStrengthUpdate&quot; '<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:U1" title="GHC.Generics">U1</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t::-43-:" title="GHC.Generics">:+:</a> <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;PgSelectLockingStrengthNoKeyUpdate&quot; '<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:U1" title="GHC.Generics">U1</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>)) <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t::-43-:" title="GHC.Generics">:+:</a> (<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;PgSelectLockingStrengthShare&quot; '<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:U1" title="GHC.Generics">U1</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t::-43-:" title="GHC.Generics">:+:</a> <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;PgSelectLockingStrengthKeyShare&quot; '<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:U1" title="GHC.Generics">U1</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>)))</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PgSelectLockingOptions" class="def">PgSelectLockingOptions</a> <a href="src/Database.Beam.Postgres.Syntax.html#PgSelectLockingOptions" class="link">Source</a> <a href="#t:PgSelectLockingOptions" class="selflink">#</a></p><div class="doc"><p>Specifies how we should handle lock conflicts.</p><p>See
 <a href="https://www.postgresql.org/docs/9.5/static/sql-select.html#SQL-FOR-UPDATE-SHARE">the manual section</a>
 for more information</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PgSelectLockingOptionsNoWait" class="def">PgSelectLockingOptionsNoWait</a></td><td class="doc"><p><code>NOWAIT</code>. Report an error rather than waiting for the lock</p></td></tr><tr><td class="src"><a id="v:PgSelectLockingOptionsSkipLocked" class="def">PgSelectLockingOptionsSkipLocked</a></td><td class="doc"><p><code>SKIP LOCKED</code>. Rather than wait for a lock, skip the row instead</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PgSelectLockingOptions">Instances</h4><details id="i:PgSelectLockingOptions" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PgSelectLockingOptions:Eq:1"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingOptions" title="Database.Beam.Postgres.Full">PgSelectLockingOptions</a></span> <a href="src/Database.Beam.Postgres.Syntax.html#line-326" class="link">Source</a> <a href="#t:PgSelectLockingOptions" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PgSelectLockingOptions:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Beam-Postgres-Syntax.html">Database.Beam.Postgres.Syntax</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingOptions" title="Database.Beam.Postgres.Full">PgSelectLockingOptions</a> -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingOptions" title="Database.Beam.Postgres.Full">PgSelectLockingOptions</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="../../ghc/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingOptions" title="Database.Beam.Postgres.Full">PgSelectLockingOptions</a> -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingOptions" title="Database.Beam.Postgres.Full">PgSelectLockingOptions</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="../../ghc/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PgSelectLockingOptions:Show:2"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingOptions" title="Database.Beam.Postgres.Full">PgSelectLockingOptions</a></span> <a href="src/Database.Beam.Postgres.Syntax.html#line-326" class="link">Source</a> <a href="#t:PgSelectLockingOptions" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PgSelectLockingOptions:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Beam-Postgres-Syntax.html">Database.Beam.Postgres.Syntax</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingOptions" title="Database.Beam.Postgres.Full">PgSelectLockingOptions</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingOptions" title="Database.Beam.Postgres.Full">PgSelectLockingOptions</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingOptions" title="Database.Beam.Postgres.Full">PgSelectLockingOptions</a>] -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PgSelectLockingOptions:Generic:3"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingOptions" title="Database.Beam.Postgres.Full">PgSelectLockingOptions</a></span> <a href="src/Database.Beam.Postgres.Syntax.html#line-326" class="link">Source</a> <a href="#t:PgSelectLockingOptions" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PgSelectLockingOptions:Generic:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Beam-Postgres-Syntax.html">Database.Beam.Postgres.Syntax</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingOptions" title="Database.Beam.Postgres.Full">PgSelectLockingOptions</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> :: <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingOptions" title="Database.Beam.Postgres.Full">PgSelectLockingOptions</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingOptions" title="Database.Beam.Postgres.Full">PgSelectLockingOptions</a> x <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingOptions" title="Database.Beam.Postgres.Full">PgSelectLockingOptions</a> x -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingOptions" title="Database.Beam.Postgres.Full">PgSelectLockingOptions</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PgSelectLockingOptions:Rep:4"></span> <span class="keyword">type</span> <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingOptions" title="Database.Beam.Postgres.Full">PgSelectLockingOptions</a></span> <a href="src/Database.Beam.Postgres.Syntax.html#line-326" class="link">Source</a> <a href="#t:PgSelectLockingOptions" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PgSelectLockingOptions:Rep:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Beam-Postgres-Syntax.html">Database.Beam.Postgres.Syntax</a></p> <div class="src"><span class="keyword">type</span> <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingOptions" title="Database.Beam.Postgres.Full">PgSelectLockingOptions</a> = <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> ('<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;PgSelectLockingOptions&quot; &quot;Database.Beam.Postgres.Syntax&quot; &quot;beam-postgres-0.5.3.0-GbCpPynIpRQJYQ9V40cFTr&quot; '<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;PgSelectLockingOptionsNoWait&quot; '<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:U1" title="GHC.Generics">U1</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t::-43-:" title="GHC.Generics">:+:</a> <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;PgSelectLockingOptionsSkipLocked&quot; '<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:U1" title="GHC.Generics">U1</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>))</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:lockingAllTablesFor_" class="def">lockingAllTablesFor_</a> :: (<a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Database" title="Database.Beam.Schema.Tables">Database</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> db, <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Projectible" title="Database.Beam.Query.Internal">Projectible</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> a, <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:ThreadRewritable" title="Database.Beam.Query.Internal">ThreadRewritable</a> (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QNested" title="Database.Beam.Query.Internal">QNested</a> s) a) =&gt; <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingStrength" title="Database.Beam.Postgres.Full">PgSelectLockingStrength</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingOptions" title="Database.Beam.Postgres.Full">PgSelectLockingOptions</a> -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Q" title="Database.Beam.Query.Internal">Q</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> db (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QNested" title="Database.Beam.Query.Internal">QNested</a> s) a -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Q" title="Database.Beam.Query.Internal">Q</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> db s (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:WithRewrittenThread" title="Database.Beam.Query.Internal">WithRewrittenThread</a> (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QNested" title="Database.Beam.Query.Internal">QNested</a> s) s a) <a href="src/Database.Beam.Postgres.Full.html#lockingAllTablesFor_" class="link">Source</a> <a href="#v:lockingAllTablesFor_" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Database-Beam-Postgres-Full.html#v:lockingFor_" title="Database.Beam.Postgres.Full">lockingFor_</a></code>, but does not require an explicit set of locked tables. This produces an
 empty <code>FOR .. OF</code> clause.</p></div></div><div class="top"><p class="src"><a id="v:lockingFor_" class="def">lockingFor_</a> :: <span class="keyword">forall</span> a db s. (<a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Database" title="Database.Beam.Schema.Tables">Database</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> db, <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Projectible" title="Database.Beam.Query.Internal">Projectible</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> a, <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:ThreadRewritable" title="Database.Beam.Query.Internal">ThreadRewritable</a> (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QNested" title="Database.Beam.Query.Internal">QNested</a> s) a) =&gt; <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingStrength" title="Database.Beam.Postgres.Full">PgSelectLockingStrength</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Database-Beam-Postgres-Full.html#t:PgSelectLockingOptions" title="Database.Beam.Postgres.Full">PgSelectLockingOptions</a> -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Q" title="Database.Beam.Query.Internal">Q</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> db (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QNested" title="Database.Beam.Query.Internal">QNested</a> s) (<a href="Database-Beam-Postgres-Full.html#t:PgWithLocking" title="Database.Beam.Postgres.Full">PgWithLocking</a> (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QNested" title="Database.Beam.Query.Internal">QNested</a> s) a) -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Q" title="Database.Beam.Query.Internal">Q</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> db s (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:WithRewrittenThread" title="Database.Beam.Query.Internal">WithRewrittenThread</a> (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QNested" title="Database.Beam.Query.Internal">QNested</a> s) s a) <a href="src/Database.Beam.Postgres.Full.html#lockingFor_" class="link">Source</a> <a href="#v:lockingFor_" class="selflink">#</a></p><div class="doc"><p>Lock some tables during the execution of a query. This is rather complicated, and there are
 several usage examples in
 <a href="https://haskell-beam.github.io/beam/user-guide/backends/beam-postgres/">the user guide</a></p><p>The Postgres locking clause is rather complex, and beam currently does not check several
 pre-conditions. It is assumed you kinda know what you're doing.</p><p>Things which postgres doesn't like, but beam will do</p><ul><li>Using aggregates within a query that has a locking clause</li><li>Using <code>UNION</code>, <code>INTERSECT</code>, or <code>EXCEPT</code></li></ul><p>See <a href="https://www.postgresql.org/docs/10/static/sql-select.html#SQL-FOR-UPDATE-SHARE">here</a> for
   more details.</p><p>This function accepts a locking strength (<code>UPDATE</code>, <code>SHARE</code>, <code>KEY SHARE</code>, etc), an optional
 locking option (<code>NOWAIT</code> or <code>SKIP LOCKED</code>), and a query whose rows to lock. The query should
 return its result wrapped in <code><a href="Database-Beam-Postgres-Full.html#t:PgWithLocking" title="Database.Beam.Postgres.Full">PgWithLocking</a></code>, via the <code><a href="Database-Beam-Postgres-Full.html#v:withLocks_" title="Database.Beam.Postgres.Full">withLocks_</a></code> or <code><a href="Database-Beam-Postgres-Full.html#v:lockAll_" title="Database.Beam.Postgres.Full">lockAll_</a></code> function.</p><p>If you want to use the most common behavior (lock all rows in every table mentioned), the
 <code><a href="Database-Beam-Postgres-Full.html#v:lockingAllTablesFor_" title="Database.Beam.Postgres.Full">lockingAllTablesFor_</a></code> function may be what you're after.</p></div></div><div class="top"><p class="src"><a id="v:locked_" class="def">locked_</a> :: (<a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Beamable" title="Database.Beam.Schema.Tables">Beamable</a> tbl, <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Database" title="Database.Beam.Schema.Tables">Database</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> db) =&gt; <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:DatabaseEntity" title="Database.Beam.Schema.Tables">DatabaseEntity</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> db (<a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:TableEntity" title="Database.Beam.Schema.Tables">TableEntity</a> tbl) -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Q" title="Database.Beam.Query.Internal">Q</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> db s (<a href="Database-Beam-Postgres-Full.html#t:PgLockedTables" title="Database.Beam.Postgres.Full">PgLockedTables</a> s, tbl (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s)) <a href="src/Database.Beam.Postgres.Full.html#locked_" class="link">Source</a> <a href="#v:locked_" class="selflink">#</a></p><div class="doc"><p>Join with a table while locking it explicitly. Provides a <code><a href="Database-Beam-Postgres-Full.html#t:PgLockedTables" title="Database.Beam.Postgres.Full">PgLockedTables</a></code> value that can be
 used with <code><a href="Database-Beam-Postgres-Full.html#v:withLocks_" title="Database.Beam.Postgres.Full">withLocks_</a></code> to explicitly lock a table during a <code>SELECT</code> statement</p></div></div><div class="top"><p class="src"><a id="v:lockAll_" class="def">lockAll_</a> :: a -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgWithLocking" title="Database.Beam.Postgres.Full">PgWithLocking</a> s a <a href="src/Database.Beam.Postgres.Full.html#lockAll_" class="link">Source</a> <a href="#v:lockAll_" class="selflink">#</a></p><div class="doc"><p>Use with <code><a href="Database-Beam-Postgres-Full.html#v:lockingFor_" title="Database.Beam.Postgres.Full">lockingFor_</a></code> to lock all tables mentioned in the query</p></div></div><div class="top"><p class="src"><a id="v:withLocks_" class="def">withLocks_</a> :: a -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgLockedTables" title="Database.Beam.Postgres.Full">PgLockedTables</a> s -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgWithLocking" title="Database.Beam.Postgres.Full">PgWithLocking</a> s a <a href="src/Database.Beam.Postgres.Full.html#withLocks_" class="link">Source</a> <a href="#v:withLocks_" class="selflink">#</a></p><div class="doc"><p>Return and lock the given tables. Typically used as an infix operator. See the
 <a href="https://haskell-beam.github.io/beam/user-guide/backends/beam-postgres/">the user guide</a> for usage
 examples</p></div></div><a href="#g:3" id="g:3"><h2>Lateral joins</h2></a><div class="top"><p class="src"><a id="v:lateral_" class="def">lateral_</a> :: <span class="keyword">forall</span> s a b db. (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:ThreadRewritable" title="Database.Beam.Query.Internal">ThreadRewritable</a> s a, <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:ThreadRewritable" title="Database.Beam.Query.Internal">ThreadRewritable</a> (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QNested" title="Database.Beam.Query.Internal">QNested</a> s) b, <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Projectible" title="Database.Beam.Query.Internal">Projectible</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> b) =&gt; a -&gt; (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:WithRewrittenThread" title="Database.Beam.Query.Internal">WithRewrittenThread</a> s (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QNested" title="Database.Beam.Query.Internal">QNested</a> s) a -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Q" title="Database.Beam.Query.Internal">Q</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> db (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QNested" title="Database.Beam.Query.Internal">QNested</a> s) b) -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Q" title="Database.Beam.Query.Internal">Q</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> db s (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:WithRewrittenThread" title="Database.Beam.Query.Internal">WithRewrittenThread</a> (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QNested" title="Database.Beam.Query.Internal">QNested</a> s) s b) <a href="src/Database.Beam.Postgres.Full.html#lateral_" class="link">Source</a> <a href="#v:lateral_" class="selflink">#</a></p><div class="doc"><p>Postgres <code>LATERAL JOIN</code> support</p><p>Allows the use of variables introduced on the left side of a <code>JOIN</code> to be used on the right hand
 side.</p><p>Because of the default scoping rules, we can't use the typical monadic bind (<code>&gt;&gt;=</code>) operator to
 create this join.</p><p>Instead, <code><a href="Database-Beam-Postgres-Full.html#v:lateral_" title="Database.Beam.Postgres.Full">lateral_</a></code>  takes two  arguments. The first  is the  left hand side  of the  <code>JOIN</code>. The
 second is a function that  takes the result of the first join and  uses those variables to create
 the right hand side.</p><p>For example, to join table A with a subquery that returns the first three rows in B which matches
 a column in A, ordered by another column in B:</p><pre>lateral_ (_tableA database) $ \tblA -&gt;
  limit_ 3 $
  ordering_ (\(_, b) -&gt; asc_ (_bField2 b)) $ do
    b &lt;- _tableB database
    guard_ (_bField1 b ==. _aField1 a)
    pure (a, b0</pre></div></div><a href="#g:4" id="g:4"><h1><code>INSERT</code> and <code>INSERT RETURNING</code></h1></a><div class="top"><p class="src"><a id="v:insert" class="def">insert</a> :: <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:DatabaseEntity" title="Database.Beam.Schema.Tables">DatabaseEntity</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> db (<a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:TableEntity" title="Database.Beam.Schema.Tables">TableEntity</a> table) -&gt; <a href="../../beam-core/html/Database-Beam-Query.html#t:SqlInsertValues" title="Database.Beam.Query">SqlInsertValues</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> (table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s)) -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgInsertOnConflict" title="Database.Beam.Postgres.Full">PgInsertOnConflict</a> table -&gt; <a href="../../beam-core/html/Database-Beam-Query.html#t:SqlInsert" title="Database.Beam.Query">SqlInsert</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> table <a href="src/Database.Beam.Postgres.Full.html#insert" class="link">Source</a> <a href="#v:insert" class="selflink">#</a></p><div class="doc"><p>A <code>beam-postgres</code>-specific version of <code><a href="../../beam-core/html/Database-Beam-Query.html#v:insert" title="Database.Beam.Query">insert</a></code>, which
 provides fuller support for the much richer Postgres <code>INSERT</code> syntax. This
 allows you to specify <code>ON CONFLICT</code> actions. For even more complete support,
 see <code><a href="Database-Beam-Postgres-Full.html#v:insertReturning" title="Database.Beam.Postgres.Full">insertReturning</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:insertReturning" class="def">insertReturning</a> :: <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Projectible" title="Database.Beam.Query.Internal">Projectible</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> a =&gt; <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:DatabaseEntity" title="Database.Beam.Schema.Tables">DatabaseEntity</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> be (<a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:TableEntity" title="Database.Beam.Schema.Tables">TableEntity</a> table) -&gt; <a href="../../beam-core/html/Database-Beam-Query.html#t:SqlInsertValues" title="Database.Beam.Query">SqlInsertValues</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> (table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s)) -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgInsertOnConflict" title="Database.Beam.Postgres.Full">PgInsertOnConflict</a> table -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> <a href="Database-Beam-Postgres-Syntax.html#t:PostgresInaccessible" title="Database.Beam.Postgres.Syntax">PostgresInaccessible</a>) -&gt; a) -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgInsertReturning" title="Database.Beam.Postgres.Full">PgInsertReturning</a> (<a href="../../beam-core/html/Database-Beam-Query-Types.html#t:QExprToIdentity" title="Database.Beam.Query.Types">QExprToIdentity</a> a) <a href="src/Database.Beam.Postgres.Full.html#insertReturning" class="link">Source</a> <a href="#v:insertReturning" class="selflink">#</a></p><div class="doc"><p>The full Postgres <code>INSERT</code> syntax, supporting conflict actions and the
 <code>RETURNING CLAUSE</code>. See <code><a href="Database-Beam-Postgres-Full.html#t:PgInsertOnConflict" title="Database.Beam.Postgres.Full">PgInsertOnConflict</a></code> for how to specify a conflict
 action or provide <code><a href="Database-Beam-Postgres-Full.html#v:onConflictDefault" title="Database.Beam.Postgres.Full">onConflictDefault</a></code> to preserve the behavior without any
 <code>ON CONFLICT</code> clause. The last argument takes a newly inserted row and
 returns the expression to be returned as part of the <code>RETURNING</code> clause. For
 a backend-agnostic version of this functionality see
 <code><a href="../../beam-core/html/Database-Beam-Backend-SQL-BeamExtensions.html#t:MonadBeamInsertReturning" title="Database.Beam.Backend.SQL.BeamExtensions">MonadBeamInsertReturning</a></code>. Use <code>runInsertReturning</code> to get the results.</p></div></div><div class="top"><p class="src"><a id="v:insertDefaults" class="def">insertDefaults</a> :: <a href="../../beam-core/html/Database-Beam-Query.html#t:SqlInsertValues" title="Database.Beam.Query">SqlInsertValues</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> tbl <a href="src/Database.Beam.Postgres.Full.html#insertDefaults" class="link">Source</a> <a href="#v:insertDefaults" class="selflink">#</a></p><div class="doc"><p>The Postgres <code>DEFAULT VALUES</code> clause for the <code>INSERT</code> command.</p></div></div><div class="top"><p class="src"><a id="v:runPgInsertReturningList" class="def">runPgInsertReturningList</a> :: (<a href="../../beam-core/html/Database-Beam-Backend-SQL.html#t:MonadBeam" title="Database.Beam.Backend.SQL">MonadBeam</a> be m, <a href="../../beam-core/html/Database-Beam-Backend-SQL.html#t:BeamSqlBackendSyntax" title="Database.Beam.Backend.SQL">BeamSqlBackendSyntax</a> be ~ <a href="Database-Beam-Postgres-Syntax.html#t:PgCommandSyntax" title="Database.Beam.Postgres.Syntax">PgCommandSyntax</a>, <a href="Database-Beam-Postgres-CustomTypes.html#t:FromBackendRow" title="Database.Beam.Postgres.CustomTypes">FromBackendRow</a> be a) =&gt; <a href="Database-Beam-Postgres-Full.html#t:PgInsertReturning" title="Database.Beam.Postgres.Full">PgInsertReturning</a> a -&gt; m [a] <a href="src/Database.Beam.Postgres.Full.html#runPgInsertReturningList" class="link">Source</a> <a href="#v:runPgInsertReturningList" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PgInsertReturning" class="def">PgInsertReturning</a> a <a href="src/Database.Beam.Postgres.Full.html#PgInsertReturning" class="link">Source</a> <a href="#t:PgInsertReturning" class="selflink">#</a></p><div class="doc"><p>The most general kind of <code>INSERT</code> that postgres can perform</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PgInsertReturning" class="def">PgInsertReturning</a> <a href="Database-Beam-Postgres-Syntax.html#t:PgSyntax" title="Database.Beam.Postgres.Syntax">PgSyntax</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:PgInsertReturningEmpty" class="def">PgInsertReturningEmpty</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PgInsertReturning">Instances</h4><details id="i:PgInsertReturning" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PgInsertReturning:PgDebugStmt:1"></span> <a href="Database-Beam-Postgres.html#t:PgDebugStmt" title="Database.Beam.Postgres">PgDebugStmt</a> (<a href="Database-Beam-Postgres-Full.html#t:PgInsertReturning" title="Database.Beam.Postgres.Full">PgInsertReturning</a> a)</span> <a href="src/Database.Beam.Postgres.Debug.html#line-50" class="link">Source</a> <a href="#t:PgDebugStmt" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PgInsertReturning:PgDebugStmt:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Beam-Postgres-Debug.html">Database.Beam.Postgres.Debug</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pgStmtSyntax">pgStmtSyntax</a> :: <a href="Database-Beam-Postgres-Full.html#t:PgInsertReturning" title="Database.Beam.Postgres.Full">PgInsertReturning</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Database-Beam-Postgres-Syntax.html#t:PgSyntax" title="Database.Beam.Postgres.Syntax">PgSyntax</a></p></div></details></td></tr></table></details></div></div><a href="#g:5" id="g:5"><h2>Specifying conflict actions</h2></a><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:PgInsertOnConflict" class="def">PgInsertOnConflict</a> (tbl :: (* -&gt; *) -&gt; *) <a href="src/Database.Beam.Postgres.Full.html#PgInsertOnConflict" class="link">Source</a> <a href="#t:PgInsertOnConflict" class="selflink">#</a></p><div class="doc"><p>What to do when an <code>INSERT</code> statement inserts a row into the table <code>tbl</code>
 that violates a constraint.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PgInsertOnConflict" class="def">PgInsertOnConflict</a> (tbl (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QField" title="Database.Beam.Query.Internal">QField</a> <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QInternal" title="Database.Beam.Query.Internal">QInternal</a>) -&gt; <a href="Database-Beam-Postgres-Syntax.html#t:PgInsertOnConflictSyntax" title="Database.Beam.Postgres.Syntax">PgInsertOnConflictSyntax</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:onConflictDefault" class="def">onConflictDefault</a> :: <a href="Database-Beam-Postgres-Full.html#t:PgInsertOnConflict" title="Database.Beam.Postgres.Full">PgInsertOnConflict</a> tbl <a href="src/Database.Beam.Postgres.Full.html#onConflictDefault" class="link">Source</a> <a href="#v:onConflictDefault" class="selflink">#</a></p><div class="doc"><p>By default, Postgres will throw an error when a conflict is detected. This
 preserves that functionality.</p></div></div><div class="top"><p class="src"><a id="v:onConflict" class="def">onConflict</a> :: <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Beamable" title="Database.Beam.Schema.Tables">Beamable</a> tbl =&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictTarget" title="Database.Beam.Postgres.Full">SqlConflictTarget</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> tbl -&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictAction" title="Database.Beam.Postgres.Full">SqlConflictAction</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> tbl -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgInsertOnConflict" title="Database.Beam.Postgres.Full">PgInsertOnConflict</a> tbl <a href="src/Database.Beam.Postgres.Full.html#onConflict" class="link">Source</a> <a href="#v:onConflict" class="selflink">#</a></p><div class="doc"><p>Tells postgres what to do on an <code>INSERT</code> conflict. The first argument is
 the type of conflict to provide an action for. For example, to only provide
 an action for certain fields, use <code><a href="Database-Beam-Postgres-Full.html#v:conflictingFields" title="Database.Beam.Postgres.Full">conflictingFields</a></code>. Or to only provide an
 action over certain fields where a particular condition is met, use
 <code><a href="Database-Beam-Postgres-Full.html#v:conflictingFields" title="Database.Beam.Postgres.Full">conflictingFields</a></code>. If you have a particular constraint violation in mind,
 use <code><a href="Database-Beam-Postgres-Full.html#v:conflictingConstraint" title="Database.Beam.Postgres.Full">conflictingConstraint</a></code>. To perform an action on any conflict, use
 <code><a href="Database-Beam-Postgres-Full.html#v:anyConflict" title="Database.Beam.Postgres.Full">anyConflict</a></code>.</p><p>See the
 <a href="https://www.postgresql.org/docs/current/static/sql-insert.html">Postgres documentation</a>.</p></div></div><div class="top"><p class="src"><a id="v:conflictingConstraint" class="def">conflictingConstraint</a> :: <a href="../../text/html/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictTarget" title="Database.Beam.Postgres.Full">SqlConflictTarget</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> tbl <a href="src/Database.Beam.Postgres.Full.html#conflictingConstraint" class="link">Source</a> <a href="#v:conflictingConstraint" class="selflink">#</a></p><div class="doc"><p>Perform the action only if the given named constraint is violated</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="../../beam-core/html/Database-Beam-Backend-SQL.html#t:BeamSqlBackend" title="Database.Beam.Backend.SQL">BeamSqlBackend</a> be =&gt; <a id="t:BeamHasInsertOnConflict" class="def">BeamHasInsertOnConflict</a> be <span class="keyword">where</span> <a href="../../beam-core/html/src" class="link">Source</a> <a href="#t:BeamHasInsertOnConflict" class="selflink">#</a></p><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> <a id="t:SqlConflictTarget" class="def">SqlConflictTarget</a> be (table :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <a href="../../beam-core/html/src" class="link">Source</a> <a href="#t:SqlConflictTarget" class="selflink">#</a></p><div class="doc"><p>Specifies the kind of constraint that must be violated for the action to occur</p></div><p class="src"><span class="keyword">data</span> <a id="t:SqlConflictAction" class="def">SqlConflictAction</a> be (table :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <a href="../../beam-core/html/src" class="link">Source</a> <a href="#t:SqlConflictAction" class="selflink">#</a></p><div class="doc"><p>What to do when an <code>INSERT</code> statement inserts a row into the table <code>tbl</code>
 that violates a constraint.</p></div></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:insertOnConflict" class="def">insertOnConflict</a> :: <span class="keyword">forall</span> table (db :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) s. <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Beamable" title="Database.Beam.Schema.Tables">Beamable</a> table =&gt; <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:DatabaseEntity" title="Database.Beam.Schema.Tables">DatabaseEntity</a> be db (<a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:TableEntity" title="Database.Beam.Schema.Tables">TableEntity</a> table) -&gt; <a href="../../beam-core/html/Database-Beam-Query.html#t:SqlInsertValues" title="Database.Beam.Query">SqlInsertValues</a> be (table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> be s)) -&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictTarget" title="Database.Beam.Postgres.Full">SqlConflictTarget</a> be table -&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictAction" title="Database.Beam.Postgres.Full">SqlConflictAction</a> be table -&gt; <a href="../../beam-core/html/Database-Beam-Query.html#t:SqlInsert" title="Database.Beam.Query">SqlInsert</a> be table <a href="../../beam-core/html/src" class="link">Source</a> <a href="#v:insertOnConflict" class="selflink">#</a></p><p class="src"><a id="v:anyConflict" class="def">anyConflict</a> :: <span class="keyword">forall</span> (table :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="Database-Beam-Postgres-Full.html#t:SqlConflictTarget" title="Database.Beam.Postgres.Full">SqlConflictTarget</a> be table <a href="../../beam-core/html/src" class="link">Source</a> <a href="#v:anyConflict" class="selflink">#</a></p><p class="src"><a id="v:conflictingFields" class="def">conflictingFields</a> :: <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Projectible" title="Database.Beam.Query.Internal">Projectible</a> be proj =&gt; (table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> be <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QInternal" title="Database.Beam.Query.Internal">QInternal</a>) -&gt; proj) -&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictTarget" title="Database.Beam.Postgres.Full">SqlConflictTarget</a> be table <a href="../../beam-core/html/src" class="link">Source</a> <a href="#v:conflictingFields" class="selflink">#</a></p><p class="src"><a id="v:conflictingFieldsWhere" class="def">conflictingFieldsWhere</a> :: <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Projectible" title="Database.Beam.Query.Internal">Projectible</a> be proj =&gt; (table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> be <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QInternal" title="Database.Beam.Query.Internal">QInternal</a>) -&gt; proj) -&gt; (<span class="keyword">forall</span> s. table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> be s) -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> be s <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictTarget" title="Database.Beam.Postgres.Full">SqlConflictTarget</a> be table <a href="../../beam-core/html/src" class="link">Source</a> <a href="#v:conflictingFieldsWhere" class="selflink">#</a></p><p class="src"><a id="v:onConflictDoNothing" class="def">onConflictDoNothing</a> :: <span class="keyword">forall</span> (table :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="Database-Beam-Postgres-Full.html#t:SqlConflictAction" title="Database.Beam.Postgres.Full">SqlConflictAction</a> be table <a href="../../beam-core/html/src" class="link">Source</a> <a href="#v:onConflictDoNothing" class="selflink">#</a></p><p class="src"><a id="v:onConflictUpdateSet" class="def">onConflictUpdateSet</a> :: <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Beamable" title="Database.Beam.Schema.Tables">Beamable</a> table =&gt; (<span class="keyword">forall</span> s. table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QField" title="Database.Beam.Query.Internal">QField</a> s) -&gt; table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> be s) -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QAssignment" title="Database.Beam.Query.Internal">QAssignment</a> be s) -&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictAction" title="Database.Beam.Postgres.Full">SqlConflictAction</a> be table <a href="../../beam-core/html/src" class="link">Source</a> <a href="#v:onConflictUpdateSet" class="selflink">#</a></p><p class="src"><a id="v:onConflictUpdateSetWhere" class="def">onConflictUpdateSetWhere</a> :: <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Beamable" title="Database.Beam.Schema.Tables">Beamable</a> table =&gt; (<span class="keyword">forall</span> s. table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QField" title="Database.Beam.Query.Internal">QField</a> s) -&gt; table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> be s) -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QAssignment" title="Database.Beam.Query.Internal">QAssignment</a> be s) -&gt; (<span class="keyword">forall</span> s. table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QField" title="Database.Beam.Query.Internal">QField</a> s) -&gt; table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> be s) -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> be s <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictAction" title="Database.Beam.Postgres.Full">SqlConflictAction</a> be table <a href="../../beam-core/html/src" class="link">Source</a> <a href="#v:onConflictUpdateSetWhere" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:BeamHasInsertOnConflict">Instances</h4><details id="i:BeamHasInsertOnConflict" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:BeamHasInsertOnConflict:BeamHasInsertOnConflict:1"></span> <a href="Database-Beam-Postgres-Full.html#t:BeamHasInsertOnConflict" title="Database.Beam.Postgres.Full">BeamHasInsertOnConflict</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a></span> <a href="src/Database.Beam.Postgres.Full.html#line-441" class="link">Source</a> <a href="#t:BeamHasInsertOnConflict" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:BeamHasInsertOnConflict:BeamHasInsertOnConflict:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Beam-Postgres-Full.html">Database.Beam.Postgres.Full</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> <a href="Database-Beam-Postgres-Full.html#t:SqlConflictTarget" title="Database.Beam.Postgres.Full">SqlConflictTarget</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> table <a href="../../beam-core/html/src" class="link">Source</a> <a href="#t:SqlConflictTarget" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Database-Beam-Postgres-Full.html#t:SqlConflictAction" title="Database.Beam.Postgres.Full">SqlConflictAction</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> table <a href="../../beam-core/html/src" class="link">Source</a> <a href="#t:SqlConflictAction" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:insertOnConflict">insertOnConflict</a> :: <span class="keyword">forall</span> table (db :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) s. <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Beamable" title="Database.Beam.Schema.Tables">Beamable</a> table =&gt; <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:DatabaseEntity" title="Database.Beam.Schema.Tables">DatabaseEntity</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> db (<a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:TableEntity" title="Database.Beam.Schema.Tables">TableEntity</a> table) -&gt; <a href="../../beam-core/html/Database-Beam-Query.html#t:SqlInsertValues" title="Database.Beam.Query">SqlInsertValues</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> (table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s)) -&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictTarget" title="Database.Beam.Postgres.Full">SqlConflictTarget</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> table -&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictAction" title="Database.Beam.Postgres.Full">SqlConflictAction</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> table -&gt; <a href="../../beam-core/html/Database-Beam-Query.html#t:SqlInsert" title="Database.Beam.Query">SqlInsert</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> table <a href="../../beam-core/html/src" class="link">Source</a> <a href="#v:insertOnConflict" class="selflink">#</a></p><p class="src"><a href="#v:anyConflict">anyConflict</a> :: <span class="keyword">forall</span> (table :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="Database-Beam-Postgres-Full.html#t:SqlConflictTarget" title="Database.Beam.Postgres.Full">SqlConflictTarget</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> table <a href="../../beam-core/html/src" class="link">Source</a> <a href="#v:anyConflict" class="selflink">#</a></p><p class="src"><a href="#v:conflictingFields">conflictingFields</a> :: <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Projectible" title="Database.Beam.Query.Internal">Projectible</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> proj =&gt; (table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QInternal" title="Database.Beam.Query.Internal">QInternal</a>) -&gt; proj) -&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictTarget" title="Database.Beam.Postgres.Full">SqlConflictTarget</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> table <a href="../../beam-core/html/src" class="link">Source</a> <a href="#v:conflictingFields" class="selflink">#</a></p><p class="src"><a href="#v:conflictingFieldsWhere">conflictingFieldsWhere</a> :: <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Projectible" title="Database.Beam.Query.Internal">Projectible</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> proj =&gt; (table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QInternal" title="Database.Beam.Query.Internal">QInternal</a>) -&gt; proj) -&gt; (<span class="keyword">forall</span> s. table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s) -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictTarget" title="Database.Beam.Postgres.Full">SqlConflictTarget</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> table <a href="../../beam-core/html/src" class="link">Source</a> <a href="#v:conflictingFieldsWhere" class="selflink">#</a></p><p class="src"><a href="#v:onConflictDoNothing">onConflictDoNothing</a> :: <span class="keyword">forall</span> (table :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="Database-Beam-Postgres-Full.html#t:SqlConflictAction" title="Database.Beam.Postgres.Full">SqlConflictAction</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> table <a href="../../beam-core/html/src" class="link">Source</a> <a href="#v:onConflictDoNothing" class="selflink">#</a></p><p class="src"><a href="#v:onConflictUpdateSet">onConflictUpdateSet</a> :: <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Beamable" title="Database.Beam.Schema.Tables">Beamable</a> table =&gt; (<span class="keyword">forall</span> s. table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QField" title="Database.Beam.Query.Internal">QField</a> s) -&gt; table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s) -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QAssignment" title="Database.Beam.Query.Internal">QAssignment</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s) -&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictAction" title="Database.Beam.Postgres.Full">SqlConflictAction</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> table <a href="../../beam-core/html/src" class="link">Source</a> <a href="#v:onConflictUpdateSet" class="selflink">#</a></p><p class="src"><a href="#v:onConflictUpdateSetWhere">onConflictUpdateSetWhere</a> :: <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Beamable" title="Database.Beam.Schema.Tables">Beamable</a> table =&gt; (<span class="keyword">forall</span> s. table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QField" title="Database.Beam.Query.Internal">QField</a> s) -&gt; table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s) -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QAssignment" title="Database.Beam.Query.Internal">QAssignment</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s) -&gt; (<span class="keyword">forall</span> s. table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QField" title="Database.Beam.Query.Internal">QField</a> s) -&gt; table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s) -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictAction" title="Database.Beam.Postgres.Full">SqlConflictAction</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> table <a href="../../beam-core/html/src" class="link">Source</a> <a href="#v:onConflictUpdateSetWhere" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:onConflictUpdateAll" class="def">onConflictUpdateAll</a> :: <span class="keyword">forall</span> be (table :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). (<a href="Database-Beam-Postgres-Full.html#t:BeamHasInsertOnConflict" title="Database.Beam.Postgres.Full">BeamHasInsertOnConflict</a> be, <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Beamable" title="Database.Beam.Schema.Tables">Beamable</a> table) =&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictAction" title="Database.Beam.Postgres.Full">SqlConflictAction</a> be table <a href="../../beam-core/html/src" class="link">Source</a> <a href="#v:onConflictUpdateAll" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:onConflictUpdateInstead" class="def">onConflictUpdateInstead</a> :: (<a href="Database-Beam-Postgres-Full.html#t:BeamHasInsertOnConflict" title="Database.Beam.Postgres.Full">BeamHasInsertOnConflict</a> be, <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Beamable" title="Database.Beam.Schema.Tables">Beamable</a> table, <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:ProjectibleWithPredicate" title="Database.Beam.Query.Internal">ProjectibleWithPredicate</a> <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:AnyType" title="Database.Beam.Query.Internal">AnyType</a> () (InaccessibleQAssignment be) proj) =&gt; (table (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Functor-Const.html#t:Const" title="Data.Functor.Const">Const</a> (InaccessibleQAssignment be) :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; proj) -&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictAction" title="Database.Beam.Postgres.Full">SqlConflictAction</a> be table <a href="../../beam-core/html/src" class="link">Source</a> <a href="#v:onConflictUpdateInstead" class="selflink">#</a></p></div><a href="#g:6" id="g:6"><h1><code>UPDATE RETURNING</code></h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PgUpdateReturning" class="def">PgUpdateReturning</a> a <a href="src/Database.Beam.Postgres.Full.html#PgUpdateReturning" class="link">Source</a> <a href="#t:PgUpdateReturning" class="selflink">#</a></p><div class="doc"><p>The most general kind of <code>UPDATE</code> that postgres can perform</p><p>You can build this from a <code><a href="../../beam-core/html/Database-Beam-Query.html#t:SqlUpdate" title="Database.Beam.Query">SqlUpdate</a></code> by using <code><a href="Database-Beam-Postgres-Full.html#v:returning" title="Database.Beam.Postgres.Full">returning</a></code></p><pre>update tbl where `returning` projection</pre><p>Run the result with <code><a href="Database-Beam-Postgres-Full.html#v:runPgUpdateReturningList" title="Database.Beam.Postgres.Full">runPgUpdateReturningList</a></code></p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PgUpdateReturning" class="def">PgUpdateReturning</a> <a href="Database-Beam-Postgres-Syntax.html#t:PgSyntax" title="Database.Beam.Postgres.Syntax">PgSyntax</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:PgUpdateReturningEmpty" class="def">PgUpdateReturningEmpty</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PgUpdateReturning">Instances</h4><details id="i:PgUpdateReturning" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PgUpdateReturning:PgDebugStmt:1"></span> <a href="Database-Beam-Postgres.html#t:PgDebugStmt" title="Database.Beam.Postgres">PgDebugStmt</a> (<a href="Database-Beam-Postgres-Full.html#t:PgUpdateReturning" title="Database.Beam.Postgres.Full">PgUpdateReturning</a> a)</span> <a href="src/Database.Beam.Postgres.Debug.html#line-53" class="link">Source</a> <a href="#t:PgDebugStmt" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PgUpdateReturning:PgDebugStmt:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Beam-Postgres-Debug.html">Database.Beam.Postgres.Debug</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pgStmtSyntax">pgStmtSyntax</a> :: <a href="Database-Beam-Postgres-Full.html#t:PgUpdateReturning" title="Database.Beam.Postgres.Full">PgUpdateReturning</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Database-Beam-Postgres-Syntax.html#t:PgSyntax" title="Database.Beam.Postgres.Syntax">PgSyntax</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:runPgUpdateReturningList" class="def">runPgUpdateReturningList</a> :: (<a href="../../beam-core/html/Database-Beam-Backend-SQL.html#t:MonadBeam" title="Database.Beam.Backend.SQL">MonadBeam</a> be m, <a href="../../beam-core/html/Database-Beam-Backend-SQL.html#t:BeamSqlBackendSyntax" title="Database.Beam.Backend.SQL">BeamSqlBackendSyntax</a> be ~ <a href="Database-Beam-Postgres-Syntax.html#t:PgCommandSyntax" title="Database.Beam.Postgres.Syntax">PgCommandSyntax</a>, <a href="Database-Beam-Postgres-CustomTypes.html#t:FromBackendRow" title="Database.Beam.Postgres.CustomTypes">FromBackendRow</a> be a) =&gt; <a href="Database-Beam-Postgres-Full.html#t:PgUpdateReturning" title="Database.Beam.Postgres.Full">PgUpdateReturning</a> a -&gt; m [a] <a href="src/Database.Beam.Postgres.Full.html#runPgUpdateReturningList" class="link">Source</a> <a href="#v:runPgUpdateReturningList" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:updateReturning" class="def">updateReturning</a> :: <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Projectible" title="Database.Beam.Query.Internal">Projectible</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> a =&gt; <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:DatabaseEntity" title="Database.Beam.Schema.Tables">DatabaseEntity</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> be (<a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:TableEntity" title="Database.Beam.Schema.Tables">TableEntity</a> table) -&gt; (<span class="keyword">forall</span> s. table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QField" title="Database.Beam.Query.Internal">QField</a> s) -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QAssignment" title="Database.Beam.Query.Internal">QAssignment</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s) -&gt; (<span class="keyword">forall</span> s. table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s) -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; (table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> <a href="Database-Beam-Postgres-Syntax.html#t:PostgresInaccessible" title="Database.Beam.Postgres.Syntax">PostgresInaccessible</a>) -&gt; a) -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgUpdateReturning" title="Database.Beam.Postgres.Full">PgUpdateReturning</a> (<a href="../../beam-core/html/Database-Beam-Query-Types.html#t:QExprToIdentity" title="Database.Beam.Query.Types">QExprToIdentity</a> a) <a href="src/Database.Beam.Postgres.Full.html#updateReturning" class="link">Source</a> <a href="#v:updateReturning" class="selflink">#</a></p><div class="doc"><p>Postgres <code>UPDATE ... RETURNING</code> statement support. The last
 argument takes the newly inserted row and returns the values to be
 returned. Use <code>runUpdateReturning</code> to get the results.</p></div></div><a href="#g:7" id="g:7"><h1><code>DELETE RETURNING</code></h1></a><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:PgDeleteReturning" class="def">PgDeleteReturning</a> a <a href="src/Database.Beam.Postgres.Full.html#PgDeleteReturning" class="link">Source</a> <a href="#t:PgDeleteReturning" class="selflink">#</a></p><div class="doc"><p>The most general kind of <code>DELETE</code> that postgres can perform</p><p>You can build this from a <code><a href="../../beam-core/html/Database-Beam-Query.html#t:SqlDelete" title="Database.Beam.Query">SqlDelete</a></code> by using <code><a href="Database-Beam-Postgres-Full.html#v:returning" title="Database.Beam.Postgres.Full">returning</a></code></p><pre>delete tbl where `returning` projection</pre><p>Run the result with <code><a href="Database-Beam-Postgres-Full.html#v:runPgDeleteReturningList" title="Database.Beam.Postgres.Full">runPgDeleteReturningList</a></code></p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PgDeleteReturning" class="def">PgDeleteReturning</a> <a href="Database-Beam-Postgres-Syntax.html#t:PgSyntax" title="Database.Beam.Postgres.Syntax">PgSyntax</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PgDeleteReturning">Instances</h4><details id="i:PgDeleteReturning" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PgDeleteReturning:PgDebugStmt:1"></span> <a href="Database-Beam-Postgres.html#t:PgDebugStmt" title="Database.Beam.Postgres">PgDebugStmt</a> (<a href="Database-Beam-Postgres-Full.html#t:PgDeleteReturning" title="Database.Beam.Postgres.Full">PgDeleteReturning</a> a)</span> <a href="src/Database.Beam.Postgres.Debug.html#line-56" class="link">Source</a> <a href="#t:PgDebugStmt" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PgDeleteReturning:PgDebugStmt:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Beam-Postgres-Debug.html">Database.Beam.Postgres.Debug</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pgStmtSyntax">pgStmtSyntax</a> :: <a href="Database-Beam-Postgres-Full.html#t:PgDeleteReturning" title="Database.Beam.Postgres.Full">PgDeleteReturning</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Database-Beam-Postgres-Syntax.html#t:PgSyntax" title="Database.Beam.Postgres.Syntax">PgSyntax</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:runPgDeleteReturningList" class="def">runPgDeleteReturningList</a> :: (<a href="../../beam-core/html/Database-Beam-Backend-SQL.html#t:MonadBeam" title="Database.Beam.Backend.SQL">MonadBeam</a> be m, <a href="../../beam-core/html/Database-Beam-Backend-SQL.html#t:BeamSqlBackendSyntax" title="Database.Beam.Backend.SQL">BeamSqlBackendSyntax</a> be ~ <a href="Database-Beam-Postgres-Syntax.html#t:PgCommandSyntax" title="Database.Beam.Postgres.Syntax">PgCommandSyntax</a>, <a href="Database-Beam-Postgres-CustomTypes.html#t:FromBackendRow" title="Database.Beam.Postgres.CustomTypes">FromBackendRow</a> be a) =&gt; <a href="Database-Beam-Postgres-Full.html#t:PgDeleteReturning" title="Database.Beam.Postgres.Full">PgDeleteReturning</a> a -&gt; m [a] <a href="src/Database.Beam.Postgres.Full.html#runPgDeleteReturningList" class="link">Source</a> <a href="#v:runPgDeleteReturningList" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:deleteReturning" class="def">deleteReturning</a> :: <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Projectible" title="Database.Beam.Query.Internal">Projectible</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> a =&gt; <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:DatabaseEntity" title="Database.Beam.Schema.Tables">DatabaseEntity</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> be (<a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:TableEntity" title="Database.Beam.Schema.Tables">TableEntity</a> table) -&gt; (<span class="keyword">forall</span> s. table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s) -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; (table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> <a href="Database-Beam-Postgres-Syntax.html#t:PostgresInaccessible" title="Database.Beam.Postgres.Syntax">PostgresInaccessible</a>) -&gt; a) -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgDeleteReturning" title="Database.Beam.Postgres.Full">PgDeleteReturning</a> (<a href="../../beam-core/html/Database-Beam-Query-Types.html#t:QExprToIdentity" title="Database.Beam.Query.Types">QExprToIdentity</a> a) <a href="src/Database.Beam.Postgres.Full.html#deleteReturning" class="link">Source</a> <a href="#v:deleteReturning" class="selflink">#</a></p><div class="doc"><p>Postgres <code>DELETE ... RETURNING</code> statement support. The last
 argument takes the newly inserted row and returns the values to be
 returned. Use <code>runDeleteReturning</code> to get the results.</p></div></div><a href="#g:8" id="g:8"><h1>Generalized <code>RETURNING</code></h1></a><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:PgReturning" class="def">PgReturning</a> cmd <span class="keyword">where</span> <a href="src/Database.Beam.Postgres.Full.html#PgReturning" class="link">Source</a> <a href="#t:PgReturning" class="selflink">#</a></p><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a id="t:PgReturningType" class="def">PgReturningType</a> cmd :: * -&gt; * <a href="src/Database.Beam.Postgres.Full.html#PgReturningType" class="link">Source</a> <a href="#t:PgReturningType" class="selflink">#</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:returning" class="def">returning</a> :: (<a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Beamable" title="Database.Beam.Schema.Tables">Beamable</a> tbl, <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Projectible" title="Database.Beam.Query.Internal">Projectible</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> a) =&gt; cmd <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> tbl -&gt; (tbl (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> <a href="Database-Beam-Postgres-Syntax.html#t:PostgresInaccessible" title="Database.Beam.Postgres.Syntax">PostgresInaccessible</a>) -&gt; a) -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgReturningType" title="Database.Beam.Postgres.Full">PgReturningType</a> cmd (<a href="../../beam-core/html/Database-Beam-Query-Types.html#t:QExprToIdentity" title="Database.Beam.Query.Types">QExprToIdentity</a> a) <a href="src/Database.Beam.Postgres.Full.html#returning" class="link">Source</a> <a href="#v:returning" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PgReturning">Instances</h4><details id="i:PgReturning" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PgReturning:PgReturning:1"></span> <a href="Database-Beam-Postgres-Full.html#t:PgReturning" title="Database.Beam.Postgres.Full">PgReturning</a> <a href="../../beam-core/html/Database-Beam-Query.html#t:SqlInsert" title="Database.Beam.Query">SqlInsert</a></span> <a href="src/Database.Beam.Postgres.Full.html#line-406" class="link">Source</a> <a href="#t:PgReturning" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PgReturning:PgReturning:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Beam-Postgres-Full.html">Database.Beam.Postgres.Full</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Database-Beam-Postgres-Full.html#t:PgReturningType" title="Database.Beam.Postgres.Full">PgReturningType</a> <a href="../../beam-core/html/Database-Beam-Query.html#t:SqlInsert" title="Database.Beam.Query">SqlInsert</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="src/Database.Beam.Postgres.Full.html#PgReturningType" class="link">Source</a> <a href="#t:PgReturningType" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:returning">returning</a> :: (<a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Beamable" title="Database.Beam.Schema.Tables">Beamable</a> tbl, <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Projectible" title="Database.Beam.Query.Internal">Projectible</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> a) =&gt; <a href="../../beam-core/html/Database-Beam-Query.html#t:SqlInsert" title="Database.Beam.Query">SqlInsert</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> tbl -&gt; (tbl (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> <a href="Database-Beam-Postgres-Syntax.html#t:PostgresInaccessible" title="Database.Beam.Postgres.Syntax">PostgresInaccessible</a>) -&gt; a) -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgReturningType" title="Database.Beam.Postgres.Full">PgReturningType</a> <a href="../../beam-core/html/Database-Beam-Query.html#t:SqlInsert" title="Database.Beam.Query">SqlInsert</a> (<a href="../../beam-core/html/Database-Beam-Query-Types.html#t:QExprToIdentity" title="Database.Beam.Query.Types">QExprToIdentity</a> a) <a href="src/Database.Beam.Postgres.Full.html#returning" class="link">Source</a> <a href="#v:returning" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PgReturning:PgReturning:2"></span> <a href="Database-Beam-Postgres-Full.html#t:PgReturning" title="Database.Beam.Postgres.Full">PgReturning</a> <a href="../../beam-core/html/Database-Beam-Query.html#t:SqlUpdate" title="Database.Beam.Query">SqlUpdate</a></span> <a href="src/Database.Beam.Postgres.Full.html#line-418" class="link">Source</a> <a href="#t:PgReturning" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PgReturning:PgReturning:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Beam-Postgres-Full.html">Database.Beam.Postgres.Full</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Database-Beam-Postgres-Full.html#t:PgReturningType" title="Database.Beam.Postgres.Full">PgReturningType</a> <a href="../../beam-core/html/Database-Beam-Query.html#t:SqlUpdate" title="Database.Beam.Query">SqlUpdate</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="src/Database.Beam.Postgres.Full.html#PgReturningType" class="link">Source</a> <a href="#t:PgReturningType" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:returning">returning</a> :: (<a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Beamable" title="Database.Beam.Schema.Tables">Beamable</a> tbl, <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Projectible" title="Database.Beam.Query.Internal">Projectible</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> a) =&gt; <a href="../../beam-core/html/Database-Beam-Query.html#t:SqlUpdate" title="Database.Beam.Query">SqlUpdate</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> tbl -&gt; (tbl (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> <a href="Database-Beam-Postgres-Syntax.html#t:PostgresInaccessible" title="Database.Beam.Postgres.Syntax">PostgresInaccessible</a>) -&gt; a) -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgReturningType" title="Database.Beam.Postgres.Full">PgReturningType</a> <a href="../../beam-core/html/Database-Beam-Query.html#t:SqlUpdate" title="Database.Beam.Query">SqlUpdate</a> (<a href="../../beam-core/html/Database-Beam-Query-Types.html#t:QExprToIdentity" title="Database.Beam.Query.Types">QExprToIdentity</a> a) <a href="src/Database.Beam.Postgres.Full.html#returning" class="link">Source</a> <a href="#v:returning" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:PgReturning:PgReturning:3"></span> <a href="Database-Beam-Postgres-Full.html#t:PgReturning" title="Database.Beam.Postgres.Full">PgReturning</a> <a href="../../beam-core/html/Database-Beam-Query.html#t:SqlDelete" title="Database.Beam.Query">SqlDelete</a></span> <a href="src/Database.Beam.Postgres.Full.html#line-430" class="link">Source</a> <a href="#t:PgReturning" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:PgReturning:PgReturning:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Database-Beam-Postgres-Full.html">Database.Beam.Postgres.Full</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Database-Beam-Postgres-Full.html#t:PgReturningType" title="Database.Beam.Postgres.Full">PgReturningType</a> <a href="../../beam-core/html/Database-Beam-Query.html#t:SqlDelete" title="Database.Beam.Query">SqlDelete</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="src/Database.Beam.Postgres.Full.html#PgReturningType" class="link">Source</a> <a href="#t:PgReturningType" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:returning">returning</a> :: (<a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Beamable" title="Database.Beam.Schema.Tables">Beamable</a> tbl, <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Projectible" title="Database.Beam.Query.Internal">Projectible</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> a) =&gt; <a href="../../beam-core/html/Database-Beam-Query.html#t:SqlDelete" title="Database.Beam.Query">SqlDelete</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> tbl -&gt; (tbl (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> <a href="Database-Beam-Postgres-Syntax.html#t:PostgresInaccessible" title="Database.Beam.Postgres.Syntax">PostgresInaccessible</a>) -&gt; a) -&gt; <a href="Database-Beam-Postgres-Full.html#t:PgReturningType" title="Database.Beam.Postgres.Full">PgReturningType</a> <a href="../../beam-core/html/Database-Beam-Query.html#t:SqlDelete" title="Database.Beam.Query">SqlDelete</a> (<a href="../../beam-core/html/Database-Beam-Query-Types.html#t:QExprToIdentity" title="Database.Beam.Query.Types">QExprToIdentity</a> a) <a href="src/Database.Beam.Postgres.Full.html#returning" class="link">Source</a> <a href="#v:returning" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><h1>Orphan instances</h1><div id="section.orphans"><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:o:ic:BeamHasInsertOnConflict:BeamHasInsertOnConflict:1"></span> <a href="Database-Beam-Postgres-Full.html#t:BeamHasInsertOnConflict" title="Database.Beam.Postgres.Full">BeamHasInsertOnConflict</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a></span> <a href="src/Database.Beam.Postgres.Full.html#line-441" class="link">Source</a> <a href="#v:-36-fBeamHasInsertOnConflictPostgres" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:o:ic:BeamHasInsertOnConflict:BeamHasInsertOnConflict:1"><summary class="hide-when-js-enabled">Instance details</summary><p></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> <a href="Database-Beam-Postgres-Full.html#t:SqlConflictTarget" title="Database.Beam.Postgres.Full">SqlConflictTarget</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> table <a href="../../beam-core/html/src" class="link">Source</a> <a href="#t:SqlConflictTarget" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Database-Beam-Postgres-Full.html#t:SqlConflictAction" title="Database.Beam.Postgres.Full">SqlConflictAction</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> table <a href="../../beam-core/html/src" class="link">Source</a> <a href="#t:SqlConflictAction" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:insertOnConflict">insertOnConflict</a> :: <span class="keyword">forall</span> table (db :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) s. <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Beamable" title="Database.Beam.Schema.Tables">Beamable</a> table =&gt; <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:DatabaseEntity" title="Database.Beam.Schema.Tables">DatabaseEntity</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> db (<a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:TableEntity" title="Database.Beam.Schema.Tables">TableEntity</a> table) -&gt; <a href="../../beam-core/html/Database-Beam-Query.html#t:SqlInsertValues" title="Database.Beam.Query">SqlInsertValues</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> (table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s)) -&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictTarget" title="Database.Beam.Postgres.Full">SqlConflictTarget</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> table -&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictAction" title="Database.Beam.Postgres.Full">SqlConflictAction</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> table -&gt; <a href="../../beam-core/html/Database-Beam-Query.html#t:SqlInsert" title="Database.Beam.Query">SqlInsert</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> table <a href="../../beam-core/html/src" class="link">Source</a> <a href="#v:insertOnConflict" class="selflink">#</a></p><p class="src"><a href="#v:anyConflict">anyConflict</a> :: <span class="keyword">forall</span> (table :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="Database-Beam-Postgres-Full.html#t:SqlConflictTarget" title="Database.Beam.Postgres.Full">SqlConflictTarget</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> table <a href="../../beam-core/html/src" class="link">Source</a> <a href="#v:anyConflict" class="selflink">#</a></p><p class="src"><a href="#v:conflictingFields">conflictingFields</a> :: <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Projectible" title="Database.Beam.Query.Internal">Projectible</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> proj =&gt; (table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QInternal" title="Database.Beam.Query.Internal">QInternal</a>) -&gt; proj) -&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictTarget" title="Database.Beam.Postgres.Full">SqlConflictTarget</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> table <a href="../../beam-core/html/src" class="link">Source</a> <a href="#v:conflictingFields" class="selflink">#</a></p><p class="src"><a href="#v:conflictingFieldsWhere">conflictingFieldsWhere</a> :: <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:Projectible" title="Database.Beam.Query.Internal">Projectible</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> proj =&gt; (table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QInternal" title="Database.Beam.Query.Internal">QInternal</a>) -&gt; proj) -&gt; (<span class="keyword">forall</span> s. table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s) -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictTarget" title="Database.Beam.Postgres.Full">SqlConflictTarget</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> table <a href="../../beam-core/html/src" class="link">Source</a> <a href="#v:conflictingFieldsWhere" class="selflink">#</a></p><p class="src"><a href="#v:onConflictDoNothing">onConflictDoNothing</a> :: <span class="keyword">forall</span> (table :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>). <a href="Database-Beam-Postgres-Full.html#t:SqlConflictAction" title="Database.Beam.Postgres.Full">SqlConflictAction</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> table <a href="../../beam-core/html/src" class="link">Source</a> <a href="#v:onConflictDoNothing" class="selflink">#</a></p><p class="src"><a href="#v:onConflictUpdateSet">onConflictUpdateSet</a> :: <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Beamable" title="Database.Beam.Schema.Tables">Beamable</a> table =&gt; (<span class="keyword">forall</span> s. table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QField" title="Database.Beam.Query.Internal">QField</a> s) -&gt; table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s) -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QAssignment" title="Database.Beam.Query.Internal">QAssignment</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s) -&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictAction" title="Database.Beam.Postgres.Full">SqlConflictAction</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> table <a href="../../beam-core/html/src" class="link">Source</a> <a href="#v:onConflictUpdateSet" class="selflink">#</a></p><p class="src"><a href="#v:onConflictUpdateSetWhere">onConflictUpdateSetWhere</a> :: <a href="../../beam-core/html/Database-Beam-Schema-Tables.html#t:Beamable" title="Database.Beam.Schema.Tables">Beamable</a> table =&gt; (<span class="keyword">forall</span> s. table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QField" title="Database.Beam.Query.Internal">QField</a> s) -&gt; table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s) -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QAssignment" title="Database.Beam.Query.Internal">QAssignment</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s) -&gt; (<span class="keyword">forall</span> s. table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QField" title="Database.Beam.Query.Internal">QField</a> s) -&gt; table (<a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s) -&gt; <a href="../../beam-core/html/Database-Beam-Query-Internal.html#t:QExpr" title="Database.Beam.Query.Internal">QExpr</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> s <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Database-Beam-Postgres-Full.html#t:SqlConflictAction" title="Database.Beam.Postgres.Full">SqlConflictAction</a> <a href="Database-Beam-Postgres.html#t:Postgres" title="Database.Beam.Postgres">Postgres</a> table <a href="../../beam-core/html/src" class="link">Source</a> <a href="#v:onConflictUpdateSetWhere" class="selflink">#</a></p></div></details></td></tr></table></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>