<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Streaming.ByteString.Internal</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">streaming-bytestring-0.2.4: Fast, effectful byte streams.</span><ul class="links" id="page-menu"><li><a href="src/Streaming.ByteString.Internal.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Don Stewart 2006<br />(c) Duncan Coutts 2006-2011<br />(c) Michael Thompson 2015</td></tr><tr><th>License</th><td>BSD-style</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Streaming.ByteString.Internal</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">ResourceT help</a></li><li><a href="#g:2">Re-export from GHC 9.0</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc empty">&nbsp;</div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:ByteStream">ByteStream</a> m r<ul class="subs"><li>= <a href="#v:Empty">Empty</a> r</li><li>| <a href="#v:Chunk">Chunk</a> !<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> (<a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r)</li><li>| <a href="#v:Go">Go</a> (m (<a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r))</li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:ByteString">ByteString</a> = <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a></li><li class="src short"><a href="#v:consChunk">consChunk</a> :: <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r</li><li class="src short"><a href="#v:chunkOverhead">chunkOverhead</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:defaultChunkSize">defaultChunkSize</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:materialize">materialize</a> :: (<span class="keyword">forall</span> x. (r -&gt; x) -&gt; (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; x -&gt; x) -&gt; (m x -&gt; x) -&gt; x) -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r</li><li class="src short"><a href="#v:dematerialize">dematerialize</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; <span class="keyword">forall</span> x. (r -&gt; x) -&gt; (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; x -&gt; x) -&gt; (m x -&gt; x) -&gt; x</li><li class="src short"><a href="#v:foldrChunks">foldrChunks</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; a -&gt; a) -&gt; a -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; m a</li><li class="src short"><a href="#v:foldlChunks">foldlChunks</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; a) -&gt; a -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> a r)</li><li class="src short"><a href="#v:foldrChunksM">foldrChunksM</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m a -&gt; m a) -&gt; m a -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; m a</li><li class="src short"><a href="#v:foldlChunksM">foldlChunksM</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m a) -&gt; m a -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> a r)</li><li class="src short"><a href="#v:chunkFold">chunkFold</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (x -&gt; <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; x) -&gt; x -&gt; (x -&gt; a) -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> a r)</li><li class="src short"><a href="#v:chunkFoldM">chunkFoldM</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (x -&gt; <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m x) -&gt; m x -&gt; (x -&gt; m a) -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> a r)</li><li class="src short"><a href="#v:chunkMap">chunkMap</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r</li><li class="src short"><a href="#v:chunkMapM">chunkMapM</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r</li><li class="src short"><a href="#v:chunkMapM_">chunkMapM_</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m x) -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; m r</li><li class="src short"><a href="#v:unfoldMChunks">unfoldMChunks</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (s -&gt; m (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, s))) -&gt; s -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m ()</li><li class="src short"><a href="#v:unfoldrChunks">unfoldrChunks</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (s -&gt; m (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> r (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, s))) -&gt; s -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r</li><li class="src short"><a href="#v:packChars">packChars</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Char.html#t:Char" title="Data.Char">Char</a>) m r -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r</li><li class="src short"><a href="#v:packBytes">packBytes</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a>) m r -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r</li><li class="src short"><a href="#v:unpackBytes">unpackBytes</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a>) m r</li><li class="src short"><a href="#v:chunk">chunk</a> :: <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m ()</li><li class="src short"><a href="#v:smallChunkSize">smallChunkSize</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:mwrap">mwrap</a> :: m (<a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r) -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r</li><li class="src short"><a href="#v:unfoldrNE">unfoldrNE</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; (a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> r (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a>, a)) -&gt; a -&gt; (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> r a)</li><li class="src short"><a href="#v:reread">reread</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (s -&gt; m (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)) -&gt; s -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m ()</li><li class="src short"><a href="#v:unsafeLast">unsafeLast</a> :: <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a></li><li class="src short"><a href="#v:unsafeInit">unsafeInit</a> :: <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li><li class="src short"><a href="#v:copy">copy</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> (<a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m) r</li><li class="src short"><a href="#v:findIndexOrEnd">findIndexOrEnd</a> :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:bracketByteString">bracketByteString</a> :: <a href="../../resourcet/html/Control-Monad-Trans-Resource.html#t:MonadResource" title="Control.Monad.Trans.Resource">MonadResource</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; (a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> ()) -&gt; (a -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m b) -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m b</li><li class="src short"><a href="#v:unsafeWithForeignPtr">unsafeWithForeignPtr</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Foreign-ForeignPtr-Safe.html#t:ForeignPtr" title="Foreign.ForeignPtr.Safe">ForeignPtr</a> a -&gt; (<a href="../../ghc/html/libraries/base-4.14.3.0/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> b) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> b</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ByteStream" class="def">ByteStream</a> m r <a href="src/Streaming.ByteString.Internal.html#ByteStream" class="link">Source</a> <a href="#t:ByteStream" class="selflink">#</a></p><div class="doc"><p>A space-efficient representation of a succession of <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a></code> vectors,
 supporting many efficient operations.</p><p>An effectful <code><a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a></code> contains 8-bit bytes, or by using the operations
 from <a href="Streaming-ByteString-Char8.html">Streaming.ByteString.Char8</a> it can be interpreted as containing
 8-bit characters.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Empty" class="def">Empty</a> r</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Chunk" class="def">Chunk</a> !<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> (<a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Go" class="def">Go</a> (m (<a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r))</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ByteStream">Instances</h4><details id="i:ByteStream" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteStream:MonadTrans:1"></span> <a href="../../mmorph/html/Control-Monad-Morph.html#t:MonadTrans" title="Control.Monad.Morph">MonadTrans</a> <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a></span> <a href="src/Streaming.ByteString.Internal.html#line-164" class="link">Source</a> <a href="#t:ByteStream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteStream:MonadTrans:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-ByteString-Internal.html">Streaming.ByteString.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lift">lift</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m a -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m a <a href="../../transformers/html/src" class="link">Source</a> <a href="#v:lift" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteStream:MonadBase:2"></span> <a href="../../transformers-base/html/Control-Monad-Base.html#t:MonadBase" title="Control.Monad.Base">MonadBase</a> b m =&gt; <a href="../../transformers-base/html/Control-Monad-Base.html#t:MonadBase" title="Control.Monad.Base">MonadBase</a> b (<a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m)</span> <a href="src/Streaming.ByteString.Internal.html#line-199" class="link">Source</a> <a href="#t:ByteStream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteStream:MonadBase:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-ByteString-Internal.html">Streaming.ByteString.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftBase">liftBase</a> :: b &#945; -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m &#945; <a href="../../transformers-base/html/src" class="link">Source</a> <a href="#v:liftBase" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteStream:Monad:3"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (<a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m)</span> <a href="src/Streaming.ByteString.Internal.html#line-143" class="link">Source</a> <a href="#t:ByteStream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteStream:Monad:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-ByteString-Internal.html">Streaming.ByteString.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m a -&gt; (a -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m b) -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m b <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m a -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m b -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m b <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m a <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:return" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteStream:Functor:4"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> (<a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m)</span> <a href="src/Streaming.ByteString.Internal.html#line-125" class="link">Source</a> <a href="#t:ByteStream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteStream:Functor:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-ByteString-Internal.html">Streaming.ByteString.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m a -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m b <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m b -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m a <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteStream:Applicative:5"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> (<a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m)</span> <a href="src/Streaming.ByteString.Internal.html#line-131" class="link">Source</a> <a href="#t:ByteStream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteStream:Applicative:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-ByteString-Internal.html">Streaming.ByteString.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m a <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:pure" class="selflink">#</a></p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m (a -&gt; b) -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m a -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m b <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:-60--42--62-" class="selflink">#</a></p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m a -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m b -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m c <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:liftA2" class="selflink">#</a></p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m a -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m b -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m b <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:-42--62-" class="selflink">#</a></p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m a -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m b -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m a <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:-60--42-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteStream:MonadIO:6"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> (<a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m)</span> <a href="src/Streaming.ByteString.Internal.html#line-160" class="link">Source</a> <a href="#t:ByteStream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteStream:MonadIO:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-ByteString-Internal.html">Streaming.ByteString.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftIO">liftIO</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m a <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:liftIO" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteStream:MonadThrow:7"></span> <a href="../../exceptions/html/Control-Monad-Catch.html#t:MonadThrow" title="Control.Monad.Catch">MonadThrow</a> m =&gt; <a href="../../exceptions/html/Control-Monad-Catch.html#t:MonadThrow" title="Control.Monad.Catch">MonadThrow</a> (<a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m)</span> <a href="src/Streaming.ByteString.Internal.html#line-203" class="link">Source</a> <a href="#t:ByteStream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteStream:MonadThrow:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-ByteString-Internal.html">Streaming.ByteString.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:throwM">throwM</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> e =&gt; e -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m a <a href="../../exceptions/html/src" class="link">Source</a> <a href="#v:throwM" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteStream:MonadCatch:8"></span> <a href="../../exceptions/html/Control-Monad-Catch.html#t:MonadCatch" title="Control.Monad.Catch">MonadCatch</a> m =&gt; <a href="../../exceptions/html/Control-Monad-Catch.html#t:MonadCatch" title="Control.Monad.Catch">MonadCatch</a> (<a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m)</span> <a href="src/Streaming.ByteString.Internal.html#line-207" class="link">Source</a> <a href="#t:ByteStream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteStream:MonadCatch:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-ByteString-Internal.html">Streaming.ByteString.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:catch">catch</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> e =&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m a -&gt; (e -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m a) -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m a <a href="../../exceptions/html/src" class="link">Source</a> <a href="#v:catch" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteStream:MonadResource:9"></span> <a href="../../resourcet/html/Control-Monad-Trans-Resource.html#t:MonadResource" title="Control.Monad.Trans.Resource">MonadResource</a> m =&gt; <a href="../../resourcet/html/Control-Monad-Trans-Resource.html#t:MonadResource" title="Control.Monad.Trans.Resource">MonadResource</a> (<a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m)</span> <a href="src/Streaming.ByteString.Internal.html#line-219" class="link">Source</a> <a href="#t:ByteStream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteStream:MonadResource:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-ByteString-Internal.html">Streaming.ByteString.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftResourceT">liftResourceT</a> :: <a href="../../resourcet/html/Control-Monad-Trans-Resource.html#t:ResourceT" title="Control.Monad.Trans.Resource">ResourceT</a> <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m a <a href="../../resourcet/html/src" class="link">Source</a> <a href="#v:liftResourceT" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteStream:MFunctor:10"></span> <a href="../../mmorph/html/Control-Monad-Morph.html#t:MFunctor" title="Control.Monad.Morph">MFunctor</a> <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a></span> <a href="src/Streaming.ByteString.Internal.html#line-168" class="link">Source</a> <a href="#t:ByteStream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteStream:MFunctor:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-ByteString-Internal.html">Streaming.ByteString.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:hoist">hoist</a> :: <span class="keyword">forall</span> m n (b :: k). <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<span class="keyword">forall</span> a. m a -&gt; n a) -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m b -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> n b <a href="../../mmorph/html/src" class="link">Source</a> <a href="#v:hoist" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteStream:Show:11"></span> (m ~ <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Functor-Identity.html#t:Identity" title="Data.Functor.Identity">Identity</a>, <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> r) =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r)</span> <a href="src/Streaming.ByteString.Internal.html#line-179" class="link">Source</a> <a href="#t:ByteStream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteStream:Show:11"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-ByteString-Internal.html">Streaming.ByteString.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r] -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteStream:IsString:12"></span> r ~ () =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:IsString" title="Data.String">IsString</a> (<a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r)</span> <a href="src/Streaming.ByteString.Internal.html#line-175" class="link">Source</a> <a href="#t:ByteStream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteStream:IsString:12"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-ByteString-Internal.html">Streaming.ByteString.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromString">fromString</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:fromString" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteStream:Semigroup:13"></span> (<a href="../../ghc/html/libraries/base-4.14.3.0/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> r, <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> (<a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r)</span> <a href="src/Streaming.ByteString.Internal.html#line-185" class="link">Source</a> <a href="#t:ByteStream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteStream:Semigroup:13"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-ByteString-Internal.html">Streaming.ByteString.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> (<a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r) -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Prelude.html#t:Integral" title="Prelude">Integral</a> b =&gt; b -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteStream:Monoid:14"></span> (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> r, <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> (<a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r)</span> <a href="src/Streaming.ByteString.Internal.html#line-189" class="link">Source</a> <a href="#t:ByteStream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteStream:Monoid:14"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-ByteString-Internal.html">Streaming.ByteString.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r] -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:mconcat" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ByteString" class="def">ByteString</a> = <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> <a href="src/Streaming.ByteString.Internal.html#ByteString" class="link">Source</a> <a href="#t:ByteString" class="selflink">#</a></p><div class="doc"><div class="warning"><p>Deprecated: Use ByteStream instead.</p></div><p>A type alias for back-compatibility.</p></div></div><div class="top"><p class="src"><a id="v:consChunk" class="def">consChunk</a> :: <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r <a href="src/Streaming.ByteString.Internal.html#consChunk" class="link">Source</a> <a href="#v:consChunk" class="selflink">#</a></p><div class="doc"><p>Smart constructor for <code><a href="Streaming-ByteString-Internal.html#v:Chunk" title="Streaming.ByteString.Internal">Chunk</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:chunkOverhead" class="def">chunkOverhead</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Streaming.ByteString.Internal.html#chunkOverhead" class="link">Source</a> <a href="#v:chunkOverhead" class="selflink">#</a></p><div class="doc"><p>The memory management overhead. Currently this is tuned for GHC only.</p></div></div><div class="top"><p class="src"><a id="v:defaultChunkSize" class="def">defaultChunkSize</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Streaming.ByteString.Internal.html#defaultChunkSize" class="link">Source</a> <a href="#v:defaultChunkSize" class="selflink">#</a></p><div class="doc"><p>The chunk size used for I/O. Currently set to 32k, less the memory management overhead</p></div></div><div class="top"><p class="src"><a id="v:materialize" class="def">materialize</a> :: (<span class="keyword">forall</span> x. (r -&gt; x) -&gt; (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; x -&gt; x) -&gt; (m x -&gt; x) -&gt; x) -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r <a href="src/Streaming.ByteString.Internal.html#materialize" class="link">Source</a> <a href="#v:materialize" class="selflink">#</a></p><div class="doc"><p>Construct a succession of chunks from its Church encoding (compare <code>GHC.Exts.build</code>)</p></div></div><div class="top"><p class="src"><a id="v:dematerialize" class="def">dematerialize</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; <span class="keyword">forall</span> x. (r -&gt; x) -&gt; (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; x -&gt; x) -&gt; (m x -&gt; x) -&gt; x <a href="src/Streaming.ByteString.Internal.html#dematerialize" class="link">Source</a> <a href="#v:dematerialize" class="selflink">#</a></p><div class="doc"><p>Resolve a succession of chunks into its Church encoding; this is
 not a safe operation; it is equivalent to exposing the constructors</p></div></div><div class="top"><p class="src"><a id="v:foldrChunks" class="def">foldrChunks</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; a -&gt; a) -&gt; a -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; m a <a href="src/Streaming.ByteString.Internal.html#foldrChunks" class="link">Source</a> <a href="#v:foldrChunks" class="selflink">#</a></p><div class="doc"><p>Consume the chunks of an effectful <code><a href="Streaming-ByteString-Internal.html#t:ByteString" title="Streaming.ByteString.Internal">ByteString</a></code> with a natural right fold.</p></div></div><div class="top"><p class="src"><a id="v:foldlChunks" class="def">foldlChunks</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; a) -&gt; a -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> a r) <a href="src/Streaming.ByteString.Internal.html#foldlChunks" class="link">Source</a> <a href="#v:foldlChunks" class="selflink">#</a></p><div class="doc"><p>Consume the chunks of an effectful <code><a href="Streaming-ByteString-Internal.html#t:ByteString" title="Streaming.ByteString.Internal">ByteString</a></code> with a left fold. Suitable
 for use with <code><a href="../../streaming/html/Streaming-Prelude.html#v:mapped" title="Streaming.Prelude">mapped</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:foldrChunksM" class="def">foldrChunksM</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m a -&gt; m a) -&gt; m a -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; m a <a href="src/Streaming.ByteString.Internal.html#foldrChunksM" class="link">Source</a> <a href="#v:foldrChunksM" class="selflink">#</a></p><div class="doc"><p>Consume the chunks of an effectful ByteString with a natural right monadic fold.</p></div></div><div class="top"><p class="src"><a id="v:foldlChunksM" class="def">foldlChunksM</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m a) -&gt; m a -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> a r) <a href="src/Streaming.ByteString.Internal.html#foldlChunksM" class="link">Source</a> <a href="#v:foldlChunksM" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Streaming-ByteString-Internal.html#v:foldlChunks" title="Streaming.ByteString.Internal">foldlChunks</a></code>, but fold effectfully. Suitable for use with <code><a href="../../streaming/html/Streaming-Prelude.html#v:mapped" title="Streaming.Prelude">mapped</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:chunkFold" class="def">chunkFold</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (x -&gt; <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; x) -&gt; x -&gt; (x -&gt; a) -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> a r) <a href="src/Streaming.ByteString.Internal.html#chunkFold" class="link">Source</a> <a href="#v:chunkFold" class="selflink">#</a></p><div class="doc"><p><code>chunkFold</code> is preferable to <code>foldlChunks</code> since it is an appropriate
 argument for <code>Control.Foldl.purely</code> which permits many folds and sinks to be
 run simultaneously on one bytestream.</p></div></div><div class="top"><p class="src"><a id="v:chunkFoldM" class="def">chunkFoldM</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (x -&gt; <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m x) -&gt; m x -&gt; (x -&gt; m a) -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> a r) <a href="src/Streaming.ByteString.Internal.html#chunkFoldM" class="link">Source</a> <a href="#v:chunkFoldM" class="selflink">#</a></p><div class="doc"><p><code><a href="Streaming-ByteString-Internal.html#v:chunkFoldM" title="Streaming.ByteString.Internal">chunkFoldM</a></code> is preferable to <code><a href="Streaming-ByteString-Internal.html#v:foldlChunksM" title="Streaming.ByteString.Internal">foldlChunksM</a></code> since it is an appropriate
 argument for <code><a href="Control-Foldl.html#v:impurely" title="Control.Foldl">impurely</a></code> which permits many folds and sinks to
 be run simultaneously on one bytestream.</p></div></div><div class="top"><p class="src"><a id="v:chunkMap" class="def">chunkMap</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r <a href="src/Streaming.ByteString.Internal.html#chunkMap" class="link">Source</a> <a href="#v:chunkMap" class="selflink">#</a></p><div class="doc"><p>Instead of mapping over each <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a></code> or <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Char.html#t:Char" title="Data.Char">Char</a></code>, map over each strict
 <code><a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></code> chunk in the stream.</p></div></div><div class="top"><p class="src"><a id="v:chunkMapM" class="def">chunkMapM</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r <a href="src/Streaming.ByteString.Internal.html#chunkMapM" class="link">Source</a> <a href="#v:chunkMapM" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Streaming-ByteString-Internal.html#v:chunkMap" title="Streaming.ByteString.Internal">chunkMap</a></code>, but map effectfully.</p></div></div><div class="top"><p class="src"><a id="v:chunkMapM_" class="def">chunkMapM_</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m x) -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; m r <a href="src/Streaming.ByteString.Internal.html#chunkMapM_" class="link">Source</a> <a href="#v:chunkMapM_" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Streaming-ByteString-Internal.html#v:chunkMapM" title="Streaming.ByteString.Internal">chunkMapM</a></code>, but discard the result of each effectful mapping.</p></div></div><div class="top"><p class="src"><a id="v:unfoldMChunks" class="def">unfoldMChunks</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (s -&gt; m (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, s))) -&gt; s -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m () <a href="src/Streaming.ByteString.Internal.html#unfoldMChunks" class="link">Source</a> <a href="#v:unfoldMChunks" class="selflink">#</a></p><div class="doc"><p>Given some continual monadic action that produces strict <code><a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></code>
 chunks, produce a stream of bytes.</p></div></div><div class="top"><p class="src"><a id="v:unfoldrChunks" class="def">unfoldrChunks</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (s -&gt; m (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> r (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, s))) -&gt; s -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r <a href="src/Streaming.ByteString.Internal.html#unfoldrChunks" class="link">Source</a> <a href="#v:unfoldrChunks" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Streaming-ByteString-Internal.html#v:unfoldMChunks" title="Streaming.ByteString.Internal">unfoldMChunks</a></code>, but feed through a final <code>r</code> return value.</p></div></div><div class="top"><p class="src"><a id="v:packChars" class="def">packChars</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Char.html#t:Char" title="Data.Char">Char</a>) m r -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r <a href="src/Streaming.ByteString.Internal.html#packChars" class="link">Source</a> <a href="#v:packChars" class="selflink">#</a></p><div class="doc"><p>Convert a vanilla <code><a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a></code> of characters into a stream of bytes.</p><p><em>Note:</em> Each <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Char.html#t:Char" title="Data.Char">Char</a></code> value is truncated to 8 bits.</p></div></div><div class="top"><p class="src"><a id="v:packBytes" class="def">packBytes</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a>) m r -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r <a href="src/Streaming.ByteString.Internal.html#packBytes" class="link">Source</a> <a href="#v:packBytes" class="selflink">#</a></p><div class="doc"><p>Packing and unpacking from lists
 packBytes' :: Monad m =&gt; [Word8] -&gt; ByteString m ()
 packBytes' cs0 =
     packChunks 32 cs0
   where
     packChunks n cs = case B.packUptoLenBytes n cs of
       (bs, [])  -&gt; Chunk bs (Empty ())
       (bs, cs') -&gt; Chunk bs (packChunks (min (n * 2) BI.smallChunkSize) cs')
     -- packUptoLenBytes :: Int -&gt; [Word8] -&gt; (ByteString, [Word8])
     packUptoLenBytes len xs0 =
         accursedUnutterablePerformIO (createUptoN' len $ p -&gt; go p len xs0)
       where
         go !_ !n []     = return (len-n, [])
         go !_ !0 xs     = return (len,   xs)
         go !p !n (x:xs) = poke p x &gt;&gt; go (p <code><a href="../../ghc/html/libraries/base-4.14.3.0/Foreign-Ptr.html#v:plusPtr" title="Foreign.Ptr">plusPtr</a></code> 1) (n-1) xs
         createUptoN' :: Int -&gt; (Ptr Word8 -&gt; IO (Int, a)) -&gt; IO (B.ByteString, a)
         createUptoN' l f = do
             fp &lt;- B.mallocByteString l
             (l', res) <a href="-">withForeignPtr fp $ p -</a> f p
             assert (l' &lt;= l) $ return (B.PS fp 0 l', res)
 {-# INLINABLE packBytes' #-}</p><p>Convert a <code><a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a></code> of pure <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a></code> into a chunked <code><a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:unpackBytes" class="def">unpackBytes</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a>) m r <a href="src/Streaming.ByteString.Internal.html#unpackBytes" class="link">Source</a> <a href="#v:unpackBytes" class="selflink">#</a></p><div class="doc"><p>The reverse of <code><a href="Streaming-ByteString-Internal.html#v:packChars" title="Streaming.ByteString.Internal">packChars</a></code>. Given a stream of bytes, produce a <code><a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a></code>
 individual bytes.</p></div></div><div class="top"><p class="src"><a id="v:chunk" class="def">chunk</a> :: <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m () <a href="src/Streaming.ByteString.Internal.html#chunk" class="link">Source</a> <a href="#v:chunk" class="selflink">#</a></p><div class="doc"><p>Yield-style smart constructor for <code><a href="Streaming-ByteString-Internal.html#v:Chunk" title="Streaming.ByteString.Internal">Chunk</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:smallChunkSize" class="def">smallChunkSize</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Streaming.ByteString.Internal.html#smallChunkSize" class="link">Source</a> <a href="#v:smallChunkSize" class="selflink">#</a></p><div class="doc"><p>The recommended chunk size. Currently set to 4k, less the memory management overhead</p></div></div><div class="top"><p class="src"><a id="v:mwrap" class="def">mwrap</a> :: m (<a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r) -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r <a href="src/Streaming.ByteString.Internal.html#mwrap" class="link">Source</a> <a href="#v:mwrap" class="selflink">#</a></p><div class="doc"><p>Reconceive an effect that results in an effectful bytestring as an effectful bytestring.
    Compare Streaming.mwrap. The closest equivalent of</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Streaming.wrap :: f (Stream f m r) -&gt; Stream f m r
</code></strong></pre><p>is here  <code>consChunk</code>. <code>mwrap</code> is the smart constructor for the internal <code>Go</code> constructor.</p></div></div><div class="top"><p class="src"><a id="v:unfoldrNE" class="def">unfoldrNE</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; (a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> r (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a>, a)) -&gt; a -&gt; (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> r a) <a href="src/Streaming.ByteString.Internal.html#unfoldrNE" class="link">Source</a> <a href="#v:unfoldrNE" class="selflink">#</a></p><div class="doc"><p>Internal utility for <code>unfoldr</code>.</p></div></div><div class="top"><p class="src"><a id="v:reread" class="def">reread</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (s -&gt; m (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)) -&gt; s -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m () <a href="src/Streaming.ByteString.Internal.html#reread" class="link">Source</a> <a href="#v:reread" class="selflink">#</a></p><div class="doc"><p>Stream chunks from something that contains <code>m (Maybe ByteString)</code> until it
 returns <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code>. <code><a href="Streaming-ByteString-Internal.html#v:reread" title="Streaming.ByteString.Internal">reread</a></code> is of particular use rendering <code>io-streams</code> input
 streams as byte streams in the present sense.</p><pre>import qualified Data.ByteString as B
import qualified System.IO.Streams as S
Q.reread S.read            :: S.InputStream B.ByteString -&gt; Q.ByteStream IO ()
Q.reread (liftIO . S.read) :: MonadIO m =&gt; S.InputStream B.ByteString -&gt; Q.ByteStream m ()</pre><p>The other direction here is</p><pre>S.unfoldM Q.unconsChunk    :: Q.ByteString IO r -&gt; IO (S.InputStream B.ByteString)</pre></div></div><div class="top"><p class="src"><a id="v:unsafeLast" class="def">unsafeLast</a> :: <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> <a href="src/Streaming.ByteString.Internal.html#unsafeLast" class="link">Source</a> <a href="#v:unsafeLast" class="selflink">#</a></p><div class="doc"><p>Copied from Data.ByteString.Unsafe for compatibility with older bytestring.</p></div></div><div class="top"><p class="src"><a id="v:unsafeInit" class="def">unsafeInit</a> :: <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="src/Streaming.ByteString.Internal.html#unsafeInit" class="link">Source</a> <a href="#v:unsafeInit" class="selflink">#</a></p><div class="doc"><p>Copied from Data.ByteString.Unsafe for compatibility with older bytestring.</p></div></div><div class="top"><p class="src"><a id="v:copy" class="def">copy</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m r -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> (<a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m) r <a href="src/Streaming.ByteString.Internal.html#copy" class="link">Source</a> <a href="#v:copy" class="selflink">#</a></p><div class="doc"><p>Make the information in a bytestring available to more than one eliminating fold, e.g.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Q.count 'l' $ Q.count 'o' $ Q.copy $ &quot;hello\nworld&quot;
</code></strong>3 :&gt; (2 :&gt; ())
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Q.length $ Q.count 'l' $ Q.count 'o' $ Q.copy $ Q.copy &quot;hello\nworld&quot;
</code></strong>11 :&gt; (3 :&gt; (2 :&gt; ()))
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>runResourceT $ Q.writeFile &quot;hello2.txt&quot; $ Q.writeFile &quot;hello1.txt&quot; $ Q.copy $ &quot;hello\nworld\n&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:! cat hello2.txt
</code></strong>hello
world
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:! cat hello1.txt
</code></strong>hello
world
</pre><p>This sort of manipulation could as well be acheived by combining folds - using
    <code>Control.Foldl</code> for example. But any sort of manipulation can be involved in
    the fold.  Here are a couple of trivial complications involving splitting by lines:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let doubleLines = Q.unlines . maps (&lt;* Q.chunk &quot;\n&quot; ) . Q.lines
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let emphasize = Q.unlines . maps (&lt;* Q.chunk &quot;!&quot; ) . Q.lines
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>runResourceT $ Q.writeFile &quot;hello2.txt&quot; $ emphasize $ Q.writeFile &quot;hello1.txt&quot; $ doubleLines $ Q.copy $ &quot;hello\nworld&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:! cat hello2.txt
</code></strong>hello!
world!
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:! cat hello1.txt
</code></strong>hello

world

</pre><p>As with the parallel operations in <code>Streaming.Prelude</code>, we have</p><pre>Q.effects . Q.copy       = id
hoist Q.effects . Q.copy = id</pre><p>The duplication does not by itself involve the copying of bytestring chunks;
   it just makes two references to each chunk as it arises. This does, however
   double the number of constructors associated with each chunk.</p></div></div><div class="top"><p class="src"><a id="v:findIndexOrEnd" class="def">findIndexOrEnd</a> :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Streaming.ByteString.Internal.html#findIndexOrEnd" class="link">Source</a> <a href="#v:findIndexOrEnd" class="selflink">#</a></p><div class="doc"><p><code><a href="Streaming-ByteString-Internal.html#v:findIndexOrEnd" title="Streaming.ByteString.Internal">findIndexOrEnd</a></code> is a variant of findIndex, that returns the length of the
 string if no element is found, rather than Nothing.</p></div></div><a href="#g:1" id="g:1"><h1>ResourceT help</h1></a><div class="top"><p class="src"><a id="v:bracketByteString" class="def">bracketByteString</a> :: <a href="../../resourcet/html/Control-Monad-Trans-Resource.html#t:MonadResource" title="Control.Monad.Trans.Resource">MonadResource</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; (a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> ()) -&gt; (a -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m b) -&gt; <a href="Streaming-ByteString-Internal.html#t:ByteStream" title="Streaming.ByteString.Internal">ByteStream</a> m b <a href="src/Streaming.ByteString.Internal.html#bracketByteString" class="link">Source</a> <a href="#v:bracketByteString" class="selflink">#</a></p><div class="doc"><p>Like <code>bracket</code>, but specialized for <code><a href="Streaming-ByteString-Internal.html#t:ByteString" title="Streaming.ByteString.Internal">ByteString</a></code>.</p></div></div><a href="#g:2" id="g:2"><h1>Re-export from GHC 9.0</h1></a><div class="top"><p class="src"><a id="v:unsafeWithForeignPtr" class="def">unsafeWithForeignPtr</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Foreign-ForeignPtr-Safe.html#t:ForeignPtr" title="Foreign.ForeignPtr.Safe">ForeignPtr</a> a -&gt; (<a href="../../ghc/html/libraries/base-4.14.3.0/Foreign-Ptr.html#t:Ptr" title="Foreign.Ptr">Ptr</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> b) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> b <a href="src/Streaming.ByteString.Internal.html#unsafeWithForeignPtr" class="link">Source</a> <a href="#v:unsafeWithForeignPtr" class="selflink">#</a></p><div class="doc"><p>Synonym of <code><a href="../../ghc/html/libraries/base-4.14.3.0/Foreign-ForeignPtr-Safe.html#v:withForeignPtr" title="Foreign.ForeignPtr.Safe">withForeignPtr</a></code> for GHC prior to 9.0.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>