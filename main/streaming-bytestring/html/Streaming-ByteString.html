<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Streaming.ByteString</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">streaming-bytestring-0.2.4: Fast, effectful byte streams.</span><ul class="links" id="page-menu"><li><a href="src/Streaming.ByteString.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Don Stewart 2006<br />(c) Duncan Coutts 2006-2011<br />(c) Michael Thompson 2015</td></tr><tr><th>License</th><td>BSD-style</td></tr><tr><th>Maintainer</th><td>what_is_it_to_do_anything@yahoo.com</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Streaming.ByteString</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">The <code>ByteStream</code> type</a></li><li><a href="#g:2">Introducing and eliminating <code>ByteStream</code>s</a></li><li><a href="#g:3">Transforming ByteStreams</a></li><li><a href="#g:4">Basic interface</a></li><li><a href="#g:5">Substrings</a><ul><li><a href="#g:6">Breaking strings</a></li><li><a href="#g:7">Breaking into many substrings</a></li><li><a href="#g:8">Special folds</a></li></ul></li><li><a href="#g:9">Builders</a></li><li><a href="#g:10">Building ByteStreams</a><ul><li><a href="#g:11">Infinite ByteStreams</a></li><li><a href="#g:12">Unfolding ByteStreams</a></li></ul></li><li><a href="#g:13">Folds, including support for <code><a href="Control.html#v:Foldl" title="Control">Foldl</a></code></a></li><li><a href="#g:14">I/O with <code>ByteStream</code>s</a><ul><li><a href="#g:15">Standard input and output</a></li><li><a href="#g:16">Files</a></li><li><a href="#g:17">I/O with Handles</a></li></ul></li><li><a href="#g:18">Simple chunkwise operations</a></li><li><a href="#g:19">Etc.</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>See the simple examples of use <a href="https://gist.github.com/michaelt/6c6843e6dd8030e95d58">here</a>
 and the <code>ghci</code> examples especially in <a href="Streaming-ByteString-Char8.html">Streaming.ByteString.Char8</a>.
 We begin with a slight modification of the documentation to <a href="../../bytestring/html/Data-ByteString-Lazy.html">Data.ByteString.Lazy</a>:</p><p>A time and space-efficient implementation of effectful byte streams using a
 stream of packed <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a></code> arrays, suitable for high performance use, both in
 terms of large data quantities, or high speed requirements. Streaming
 ByteStrings are encoded as streams of strict chunks of bytes.</p><p>A key feature of streaming ByteStrings is the means to manipulate large or
 unbounded streams of data without requiring the entire sequence to be
 resident in memory. To take advantage of this you have to write your
 functions in a streaming style, e.g. classic pipeline composition. The
 default I/O chunk size is 32k, which should be good in most circumstances.</p><p>Some operations, such as <code><a href="Streaming-ByteString.html#v:concat" title="Streaming.ByteString">concat</a></code>, <code><a href="Streaming-ByteString.html#v:append" title="Streaming.ByteString">append</a></code>, and <code><a href="Streaming-ByteString.html#v:cons" title="Streaming.ByteString">cons</a></code>, have better
 complexity than their <a href="../../bytestring/html/Data-ByteString.html">Data.ByteString</a> equivalents, due to optimisations
 resulting from the list spine structure. For other operations streaming, like
 lazy, ByteStrings are usually within a few percent of strict ones.</p><p>This module is intended to be imported <code>qualified</code>, to avoid name clashes
 with <a href="../../ghc/html/libraries/base-4.14.3.0/Prelude.html">Prelude</a> functions. eg.</p><pre>import qualified Streaming.ByteString as Q</pre><p>Original GHC implementation by Bryan O'Sullivan. Rewritten to use
 <code><a href="../../ghc/html/libraries/array-0.5.4.0/Data-Array-Unboxed.html#v:UArray" title="Data.Array.Unboxed">UArray</a></code> by Simon Marlow. Rewritten to support slices and
 use <code><a href="../../ghc/html/libraries/base-4.14.3.0/Foreign-ForeignPtr.html#v:ForeignPtr" title="Foreign.ForeignPtr">ForeignPtr</a></code> by David Roundy. Rewritten again and
 extended by Don Stewart and Duncan Coutts. Lazy variant by Duncan Coutts and
 Don Stewart. Streaming variant by Michael Thompson, following the ideas of
 Gabriel Gonzales' pipes-bytestring.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:ByteStream">ByteStream</a> m r</li><li class="src short"><span class="keyword">type</span> <a href="#t:ByteString">ByteString</a> = <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></li><li class="src short"><a href="#v:empty">empty</a> :: <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m ()</li><li class="src short"><a href="#v:singleton">singleton</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m ()</li><li class="src short"><a href="#v:pack">pack</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a>) m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r</li><li class="src short"><a href="#v:unpack">unpack</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a>) m r</li><li class="src short"><a href="#v:fromLazy">fromLazy</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../bytestring/html/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m ()</li><li class="src short"><a href="#v:toLazy">toLazy</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> <a href="../../bytestring/html/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> r)</li><li class="src short"><a href="#v:toLazy_">toLazy_</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m <a href="../../bytestring/html/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a></li><li class="src short"><a href="#v:fromChunks">fromChunks</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r</li><li class="src short"><a href="#v:toChunks">toChunks</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) m r</li><li class="src short"><a href="#v:fromStrict">fromStrict</a> :: <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m ()</li><li class="src short"><a href="#v:toStrict">toStrict</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> r)</li><li class="src short"><a href="#v:toStrict_">toStrict_</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li><li class="src short"><a href="#v:effects">effects</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m r</li><li class="src short"><a href="#v:copy">copy</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m) r</li><li class="src short"><a href="#v:drained">drained</a> :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../../mmorph/html/Control-Monad-Morph.html#t:MonadTrans" title="Control.Monad.Morph">MonadTrans</a> t, <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (t m)) =&gt; t m (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r) -&gt; t m r</li><li class="src short"><a href="#v:mwrap">mwrap</a> :: m (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r</li><li class="src short"><a href="#v:map">map</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a>) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r</li><li class="src short"><a href="#v:for">for</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m x) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r</li><li class="src short"><a href="#v:intercalate">intercalate</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m () -&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m) m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r</li><li class="src short"><a href="#v:intersperse">intersperse</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r</li><li class="src short"><a href="#v:cons">cons</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r</li><li class="src short"><a href="#v:cons-39-">cons'</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r</li><li class="src short"><a href="#v:snoc">snoc</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r</li><li class="src short"><a href="#v:append">append</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m s -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m s</li><li class="src short"><a href="#v:filter">filter</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r</li><li class="src short"><a href="#v:uncons">uncons</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> r (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a>, <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r))</li><li class="src short"><a href="#v:nextByte">nextByte</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> r (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a>, <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r))</li><li class="src short"><a href="#v:break">break</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r)</li><li class="src short"><a href="#v:drop">drop</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int64" title="Data.Int">Int64</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r</li><li class="src short"><a href="#v:dropWhile">dropWhile</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r</li><li class="src short"><a href="#v:group">group</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m) m r</li><li class="src short"><a href="#v:groupBy">groupBy</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m) m r</li><li class="src short"><a href="#v:span">span</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r)</li><li class="src short"><a href="#v:splitAt">splitAt</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int64" title="Data.Int">Int64</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r)</li><li class="src short"><a href="#v:splitWith">splitWith</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m) m r</li><li class="src short"><a href="#v:take">take</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int64" title="Data.Int">Int64</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m ()</li><li class="src short"><a href="#v:takeWhile">takeWhile</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m ()</li><li class="src short"><a href="#v:split">split</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m) m r</li><li class="src short"><a href="#v:concat">concat</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m) m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r</li><li class="src short"><a href="#v:denull">denull</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m) m r -&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m) m r</li><li class="src short"><a href="#v:toStreamingByteString">toStreamingByteString</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../../bytestring/html/Data-ByteString-Builder.html#t:Builder" title="Data.ByteString.Builder">Builder</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m ()</li><li class="src short"><a href="#v:toStreamingByteStringWith">toStreamingByteStringWith</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../../bytestring/html/Data-ByteString-Builder-Extra.html#t:AllocationStrategy" title="Data.ByteString.Builder.Extra">AllocationStrategy</a> -&gt; <a href="../../bytestring/html/Data-ByteString-Builder.html#t:Builder" title="Data.ByteString.Builder">Builder</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m ()</li><li class="src short"><a href="#v:toBuilder">toBuilder</a> :: <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> () -&gt; <a href="../../bytestring/html/Data-ByteString-Builder.html#t:Builder" title="Data.ByteString.Builder">Builder</a></li><li class="src short"><a href="#v:concatBuilders">concatBuilders</a> :: <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> <a href="../../bytestring/html/Data-ByteString-Builder.html#t:Builder" title="Data.ByteString.Builder">Builder</a>) <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> () -&gt; <a href="../../bytestring/html/Data-ByteString-Builder.html#t:Builder" title="Data.ByteString.Builder">Builder</a></li><li class="src short"><a href="#v:repeat">repeat</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r</li><li class="src short"><a href="#v:iterate">iterate</a> :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a>) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r</li><li class="src short"><a href="#v:cycle">cycle</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m s</li><li class="src short"><a href="#v:unfoldM">unfoldM</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a>, a)) -&gt; a -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m ()</li><li class="src short"><a href="#v:unfoldr">unfoldr</a> :: (a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> r (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a>, a)) -&gt; a -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r</li><li class="src short"><a href="#v:reread">reread</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (s -&gt; m (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)) -&gt; s -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m ()</li><li class="src short"><a href="#v:foldr">foldr</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; a -&gt; a) -&gt; a -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m () -&gt; m a</li><li class="src short"><a href="#v:fold">fold</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (x -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; x) -&gt; x -&gt; (x -&gt; b) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> b r)</li><li class="src short"><a href="#v:fold_">fold_</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (x -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; x) -&gt; x -&gt; (x -&gt; b) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m () -&gt; m b</li><li class="src short"><a href="#v:head">head</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a>) r)</li><li class="src short"><a href="#v:head_">head_</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a></li><li class="src short"><a href="#v:last">last</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a>) r)</li><li class="src short"><a href="#v:last_">last_</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a></li><li class="src short"><a href="#v:length">length</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> r)</li><li class="src short"><a href="#v:length_">length_</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:null">null</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> r)</li><li class="src short"><a href="#v:null_">null_</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:nulls">nulls</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Functor-Sum.html#t:Sum" title="Data.Functor.Sum">Sum</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m) (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m) r)</li><li class="src short"><a href="#v:testNull">testNull</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r))</li><li class="src short"><a href="#v:count">count</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> r)</li><li class="src short"><a href="#v:count_">count_</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:getContents">getContents</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m ()</li><li class="src short"><a href="#v:stdin">stdin</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m ()</li><li class="src short"><a href="#v:stdout">stdout</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m r</li><li class="src short"><a href="#v:interact">interact</a> :: (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> () -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> r) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> r</li><li class="src short"><a href="#v:readFile">readFile</a> :: <a href="../../resourcet/html/Control-Monad-Trans-Resource.html#t:MonadResource" title="Control.Monad.Trans.Resource">MonadResource</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m ()</li><li class="src short"><a href="#v:writeFile">writeFile</a> :: <a href="../../resourcet/html/Control-Monad-Trans-Resource.html#t:MonadResource" title="Control.Monad.Trans.Resource">MonadResource</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m r</li><li class="src short"><a href="#v:appendFile">appendFile</a> :: <a href="../../resourcet/html/Control-Monad-Trans-Resource.html#t:MonadResource" title="Control.Monad.Trans.Resource">MonadResource</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m r</li><li class="src short"><a href="#v:fromHandle">fromHandle</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m ()</li><li class="src short"><a href="#v:toHandle">toHandle</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m r</li><li class="src short"><a href="#v:hGet">hGet</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m ()</li><li class="src short"><a href="#v:hGetContents">hGetContents</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m ()</li><li class="src short"><a href="#v:hGetContentsN">hGetContentsN</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m ()</li><li class="src short"><a href="#v:hGetN">hGetN</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m ()</li><li class="src short"><a href="#v:hGetNonBlocking">hGetNonBlocking</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m ()</li><li class="src short"><a href="#v:hGetNonBlockingN">hGetNonBlockingN</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m ()</li><li class="src short"><a href="#v:hPut">hPut</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m r</li><li class="src short"><a href="#v:unconsChunk">unconsChunk</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> r (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r))</li><li class="src short"><a href="#v:nextChunk">nextChunk</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> r (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r))</li><li class="src short"><a href="#v:chunk">chunk</a> :: <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m ()</li><li class="src short"><a href="#v:foldrChunks">foldrChunks</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; a -&gt; a) -&gt; a -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m a</li><li class="src short"><a href="#v:foldlChunks">foldlChunks</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; a) -&gt; a -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> a r)</li><li class="src short"><a href="#v:chunkFold">chunkFold</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (x -&gt; <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; x) -&gt; x -&gt; (x -&gt; a) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> a r)</li><li class="src short"><a href="#v:chunkFoldM">chunkFoldM</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (x -&gt; <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m x) -&gt; m x -&gt; (x -&gt; m a) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> a r)</li><li class="src short"><a href="#v:chunkMap">chunkMap</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r</li><li class="src short"><a href="#v:chunkMapM">chunkMapM</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r</li><li class="src short"><a href="#v:chunkMapM_">chunkMapM_</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m x) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m r</li><li class="src short"><a href="#v:dematerialize">dematerialize</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <span class="keyword">forall</span> x. (r -&gt; x) -&gt; (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; x -&gt; x) -&gt; (m x -&gt; x) -&gt; x</li><li class="src short"><a href="#v:materialize">materialize</a> :: (<span class="keyword">forall</span> x. (r -&gt; x) -&gt; (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; x -&gt; x) -&gt; (m x -&gt; x) -&gt; x) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r</li><li class="src short"><a href="#v:distribute">distribute</a> :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../../mmorph/html/Control-Monad-Morph.html#t:MonadTrans" title="Control.Monad.Morph">MonadTrans</a> t, <a href="../../mmorph/html/Control-Monad-Morph.html#t:MFunctor" title="Control.Monad.Morph">MFunctor</a> t, <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (t m), <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (t (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m))) =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> (t m) a -&gt; t (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m) a</li><li class="src short"><a href="#v:zipWithStream">zipWithStream</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<span class="keyword">forall</span> x. a -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m x -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m x) -&gt; [a] -&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m) m r -&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m) m r</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>The <code>ByteStream</code> type</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ByteStream" class="def">ByteStream</a> m r <a href="src/Streaming.ByteString.Internal.html#ByteStream" class="link">Source</a> <a href="#t:ByteStream" class="selflink">#</a></p><div class="doc"><p>A space-efficient representation of a succession of <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a></code> vectors,
 supporting many efficient operations.</p><p>An effectful <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code> contains 8-bit bytes, or by using the operations
 from <a href="Streaming-ByteString-Char8.html">Streaming.ByteString.Char8</a> it can be interpreted as containing
 8-bit characters.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ByteStream">Instances</h4><details id="i:ByteStream" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteStream:MonadTrans:1"></span> <a href="../../mmorph/html/Control-Monad-Morph.html#t:MonadTrans" title="Control.Monad.Morph">MonadTrans</a> <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></span> <a href="src/Streaming.ByteString.Internal.html#line-164" class="link">Source</a> <a href="#t:ByteStream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteStream:MonadTrans:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-ByteString-Internal.html">Streaming.ByteString.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:lift">lift</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; m a -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m a <a href="../../transformers/html/src" class="link">Source</a> <a href="#v:lift" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteStream:MonadBase:2"></span> <a href="../../transformers-base/html/Control-Monad-Base.html#t:MonadBase" title="Control.Monad.Base">MonadBase</a> b m =&gt; <a href="../../transformers-base/html/Control-Monad-Base.html#t:MonadBase" title="Control.Monad.Base">MonadBase</a> b (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m)</span> <a href="src/Streaming.ByteString.Internal.html#line-199" class="link">Source</a> <a href="#t:ByteStream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteStream:MonadBase:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-ByteString-Internal.html">Streaming.ByteString.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftBase">liftBase</a> :: b &#945; -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m &#945; <a href="../../transformers-base/html/src" class="link">Source</a> <a href="#v:liftBase" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteStream:Monad:3"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m)</span> <a href="src/Streaming.ByteString.Internal.html#line-143" class="link">Source</a> <a href="#t:ByteStream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteStream:Monad:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-ByteString-Internal.html">Streaming.ByteString.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m a -&gt; (a -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m b) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m b <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m a -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m b -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m b <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m a <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:return" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteStream:Functor:4"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m)</span> <a href="src/Streaming.ByteString.Internal.html#line-125" class="link">Source</a> <a href="#t:ByteStream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteStream:Functor:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-ByteString-Internal.html">Streaming.ByteString.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m a -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m b <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m b -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m a <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteStream:Applicative:5"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m)</span> <a href="src/Streaming.ByteString.Internal.html#line-131" class="link">Source</a> <a href="#t:ByteStream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteStream:Applicative:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-ByteString-Internal.html">Streaming.ByteString.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m a <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:pure" class="selflink">#</a></p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m (a -&gt; b) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m a -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m b <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:-60--42--62-" class="selflink">#</a></p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m a -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m b -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m c <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:liftA2" class="selflink">#</a></p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m a -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m b -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m b <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:-42--62-" class="selflink">#</a></p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m a -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m b -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m a <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:-60--42-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteStream:MonadIO:6"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m)</span> <a href="src/Streaming.ByteString.Internal.html#line-160" class="link">Source</a> <a href="#t:ByteStream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteStream:MonadIO:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-ByteString-Internal.html">Streaming.ByteString.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftIO">liftIO</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m a <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:liftIO" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteStream:MonadThrow:7"></span> <a href="../../exceptions/html/Control-Monad-Catch.html#t:MonadThrow" title="Control.Monad.Catch">MonadThrow</a> m =&gt; <a href="../../exceptions/html/Control-Monad-Catch.html#t:MonadThrow" title="Control.Monad.Catch">MonadThrow</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m)</span> <a href="src/Streaming.ByteString.Internal.html#line-203" class="link">Source</a> <a href="#t:ByteStream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteStream:MonadThrow:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-ByteString-Internal.html">Streaming.ByteString.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:throwM">throwM</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> e =&gt; e -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m a <a href="../../exceptions/html/src" class="link">Source</a> <a href="#v:throwM" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteStream:MonadCatch:8"></span> <a href="../../exceptions/html/Control-Monad-Catch.html#t:MonadCatch" title="Control.Monad.Catch">MonadCatch</a> m =&gt; <a href="../../exceptions/html/Control-Monad-Catch.html#t:MonadCatch" title="Control.Monad.Catch">MonadCatch</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m)</span> <a href="src/Streaming.ByteString.Internal.html#line-207" class="link">Source</a> <a href="#t:ByteStream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteStream:MonadCatch:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-ByteString-Internal.html">Streaming.ByteString.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:catch">catch</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> e =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m a -&gt; (e -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m a) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m a <a href="../../exceptions/html/src" class="link">Source</a> <a href="#v:catch" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteStream:MonadResource:9"></span> <a href="../../resourcet/html/Control-Monad-Trans-Resource.html#t:MonadResource" title="Control.Monad.Trans.Resource">MonadResource</a> m =&gt; <a href="../../resourcet/html/Control-Monad-Trans-Resource.html#t:MonadResource" title="Control.Monad.Trans.Resource">MonadResource</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m)</span> <a href="src/Streaming.ByteString.Internal.html#line-219" class="link">Source</a> <a href="#t:ByteStream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteStream:MonadResource:9"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-ByteString-Internal.html">Streaming.ByteString.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftResourceT">liftResourceT</a> :: <a href="../../resourcet/html/Control-Monad-Trans-Resource.html#t:ResourceT" title="Control.Monad.Trans.Resource">ResourceT</a> <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m a <a href="../../resourcet/html/src" class="link">Source</a> <a href="#v:liftResourceT" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteStream:MFunctor:10"></span> <a href="../../mmorph/html/Control-Monad-Morph.html#t:MFunctor" title="Control.Monad.Morph">MFunctor</a> <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></span> <a href="src/Streaming.ByteString.Internal.html#line-168" class="link">Source</a> <a href="#t:ByteStream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteStream:MFunctor:10"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-ByteString-Internal.html">Streaming.ByteString.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:hoist">hoist</a> :: <span class="keyword">forall</span> m n (b :: k). <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<span class="keyword">forall</span> a. m a -&gt; n a) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m b -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> n b <a href="../../mmorph/html/src" class="link">Source</a> <a href="#v:hoist" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteStream:Show:11"></span> (m ~ <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Functor-Identity.html#t:Identity" title="Data.Functor.Identity">Identity</a>, <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> r) =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r)</span> <a href="src/Streaming.ByteString.Internal.html#line-179" class="link">Source</a> <a href="#t:ByteStream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteStream:Show:11"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-ByteString-Internal.html">Streaming.ByteString.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r] -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteStream:IsString:12"></span> r ~ () =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:IsString" title="Data.String">IsString</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r)</span> <a href="src/Streaming.ByteString.Internal.html#line-175" class="link">Source</a> <a href="#t:ByteStream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteStream:IsString:12"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-ByteString-Internal.html">Streaming.ByteString.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fromString">fromString</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:fromString" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteStream:Semigroup:13"></span> (<a href="../../ghc/html/libraries/base-4.14.3.0/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> r, <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r)</span> <a href="src/Streaming.ByteString.Internal.html#line-185" class="link">Source</a> <a href="#t:ByteStream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteStream:Semigroup:13"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-ByteString-Internal.html">Streaming.ByteString.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Prelude.html#t:Integral" title="Prelude">Integral</a> b =&gt; b -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteStream:Monoid:14"></span> (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> r, <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r)</span> <a href="src/Streaming.ByteString.Internal.html#line-189" class="link">Source</a> <a href="#t:ByteStream" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteStream:Monoid:14"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Streaming-ByteString-Internal.html">Streaming.ByteString.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r] -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:mconcat" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ByteString" class="def">ByteString</a> = <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> <a href="src/Streaming.ByteString.Internal.html#ByteString" class="link">Source</a> <a href="#t:ByteString" class="selflink">#</a></p><div class="doc"><div class="warning"><p>Deprecated: Use ByteStream instead.</p></div><p>A type alias for back-compatibility.</p></div></div><a href="#g:2" id="g:2"><h1>Introducing and eliminating <code>ByteStream</code>s</h1></a><div class="top"><p class="src"><a id="v:empty" class="def">empty</a> :: <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m () <a href="src/Streaming.ByteString.html#empty" class="link">Source</a> <a href="#v:empty" class="selflink">#</a></p><div class="doc"><p><em>O(1)</em> The empty <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code> -- i.e. <code>return ()</code> Note that <code>ByteStream m w</code> is
 generally a monoid for monoidal values of <code>w</code>, like <code>()</code>.</p></div></div><div class="top"><p class="src"><a id="v:singleton" class="def">singleton</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m () <a href="src/Streaming.ByteString.html#singleton" class="link">Source</a> <a href="#v:singleton" class="selflink">#</a></p><div class="doc"><p><em>O(1)</em> Yield a <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a></code> as a minimal <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:pack" class="def">pack</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a>) m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r <a href="src/Streaming.ByteString.html#pack" class="link">Source</a> <a href="#v:pack" class="selflink">#</a></p><div class="doc"><p><em>O(n)</em> Convert a monadic stream of individual <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a></code>s into a packed byte stream.</p></div></div><div class="top"><p class="src"><a id="v:unpack" class="def">unpack</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a>) m r <a href="src/Streaming.ByteString.html#unpack" class="link">Source</a> <a href="#v:unpack" class="selflink">#</a></p><div class="doc"><p><em>O(n)</em> Converts a packed byte stream into a stream of individual bytes.</p></div></div><div class="top"><p class="src"><a id="v:fromLazy" class="def">fromLazy</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../bytestring/html/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m () <a href="src/Streaming.ByteString.html#fromLazy" class="link">Source</a> <a href="#v:fromLazy" class="selflink">#</a></p><div class="doc"><p><em>O(c)</em> Transmute a pseudo-pure lazy bytestring to its representation as a
 monadic stream of chunks.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Q.putStrLn $ Q.fromLazy &quot;hi&quot;
</code></strong>hi
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Q.fromLazy &quot;hi&quot;
</code></strong>Chunk &quot;hi&quot; (Empty (()))  -- note: a 'show' instance works in the identity monad
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Q.fromLazy $ BL.fromChunks [&quot;here&quot;, &quot;are&quot;, &quot;some&quot;, &quot;chunks&quot;]
</code></strong>Chunk &quot;here&quot; (Chunk &quot;are&quot; (Chunk &quot;some&quot; (Chunk &quot;chunks&quot; (Empty (())))))
</pre></div></div><div class="top"><p class="src"><a id="v:toLazy" class="def">toLazy</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> <a href="../../bytestring/html/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> r) <a href="src/Streaming.ByteString.html#toLazy" class="link">Source</a> <a href="#v:toLazy" class="selflink">#</a></p><div class="doc"><p><em>O(n)</em> Convert an effectful byte stream into a single lazy <code><a href="Streaming-ByteString.html#t:ByteString" title="Streaming.ByteString">ByteString</a></code>
 with the same internal chunk structure, retaining the original return value.</p><p>This is the canonical way of breaking streaming (<code><a href="Streaming-ByteString.html#v:toStrict" title="Streaming.ByteString">toStrict</a></code> and the like are
 far more demonic). Essentially one is dividing the interleaved layers of
 effects and bytes into one immense layer of effects, followed by the memory
 of the succession of bytes.</p><p>Because one preserves the return value, <code><a href="Streaming-ByteString.html#v:toLazy" title="Streaming.ByteString">toLazy</a></code> is a suitable argument for
 <code><a href="../../streaming/html/Streaming-Prelude.html#v:mapped" title="Streaming.Prelude">mapped</a></code>:</p><pre>S.mapped Q.toLazy :: Stream (ByteStream m) m r -&gt; Stream (Of L.ByteString) m r</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Q.toLazy &quot;hello&quot;
</code></strong>&quot;hello&quot; :&gt; ()
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>S.toListM $ traverses Q.toLazy $ Q.lines &quot;one\ntwo\nthree\nfour\nfive\n&quot;
</code></strong>[&quot;one&quot;,&quot;two&quot;,&quot;three&quot;,&quot;four&quot;,&quot;five&quot;,&quot;&quot;]  -- [L.ByteString]
</pre></div></div><div class="top"><p class="src"><a id="v:toLazy_" class="def">toLazy_</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m <a href="../../bytestring/html/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> <a href="src/Streaming.ByteString.html#toLazy_" class="link">Source</a> <a href="#v:toLazy_" class="selflink">#</a></p><div class="doc"><p><em>O(n)</em> Convert an effectful byte stream into a single lazy <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code>
 with the same internal chunk structure. See <code><a href="Streaming-ByteString.html#v:toLazy" title="Streaming.ByteString">toLazy</a></code> which preserve
 connectedness by keeping the return value of the effectful bytestring.</p></div></div><div class="top"><p class="src"><a id="v:fromChunks" class="def">fromChunks</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r <a href="src/Streaming.ByteString.html#fromChunks" class="link">Source</a> <a href="#v:fromChunks" class="selflink">#</a></p><div class="doc"><p><em>O(c)</em> Convert a monadic stream of individual strict <code><a href="Streaming-ByteString.html#t:ByteString" title="Streaming.ByteString">ByteString</a></code> chunks
 into a byte stream.</p></div></div><div class="top"><p class="src"><a id="v:toChunks" class="def">toChunks</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) m r <a href="src/Streaming.ByteString.html#toChunks" class="link">Source</a> <a href="#v:toChunks" class="selflink">#</a></p><div class="doc"><p><em>O(c)</em> Convert a byte stream into a stream of individual strict
 bytestrings. This of course exposes the internal chunk structure.</p></div></div><div class="top"><p class="src"><a id="v:fromStrict" class="def">fromStrict</a> :: <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m () <a href="src/Streaming.ByteString.html#fromStrict" class="link">Source</a> <a href="#v:fromStrict" class="selflink">#</a></p><div class="doc"><p><em>O(1)</em> Yield a strict <code><a href="Streaming-ByteString.html#t:ByteString" title="Streaming.ByteString">ByteString</a></code> chunk.</p></div></div><div class="top"><p class="src"><a id="v:toStrict" class="def">toStrict</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> r) <a href="src/Streaming.ByteString.html#toStrict" class="link">Source</a> <a href="#v:toStrict" class="selflink">#</a></p><div class="doc"><p><em>O(n)</em> Convert a monadic byte stream into a single strict <code><a href="Streaming-ByteString.html#t:ByteString" title="Streaming.ByteString">ByteString</a></code>,
 retaining the return value of the original pair. This operation is for use
 with <code><a href="../../streaming/html/Streaming-Prelude.html#v:mapped" title="Streaming.Prelude">mapped</a></code>.</p><pre>mapped R.toStrict :: Monad m =&gt; Stream (ByteStream m) m r -&gt; Stream (Of ByteString) m r</pre><p>It is subject to all the objections one makes to Data.ByteString.Lazy
 <code><a href="Streaming-ByteString.html#v:toStrict" title="Streaming.ByteString">toStrict</a></code>; all of these are devastating.</p></div></div><div class="top"><p class="src"><a id="v:toStrict_" class="def">toStrict_</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="src/Streaming.ByteString.html#toStrict_" class="link">Source</a> <a href="#v:toStrict_" class="selflink">#</a></p><div class="doc"><p><em>O(n)</em> Convert a byte stream into a single strict <code><a href="Streaming-ByteString.html#t:ByteString" title="Streaming.ByteString">ByteString</a></code>.</p><p>Note that this is an <em>expensive</em> operation that forces the whole monadic
 ByteString into memory and then copies all the data. If possible, try to
 avoid converting back and forth between streaming and strict bytestrings.</p></div></div><div class="top"><p class="src"><a id="v:effects" class="def">effects</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m r <a href="src/Streaming.ByteString.html#effects" class="link">Source</a> <a href="#v:effects" class="selflink">#</a></p><div class="doc"><p>Perform the effects contained in an effectful bytestring, ignoring the bytes.</p></div></div><div class="top"><p class="src"><a id="v:copy" class="def">copy</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m) r <a href="src/Streaming.ByteString.Internal.html#copy" class="link">Source</a> <a href="#v:copy" class="selflink">#</a></p><div class="doc"><p>Make the information in a bytestring available to more than one eliminating fold, e.g.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Q.count 'l' $ Q.count 'o' $ Q.copy $ &quot;hello\nworld&quot;
</code></strong>3 :&gt; (2 :&gt; ())
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Q.length $ Q.count 'l' $ Q.count 'o' $ Q.copy $ Q.copy &quot;hello\nworld&quot;
</code></strong>11 :&gt; (3 :&gt; (2 :&gt; ()))
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>runResourceT $ Q.writeFile &quot;hello2.txt&quot; $ Q.writeFile &quot;hello1.txt&quot; $ Q.copy $ &quot;hello\nworld\n&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:! cat hello2.txt
</code></strong>hello
world
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:! cat hello1.txt
</code></strong>hello
world
</pre><p>This sort of manipulation could as well be acheived by combining folds - using
    <code>Control.Foldl</code> for example. But any sort of manipulation can be involved in
    the fold.  Here are a couple of trivial complications involving splitting by lines:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let doubleLines = Q.unlines . maps (&lt;* Q.chunk &quot;\n&quot; ) . Q.lines
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let emphasize = Q.unlines . maps (&lt;* Q.chunk &quot;!&quot; ) . Q.lines
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>runResourceT $ Q.writeFile &quot;hello2.txt&quot; $ emphasize $ Q.writeFile &quot;hello1.txt&quot; $ doubleLines $ Q.copy $ &quot;hello\nworld&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:! cat hello2.txt
</code></strong>hello!
world!
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:! cat hello1.txt
</code></strong>hello

world

</pre><p>As with the parallel operations in <code>Streaming.Prelude</code>, we have</p><pre>Q.effects . Q.copy       = id
hoist Q.effects . Q.copy = id</pre><p>The duplication does not by itself involve the copying of bytestring chunks;
   it just makes two references to each chunk as it arises. This does, however
   double the number of constructors associated with each chunk.</p></div></div><div class="top"><p class="src"><a id="v:drained" class="def">drained</a> :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../../mmorph/html/Control-Monad-Morph.html#t:MonadTrans" title="Control.Monad.Morph">MonadTrans</a> t, <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (t m)) =&gt; t m (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r) -&gt; t m r <a href="src/Streaming.ByteString.html#drained" class="link">Source</a> <a href="#v:drained" class="selflink">#</a></p><div class="doc"><p>Perform the effects contained in the second in an effectful pair of
 bytestrings, ignoring the bytes. It would typically be used at the type</p><pre>ByteStream m (ByteStream m r) -&gt; ByteStream m r</pre></div></div><div class="top"><p class="src"><a id="v:mwrap" class="def">mwrap</a> :: m (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r <a href="src/Streaming.ByteString.Internal.html#mwrap" class="link">Source</a> <a href="#v:mwrap" class="selflink">#</a></p><div class="doc"><p>Reconceive an effect that results in an effectful bytestring as an effectful bytestring.
    Compare Streaming.mwrap. The closest equivalent of</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Streaming.wrap :: f (Stream f m r) -&gt; Stream f m r
</code></strong></pre><p>is here  <code>consChunk</code>. <code>mwrap</code> is the smart constructor for the internal <code>Go</code> constructor.</p></div></div><a href="#g:3" id="g:3"><h1>Transforming ByteStreams</h1></a><div class="top"><p class="src"><a id="v:map" class="def">map</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a>) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r <a href="src/Streaming.ByteString.html#map" class="link">Source</a> <a href="#v:map" class="selflink">#</a></p><div class="doc"><p><em>O(n)</em> <code><a href="Streaming-ByteString.html#v:map" title="Streaming.ByteString">map</a></code> <code>f xs</code> is the ByteStream obtained by applying <code>f</code> to each
 element of <code>xs</code>.</p></div></div><div class="top"><p class="src"><a id="v:for" class="def">for</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m x) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r <a href="src/Streaming.ByteString.html#for" class="link">Source</a> <a href="#v:for" class="selflink">#</a></p><div class="doc"><p><code><code><a href="Streaming-ByteString.html#v:for" title="Streaming.ByteString">for</a></code> xs f</code> applies <code>f</code> to each chunk in the stream, and
 concatenates the resulting streams.</p><p>Generalised in 0.2.4 to match <code>streaming</code>: the callback's (ignored)
 return value can be of any type.</p><p><em>Since: 0.2.3</em></p></div></div><div class="top"><p class="src"><a id="v:intercalate" class="def">intercalate</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m () -&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m) m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r <a href="src/Streaming.ByteString.html#intercalate" class="link">Source</a> <a href="#v:intercalate" class="selflink">#</a></p><div class="doc"><p><em>O(n)</em> The <code><a href="Streaming-ByteString.html#v:intercalate" title="Streaming.ByteString">intercalate</a></code> function takes a <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code> and a list of
 <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code>s and concatenates the list after interspersing the first
 argument between each element of the list.</p></div></div><div class="top"><p class="src"><a id="v:intersperse" class="def">intersperse</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r <a href="src/Streaming.ByteString.html#intersperse" class="link">Source</a> <a href="#v:intersperse" class="selflink">#</a></p><div class="doc"><p>The <code><a href="Streaming-ByteString.html#v:intersperse" title="Streaming.ByteString">intersperse</a></code> function takes a <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a></code> and a <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code> and
 `intersperses' that byte between the elements of the <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code>. It is
 analogous to the intersperse function on Streams.</p></div></div><a href="#g:4" id="g:4"><h1>Basic interface</h1></a><div class="top"><p class="src"><a id="v:cons" class="def">cons</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r <a href="src/Streaming.ByteString.html#cons" class="link">Source</a> <a href="#v:cons" class="selflink">#</a></p><div class="doc"><p><em>O(1)</em> <code><a href="Streaming-ByteString.html#v:cons" title="Streaming.ByteString">cons</a></code> is analogous to <code>(:)</code> for lists.</p></div></div><div class="top"><p class="src"><a id="v:cons-39-" class="def">cons'</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r <a href="src/Streaming.ByteString.html#cons%27" class="link">Source</a> <a href="#v:cons-39-" class="selflink">#</a></p><div class="doc"><p><em>O(1)</em> Unlike <code><a href="Streaming-ByteString.html#v:cons" title="Streaming.ByteString">cons</a></code>, 'cons'' is strict in the ByteString that we are
 consing onto. More precisely, it forces the head and the first chunk. It does
 this because, for space efficiency, it may coalesce the new byte onto the
 first 'chunk' rather than starting a new 'chunk'.</p><p>So that means you can't use a lazy recursive contruction like this:</p><pre>let xs = cons\' c xs in xs</pre><p>You can however use <code><a href="Streaming-ByteString.html#v:cons" title="Streaming.ByteString">cons</a></code>, as well as <code><a href="Streaming-ByteString.html#v:repeat" title="Streaming.ByteString">repeat</a></code> and <code><a href="Streaming-ByteString.html#v:cycle" title="Streaming.ByteString">cycle</a></code>, to build
 infinite byte streams.</p></div></div><div class="top"><p class="src"><a id="v:snoc" class="def">snoc</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r <a href="src/Streaming.ByteString.html#snoc" class="link">Source</a> <a href="#v:snoc" class="selflink">#</a></p><div class="doc"><p><em>O(n/c)</em> Append a byte to the end of a <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:append" class="def">append</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m s -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m s <a href="src/Streaming.ByteString.html#append" class="link">Source</a> <a href="#v:append" class="selflink">#</a></p><div class="doc"><p><em>O(n/c)</em> Append two <code><a href="Streaming-ByteString.html#t:ByteString" title="Streaming.ByteString">ByteString</a></code>s together.</p></div></div><div class="top"><p class="src"><a id="v:filter" class="def">filter</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r <a href="src/Streaming.ByteString.html#filter" class="link">Source</a> <a href="#v:filter" class="selflink">#</a></p><div class="doc"><p><em>O(n)</em> <code><a href="Streaming-ByteString.html#v:filter" title="Streaming.ByteString">filter</a></code>, applied to a predicate and a ByteStream, returns a
 ByteStream containing those characters that satisfy the predicate.</p></div></div><div class="top"><p class="src"><a id="v:uncons" class="def">uncons</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> r (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a>, <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r)) <a href="src/Streaming.ByteString.html#uncons" class="link">Source</a> <a href="#v:uncons" class="selflink">#</a></p><div class="doc"><p><em>O(1)</em> Extract the head and tail of a <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code>, or its return value if
 it is empty. This is the 'natural' uncons for an effectful byte stream.</p></div></div><div class="top"><p class="src"><a id="v:nextByte" class="def">nextByte</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> r (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a>, <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r)) <a href="src/Streaming.ByteString.html#nextByte" class="link">Source</a> <a href="#v:nextByte" class="selflink">#</a></p><div class="doc"><div class="warning"><p>Deprecated: Use uncons instead.</p></div><p>The same as <code><a href="Streaming-ByteString.html#v:uncons" title="Streaming.ByteString">uncons</a></code>, will be removed in the next version.</p></div></div><a href="#g:5" id="g:5"><h1>Substrings</h1></a><a href="#g:6" id="g:6"><h2>Breaking strings</h2></a><div class="top"><p class="src"><a id="v:break" class="def">break</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r) <a href="src/Streaming.ByteString.html#break" class="link">Source</a> <a href="#v:break" class="selflink">#</a></p><div class="doc"><p><code><a href="Streaming-ByteString.html#v:break" title="Streaming.ByteString">break</a></code> <code>p</code> is equivalent to <code><code><a href="Streaming-ByteString.html#v:span" title="Streaming.ByteString">span</a></code> (<code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#v:not" title="Data.Bool">not</a></code> . p)</code>.</p></div></div><div class="top"><p class="src"><a id="v:drop" class="def">drop</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int64" title="Data.Int">Int64</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r <a href="src/Streaming.ByteString.html#drop" class="link">Source</a> <a href="#v:drop" class="selflink">#</a></p><div class="doc"><p><em>O(n/c)</em> <code><a href="Streaming-ByteString.html#v:drop" title="Streaming.ByteString">drop</a></code> <code>n xs</code> returns the suffix of <code>xs</code> after the first <code>n</code>
    elements, or <code>[]</code> if <code>n &gt; <code><a href="Streaming-ByteString.html#v:length" title="Streaming.ByteString">length</a></code> xs</code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Q.putStrLn $ Q.drop 6 &quot;Wisconsin&quot;
</code></strong>sin
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Q.putStrLn $ Q.drop 16 &quot;Wisconsin&quot;
</code></strong>
</pre></div></div><div class="top"><p class="src"><a id="v:dropWhile" class="def">dropWhile</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r <a href="src/Streaming.ByteString.html#dropWhile" class="link">Source</a> <a href="#v:dropWhile" class="selflink">#</a></p><div class="doc"><p><code><a href="Streaming-ByteString.html#v:dropWhile" title="Streaming.ByteString">dropWhile</a></code> <code>p xs</code> returns the suffix remaining after <code><a href="Streaming-ByteString.html#v:takeWhile" title="Streaming.ByteString">takeWhile</a></code> <code>p xs</code>.</p></div></div><div class="top"><p class="src"><a id="v:group" class="def">group</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m) m r <a href="src/Streaming.ByteString.html#group" class="link">Source</a> <a href="#v:group" class="selflink">#</a></p><div class="doc"><p>The <code><a href="Streaming-ByteString.html#v:group" title="Streaming.ByteString">group</a></code> function takes a ByteStream and returns a list of ByteStreams
 such that the concatenation of the result is equal to the argument. Moreover,
 each sublist in the result contains only equal elements. For example,</p><pre>group &quot;Mississippi&quot; = [&quot;M&quot;,&quot;i&quot;,&quot;ss&quot;,&quot;i&quot;,&quot;ss&quot;,&quot;i&quot;,&quot;pp&quot;,&quot;i&quot;]</pre><p>It is a special case of <code><a href="Streaming-ByteString.html#v:groupBy" title="Streaming.ByteString">groupBy</a></code>, which allows the programmer to supply
 their own equality test.</p></div></div><div class="top"><p class="src"><a id="v:groupBy" class="def">groupBy</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m) m r <a href="src/Streaming.ByteString.html#groupBy" class="link">Source</a> <a href="#v:groupBy" class="selflink">#</a></p><div class="doc"><p>The <code><a href="Streaming-ByteString.html#v:groupBy" title="Streaming.ByteString">groupBy</a></code> function is a generalized version of <code><a href="Streaming-ByteString.html#v:group" title="Streaming.ByteString">group</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:span" class="def">span</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r) <a href="src/Streaming.ByteString.html#span" class="link">Source</a> <a href="#v:span" class="selflink">#</a></p><div class="doc"><p><code><a href="Streaming-ByteString.html#v:span" title="Streaming.ByteString">span</a></code> <code>p xs</code> breaks the ByteStream into two segments. It is equivalent to
 <code>(<code><a href="Streaming-ByteString.html#v:takeWhile" title="Streaming.ByteString">takeWhile</a></code> p xs, <code><a href="Streaming-ByteString.html#v:dropWhile" title="Streaming.ByteString">dropWhile</a></code> p xs)</code>.</p></div></div><div class="top"><p class="src"><a id="v:splitAt" class="def">splitAt</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int64" title="Data.Int">Int64</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r) <a href="src/Streaming.ByteString.html#splitAt" class="link">Source</a> <a href="#v:splitAt" class="selflink">#</a></p><div class="doc"><p><em>O(n/c)</em> <code><a href="Streaming-ByteString.html#v:splitAt" title="Streaming.ByteString">splitAt</a></code> <code>n xs</code> is equivalent to <code>(<code><a href="Streaming-ByteString.html#v:take" title="Streaming.ByteString">take</a></code> n xs, <code><a href="Streaming-ByteString.html#v:drop" title="Streaming.ByteString">drop</a></code> n xs)</code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>rest &lt;- Q.putStrLn $ Q.splitAt 3 &quot;therapist is a danger to good hyphenation, as Knuth notes&quot;
</code></strong>the
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Q.putStrLn $ Q.splitAt 19 rest
</code></strong>rapist is a danger
</pre></div></div><div class="top"><p class="src"><a id="v:splitWith" class="def">splitWith</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m) m r <a href="src/Streaming.ByteString.html#splitWith" class="link">Source</a> <a href="#v:splitWith" class="selflink">#</a></p><div class="doc"><p><em>O(n)</em> Splits a <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code> into components delimited by separators, where
 the predicate returns True for a separator element. The resulting components
 do not contain the separators. Two adjacent separators result in an empty
 component in the output. eg.</p><pre>splitWith (=='a') &quot;aabbaca&quot; == [&quot;&quot;,&quot;&quot;,&quot;bb&quot;,&quot;c&quot;,&quot;&quot;]
splitWith (=='a') []        == []</pre></div></div><div class="top"><p class="src"><a id="v:take" class="def">take</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int64" title="Data.Int">Int64</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m () <a href="src/Streaming.ByteString.html#take" class="link">Source</a> <a href="#v:take" class="selflink">#</a></p><div class="doc"><p><em>O(n/c)</em> <code><a href="Streaming-ByteString.html#v:take" title="Streaming.ByteString">take</a></code> <code>n</code>, applied to a ByteStream <code>xs</code>, returns the prefix
    of <code>xs</code> of length <code>n</code>, or <code>xs</code> itself if <code>n &gt; <code><a href="Streaming-ByteString.html#v:length" title="Streaming.ByteString">length</a></code> xs</code>.</p><p>Note that in the streaming context this drops the final return value;
    <code><a href="Streaming-ByteString.html#v:splitAt" title="Streaming.ByteString">splitAt</a></code> preserves this information, and is sometimes to be preferred.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Q.putStrLn $ Q.take 8 $ &quot;Is there a God?&quot; &gt;&gt; return True
</code></strong>Is there
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Q.putStrLn $ &quot;Is there a God?&quot; &gt;&gt; return True
</code></strong>Is there a God?
True
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>rest &lt;- Q.putStrLn $ Q.splitAt 8 $ &quot;Is there a God?&quot; &gt;&gt; return True
</code></strong>Is there
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Q.effects  rest
</code></strong>True
</pre></div></div><div class="top"><p class="src"><a id="v:takeWhile" class="def">takeWhile</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m () <a href="src/Streaming.ByteString.html#takeWhile" class="link">Source</a> <a href="#v:takeWhile" class="selflink">#</a></p><div class="doc"><p><code><a href="Streaming-ByteString.html#v:takeWhile" title="Streaming.ByteString">takeWhile</a></code>, applied to a predicate <code>p</code> and a ByteStream <code>xs</code>, returns the
 longest prefix (possibly empty) of <code>xs</code> of elements that satisfy <code>p</code>.</p></div></div><a href="#g:7" id="g:7"><h2>Breaking into many substrings</h2></a><div class="top"><p class="src"><a id="v:split" class="def">split</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m) m r <a href="src/Streaming.ByteString.html#split" class="link">Source</a> <a href="#v:split" class="selflink">#</a></p><div class="doc"><p><em>O(n)</em> Break a <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code> into pieces separated by the byte
 argument, consuming the delimiter. I.e.</p><pre>split '\n' &quot;a\nb\nd\ne&quot; == [&quot;a&quot;,&quot;b&quot;,&quot;d&quot;,&quot;e&quot;]
split 'a'  &quot;aXaXaXa&quot;    == [&quot;&quot;,&quot;X&quot;,&quot;X&quot;,&quot;X&quot;,&quot;&quot;]
split 'x'  &quot;x&quot;          == [&quot;&quot;,&quot;&quot;]</pre><p>and</p><pre>intercalate [c] . split c == id
split == splitWith . (==)</pre><p>As for all splitting functions in this library, this function does not copy
 the substrings, it just constructs new <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code>s that are slices of the
 original.</p></div></div><a href="#g:8" id="g:8"><h2>Special folds</h2></a><div class="top"><p class="src"><a id="v:concat" class="def">concat</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m) m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r <a href="src/Streaming.ByteString.html#concat" class="link">Source</a> <a href="#v:concat" class="selflink">#</a></p><div class="doc"><p><em>O(n)</em> Concatenate a stream of byte streams.</p></div></div><div class="top"><p class="src"><a id="v:denull" class="def">denull</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m) m r -&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m) m r <a href="src/Streaming.ByteString.html#denull" class="link">Source</a> <a href="#v:denull" class="selflink">#</a></p><div class="doc"><p>Remove empty ByteStrings from a stream of bytestrings.</p></div></div><a href="#g:9" id="g:9"><h1>Builders</h1></a><div class="top"><p class="src"><a id="v:toStreamingByteString" class="def">toStreamingByteString</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../../bytestring/html/Data-ByteString-Builder.html#t:Builder" title="Data.ByteString.Builder">Builder</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m () <a href="src/Streaming.ByteString.html#toStreamingByteString" class="link">Source</a> <a href="#v:toStreamingByteString" class="selflink">#</a></p><div class="doc"><p>Take a builder constructed otherwise and convert it to a genuine streaming
 bytestring.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Q.putStrLn $ Q.toStreamingByteString $ stringUtf8 &quot;&#21704;&#26031;&#20811;&#23572;&quot; &lt;&gt; stringUtf8 &quot; &quot; &lt;&gt; integerDec 98
</code></strong>&#21704;&#26031;&#20811;&#23572; 98
</pre><p><a href="https://gist.github.com/michaelt/6ea89ca95a77b0ef91f3">This benchmark</a> shows
 its performance is indistinguishable from <code>toLazyByteString</code></p></div></div><div class="top"><p class="src"><a id="v:toStreamingByteStringWith" class="def">toStreamingByteStringWith</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../../bytestring/html/Data-ByteString-Builder-Extra.html#t:AllocationStrategy" title="Data.ByteString.Builder.Extra">AllocationStrategy</a> -&gt; <a href="../../bytestring/html/Data-ByteString-Builder.html#t:Builder" title="Data.ByteString.Builder">Builder</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m () <a href="src/Streaming.ByteString.html#toStreamingByteStringWith" class="link">Source</a> <a href="#v:toStreamingByteStringWith" class="selflink">#</a></p><div class="doc"><p>Take a builder and convert it to a genuine streaming bytestring, using a
 specific allocation strategy.</p></div></div><div class="top"><p class="src"><a id="v:toBuilder" class="def">toBuilder</a> :: <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> () -&gt; <a href="../../bytestring/html/Data-ByteString-Builder.html#t:Builder" title="Data.ByteString.Builder">Builder</a> <a href="src/Streaming.ByteString.html#toBuilder" class="link">Source</a> <a href="#v:toBuilder" class="selflink">#</a></p><div class="doc"><p>A simple construction of a builder from a <code><a href="Streaming-ByteString.html#t:ByteString" title="Streaming.ByteString">ByteString</a></code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let aaa = &quot;10000 is a number\n&quot; :: Q.ByteString IO ()
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>hPutBuilder  IO.stdout $ toBuilder  aaa
</code></strong>10000 is a number
</pre></div></div><div class="top"><p class="src"><a id="v:concatBuilders" class="def">concatBuilders</a> :: <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> <a href="../../bytestring/html/Data-ByteString-Builder.html#t:Builder" title="Data.ByteString.Builder">Builder</a>) <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> () -&gt; <a href="../../bytestring/html/Data-ByteString-Builder.html#t:Builder" title="Data.ByteString.Builder">Builder</a> <a href="src/Streaming.ByteString.html#concatBuilders" class="link">Source</a> <a href="#v:concatBuilders" class="selflink">#</a></p><div class="doc"><p>Concatenate a stream of builders (not a streaming bytestring!) into a
 single builder.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let aa = yield (integerDec 10000) &gt;&gt; yield (string8 &quot; is a number.&quot;) &gt;&gt; yield (char8 '\n')
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>hPutBuilder IO.stdout $ concatBuilders aa
</code></strong>10000 is a number.
</pre></div></div><a href="#g:10" id="g:10"><h1>Building ByteStreams</h1></a><a href="#g:11" id="g:11"><h2>Infinite ByteStreams</h2></a><div class="top"><p class="src"><a id="v:repeat" class="def">repeat</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r <a href="src/Streaming.ByteString.html#repeat" class="link">Source</a> <a href="#v:repeat" class="selflink">#</a></p><div class="doc"><p><code><code><a href="Streaming-ByteString.html#v:repeat" title="Streaming.ByteString">repeat</a></code> x</code> is an infinite ByteStream, with <code>x</code> the value of every
     element.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>R.stdout $ R.take 50 $ R.repeat 60
</code></strong>&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Q.putStrLn $ Q.take 50 $ Q.repeat 'z'
</code></strong>zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
</pre></div></div><div class="top"><p class="src"><a id="v:iterate" class="def">iterate</a> :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a>) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r <a href="src/Streaming.ByteString.html#iterate" class="link">Source</a> <a href="#v:iterate" class="selflink">#</a></p><div class="doc"><p><code><code><a href="Streaming-ByteString.html#v:iterate" title="Streaming.ByteString">iterate</a></code> f x</code> returns an infinite ByteStream of repeated applications
-- of <code>f</code> to <code>x</code>:</p><pre>iterate f x == [x, f x, f (f x), ...]</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>R.stdout $ R.take 50 $ R.iterate succ 39
</code></strong>()*+,-./0123456789:;&lt;=&gt;?@ABCDEFGHIJKLMNOPQRSTUVWXY
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Q.putStrLn $ Q.take 50 $ Q.iterate succ '\''
</code></strong>()*+,-./0123456789:;&lt;=&gt;?@ABCDEFGHIJKLMNOPQRSTUVWXY
</pre></div></div><div class="top"><p class="src"><a id="v:cycle" class="def">cycle</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m s <a href="src/Streaming.ByteString.html#cycle" class="link">Source</a> <a href="#v:cycle" class="selflink">#</a></p><div class="doc"><p><code><a href="Streaming-ByteString.html#v:cycle" title="Streaming.ByteString">cycle</a></code> ties a finite ByteStream into a circular one, or equivalently,
     the infinite repetition of the original ByteStream. For an empty bytestring
     (like <code>return 17</code>) it of course makes an unproductive loop</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Q.putStrLn $ Q.take 7 $ Q.cycle  &quot;y\n&quot;
</code></strong>y
y
y
y
</pre></div></div><a href="#g:12" id="g:12"><h2>Unfolding ByteStreams</h2></a><div class="top"><p class="src"><a id="v:unfoldM" class="def">unfoldM</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a>, a)) -&gt; a -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m () <a href="src/Streaming.ByteString.html#unfoldM" class="link">Source</a> <a href="#v:unfoldM" class="selflink">#</a></p><div class="doc"><p><em>O(n)</em> The <code><a href="Streaming-ByteString.html#v:unfoldM" title="Streaming.ByteString">unfoldM</a></code> function is analogous to the Stream <code>unfoldr</code>.
 <code><a href="Streaming-ByteString.html#v:unfoldM" title="Streaming.ByteString">unfoldM</a></code> builds a ByteStream from a seed value. The function takes the
 element and returns <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> if it is done producing the ByteStream or
 returns <code><code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a></code> (a,b)</code>, in which case, <code>a</code> is a prepending to the ByteStream
 and <code>b</code> is used as the next element in a recursive call.</p></div></div><div class="top"><p class="src"><a id="v:unfoldr" class="def">unfoldr</a> :: (a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> r (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a>, a)) -&gt; a -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r <a href="src/Streaming.ByteString.html#unfoldr" class="link">Source</a> <a href="#v:unfoldr" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Streaming-ByteString.html#v:unfoldM" title="Streaming.ByteString">unfoldM</a></code>, but yields a final <code>r</code> when the <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a></code> generation is
 complete.</p></div></div><div class="top"><p class="src"><a id="v:reread" class="def">reread</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (s -&gt; m (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)) -&gt; s -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m () <a href="src/Streaming.ByteString.Internal.html#reread" class="link">Source</a> <a href="#v:reread" class="selflink">#</a></p><div class="doc"><p>Stream chunks from something that contains <code>m (Maybe ByteString)</code> until it
 returns <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code>. <code><a href="Streaming-ByteString.html#v:reread" title="Streaming.ByteString">reread</a></code> is of particular use rendering <code>io-streams</code> input
 streams as byte streams in the present sense.</p><pre>import qualified Data.ByteString as B
import qualified System.IO.Streams as S
Q.reread S.read            :: S.InputStream B.ByteString -&gt; Q.ByteStream IO ()
Q.reread (liftIO . S.read) :: MonadIO m =&gt; S.InputStream B.ByteString -&gt; Q.ByteStream m ()</pre><p>The other direction here is</p><pre>S.unfoldM Q.unconsChunk    :: Q.ByteString IO r -&gt; IO (S.InputStream B.ByteString)</pre></div></div><a href="#g:13" id="g:13"><h1>Folds, including support for <code><a href="Control.html#v:Foldl" title="Control">Foldl</a></code></h1></a><div class="top"><p class="src"><a id="v:foldr" class="def">foldr</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; a -&gt; a) -&gt; a -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m () -&gt; m a <a href="src/Streaming.ByteString.html#foldr" class="link">Source</a> <a href="#v:foldr" class="selflink">#</a></p><div class="doc"><p><code><a href="Streaming-ByteString.html#v:foldr" title="Streaming.ByteString">foldr</a></code>, applied to a binary operator, a starting value (typically the
 right-identity of the operator), and a ByteStream, reduces the ByteStream
 using the binary operator, from right to left.</p></div></div><div class="top"><p class="src"><a id="v:fold" class="def">fold</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (x -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; x) -&gt; x -&gt; (x -&gt; b) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> b r) <a href="src/Streaming.ByteString.html#fold" class="link">Source</a> <a href="#v:fold" class="selflink">#</a></p><div class="doc"><p><code><a href="Streaming-ByteString.html#v:fold" title="Streaming.ByteString">fold</a></code> keeps the return value of the left-folded bytestring. Useful for
 simultaneous folds over a segmented bytestream.</p></div></div><div class="top"><p class="src"><a id="v:fold_" class="def">fold_</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (x -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; x) -&gt; x -&gt; (x -&gt; b) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m () -&gt; m b <a href="src/Streaming.ByteString.html#fold_" class="link">Source</a> <a href="#v:fold_" class="selflink">#</a></p><div class="doc"><p><code><a href="Streaming-ByteString.html#v:fold_" title="Streaming.ByteString">fold_</a></code>, applied to a binary operator, a starting value (typically the
 left-identity of the operator), and a ByteStream, reduces the ByteStream
 using the binary operator, from left to right. We use the style of the foldl
 library for left folds</p></div></div><div class="top"><p class="src"><a id="v:head" class="def">head</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a>) r) <a href="src/Streaming.ByteString.html#head" class="link">Source</a> <a href="#v:head" class="selflink">#</a></p><div class="doc"><p><em>O(c)</em> Extract the first element of a <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code>, if there is one.
 Suitable for use with <code><a href="../../streaming/html/Streaming-Prelude.html#v:mapped" title="Streaming.Prelude">mapped</a></code>:</p><pre>S.mapped Q.head :: Stream (Q.ByteStream m) m r -&gt; Stream (Of (Maybe Word8)) m r
</pre></div></div><div class="top"><p class="src"><a id="v:head_" class="def">head_</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> <a href="src/Streaming.ByteString.html#head_" class="link">Source</a> <a href="#v:head_" class="selflink">#</a></p><div class="doc"><p><em>O(1)</em> Extract the first element of a <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code>, which must be non-empty.</p></div></div><div class="top"><p class="src"><a id="v:last" class="def">last</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a>) r) <a href="src/Streaming.ByteString.html#last" class="link">Source</a> <a href="#v:last" class="selflink">#</a></p><div class="doc"><p>Extract the last element of a <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code>, if possible. Suitable for use
 with <code><a href="../../streaming/html/Streaming-Prelude.html#v:mapped" title="Streaming.Prelude">mapped</a></code>:</p><pre>S.mapped Q.last :: Streaming (ByteStream m) m r -&gt; Stream (Of (Maybe Word8)) m r
</pre></div></div><div class="top"><p class="src"><a id="v:last_" class="def">last_</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> <a href="src/Streaming.ByteString.html#last_" class="link">Source</a> <a href="#v:last_" class="selflink">#</a></p><div class="doc"><p><em>O(n/c)</em> Extract the last element of a <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code>, which must be finite
 and non-empty.</p></div></div><div class="top"><p class="src"><a id="v:length" class="def">length</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> r) <a href="src/Streaming.ByteString.html#length" class="link">Source</a> <a href="#v:length" class="selflink">#</a></p><div class="doc"><p><em>O(n/c)</em> <code><a href="Streaming-ByteString.html#v:length" title="Streaming.ByteString">length</a></code> returns the length of a byte stream as an <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a></code> together
 with the return value. This makes various maps possible.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Q.length &quot;one\ntwo\three\nfour\nfive\n&quot;
</code></strong>23 :&gt; ()
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>S.print $ S.take 3 $ mapped Q.length $ Q.lines &quot;one\ntwo\three\nfour\nfive\n&quot;
</code></strong>3
8
4
</pre></div></div><div class="top"><p class="src"><a id="v:length_" class="def">length_</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Streaming.ByteString.html#length_" class="link">Source</a> <a href="#v:length_" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Streaming-ByteString.html#v:length" title="Streaming.ByteString">length</a></code>, report the length in bytes of the <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code> by running
 through its contents. Since the return value is in the effect <code>m</code>, this is
 one way to &quot;get out&quot; of the stream.</p></div></div><div class="top"><p class="src"><a id="v:null" class="def">null</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> r) <a href="src/Streaming.ByteString.html#null" class="link">Source</a> <a href="#v:null" class="selflink">#</a></p><div class="doc"><p>Test whether a <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code> is empty, collecting its return value; to reach
 the return value, this operation must check the whole length of the string.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Q.null &quot;one\ntwo\three\nfour\nfive\n&quot;
</code></strong>False :&gt; ()
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Q.null &quot;&quot;
</code></strong>True :&gt; ()
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>S.print $ mapped R.null $ Q.lines &quot;yours,\nMeredith&quot;
</code></strong>False
False
</pre><p>Suitable for use with <code><a href="../../streaming/html/Streaming-Prelude.html#v:mapped" title="Streaming.Prelude">mapped</a></code>:</p><pre>S.mapped Q.null :: Streaming (ByteStream m) m r -&gt; Stream (Of Bool) m r
</pre></div></div><div class="top"><p class="src"><a id="v:null_" class="def">null_</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Streaming.ByteString.html#null_" class="link">Source</a> <a href="#v:null_" class="selflink">#</a></p><div class="doc"><p><em>O(1)</em> Test whether a <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code> is empty. The value is of course in the
 monad of the effects.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Q.null &quot;one\ntwo\three\nfour\nfive\n&quot;
</code></strong>False
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Q.null $ Q.take 0 Q.stdin
</code></strong>True
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:t Q.null $ Q.take 0 Q.stdin
</code></strong>Q.null $ Q.take 0 Q.stdin :: MonadIO m =&gt; m Bool
</pre></div></div><div class="top"><p class="src"><a id="v:nulls" class="def">nulls</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Functor-Sum.html#t:Sum" title="Data.Functor.Sum">Sum</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m) (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m) r) <a href="src/Streaming.ByteString.html#nulls" class="link">Source</a> <a href="#v:nulls" class="selflink">#</a></p><div class="doc"><p><em>O1</em> Distinguish empty from non-empty lines, while maintaining streaming;
    the empty ByteStrings are on the right</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>nulls  ::  ByteStream m r -&gt; m (Sum (ByteStream m) (ByteStream m) r)
</code></strong></pre><p>There are many (generally slower) ways to remove null bytestrings from a
    <code>Stream (ByteStream m) m r</code> (besides using <code>denull</code>). If we pass next to</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>mapped nulls bs :: Stream (Sum (ByteStream m) (ByteStream m)) m r
</code></strong></pre><p>then can then apply <code>Streaming.separate</code> to get</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>separate (mapped nulls bs) :: Stream (ByteStream m) (Stream (ByteStream m) m) r
</code></strong></pre><p>The inner monad is now made of the empty bytestrings; we act on this
    with <code>hoist</code> , considering that</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:t Q.effects . Q.concat
</code></strong>Q.effects . Q.concat
  :: Monad m =&gt; Stream (Q.ByteStream m) m r -&gt; m r
</pre><p>we have</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>hoist (Q.effects . Q.concat) . separate . mapped Q.nulls
</code></strong>  :: Monad n =&gt;  Stream (Q.ByteStream n) n b -&gt; Stream (Q.ByteStream n) n b
</pre></div></div><div class="top"><p class="src"><a id="v:testNull" class="def">testNull</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r)) <a href="src/Streaming.ByteString.html#testNull" class="link">Source</a> <a href="#v:testNull" class="selflink">#</a></p><div class="doc"><p>Similar to <code><a href="Streaming-ByteString.html#v:null" title="Streaming.ByteString">null</a></code>, but yields the remainder of the <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code> stream when
 an answer has been determined.</p></div></div><div class="top"><p class="src"><a id="v:count" class="def">count</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> r) <a href="src/Streaming.ByteString.html#count" class="link">Source</a> <a href="#v:count" class="selflink">#</a></p><div class="doc"><p>Returns the number of times its argument appears in the <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code>.
 Suitable for use with <code><a href="../../streaming/html/Streaming-Prelude.html#v:mapped" title="Streaming.Prelude">mapped</a></code>:</p><pre>S.mapped (Q.count 37) :: Stream (Q.ByteStream m) m r -&gt; Stream (Of Int) m r
</pre></div></div><div class="top"><p class="src"><a id="v:count_" class="def">count_</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Streaming.ByteString.html#count_" class="link">Source</a> <a href="#v:count_" class="selflink">#</a></p><div class="doc"><p>Returns the number of times its argument appears in the <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code>.</p><pre>count = length . elemIndices</pre></div></div><a href="#g:14" id="g:14"><h1>I/O with <code>ByteStream</code>s</h1></a><a href="#g:15" id="g:15"><h2>Standard input and output</h2></a><div class="top"><p class="src"><a id="v:getContents" class="def">getContents</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m () <a href="src/Streaming.ByteString.html#getContents" class="link">Source</a> <a href="#v:getContents" class="selflink">#</a></p><div class="doc"><p>Equivalent to <code>hGetContents stdin</code>. Will read <em>lazily</em>.</p></div></div><div class="top"><p class="src"><a id="v:stdin" class="def">stdin</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m () <a href="src/Streaming.ByteString.html#stdin" class="link">Source</a> <a href="#v:stdin" class="selflink">#</a></p><div class="doc"><p>Pipes-style nomenclature for <code><a href="Streaming-ByteString.html#v:getContents" title="Streaming.ByteString">getContents</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:stdout" class="def">stdout</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m r <a href="src/Streaming.ByteString.html#stdout" class="link">Source</a> <a href="#v:stdout" class="selflink">#</a></p><div class="doc"><p>Pipes-style nomenclature for <code>putStr</code>.</p></div></div><div class="top"><p class="src"><a id="v:interact" class="def">interact</a> :: (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> () -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> r) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> r <a href="src/Streaming.ByteString.html#interact" class="link">Source</a> <a href="#v:interact" class="selflink">#</a></p><div class="doc"><p>A synonym for <code>hPut</code>, for compatibility</p><p>hPutStr :: Handle -&gt; ByteStream IO r -&gt; IO r
 hPutStr = hPut</p><ul><li>- | Write a ByteStream to stdout
 putStr :: ByteStream IO r -&gt; IO r
 putStr = hPut IO.stdout</li></ul><p>The interact function takes a function of type <code>ByteStream -&gt; ByteStream</code>
 as its argument. The entire input from the standard input device is passed to
 this function as its argument, and the resulting string is output on the
 standard output device.</p><pre>interact morph = stdout (morph stdin)</pre></div></div><a href="#g:16" id="g:16"><h2>Files</h2></a><div class="top"><p class="src"><a id="v:readFile" class="def">readFile</a> :: <a href="../../resourcet/html/Control-Monad-Trans-Resource.html#t:MonadResource" title="Control.Monad.Trans.Resource">MonadResource</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m () <a href="src/Streaming.ByteString.html#readFile" class="link">Source</a> <a href="#v:readFile" class="selflink">#</a></p><div class="doc"><p>Read an entire file into a chunked <code><code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code> IO ()</code>. The handle will be
 held open until EOF is encountered. The block governed by
 <code><a href="../../resourcet/html/Control-Monad-Trans-Resource.html#v:runResourceT" title="Control.Monad.Trans.Resource">runResourceT</a></code> will end with the closing of any
 handles opened.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:! cat hello.txt
</code></strong>Hello world.
Goodbye world.
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>runResourceT $ Q.stdout $ Q.readFile &quot;hello.txt&quot;
</code></strong>Hello world.
Goodbye world.
</pre></div></div><div class="top"><p class="src"><a id="v:writeFile" class="def">writeFile</a> :: <a href="../../resourcet/html/Control-Monad-Trans-Resource.html#t:MonadResource" title="Control.Monad.Trans.Resource">MonadResource</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m r <a href="src/Streaming.ByteString.html#writeFile" class="link">Source</a> <a href="#v:writeFile" class="selflink">#</a></p><div class="doc"><p>Write a <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code> to a file. Use
 <code><a href="Control-Monad-Trans-ResourceT.html#v:runResourceT" title="Control.Monad.Trans.ResourceT">runResourceT</a></code> to ensure that the handle is
 closed.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:set -XOverloadedStrings
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>runResourceT $ Q.writeFile &quot;hello.txt&quot; &quot;Hello world.\nGoodbye world.\n&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:! cat &quot;hello.txt&quot;
</code></strong>Hello world.
Goodbye world.
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>runResourceT $ Q.writeFile &quot;hello2.txt&quot; $ Q.readFile &quot;hello.txt&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:! cat hello2.txt
</code></strong>Hello world.
Goodbye world.
</pre></div></div><div class="top"><p class="src"><a id="v:appendFile" class="def">appendFile</a> :: <a href="../../resourcet/html/Control-Monad-Trans-Resource.html#t:MonadResource" title="Control.Monad.Trans.Resource">MonadResource</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m r <a href="src/Streaming.ByteString.html#appendFile" class="link">Source</a> <a href="#v:appendFile" class="selflink">#</a></p><div class="doc"><p>Append a <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code> to a file. Use
 <code><a href="Control-Monad-Trans-ResourceT.html#v:runResourceT" title="Control.Monad.Trans.ResourceT">runResourceT</a></code> to ensure that the handle is
 closed.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>runResourceT $ Q.writeFile &quot;hello.txt&quot; &quot;Hello world.\nGoodbye world.\n&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>runResourceT $ Q.stdout $ Q.readFile &quot;hello.txt&quot;
</code></strong>Hello world.
Goodbye world.
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>runResourceT $ Q.appendFile &quot;hello.txt&quot; &quot;sincerely yours,\nArthur\n&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>runResourceT $ Q.stdout $  Q.readFile &quot;hello.txt&quot;
</code></strong>Hello world.
Goodbye world.
sincerely yours,
Arthur
</pre></div></div><a href="#g:17" id="g:17"><h2>I/O with Handles</h2></a><div class="top"><p class="src"><a id="v:fromHandle" class="def">fromHandle</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m () <a href="src/Streaming.ByteString.html#fromHandle" class="link">Source</a> <a href="#v:fromHandle" class="selflink">#</a></p><div class="doc"><p>Pipes-style nomenclature for <code><a href="Streaming-ByteString.html#v:hGetContents" title="Streaming.ByteString">hGetContents</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:toHandle" class="def">toHandle</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m r <a href="src/Streaming.ByteString.html#toHandle" class="link">Source</a> <a href="#v:toHandle" class="selflink">#</a></p><div class="doc"><p>Pipes nomenclature for <code><a href="Streaming-ByteString.html#v:hPut" title="Streaming.ByteString">hPut</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:hGet" class="def">hGet</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m () <a href="src/Streaming.ByteString.html#hGet" class="link">Source</a> <a href="#v:hGet" class="selflink">#</a></p><div class="doc"><p>Read <code>n</code> bytes into a <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code>, directly from the specified <code><a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:hGetContents" class="def">hGetContents</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m () <a href="src/Streaming.ByteString.html#hGetContents" class="link">Source</a> <a href="#v:hGetContents" class="selflink">#</a></p><div class="doc"><p>Read entire handle contents <em>lazily</em> into a <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code>. Chunks are read
 on demand, using the default chunk size.</p><p>Note: the <code><a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a></code> should be placed in binary mode with
 <code><a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#v:hSetBinaryMode" title="System.IO">hSetBinaryMode</a></code> for <code><a href="Streaming-ByteString.html#v:hGetContents" title="Streaming.ByteString">hGetContents</a></code> to work correctly.</p></div></div><div class="top"><p class="src"><a id="v:hGetContentsN" class="def">hGetContentsN</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m () <a href="src/Streaming.ByteString.html#hGetContentsN" class="link">Source</a> <a href="#v:hGetContentsN" class="selflink">#</a></p><div class="doc"><p>Read entire handle contents <em>lazily</em> into a <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code>. Chunks are read
 on demand, in at most <code>k</code>-sized chunks. It does not block waiting for a whole
 <code>k</code>-sized chunk, so if less than <code>k</code> bytes are available then they will be
 returned immediately as a smaller chunk.</p><p>Note: the <code><a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a></code> should be placed in binary mode with
 <code><a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#v:hSetBinaryMode" title="System.IO">hSetBinaryMode</a></code> for <code><a href="Streaming-ByteString.html#v:hGetContentsN" title="Streaming.ByteString">hGetContentsN</a></code> to work correctly.</p></div></div><div class="top"><p class="src"><a id="v:hGetN" class="def">hGetN</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m () <a href="src/Streaming.ByteString.html#hGetN" class="link">Source</a> <a href="#v:hGetN" class="selflink">#</a></p><div class="doc"><p>Read <code>n</code> bytes into a <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code>, directly from the specified <code><a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a></code>,
 in chunks of size <code>k</code>.</p></div></div><div class="top"><p class="src"><a id="v:hGetNonBlocking" class="def">hGetNonBlocking</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m () <a href="src/Streaming.ByteString.html#hGetNonBlocking" class="link">Source</a> <a href="#v:hGetNonBlocking" class="selflink">#</a></p><div class="doc"><p>hGetNonBlocking is similar to <code><a href="Streaming-ByteString.html#v:hGet" title="Streaming.ByteString">hGet</a></code>, except that it will never block
 waiting for data to become available, instead it returns only whatever data
 is available. If there is no data available to be read, <code><a href="Streaming-ByteString.html#v:hGetNonBlocking" title="Streaming.ByteString">hGetNonBlocking</a></code>
 returns <code><a href="Streaming-ByteString.html#v:empty" title="Streaming.ByteString">empty</a></code>.</p><p>Note: on Windows and with Haskell implementation other than GHC, this
 function does not work correctly; it behaves identically to <code><a href="Streaming-ByteString.html#v:hGet" title="Streaming.ByteString">hGet</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:hGetNonBlockingN" class="def">hGetNonBlockingN</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m () <a href="src/Streaming.ByteString.html#hGetNonBlockingN" class="link">Source</a> <a href="#v:hGetNonBlockingN" class="selflink">#</a></p><div class="doc"><p>hGetNonBlockingN is similar to <code><a href="Streaming-ByteString.html#v:hGetContentsN" title="Streaming.ByteString">hGetContentsN</a></code>, except that it will never
 block waiting for data to become available, instead it returns only whatever
 data is available. Chunks are read on demand, in <code>k</code>-sized chunks.</p></div></div><div class="top"><p class="src"><a id="v:hPut" class="def">hPut</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m r <a href="src/Streaming.ByteString.html#hPut" class="link">Source</a> <a href="#v:hPut" class="selflink">#</a></p><div class="doc"><p>Outputs a <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code> to the specified <code><a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a></code>.</p></div></div><a href="#g:18" id="g:18"><h1>Simple chunkwise operations</h1></a><div class="top"><p class="src"><a id="v:unconsChunk" class="def">unconsChunk</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> r (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r)) <a href="src/Streaming.ByteString.html#unconsChunk" class="link">Source</a> <a href="#v:unconsChunk" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Streaming-ByteString.html#v:uncons" title="Streaming.ByteString">uncons</a></code>, but yields the entire first <code><a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></code> chunk that the
 stream is holding onto. If there wasn't one, it tries to fetch it.  Yields
 the final <code>r</code> return value when the <code><a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a></code> is empty.</p></div></div><div class="top"><p class="src"><a id="v:nextChunk" class="def">nextChunk</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> r (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>, <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r)) <a href="src/Streaming.ByteString.html#nextChunk" class="link">Source</a> <a href="#v:nextChunk" class="selflink">#</a></p><div class="doc"><div class="warning"><p>Deprecated: Use unconsChunk instead.</p></div><p>The same as <code><a href="Streaming-ByteString.html#v:unconsChunk" title="Streaming.ByteString">unconsChunk</a></code>, will be removed in the next version.</p></div></div><div class="top"><p class="src"><a id="v:chunk" class="def">chunk</a> :: <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m () <a href="src/Streaming.ByteString.Internal.html#chunk" class="link">Source</a> <a href="#v:chunk" class="selflink">#</a></p><div class="doc"><p>Yield-style smart constructor for <code><a href="Streaming-ByteString-Internal.html#v:Chunk" title="Streaming.ByteString.Internal">Chunk</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:foldrChunks" class="def">foldrChunks</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; a -&gt; a) -&gt; a -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m a <a href="src/Streaming.ByteString.Internal.html#foldrChunks" class="link">Source</a> <a href="#v:foldrChunks" class="selflink">#</a></p><div class="doc"><p>Consume the chunks of an effectful <code><a href="Streaming-ByteString.html#t:ByteString" title="Streaming.ByteString">ByteString</a></code> with a natural right fold.</p></div></div><div class="top"><p class="src"><a id="v:foldlChunks" class="def">foldlChunks</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; a) -&gt; a -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> a r) <a href="src/Streaming.ByteString.Internal.html#foldlChunks" class="link">Source</a> <a href="#v:foldlChunks" class="selflink">#</a></p><div class="doc"><p>Consume the chunks of an effectful <code><a href="Streaming-ByteString.html#t:ByteString" title="Streaming.ByteString">ByteString</a></code> with a left fold. Suitable
 for use with <code><a href="../../streaming/html/Streaming-Prelude.html#v:mapped" title="Streaming.Prelude">mapped</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:chunkFold" class="def">chunkFold</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (x -&gt; <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; x) -&gt; x -&gt; (x -&gt; a) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> a r) <a href="src/Streaming.ByteString.Internal.html#chunkFold" class="link">Source</a> <a href="#v:chunkFold" class="selflink">#</a></p><div class="doc"><p><code>chunkFold</code> is preferable to <code>foldlChunks</code> since it is an appropriate
 argument for <code>Control.Foldl.purely</code> which permits many folds and sinks to be
 run simultaneously on one bytestream.</p></div></div><div class="top"><p class="src"><a id="v:chunkFoldM" class="def">chunkFoldM</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (x -&gt; <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m x) -&gt; m x -&gt; (x -&gt; m a) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m (<a href="../../streaming/html/Data-Functor-Of.html#t:Of" title="Data.Functor.Of">Of</a> a r) <a href="src/Streaming.ByteString.Internal.html#chunkFoldM" class="link">Source</a> <a href="#v:chunkFoldM" class="selflink">#</a></p><div class="doc"><p><code><a href="Streaming-ByteString.html#v:chunkFoldM" title="Streaming.ByteString">chunkFoldM</a></code> is preferable to <code><a href="Streaming-ByteString-Internal.html#v:foldlChunksM" title="Streaming.ByteString.Internal">foldlChunksM</a></code> since it is an appropriate
 argument for <code><a href="Control-Foldl.html#v:impurely" title="Control.Foldl">impurely</a></code> which permits many folds and sinks to
 be run simultaneously on one bytestream.</p></div></div><div class="top"><p class="src"><a id="v:chunkMap" class="def">chunkMap</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r <a href="src/Streaming.ByteString.Internal.html#chunkMap" class="link">Source</a> <a href="#v:chunkMap" class="selflink">#</a></p><div class="doc"><p>Instead of mapping over each <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Word.html#t:Word8" title="Data.Word">Word8</a></code> or <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Char.html#t:Char" title="Data.Char">Char</a></code>, map over each strict
 <code><a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></code> chunk in the stream.</p></div></div><div class="top"><p class="src"><a id="v:chunkMapM" class="def">chunkMapM</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m <a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r <a href="src/Streaming.ByteString.Internal.html#chunkMapM" class="link">Source</a> <a href="#v:chunkMapM" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Streaming-ByteString.html#v:chunkMap" title="Streaming.ByteString">chunkMap</a></code>, but map effectfully.</p></div></div><div class="top"><p class="src"><a id="v:chunkMapM_" class="def">chunkMapM_</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; m x) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; m r <a href="src/Streaming.ByteString.Internal.html#chunkMapM_" class="link">Source</a> <a href="#v:chunkMapM_" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Streaming-ByteString.html#v:chunkMapM" title="Streaming.ByteString">chunkMapM</a></code>, but discard the result of each effectful mapping.</p></div></div><a href="#g:19" id="g:19"><h1>Etc.</h1></a><div class="top"><p class="src"><a id="v:dematerialize" class="def">dematerialize</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r -&gt; <span class="keyword">forall</span> x. (r -&gt; x) -&gt; (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; x -&gt; x) -&gt; (m x -&gt; x) -&gt; x <a href="src/Streaming.ByteString.Internal.html#dematerialize" class="link">Source</a> <a href="#v:dematerialize" class="selflink">#</a></p><div class="doc"><p>Resolve a succession of chunks into its Church encoding; this is
 not a safe operation; it is equivalent to exposing the constructors</p></div></div><div class="top"><p class="src"><a id="v:materialize" class="def">materialize</a> :: (<span class="keyword">forall</span> x. (r -&gt; x) -&gt; (<a href="../../bytestring/html/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; x -&gt; x) -&gt; (m x -&gt; x) -&gt; x) -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m r <a href="src/Streaming.ByteString.Internal.html#materialize" class="link">Source</a> <a href="#v:materialize" class="selflink">#</a></p><div class="doc"><p>Construct a succession of chunks from its Church encoding (compare <code>GHC.Exts.build</code>)</p></div></div><div class="top"><p class="src"><a id="v:distribute" class="def">distribute</a> :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="../../mmorph/html/Control-Monad-Morph.html#t:MonadTrans" title="Control.Monad.Morph">MonadTrans</a> t, <a href="../../mmorph/html/Control-Monad-Morph.html#t:MFunctor" title="Control.Monad.Morph">MFunctor</a> t, <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (t m), <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (t (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m))) =&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> (t m) a -&gt; t (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m) a <a href="src/Streaming.ByteString.html#distribute" class="link">Source</a> <a href="#v:distribute" class="selflink">#</a></p><div class="doc"><p>Given a byte stream on a transformed monad, make it possible to 'run'
 transformer.</p></div></div><div class="top"><p class="src"><a id="v:zipWithStream" class="def">zipWithStream</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (<span class="keyword">forall</span> x. a -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m x -&gt; <a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m x) -&gt; [a] -&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m) m r -&gt; <a href="../../streaming/html/Streaming-Internal.html#t:Stream" title="Streaming.Internal">Stream</a> (<a href="Streaming-ByteString.html#t:ByteStream" title="Streaming.ByteString">ByteStream</a> m) m r <a href="src/Streaming.ByteString.html#zipWithStream" class="link">Source</a> <a href="#v:zipWithStream" class="selflink">#</a></p><div class="doc"><p>Zip a list and a stream-of-byte-streams together.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>