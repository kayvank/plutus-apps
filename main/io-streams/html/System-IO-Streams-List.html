<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>System.IO.Streams.List</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">io-streams-1.5.2.2: Simple, composable, and easy-to-use stream I/O</span><ul class="links" id="page-menu"><li><a href="src/System.IO.Streams.List.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">System.IO.Streams.List</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">List conversions</a></li><li><a href="#g:2">Utility</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>List conversions and utilities.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:fromList">fromList</a> :: [c] -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a> c)</li><li class="src short"><a href="#v:toList">toList</a> :: <a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> [a]</li><li class="src short"><a href="#v:outputToList">outputToList</a> :: (<a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> b) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> [a]</li><li class="src short"><a href="#v:writeList">writeList</a> :: [a] -&gt; <a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:chunkList">chunkList</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a> [a])</li><li class="src short"><a href="#v:chunkListWith">chunkListWith</a> :: (a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a> [a])</li><li class="src short"><a href="#v:concatLists">concatLists</a> :: <a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a> [a] -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a> a)</li><li class="src short"><a href="#v:listOutputStream">listOutputStream</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a> c, <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> [c])</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>List conversions</h1></a><div class="top"><p class="src"><a id="v:fromList" class="def">fromList</a> :: [c] -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a> c) <a href="src/System.IO.Streams.List.html#fromList" class="link">Source</a> <a href="#v:fromList" class="selflink">#</a></p><div class="doc"><p>Transforms a list into an <code><a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a></code> that produces no side effects.</p><pre>ghci&gt; is &lt;- Streams.<code><a href="System-IO-Streams-List.html#v:fromList" title="System.IO.Streams.List">fromList</a></code> [1, 2]
ghci&gt; <code>replicateM</code> 3 (Streams.<code><a href="System-IO-Streams-Internal.html#v:read" title="System.IO.Streams.Internal">read</a></code> is)
[Just 1, Just 2, Nothing]
</pre></div></div><div class="top"><p class="src"><a id="v:toList" class="def">toList</a> :: <a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> [a] <a href="src/System.IO.Streams.List.html#toList" class="link">Source</a> <a href="#v:toList" class="selflink">#</a></p><div class="doc"><p>Drains an <code><a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a></code>, converting it to a list. N.B. that this function
 reads the entire <code><a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a></code> strictly into memory and as such is not
 recommended for streaming applications or where the size of the input is not
 bounded or known.</p><pre>ghci&gt; is &lt;- Streams.<code><a href="System-IO-Streams-List.html#v:fromList" title="System.IO.Streams.List">fromList</a></code> [1, 2]
ghci&gt; Streams.<code><a href="System-IO-Streams-List.html#v:toList" title="System.IO.Streams.List">toList</a></code> is
[1, 2]
</pre></div></div><div class="top"><p class="src"><a id="v:outputToList" class="def">outputToList</a> :: (<a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> b) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> [a] <a href="src/System.IO.Streams.List.html#outputToList" class="link">Source</a> <a href="#v:outputToList" class="selflink">#</a></p><div class="doc"><p>Given an IO action that requires an <code><a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a></code>, creates one and
 captures all the output the action sends to it as a list.</p><p>Example:</p><pre>ghci&gt; import <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Applicative.html">Control.Applicative</a>
ghci&gt; (<code><a href="System-IO-Streams-Internal.html#v:connect" title="System.IO.Streams.Internal">connect</a></code> <a href="$">$</a> <code><a href="System-IO-Streams-List.html#v:fromList" title="System.IO.Streams.List">fromList</a></code> [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]) &gt;&gt;= <code><a href="System-IO-Streams-List.html#v:outputToList" title="System.IO.Streams.List">outputToList</a></code>
[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]
</pre></div></div><div class="top"><p class="src"><a id="v:writeList" class="def">writeList</a> :: [a] -&gt; <a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/System.IO.Streams.List.html#writeList" class="link">Source</a> <a href="#v:writeList" class="selflink">#</a></p><div class="doc"><p>Feeds a list to an <code><a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a></code>. Does <em>not</em> write an end-of-stream to
 the stream.</p><pre>ghci&gt; os &lt;- Streams.<code><a href="../../ghc/html/libraries/base-4.14.3.0/GHC-OldList.html#v:unlines" title="GHC.OldList">unlines</a></code> Streams.<code><a href="System-IO-Streams.html#v:stdout" title="System.IO.Streams">stdout</a></code> &gt;&gt;= Streams.<code><a href="System-IO-Streams.html#v:contramap" title="System.IO.Streams">contramap</a></code> (S.pack . show) :: IO (<code><a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a></code> Int)
ghci&gt; Streams.<code><a href="System-IO-Streams-List.html#v:writeList" title="System.IO.Streams.List">writeList</a></code> [1, 2] os
1
2
ghci&gt; Streams.<code><a href="System-IO-Streams-List.html#v:writeList" title="System.IO.Streams.List">writeList</a></code> [3, 4] os
3
4
</pre></div></div><a href="#g:2" id="g:2"><h1>Utility</h1></a><div class="top"><p class="src"><a id="v:chunkList" class="def">chunkList</a> <a href="src/System.IO.Streams.List.html#chunkList" class="link">Source</a> <a href="#v:chunkList" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>chunk size</p></td></tr><tr><td class="src">-&gt; <a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a> a</td><td class="doc"><p>stream to process</p></td></tr><tr><td class="src">-&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a> [a])</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Splits an input stream into chunks of at most size <code>n</code>.</p><p>Example:</p><pre>ghci&gt; <code><a href="System-IO-Streams-List.html#v:fromList" title="System.IO.Streams.List">fromList</a></code> [1..14::Int] &gt;&gt;= <code><a href="System-IO-Streams-List.html#v:chunkList" title="System.IO.Streams.List">chunkList</a></code> 4 &gt;&gt;= <code><a href="System-IO-Streams-List.html#v:toList" title="System.IO.Streams.List">toList</a></code>
[[1,2,3,4],[5,6,7,8],[9,10,11,12],[13,14]]
</pre></div></div><div class="top"><p class="src"><a id="v:chunkListWith" class="def">chunkListWith</a> <a href="src/System.IO.Streams.List.html#chunkListWith" class="link">Source</a> <a href="#v:chunkListWith" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>)</td><td class="doc"><p>break predicate</p></td></tr><tr><td class="src">-&gt; <a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a> a</td><td class="doc"><p>stream to process</p></td></tr><tr><td class="src">-&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a> [a])</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Splits an input stream into chunks whenever <code>p elt count</code> returns true.</p><p>Example:</p><pre>ghci&gt; <code><a href="System-IO-Streams-List.html#v:fromList" title="System.IO.Streams.List">fromList</a></code> [1..14::Int] &gt;&gt;= <code><a href="System-IO-Streams-List.html#v:chunkListWith" title="System.IO.Streams.List">chunkListWith</a></code> (x n -&gt; n&gt;=4) &gt;&gt;= <code><a href="System-IO-Streams-List.html#v:toList" title="System.IO.Streams.List">toList</a></code>
[[1,2,3,4],[5,6,7,8],[9,10,11,12],[13,14]]
ghci&gt; <code><a href="System-IO-Streams-List.html#v:fromList" title="System.IO.Streams.List">fromList</a></code> [<code>a</code>..<code>z</code>] &gt;&gt;= <code><a href="System-IO-Streams-List.html#v:chunkListWith" title="System.IO.Streams.List">chunkListWith</a></code> (x n -&gt; n&gt;=4 &amp;&amp; x <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Foldable.html#v:elem" title="Data.Foldable">elem</a></code> &quot;aeiouy&quot;) &gt;&gt;= <code><a href="System-IO-Streams-List.html#v:toList" title="System.IO.Streams.List">toList</a></code>
[&quot;abcde&quot;,&quot;fghi&quot;,&quot;jklmno&quot;,&quot;pqrstu&quot;,&quot;vwxy&quot;,&quot;z&quot;]
</pre><p><em>Since: 1.3.3.0.</em></p></div></div><div class="top"><p class="src"><a id="v:concatLists" class="def">concatLists</a> :: <a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a> [a] -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a> a) <a href="src/System.IO.Streams.List.html#concatLists" class="link">Source</a> <a href="#v:concatLists" class="selflink">#</a></p><div class="doc"><p>Given an input stream containing lists, produces a new input stream that
 will yield the concatenation of these lists. See <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Foldable.html#v:concat" title="Data.Foldable">concat</a></code>.</p><p>Example:</p><pre>ghci&gt; Streams.<code><a href="System-IO-Streams-List.html#v:fromList" title="System.IO.Streams.List">fromList</a></code> [[1,2,3::Int], [4,5,6]] &gt;&gt;=
      Streams.<code><a href="System-IO-Streams-List.html#v:concatLists" title="System.IO.Streams.List">concatLists</a></code> &gt;&gt;=
      Streams.<code><a href="System-IO-Streams-List.html#v:toList" title="System.IO.Streams.List">toList</a></code>
[1,2,3,4,5,6]
</pre></div></div><div class="top"><p class="src"><a id="v:listOutputStream" class="def">listOutputStream</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a> c, <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> [c]) <a href="src/System.IO.Streams.List.html#listOutputStream" class="link">Source</a> <a href="#v:listOutputStream" class="selflink">#</a></p><div class="doc"><p><code><a href="System-IO-Streams-List.html#v:listOutputStream" title="System.IO.Streams.List">listOutputStream</a></code> returns an <code><a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a></code> which stores values fed into
 it and an action which flushes all stored values to a list.</p><p>The flush action resets the store.</p><p>Note that this function <em>will</em> buffer any input sent to it on the heap.
 Please don't use this unless you're sure that the amount of input provided
 is bounded and will fit in memory without issues.</p><pre>ghci&gt; (os, flush) &lt;- Streams.<code><a href="System-IO-Streams-List.html#v:listOutputStream" title="System.IO.Streams.List">listOutputStream</a></code> :: IO (<code><a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a></code> Int, IO [Int])
ghci&gt; Streams.<code><a href="System-IO-Streams-List.html#v:writeList" title="System.IO.Streams.List">writeList</a></code> [1, 2] os
ghci&gt; flush
[1, 2]
ghci&gt; Streams.<code><a href="System-IO-Streams-List.html#v:writeList" title="System.IO.Streams.List">writeList</a></code> [3, 4] os
ghci&gt; flush
[3, 4]
</pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>