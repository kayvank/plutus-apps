<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>System.IO.Streams.Vector</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">io-streams-1.5.2.2: Simple, composable, and easy-to-use stream I/O</span><ul class="links" id="page-menu"><li><a href="src/System.IO.Streams.Vector.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">System.IO.Streams.Vector</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Vector conversions</a></li><li><a href="#g:2">Utility</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Vector conversions and utilities.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:fromVector">fromVector</a> :: <a href="../../vector/html/Data-Vector-Generic.html#t:Vector" title="Data.Vector.Generic">Vector</a> v a =&gt; v a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a> a)</li><li class="src short"><a href="#v:toVector">toVector</a> :: <a href="../../vector/html/Data-Vector-Generic.html#t:Vector" title="Data.Vector.Generic">Vector</a> v a =&gt; <a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (v a)</li><li class="src short"><a href="#v:toVectorSized">toVectorSized</a> :: <a href="../../vector/html/Data-Vector-Generic.html#t:Vector" title="Data.Vector.Generic">Vector</a> v a =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (v a)</li><li class="src short"><a href="#v:outputToVector">outputToVector</a> :: <a href="../../vector/html/Data-Vector-Generic.html#t:Vector" title="Data.Vector.Generic">Vector</a> v a =&gt; (<a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> b) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (v a)</li><li class="src short"><a href="#v:outputToVectorSized">outputToVectorSized</a> :: <a href="../../vector/html/Data-Vector-Generic.html#t:Vector" title="Data.Vector.Generic">Vector</a> v a =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; (<a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> b) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (v a)</li><li class="src short"><a href="#v:toMutableVector">toMutableVector</a> :: <a href="../../vector/html/Data-Vector-Generic-Mutable-Base.html#t:MVector" title="Data.Vector.Generic.Mutable.Base">MVector</a> v a =&gt; <a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (v (<a href="../../primitive/html/Control-Monad-Primitive.html#t:PrimState" title="Control.Monad.Primitive">PrimState</a> <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a>) a)</li><li class="src short"><a href="#v:toMutableVectorSized">toMutableVectorSized</a> :: <a href="../../vector/html/Data-Vector-Generic-Mutable-Base.html#t:MVector" title="Data.Vector.Generic.Mutable.Base">MVector</a> v a =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (v (<a href="../../primitive/html/Control-Monad-Primitive.html#t:PrimState" title="Control.Monad.Primitive">PrimState</a> <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a>) a)</li><li class="src short"><a href="#v:outputToMutableVector">outputToMutableVector</a> :: <a href="../../vector/html/Data-Vector-Generic-Mutable-Base.html#t:MVector" title="Data.Vector.Generic.Mutable.Base">MVector</a> v a =&gt; (<a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> b) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (v (<a href="../../primitive/html/Control-Monad-Primitive.html#t:PrimState" title="Control.Monad.Primitive">PrimState</a> <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a>) a)</li><li class="src short"><a href="#v:outputToMutableVectorSized">outputToMutableVectorSized</a> :: <a href="../../vector/html/Data-Vector-Generic-Mutable-Base.html#t:MVector" title="Data.Vector.Generic.Mutable.Base">MVector</a> v a =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; (<a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> b) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (v (<a href="../../primitive/html/Control-Monad-Primitive.html#t:PrimState" title="Control.Monad.Primitive">PrimState</a> <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a>) a)</li><li class="src short"><a href="#v:writeVector">writeVector</a> :: <a href="../../vector/html/Data-Vector-Generic.html#t:Vector" title="Data.Vector.Generic">Vector</a> v a =&gt; v a -&gt; <a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:chunkVector">chunkVector</a> :: <a href="../../vector/html/Data-Vector-Generic.html#t:Vector" title="Data.Vector.Generic">Vector</a> v a =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a> (v a))</li><li class="src short"><a href="#v:vectorOutputStream">vectorOutputStream</a> :: <a href="../../vector/html/Data-Vector-Generic.html#t:Vector" title="Data.Vector.Generic">Vector</a> v c =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a> c, <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (v c))</li><li class="src short"><a href="#v:vectorOutputStreamSized">vectorOutputStreamSized</a> :: <a href="../../vector/html/Data-Vector-Generic.html#t:Vector" title="Data.Vector.Generic">Vector</a> v c =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a> c, <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (v c))</li><li class="src short"><a href="#v:mutableVectorOutputStream">mutableVectorOutputStream</a> :: <a href="../../vector/html/Data-Vector-Generic-Mutable-Base.html#t:MVector" title="Data.Vector.Generic.Mutable.Base">MVector</a> v c =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a> c, <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (v (<a href="../../primitive/html/Control-Monad-Primitive.html#t:PrimState" title="Control.Monad.Primitive">PrimState</a> <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a>) c))</li><li class="src short"><a href="#v:mutableVectorOutputStreamSized">mutableVectorOutputStreamSized</a> :: <a href="../../vector/html/Data-Vector-Generic-Mutable-Base.html#t:MVector" title="Data.Vector.Generic.Mutable.Base">MVector</a> v c =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a> c, <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (v (<a href="../../primitive/html/Control-Monad-Primitive.html#t:PrimState" title="Control.Monad.Primitive">PrimState</a> <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a>) c))</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Vector conversions</h1></a><div class="top"><p class="src"><a id="v:fromVector" class="def">fromVector</a> :: <a href="../../vector/html/Data-Vector-Generic.html#t:Vector" title="Data.Vector.Generic">Vector</a> v a =&gt; v a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a> a) <a href="src/System.IO.Streams.Vector.html#fromVector" class="link">Source</a> <a href="#v:fromVector" class="selflink">#</a></p><div class="doc"><p>Transforms a vector into an <code><a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a></code> that yields each of the values
 in the vector in turn.</p><pre>ghci&gt; import <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html">Control.Monad</a>
ghci&gt; import qualified <a href="System-IO-Streams.html">System.IO.Streams</a> as Streams
ghci&gt; import qualified <a href="../../vector/html/Data-Vector.html">Data.Vector</a> as V
ghci&gt; let v = V.<code><a href="../../vector/html/Data-Vector.html#v:fromList" title="Data.Vector">fromList</a></code> [1, 2]
ghci&gt; is &lt;- Streams.<code><a href="System-IO-Streams-Vector.html#v:fromVector" title="System.IO.Streams.Vector">fromVector</a></code> v
ghci&gt; <code><a href="../../ghc/html/libraries/base-4.14.3.0/Control-Monad.html#v:replicateM" title="Control.Monad">replicateM</a></code> 3 (Streams.<code><a href="../../ghc/html/libraries/base-4.14.3.0/Text-Read.html#v:read" title="Text.Read">read</a></code> is)
[<code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a></code> 1,<code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a></code> 2,<code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code>]
</pre></div></div><div class="top"><p class="src"><a id="v:toVector" class="def">toVector</a> :: <a href="../../vector/html/Data-Vector-Generic.html#t:Vector" title="Data.Vector.Generic">Vector</a> v a =&gt; <a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (v a) <a href="src/System.IO.Streams.Vector.html#toVector" class="link">Source</a> <a href="#v:toVector" class="selflink">#</a></p><div class="doc"><p>Drains an <code><a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a></code>, converting it to a vector. Note that this
 function reads the entire <code><a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a></code> strictly into memory and as such is
 not recommended for streaming applications or where the size of the input is
 not bounded or known.</p><pre>ghci&gt; is &lt;- Streams.<code><a href="System-IO-Streams.html#v:fromList" title="System.IO.Streams">fromList</a></code> [(1::Int)..4]
ghci&gt; Streams.<code><a href="System-IO-Streams-Vector.html#v:toVector" title="System.IO.Streams.Vector">toVector</a></code> is :: <code><a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a></code> (V.<code><a href="../../vector/html/Data-Vector-Generic.html#t:Vector" title="Data.Vector.Generic">Vector</a></code> Int)
fromList [1,2,3,4]
</pre></div></div><div class="top"><p class="src"><a id="v:toVectorSized" class="def">toVectorSized</a> :: <a href="../../vector/html/Data-Vector-Generic.html#t:Vector" title="Data.Vector.Generic">Vector</a> v a =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (v a) <a href="src/System.IO.Streams.Vector.html#toVectorSized" class="link">Source</a> <a href="#v:toVectorSized" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="System-IO-Streams-Vector.html#v:toVector" title="System.IO.Streams.Vector">toVector</a></code>, but allows control over how large the vector buffer is to
 start with.</p></div></div><div class="top"><p class="src"><a id="v:outputToVector" class="def">outputToVector</a> :: <a href="../../vector/html/Data-Vector-Generic.html#t:Vector" title="Data.Vector.Generic">Vector</a> v a =&gt; (<a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> b) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (v a) <a href="src/System.IO.Streams.Vector.html#outputToVector" class="link">Source</a> <a href="#v:outputToVector" class="selflink">#</a></p><div class="doc"><p>Given an IO action that requires an <code><a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a></code>, creates one and
 captures all the output the action sends to it as a vector.</p><p>Example:</p><pre>ghci&gt; ((<code>connect</code> <a href="$">$</a> <code><a href="System-IO-Streams.html#v:fromList" title="System.IO.Streams">fromList</a></code> [1, 2, 3]) &gt;&gt;= <code><a href="System-IO-Streams-Vector.html#v:outputToVector" title="System.IO.Streams.Vector">outputToVector</a></code>)
          :: IO (<code><a href="../../vector/html/Data-Vector.html#v:Vector" title="Data.Vector">Vector</a></code> Int)
fromList [1,2,3]
</pre></div></div><div class="top"><p class="src"><a id="v:outputToVectorSized" class="def">outputToVectorSized</a> :: <a href="../../vector/html/Data-Vector-Generic.html#t:Vector" title="Data.Vector.Generic">Vector</a> v a =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; (<a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> b) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (v a) <a href="src/System.IO.Streams.Vector.html#outputToVectorSized" class="link">Source</a> <a href="#v:outputToVectorSized" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="System-IO-Streams-Vector.html#v:outputToVector" title="System.IO.Streams.Vector">outputToVector</a></code>, but allows control over how large the vector buffer
 is to start with.</p></div></div><div class="top"><p class="src"><a id="v:toMutableVector" class="def">toMutableVector</a> :: <a href="../../vector/html/Data-Vector-Generic-Mutable-Base.html#t:MVector" title="Data.Vector.Generic.Mutable.Base">MVector</a> v a =&gt; <a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (v (<a href="../../primitive/html/Control-Monad-Primitive.html#t:PrimState" title="Control.Monad.Primitive">PrimState</a> <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a>) a) <a href="src/System.IO.Streams.Vector.html#toMutableVector" class="link">Source</a> <a href="#v:toMutableVector" class="selflink">#</a></p><div class="doc"><p>Drains an <code><a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a></code>, converting it to a mutable vector. Note that this
 function reads the entire <code><a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a></code> strictly into memory and as such is
 not recommended for streaming applications or where the size of the input is
 not bounded or known.</p></div></div><div class="top"><p class="src"><a id="v:toMutableVectorSized" class="def">toMutableVectorSized</a> <a href="src/System.IO.Streams.Vector.html#toMutableVectorSized" class="link">Source</a> <a href="#v:toMutableVectorSized" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../../vector/html/Data-Vector-Generic-Mutable-Base.html#t:MVector" title="Data.Vector.Generic.Mutable.Base">MVector</a> v a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a></td><td class="doc"><p>initial size of the vector buffer</p></td></tr><tr><td class="src">-&gt; <a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (v (<a href="../../primitive/html/Control-Monad-Primitive.html#t:PrimState" title="Control.Monad.Primitive">PrimState</a> <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a>) a)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Like <code><a href="System-IO-Streams-Vector.html#v:toMutableVector" title="System.IO.Streams.Vector">toMutableVector</a></code>, but allows control over how large the vector
 buffer is to start with.</p></div></div><div class="top"><p class="src"><a id="v:outputToMutableVector" class="def">outputToMutableVector</a> :: <a href="../../vector/html/Data-Vector-Generic-Mutable-Base.html#t:MVector" title="Data.Vector.Generic.Mutable.Base">MVector</a> v a =&gt; (<a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> b) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (v (<a href="../../primitive/html/Control-Monad-Primitive.html#t:PrimState" title="Control.Monad.Primitive">PrimState</a> <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a>) a) <a href="src/System.IO.Streams.Vector.html#outputToMutableVector" class="link">Source</a> <a href="#v:outputToMutableVector" class="selflink">#</a></p><div class="doc"><p>Given an IO action that requires an <code><a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a></code>, creates one and
 captures all the output the action sends to it as a mutable vector.</p><p>Example:</p><pre>ghci&gt; import <a href="../../ghc/html/libraries/base-4.14.3.0/Control-Applicative.html">Control.Applicative</a>
ghci&gt; (<code>connect</code> &lt;$&gt; <code><a href="System-IO-Streams.html#v:fromList" title="System.IO.Streams">fromList</a></code> [1, 2, 3::<code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a></code>])
       &gt;&gt;= <code><a href="System-IO-Streams-Vector.html#v:outputToMutableVector" title="System.IO.Streams.Vector">outputToMutableVector</a></code>
       &gt;&gt;= V.<code><a href="../../vector/html/Data-Vector.html#v:freeze" title="Data.Vector">freeze</a></code>
fromList [1,2,3]
</pre></div></div><div class="top"><p class="src"><a id="v:outputToMutableVectorSized" class="def">outputToMutableVectorSized</a> :: <a href="../../vector/html/Data-Vector-Generic-Mutable-Base.html#t:MVector" title="Data.Vector.Generic.Mutable.Base">MVector</a> v a =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; (<a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> b) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (v (<a href="../../primitive/html/Control-Monad-Primitive.html#t:PrimState" title="Control.Monad.Primitive">PrimState</a> <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a>) a) <a href="src/System.IO.Streams.Vector.html#outputToMutableVectorSized" class="link">Source</a> <a href="#v:outputToMutableVectorSized" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="System-IO-Streams-Vector.html#v:outputToMutableVector" title="System.IO.Streams.Vector">outputToMutableVector</a></code>, but allows control over how large the vector
 buffer is to start with.</p></div></div><div class="top"><p class="src"><a id="v:writeVector" class="def">writeVector</a> :: <a href="../../vector/html/Data-Vector-Generic.html#t:Vector" title="Data.Vector.Generic">Vector</a> v a =&gt; v a -&gt; <a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/System.IO.Streams.Vector.html#writeVector" class="link">Source</a> <a href="#v:writeVector" class="selflink">#</a></p><div class="doc"><p>Feeds a vector to an <code><a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a></code>. Does <em>not</em> write an end-of-stream to
 the stream.</p><pre>ghci&gt; let v = V.<code>fromList</code> [1..4] :: V.<code><a href="../../vector/html/Data-Vector-Generic.html#t:Vector" title="Data.Vector.Generic">Vector</a></code> Int
ghci&gt; os &lt;- Streams.<code><a href="../../ghc/html/libraries/base-4.14.3.0/GHC-OldList.html#v:unlines" title="GHC.OldList">unlines</a></code> Streams.<code>stdout</code> &gt;&gt;= Streams.<code><a href="System-IO-Streams.html#v:contramap" title="System.IO.Streams">contramap</a></code> (S.pack . show) :: IO (<code><a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a></code> Int)
ghci&gt; Streams.<code><a href="System-IO-Streams-Vector.html#v:writeVector" title="System.IO.Streams.Vector">writeVector</a></code> v os
1
2
3
4
</pre></div></div><a href="#g:2" id="g:2"><h1>Utility</h1></a><div class="top"><p class="src"><a id="v:chunkVector" class="def">chunkVector</a> :: <a href="../../vector/html/Data-Vector-Generic.html#t:Vector" title="Data.Vector.Generic">Vector</a> v a =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="System-IO-Streams-Internal.html#t:InputStream" title="System.IO.Streams.Internal">InputStream</a> (v a)) <a href="src/System.IO.Streams.Vector.html#chunkVector" class="link">Source</a> <a href="#v:chunkVector" class="selflink">#</a></p><div class="doc"><p>Splits an input stream into chunks of at most size <code>n</code>.</p><p>Example:</p><pre>ghci&gt; (<code><a href="System-IO-Streams.html#v:fromList" title="System.IO.Streams">fromList</a></code> [1..14::Int] &gt;&gt;= <code><a href="System-IO-Streams-Vector.html#v:chunkVector" title="System.IO.Streams.Vector">chunkVector</a></code> 4 &gt;&gt;= <code><a href="System-IO-Streams.html#v:toList" title="System.IO.Streams">toList</a></code>)
         :: IO [<code><a href="../../vector/html/Data-Vector.html#v:Vector" title="Data.Vector">Vector</a></code> Int]
[fromList [1,2,3,4],fromList [5,6,7,8],fromList [9,10,11,12],fromList [13,14]]
</pre></div></div><div class="top"><p class="src"><a id="v:vectorOutputStream" class="def">vectorOutputStream</a> :: <a href="../../vector/html/Data-Vector-Generic.html#t:Vector" title="Data.Vector.Generic">Vector</a> v c =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a> c, <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (v c)) <a href="src/System.IO.Streams.Vector.html#vectorOutputStream" class="link">Source</a> <a href="#v:vectorOutputStream" class="selflink">#</a></p><div class="doc"><p><code><a href="System-IO-Streams-Vector.html#v:vectorOutputStream" title="System.IO.Streams.Vector">vectorOutputStream</a></code> returns an <code><a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a></code> which stores values fed
 into it and an action which flushes all stored values to a vector.</p><p>The flush action resets the store.</p><p>Note that this function <em>will</em> buffer any input sent to it on the heap.
 Please don't use this unless you're sure that the amount of input provided
 is bounded and will fit in memory without issues.</p><pre>ghci&gt; (os, flush) &lt;- Streams.<code><a href="System-IO-Streams-Vector.html#v:vectorOutputStream" title="System.IO.Streams.Vector">vectorOutputStream</a></code> :: IO (<code><a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a></code> Int, IO (V.<code><a href="../../vector/html/Data-Vector-Generic.html#t:Vector" title="Data.Vector.Generic">Vector</a></code> Int))
ghci&gt; Streams.<code><a href="System-IO-Streams.html#v:write" title="System.IO.Streams">write</a></code> (Just 1) os
ghci&gt; Streams.<code><a href="System-IO-Streams.html#v:write" title="System.IO.Streams">write</a></code> (Just 2) os
ghci&gt; flush
fromList [1,2]
ghci&gt; Streams.<code><a href="System-IO-Streams.html#v:write" title="System.IO.Streams">write</a></code> (Just 3) os
ghci&gt; Streams.<code><a href="System-IO-Streams.html#v:write" title="System.IO.Streams">write</a></code> Nothing  os
ghci&gt; Streams.<code><a href="System-IO-Streams.html#v:write" title="System.IO.Streams">write</a></code> (Just 4) os
ghci&gt; flush
fromList [3]
</pre></div></div><div class="top"><p class="src"><a id="v:vectorOutputStreamSized" class="def">vectorOutputStreamSized</a> :: <a href="../../vector/html/Data-Vector-Generic.html#t:Vector" title="Data.Vector.Generic">Vector</a> v c =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a> c, <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (v c)) <a href="src/System.IO.Streams.Vector.html#vectorOutputStreamSized" class="link">Source</a> <a href="#v:vectorOutputStreamSized" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="System-IO-Streams-Vector.html#v:vectorOutputStream" title="System.IO.Streams.Vector">vectorOutputStream</a></code>, but allows control over how large the vector
 buffer is to start with.</p></div></div><div class="top"><p class="src"><a id="v:mutableVectorOutputStream" class="def">mutableVectorOutputStream</a> :: <a href="../../vector/html/Data-Vector-Generic-Mutable-Base.html#t:MVector" title="Data.Vector.Generic.Mutable.Base">MVector</a> v c =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a> c, <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (v (<a href="../../primitive/html/Control-Monad-Primitive.html#t:PrimState" title="Control.Monad.Primitive">PrimState</a> <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a>) c)) <a href="src/System.IO.Streams.Vector.html#mutableVectorOutputStream" class="link">Source</a> <a href="#v:mutableVectorOutputStream" class="selflink">#</a></p><div class="doc"><p><code><a href="System-IO-Streams-Vector.html#v:mutableVectorOutputStream" title="System.IO.Streams.Vector">mutableVectorOutputStream</a></code> returns an <code><a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a></code> which stores values
 fed into it and an action which flushes all stored values to a vector.</p><p>The flush action resets the store.</p><p>Note that this function <em>will</em> buffer any input sent to it on the heap.
 Please don't use this unless you're sure that the amount of input provided
 is bounded and will fit in memory without issues.</p></div></div><div class="top"><p class="src"><a id="v:mutableVectorOutputStreamSized" class="def">mutableVectorOutputStreamSized</a> :: <a href="../../vector/html/Data-Vector-Generic-Mutable-Base.html#t:MVector" title="Data.Vector.Generic.Mutable.Base">MVector</a> v c =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="System-IO-Streams-Internal.html#t:OutputStream" title="System.IO.Streams.Internal">OutputStream</a> c, <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> (v (<a href="../../primitive/html/Control-Monad-Primitive.html#t:PrimState" title="Control.Monad.Primitive">PrimState</a> <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a>) c)) <a href="src/System.IO.Streams.Vector.html#mutableVectorOutputStreamSized" class="link">Source</a> <a href="#v:mutableVectorOutputStreamSized" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="System-IO-Streams-Vector.html#v:mutableVectorOutputStream" title="System.IO.Streams.Vector">mutableVectorOutputStream</a></code>, but allows control over how large the
 vector buffer is to start with.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>