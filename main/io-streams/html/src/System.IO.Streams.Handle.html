<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP               #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span class="hs-cpp">

#if __GLASGOW_HASKELL__ &gt;= 702
</span><span class="hs-pragma">{-# LANGUAGE Trustworthy       #-}</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- | Input and output streams for file 'Handle's.</span><span>
</span><span id="line-9"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">System.IO.Streams.Handle</span><span>
</span><span id="line-10"></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * Handle conversions</span></span><span>
</span><span id="line-11"></span><span>   </span><span class="annot"><a href="System.IO.Streams.Handle.html#handleToInputStream"><span class="hs-identifier">handleToInputStream</span></a></span><span>
</span><span id="line-12"></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.IO.Streams.Handle.html#handleToOutputStream"><span class="hs-identifier">handleToOutputStream</span></a></span><span>
</span><span id="line-13"></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.IO.Streams.Handle.html#handleToStreams"><span class="hs-identifier">handleToStreams</span></a></span><span>
</span><span id="line-14"></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.IO.Streams.Handle.html#inputStreamToHandle"><span class="hs-identifier">inputStreamToHandle</span></a></span><span>
</span><span id="line-15"></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.IO.Streams.Handle.html#outputStreamToHandle"><span class="hs-identifier">outputStreamToHandle</span></a></span><span>
</span><span id="line-16"></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.IO.Streams.Handle.html#streamPairToHandle"><span class="hs-identifier">streamPairToHandle</span></a></span><span>
</span><span id="line-17"></span><span>
</span><span id="line-18"></span><span>   </span><span class="annot"><span class="hs-comment">-- * Standard system handles</span></span><span>
</span><span id="line-19"></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.IO.Streams.Handle.html#stdin"><span class="hs-identifier">stdin</span></a></span><span>
</span><span id="line-20"></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.IO.Streams.Handle.html#stdout"><span class="hs-identifier">stdout</span></a></span><span>
</span><span id="line-21"></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.IO.Streams.Handle.html#stderr"><span class="hs-identifier">stderr</span></a></span><span>
</span><span id="line-22"></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">Data.ByteString</span></a></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">ByteString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">Data.ByteString</span></a></span><span>            </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">S</span></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">GHC.IO.Handle</span></a></span><span>              </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">H</span></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">System.IO</span></a></span><span>                  </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Handle</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">hFlush</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">System.IO</span></a></span><span>                  </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">IO</span></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">System.IO.Unsafe</span></a></span><span>           </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">unsafePerformIO</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="System.IO.Streams.Internal.html"><span class="hs-identifier">System.IO.Streams.Internal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.IO.Streams.Internal.html#InputStream"><span class="hs-identifier">InputStream</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.IO.Streams.Internal.html#OutputStream"><span class="hs-identifier">OutputStream</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.IO.Streams.Internal.html#SP"><span class="hs-identifier">SP</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.IO.Streams.Internal.html#lockingInputStream"><span class="hs-identifier">lockingInputStream</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.IO.Streams.Internal.html#lockingOutputStream"><span class="hs-identifier">lockingOutputStream</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.IO.Streams.Internal.html#makeInputStream"><span class="hs-identifier">makeInputStream</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.IO.Streams.Internal.html#makeOutputStream"><span class="hs-identifier">makeOutputStream</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span>
</span><span id="line-34"></span><span>
</span><span id="line-35"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-36"></span><span class="annot"><a href="System.IO.Streams.Handle.html#bUFSIZ"><span class="hs-identifier hs-type">bUFSIZ</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-37"></span><span id="bUFSIZ"><span class="annot"><span class="annottext">bUFSIZ :: Int
</span><a href="System.IO.Streams.Handle.html#bUFSIZ"><span class="hs-identifier hs-var hs-var">bUFSIZ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">32752</span></span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-41"></span><span class="hs-comment">-- | Converts a read-only handle into an 'InputStream' of strict 'ByteString's.</span><span>
</span><span id="line-42"></span><span class="hs-comment">--</span><span>
</span><span id="line-43"></span><span class="hs-comment">-- Note that the wrapped handle is /not/ closed when it yields end-of-stream;</span><span>
</span><span id="line-44"></span><span class="hs-comment">-- you can use 'System.IO.Streams.Combinators.atEndOfInput' to close the handle</span><span>
</span><span id="line-45"></span><span class="hs-comment">-- if you would like this behaviour.</span><span>
</span><span id="line-46"></span><span class="annot"><a href="System.IO.Streams.Handle.html#handleToInputStream"><span class="hs-identifier hs-type">handleToInputStream</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Handle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.IO.Streams.Internal.html#InputStream"><span class="hs-identifier hs-type">InputStream</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-47"></span><span id="handleToInputStream"><span class="annot"><span class="annottext">handleToInputStream :: Handle -&gt; IO (InputStream ByteString)
</span><a href="System.IO.Streams.Handle.html#handleToInputStream"><span class="hs-identifier hs-var hs-var">handleToInputStream</span></a></span></span><span> </span><span id="local-6989586621679081333"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679081333"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO (Maybe ByteString) -&gt; IO (InputStream ByteString)
forall a. IO (Maybe a) -&gt; IO (InputStream a)
</span><a href="System.IO.Streams.Internal.html#makeInputStream"><span class="hs-identifier hs-var">makeInputStream</span></a></span><span> </span><span class="annot"><span class="annottext">IO (Maybe ByteString)
</span><a href="#local-6989586621679081332"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-49"></span><span>    </span><span id="local-6989586621679081332"><span class="annot"><span class="annottext">f :: IO (Maybe ByteString)
</span><a href="#local-6989586621679081332"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-50"></span><span>        </span><span id="local-6989586621679081331"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679081331"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Handle -&gt; Int -&gt; IO ByteString
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">S.hGetSome</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679081333"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="System.IO.Streams.Handle.html#bUFSIZ"><span class="hs-identifier hs-var">bUFSIZ</span></a></span><span>
</span><span id="line-51"></span><span>        </span><span class="annot"><span class="annottext">Maybe ByteString -&gt; IO (Maybe ByteString)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe ByteString -&gt; IO (Maybe ByteString))
-&gt; Maybe ByteString -&gt; IO (Maybe ByteString)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$!</span></a></span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Bool
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">S.null</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679081331"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Maybe ByteString
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679081331"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-55"></span><span class="hs-comment">-- | Converts a writable handle into an 'OutputStream' of strict 'ByteString's.</span><span>
</span><span id="line-56"></span><span class="hs-comment">--</span><span>
</span><span id="line-57"></span><span class="hs-comment">-- Note that the wrapped handle is /not/ closed when it receives end-of-stream;</span><span>
</span><span id="line-58"></span><span class="hs-comment">-- you can use 'System.IO.Streams.Combinators.atEndOfOutput' to close the</span><span>
</span><span id="line-59"></span><span class="hs-comment">-- handle if you would like this behaviour.</span><span>
</span><span id="line-60"></span><span class="hs-comment">--</span><span>
</span><span id="line-61"></span><span class="hs-comment">-- /Note/: to force the 'Handle' to be flushed, you can write a null string to</span><span>
</span><span id="line-62"></span><span class="hs-comment">-- the returned 'OutputStream':</span><span>
</span><span id="line-63"></span><span class="hs-comment">--</span><span>
</span><span id="line-64"></span><span class="hs-comment">-- &gt; Streams.write (Just &quot;&quot;) os</span><span>
</span><span id="line-65"></span><span class="annot"><a href="System.IO.Streams.Handle.html#handleToOutputStream"><span class="hs-identifier hs-type">handleToOutputStream</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Handle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.IO.Streams.Internal.html#OutputStream"><span class="hs-identifier hs-type">OutputStream</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span id="handleToOutputStream"><span class="annot"><span class="annottext">handleToOutputStream :: Handle -&gt; IO (OutputStream ByteString)
</span><a href="System.IO.Streams.Handle.html#handleToOutputStream"><span class="hs-identifier hs-var hs-var">handleToOutputStream</span></a></span></span><span> </span><span id="local-6989586621679081327"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679081327"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Maybe ByteString -&gt; IO ()) -&gt; IO (OutputStream ByteString)
forall a. (Maybe a -&gt; IO ()) -&gt; IO (OutputStream a)
</span><a href="System.IO.Streams.Internal.html#makeOutputStream"><span class="hs-identifier hs-var">makeOutputStream</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ByteString -&gt; IO ()
</span><a href="#local-6989586621679081326"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-67"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-68"></span><span>    </span><span id="local-6989586621679081326"><span class="annot"><span class="annottext">f :: Maybe ByteString -&gt; IO ()
</span><a href="#local-6989586621679081326"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Handle -&gt; IO ()
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">hFlush</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679081327"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-69"></span><span>    </span><span class="annot"><a href="#local-6989586621679081326"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679081325"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679081325"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Bool
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">S.null</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679081325"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-70"></span><span>                   </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Handle -&gt; IO ()
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">hFlush</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679081327"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-71"></span><span>                   </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Handle -&gt; ByteString -&gt; IO ()
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">S.hPut</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679081327"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679081325"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-72"></span><span>
</span><span id="line-73"></span><span>
</span><span id="line-74"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-75"></span><span class="hs-comment">-- | Converts a readable and writable handle into an 'InputStream'/'OutputStream'</span><span>
</span><span id="line-76"></span><span class="hs-comment">-- of strict 'ByteString's.</span><span>
</span><span id="line-77"></span><span class="hs-comment">--</span><span>
</span><span id="line-78"></span><span class="hs-comment">-- Note that the wrapped handle is /not/ closed when it receives</span><span>
</span><span id="line-79"></span><span class="hs-comment">-- end-of-stream; you can use</span><span>
</span><span id="line-80"></span><span class="hs-comment">-- 'System.IO.Streams.Combinators.atEndOfOutput' to close the handle</span><span>
</span><span id="line-81"></span><span class="hs-comment">-- if you would like this behaviour.</span><span>
</span><span id="line-82"></span><span class="hs-comment">--</span><span>
</span><span id="line-83"></span><span class="hs-comment">-- /Note/: to force the 'Handle' to be flushed, you can write a null string to</span><span>
</span><span id="line-84"></span><span class="hs-comment">-- the returned 'OutputStream':</span><span>
</span><span id="line-85"></span><span class="hs-comment">--</span><span>
</span><span id="line-86"></span><span class="hs-comment">-- &gt; Streams.write (Just &quot;&quot;) os</span><span>
</span><span id="line-87"></span><span class="hs-comment">--</span><span>
</span><span id="line-88"></span><span class="hs-comment">-- /Since: 1.3.4.0./</span><span>
</span><span id="line-89"></span><span class="annot"><a href="System.IO.Streams.Handle.html#handleToStreams"><span class="hs-identifier hs-type">handleToStreams</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Handle</span></a></span><span>
</span><span id="line-90"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.IO.Streams.Internal.html#InputStream"><span class="hs-identifier hs-type">InputStream</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.IO.Streams.Internal.html#OutputStream"><span class="hs-identifier hs-type">OutputStream</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span id="handleToStreams"><span class="annot"><span class="annottext">handleToStreams :: Handle -&gt; IO (InputStream ByteString, OutputStream ByteString)
</span><a href="System.IO.Streams.Handle.html#handleToStreams"><span class="hs-identifier hs-var hs-var">handleToStreams</span></a></span></span><span> </span><span id="local-6989586621679081323"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679081323"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-92"></span><span>    </span><span id="local-6989586621679081322"><span class="annot"><span class="annottext">InputStream ByteString
</span><a href="#local-6989586621679081322"><span class="hs-identifier hs-var">is</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Handle -&gt; IO (InputStream ByteString)
</span><a href="System.IO.Streams.Handle.html#handleToInputStream"><span class="hs-identifier hs-var">handleToInputStream</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679081323"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-93"></span><span>    </span><span id="local-6989586621679081321"><span class="annot"><span class="annottext">OutputStream ByteString
</span><a href="#local-6989586621679081321"><span class="hs-identifier hs-var">os</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Handle -&gt; IO (OutputStream ByteString)
</span><a href="System.IO.Streams.Handle.html#handleToOutputStream"><span class="hs-identifier hs-var">handleToOutputStream</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679081323"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-94"></span><span>    </span><span class="annot"><span class="annottext">(InputStream ByteString, OutputStream ByteString)
-&gt; IO (InputStream ByteString, OutputStream ByteString)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">((InputStream ByteString, OutputStream ByteString)
 -&gt; IO (InputStream ByteString, OutputStream ByteString))
-&gt; (InputStream ByteString, OutputStream ByteString)
-&gt; IO (InputStream ByteString, OutputStream ByteString)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$!</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InputStream ByteString
</span><a href="#local-6989586621679081322"><span class="hs-identifier hs-var">is</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">OutputStream ByteString
</span><a href="#local-6989586621679081321"><span class="hs-identifier hs-var">os</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-98"></span><span class="hs-comment">-- | Converts an 'InputStream' over bytestrings to a read-only 'Handle'. Note</span><span>
</span><span id="line-99"></span><span class="hs-comment">-- that the generated handle is opened unbuffered in binary mode (i.e. no</span><span>
</span><span id="line-100"></span><span class="hs-comment">-- newline translation is performed).</span><span>
</span><span id="line-101"></span><span class="hs-comment">--</span><span>
</span><span id="line-102"></span><span class="hs-comment">-- Note: the 'InputStream' passed into this function is wrapped in</span><span>
</span><span id="line-103"></span><span class="hs-comment">-- 'lockingInputStream' to make it thread-safe.</span><span>
</span><span id="line-104"></span><span class="hs-comment">--</span><span>
</span><span id="line-105"></span><span class="hs-comment">-- /Since: 1.0.2.0./</span><span>
</span><span id="line-106"></span><span class="annot"><a href="System.IO.Streams.Handle.html#inputStreamToHandle"><span class="hs-identifier hs-type">inputStreamToHandle</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.IO.Streams.Internal.html#InputStream"><span class="hs-identifier hs-type">InputStream</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Handle</span></a></span><span>
</span><span id="line-107"></span><span id="inputStreamToHandle"><span class="annot"><span class="annottext">inputStreamToHandle :: InputStream ByteString -&gt; IO Handle
</span><a href="System.IO.Streams.Handle.html#inputStreamToHandle"><span class="hs-identifier hs-var hs-var">inputStreamToHandle</span></a></span></span><span> </span><span id="local-6989586621679081320"><span class="annot"><span class="annottext">InputStream ByteString
</span><a href="#local-6989586621679081320"><span class="hs-identifier hs-var">is0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-108"></span><span>    </span><span id="local-6989586621679081319"><span class="annot"><span class="annottext">InputStream ByteString
</span><a href="#local-6989586621679081319"><span class="hs-identifier hs-var">is</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">InputStream ByteString -&gt; IO (InputStream ByteString)
forall a. InputStream a -&gt; IO (InputStream a)
</span><a href="System.IO.Streams.Internal.html#lockingInputStream"><span class="hs-identifier hs-var">lockingInputStream</span></a></span><span> </span><span class="annot"><span class="annottext">InputStream ByteString
</span><a href="#local-6989586621679081320"><span class="hs-identifier hs-var">is0</span></a></span><span>
</span><span id="line-109"></span><span>    </span><span id="local-6989586621679081318"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679081318"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">InputStream ByteString
-&gt; FilePath -&gt; Maybe TextEncoding -&gt; NewlineMode -&gt; IO Handle
forall dev.
(IODevice dev, BufferedIO dev, Typeable dev) =&gt;
dev -&gt; FilePath -&gt; Maybe TextEncoding -&gt; NewlineMode -&gt; IO Handle
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">H.mkDuplexHandle</span></a></span><span> </span><span class="annot"><span class="annottext">InputStream ByteString
</span><a href="#local-6989586621679081319"><span class="hs-identifier hs-var">is</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;*input-stream*&quot;</span></span><span> </span><span class="annot"><span class="annottext">Maybe TextEncoding
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">(NewlineMode -&gt; IO Handle) -&gt; NewlineMode -&gt; IO Handle
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$!</span></a></span><span> </span><span class="annot"><span class="annottext">NewlineMode
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">H.noNewlineTranslation</span></a></span><span>
</span><span id="line-110"></span><span>    </span><span class="annot"><span class="annottext">Handle -&gt; BufferMode -&gt; IO ()
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">H.hSetBuffering</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679081318"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">BufferMode
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">H.NoBuffering</span></a></span><span>
</span><span id="line-111"></span><span>    </span><span class="annot"><span class="annottext">Handle -&gt; IO Handle
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679081318"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-115"></span><span class="hs-comment">-- | Converts an 'OutputStream' over bytestrings to a write-only 'Handle'. Note</span><span>
</span><span id="line-116"></span><span class="hs-comment">-- that the 'Handle' will be opened in non-buffering mode; if you buffer the</span><span>
</span><span id="line-117"></span><span class="hs-comment">-- 'OutputStream' using the 'Handle' buffering then @io-streams@ will copy the</span><span>
</span><span id="line-118"></span><span class="hs-comment">-- 'Handle' buffer when sending 'ByteString' values to the output, which might</span><span>
</span><span id="line-119"></span><span class="hs-comment">-- not be what you want.</span><span>
</span><span id="line-120"></span><span class="hs-comment">--</span><span>
</span><span id="line-121"></span><span class="hs-comment">-- When the output buffer, if used, is flushed (using 'System.IO.hFlush'), an</span><span>
</span><span id="line-122"></span><span class="hs-comment">-- empty string is written to the provided 'OutputStream'.</span><span>
</span><span id="line-123"></span><span class="hs-comment">--</span><span>
</span><span id="line-124"></span><span class="hs-comment">-- /Note/: the 'OutputStream' passed into this function is wrapped in</span><span>
</span><span id="line-125"></span><span class="hs-comment">-- 'lockingOutputStream' to make it thread-safe.</span><span>
</span><span id="line-126"></span><span class="hs-comment">--</span><span>
</span><span id="line-127"></span><span class="hs-comment">-- /Since: 1.0.2.0./</span><span>
</span><span id="line-128"></span><span class="annot"><a href="System.IO.Streams.Handle.html#outputStreamToHandle"><span class="hs-identifier hs-type">outputStreamToHandle</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.IO.Streams.Internal.html#OutputStream"><span class="hs-identifier hs-type">OutputStream</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Handle</span></a></span><span>
</span><span id="line-129"></span><span id="outputStreamToHandle"><span class="annot"><span class="annottext">outputStreamToHandle :: OutputStream ByteString -&gt; IO Handle
</span><a href="System.IO.Streams.Handle.html#outputStreamToHandle"><span class="hs-identifier hs-var hs-var">outputStreamToHandle</span></a></span></span><span> </span><span id="local-6989586621679081313"><span class="annot"><span class="annottext">OutputStream ByteString
</span><a href="#local-6989586621679081313"><span class="hs-identifier hs-var">os0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-130"></span><span>    </span><span id="local-6989586621679081312"><span class="annot"><span class="annottext">OutputStream ByteString
</span><a href="#local-6989586621679081312"><span class="hs-identifier hs-var">os</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">OutputStream ByteString -&gt; IO (OutputStream ByteString)
forall a. OutputStream a -&gt; IO (OutputStream a)
</span><a href="System.IO.Streams.Internal.html#lockingOutputStream"><span class="hs-identifier hs-var">lockingOutputStream</span></a></span><span> </span><span class="annot"><span class="annottext">OutputStream ByteString
</span><a href="#local-6989586621679081313"><span class="hs-identifier hs-var">os0</span></a></span><span>
</span><span id="line-131"></span><span>    </span><span id="local-6989586621679081311"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679081311"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">OutputStream ByteString
-&gt; FilePath -&gt; Maybe TextEncoding -&gt; NewlineMode -&gt; IO Handle
forall dev.
(IODevice dev, BufferedIO dev, Typeable dev) =&gt;
dev -&gt; FilePath -&gt; Maybe TextEncoding -&gt; NewlineMode -&gt; IO Handle
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">H.mkDuplexHandle</span></a></span><span> </span><span class="annot"><span class="annottext">OutputStream ByteString
</span><a href="#local-6989586621679081312"><span class="hs-identifier hs-var">os</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;*output-stream*&quot;</span></span><span> </span><span class="annot"><span class="annottext">Maybe TextEncoding
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">(NewlineMode -&gt; IO Handle) -&gt; NewlineMode -&gt; IO Handle
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$!</span></a></span><span> </span><span class="annot"><span class="annottext">NewlineMode
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">H.noNewlineTranslation</span></a></span><span>
</span><span id="line-132"></span><span>    </span><span class="annot"><span class="annottext">Handle -&gt; BufferMode -&gt; IO ()
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">H.hSetBuffering</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679081311"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">BufferMode
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">H.NoBuffering</span></a></span><span>
</span><span id="line-133"></span><span>    </span><span class="annot"><span class="annottext">Handle -&gt; IO Handle
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Handle -&gt; IO Handle) -&gt; Handle -&gt; IO Handle
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$!</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679081311"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-134"></span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-137"></span><span class="hs-comment">-- | Converts a pair of 'InputStream' and 'OutputStream' over bytestrings to a</span><span>
</span><span id="line-138"></span><span class="hs-comment">-- read-write 'Handle'.</span><span>
</span><span id="line-139"></span><span class="hs-comment">--</span><span>
</span><span id="line-140"></span><span class="hs-comment">-- Note: the streams passed into this function are wrapped in</span><span>
</span><span id="line-141"></span><span class="hs-comment">-- locking primitives to make them thread-safe.</span><span>
</span><span id="line-142"></span><span class="hs-comment">--</span><span>
</span><span id="line-143"></span><span class="hs-comment">-- /Since: 1.0.2.0./</span><span>
</span><span id="line-144"></span><span class="annot"><a href="System.IO.Streams.Handle.html#streamPairToHandle"><span class="hs-identifier hs-type">streamPairToHandle</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.IO.Streams.Internal.html#InputStream"><span class="hs-identifier hs-type">InputStream</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="System.IO.Streams.Internal.html#OutputStream"><span class="hs-identifier hs-type">OutputStream</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Handle</span></a></span><span>
</span><span id="line-145"></span><span id="streamPairToHandle"><span class="annot"><span class="annottext">streamPairToHandle :: InputStream ByteString -&gt; OutputStream ByteString -&gt; IO Handle
</span><a href="System.IO.Streams.Handle.html#streamPairToHandle"><span class="hs-identifier hs-var hs-var">streamPairToHandle</span></a></span></span><span> </span><span id="local-6989586621679081310"><span class="annot"><span class="annottext">InputStream ByteString
</span><a href="#local-6989586621679081310"><span class="hs-identifier hs-var">is0</span></a></span></span><span> </span><span id="local-6989586621679081309"><span class="annot"><span class="annottext">OutputStream ByteString
</span><a href="#local-6989586621679081309"><span class="hs-identifier hs-var">os0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-146"></span><span>    </span><span id="local-6989586621679081308"><span class="annot"><span class="annottext">InputStream ByteString
</span><a href="#local-6989586621679081308"><span class="hs-identifier hs-var">is</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">InputStream ByteString -&gt; IO (InputStream ByteString)
forall a. InputStream a -&gt; IO (InputStream a)
</span><a href="System.IO.Streams.Internal.html#lockingInputStream"><span class="hs-identifier hs-var">lockingInputStream</span></a></span><span> </span><span class="annot"><span class="annottext">InputStream ByteString
</span><a href="#local-6989586621679081310"><span class="hs-identifier hs-var">is0</span></a></span><span>
</span><span id="line-147"></span><span>    </span><span id="local-6989586621679081307"><span class="annot"><span class="annottext">OutputStream ByteString
</span><a href="#local-6989586621679081307"><span class="hs-identifier hs-var">os</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">OutputStream ByteString -&gt; IO (OutputStream ByteString)
forall a. OutputStream a -&gt; IO (OutputStream a)
</span><a href="System.IO.Streams.Internal.html#lockingOutputStream"><span class="hs-identifier hs-var">lockingOutputStream</span></a></span><span> </span><span class="annot"><span class="annottext">OutputStream ByteString
</span><a href="#local-6989586621679081309"><span class="hs-identifier hs-var">os0</span></a></span><span>
</span><span id="line-148"></span><span>    </span><span id="local-6989586621679081306"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679081306"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SP (InputStream ByteString) (OutputStream ByteString)
-&gt; FilePath -&gt; Maybe TextEncoding -&gt; NewlineMode -&gt; IO Handle
forall dev.
(IODevice dev, BufferedIO dev, Typeable dev) =&gt;
dev -&gt; FilePath -&gt; Maybe TextEncoding -&gt; NewlineMode -&gt; IO Handle
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">H.mkDuplexHandle</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InputStream ByteString
-&gt; OutputStream ByteString
-&gt; SP (InputStream ByteString) (OutputStream ByteString)
forall a b. a -&gt; b -&gt; SP a b
</span><a href="System.IO.Streams.Internal.html#SP"><span class="hs-identifier hs-var">SP</span></a></span><span> </span><span class="annot"><span class="annottext">InputStream ByteString
</span><a href="#local-6989586621679081308"><span class="hs-identifier hs-var">is</span></a></span><span> </span><span class="annot"><span class="annottext">OutputStream ByteString
</span><a href="#local-6989586621679081307"><span class="hs-identifier hs-var">os</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><span class="hs-string">&quot;*stream*&quot;</span></span><span> </span><span class="annot"><span class="annottext">Maybe TextEncoding
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">(NewlineMode -&gt; IO Handle) -&gt; NewlineMode -&gt; IO Handle
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$!</span></a></span><span> </span><span class="annot"><span class="annottext">NewlineMode
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">H.noNewlineTranslation</span></a></span><span>
</span><span id="line-149"></span><span>    </span><span class="annot"><span class="annottext">Handle -&gt; BufferMode -&gt; IO ()
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">H.hSetBuffering</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679081306"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">BufferMode
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">H.NoBuffering</span></a></span><span>
</span><span id="line-150"></span><span>    </span><span class="annot"><span class="annottext">Handle -&gt; IO Handle
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Handle -&gt; IO Handle) -&gt; Handle -&gt; IO Handle
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$!</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679081306"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-151"></span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-154"></span><span class="hs-comment">-- | An 'InputStream' for 'IO.stdin'.</span><span>
</span><span id="line-155"></span><span class="annot"><a href="System.IO.Streams.Handle.html#stdin"><span class="hs-identifier hs-type">stdin</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.IO.Streams.Internal.html#InputStream"><span class="hs-identifier hs-type">InputStream</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span>
</span><span id="line-156"></span><span id="stdin"><span class="annot"><span class="annottext">stdin :: InputStream ByteString
</span><a href="System.IO.Streams.Handle.html#stdin"><span class="hs-identifier hs-var hs-var">stdin</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO (InputStream ByteString) -&gt; InputStream ByteString
forall a. IO a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">unsafePerformIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Handle -&gt; IO (InputStream ByteString)
</span><a href="System.IO.Streams.Handle.html#handleToInputStream"><span class="hs-identifier hs-var">handleToInputStream</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">IO.stdin</span></a></span><span> </span><span class="annot"><span class="annottext">IO (InputStream ByteString)
-&gt; (InputStream ByteString -&gt; IO (InputStream ByteString))
-&gt; IO (InputStream ByteString)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">InputStream ByteString -&gt; IO (InputStream ByteString)
forall a. InputStream a -&gt; IO (InputStream a)
</span><a href="System.IO.Streams.Internal.html#lockingInputStream"><span class="hs-identifier hs-var">lockingInputStream</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-157"></span><span class="hs-pragma">{-# NOINLINE</span><span> </span><span class="annot"><a href="System.IO.Streams.Handle.html#stdin"><span class="hs-pragma hs-type">stdin</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span>
</span><span id="line-160"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-161"></span><span class="hs-comment">-- | An 'OutputStream' for 'IO.stdout'.</span><span>
</span><span id="line-162"></span><span class="annot"><a href="System.IO.Streams.Handle.html#stdout"><span class="hs-identifier hs-type">stdout</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.IO.Streams.Internal.html#OutputStream"><span class="hs-identifier hs-type">OutputStream</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span>
</span><span id="line-163"></span><span id="stdout"><span class="annot"><span class="annottext">stdout :: OutputStream ByteString
</span><a href="System.IO.Streams.Handle.html#stdout"><span class="hs-identifier hs-var hs-var">stdout</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO (OutputStream ByteString) -&gt; OutputStream ByteString
forall a. IO a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">unsafePerformIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Handle -&gt; IO (OutputStream ByteString)
</span><a href="System.IO.Streams.Handle.html#handleToOutputStream"><span class="hs-identifier hs-var">handleToOutputStream</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">IO.stdout</span></a></span><span> </span><span class="annot"><span class="annottext">IO (OutputStream ByteString)
-&gt; (OutputStream ByteString -&gt; IO (OutputStream ByteString))
-&gt; IO (OutputStream ByteString)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span>
</span><span id="line-164"></span><span>                          </span><span class="annot"><span class="annottext">OutputStream ByteString -&gt; IO (OutputStream ByteString)
forall a. OutputStream a -&gt; IO (OutputStream a)
</span><a href="System.IO.Streams.Internal.html#lockingOutputStream"><span class="hs-identifier hs-var">lockingOutputStream</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-165"></span><span class="hs-pragma">{-# NOINLINE</span><span> </span><span class="annot"><a href="System.IO.Streams.Handle.html#stdout"><span class="hs-pragma hs-type">stdout</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-166"></span><span>
</span><span id="line-167"></span><span>
</span><span id="line-168"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-169"></span><span class="hs-comment">-- | An 'OutputStream' for 'IO.stderr'.</span><span>
</span><span id="line-170"></span><span class="annot"><a href="System.IO.Streams.Handle.html#stderr"><span class="hs-identifier hs-type">stderr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.IO.Streams.Internal.html#OutputStream"><span class="hs-identifier hs-type">OutputStream</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span>
</span><span id="line-171"></span><span id="stderr"><span class="annot"><span class="annottext">stderr :: OutputStream ByteString
</span><a href="System.IO.Streams.Handle.html#stderr"><span class="hs-identifier hs-var hs-var">stderr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO (OutputStream ByteString) -&gt; OutputStream ByteString
forall a. IO a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">unsafePerformIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Handle -&gt; IO (OutputStream ByteString)
</span><a href="System.IO.Streams.Handle.html#handleToOutputStream"><span class="hs-identifier hs-var">handleToOutputStream</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">IO.stderr</span></a></span><span> </span><span class="annot"><span class="annottext">IO (OutputStream ByteString)
-&gt; (OutputStream ByteString -&gt; IO (OutputStream ByteString))
-&gt; IO (OutputStream ByteString)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span>
</span><span id="line-172"></span><span>                          </span><span class="annot"><span class="annottext">OutputStream ByteString -&gt; IO (OutputStream ByteString)
forall a. OutputStream a -&gt; IO (OutputStream a)
</span><a href="System.IO.Streams.Internal.html#lockingOutputStream"><span class="hs-identifier hs-var">lockingOutputStream</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-173"></span><span class="hs-pragma">{-# NOINLINE</span><span> </span><span class="annot"><a href="System.IO.Streams.Handle.html#stderr"><span class="hs-pragma hs-type">stderr</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-174"></span></pre></body></html>