<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-- | Flexible control of progress reporting for readCreateProcess and friends.</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE TupleSections #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-12"></span><span>
</span><span id="line-13"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">System.Process.Run</span><span>
</span><span id="line-14"></span><span>    </span><span class="hs-special">(</span><span> </span><span>
</span><span id="line-15"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Monad transformer</span></span><span>
</span><span id="line-16"></span><span>      </span><span class="annot"><a href="System.Process.Run.html#RunT"><span class="hs-identifier">RunT</span></a></span><span>
</span><span id="line-17"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Process.Run.html#runT"><span class="hs-identifier">runT</span></a></span><span>
</span><span id="line-18"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Process.Run.html#RunState"><span class="hs-identifier">RunState</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Process.Run.html#OutputStyle"><span class="hs-identifier">OutputStyle</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Monad class</span></span><span>
</span><span id="line-21"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Process.Run.html#RunM"><span class="hs-identifier">RunM</span></a></span><span>
</span><span id="line-22"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Modify moand RunM state parameters</span></span><span>
</span><span id="line-23"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Process.Run.html#echoStart"><span class="hs-identifier">echoStart</span></a></span><span>
</span><span id="line-24"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Process.Run.html#echoEnd"><span class="hs-identifier">echoEnd</span></a></span><span>
</span><span id="line-25"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Process.Run.html#output"><span class="hs-identifier">output</span></a></span><span>
</span><span id="line-26"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Process.Run.html#silent"><span class="hs-identifier">silent</span></a></span><span>
</span><span id="line-27"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Process.Run.html#dots"><span class="hs-identifier">dots</span></a></span><span>
</span><span id="line-28"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Process.Run.html#indent"><span class="hs-identifier">indent</span></a></span><span>
</span><span id="line-29"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Process.Run.html#vlevel"><span class="hs-identifier">vlevel</span></a></span><span>
</span><span id="line-30"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Process.Run.html#quieter"><span class="hs-identifier">quieter</span></a></span><span>
</span><span id="line-31"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Process.Run.html#noisier"><span class="hs-identifier">noisier</span></a></span><span>
</span><span id="line-32"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Process.Run.html#lazy"><span class="hs-identifier">lazy</span></a></span><span>
</span><span id="line-33"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Process.Run.html#strict"><span class="hs-identifier">strict</span></a></span><span>
</span><span id="line-34"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Process.Run.html#message"><span class="hs-identifier">message</span></a></span><span>
</span><span id="line-35"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Monadic process runner</span></span><span>
</span><span id="line-36"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Process.Run.html#run"><span class="hs-identifier">run</span></a></span><span>
</span><span id="line-37"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Re-exports</span></span><span>
</span><span id="line-38"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="System.Process.ListLike.html"><span class="hs-identifier">System.Process.ListLike</span></a></span><span>
</span><span id="line-39"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span class="hs-cpp">

#if __GLASGOW_HASKELL__ &lt;= 709
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Monoid</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Monoid</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">mempty</span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Monad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">when</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier">Control.Monad.State</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">evalState</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">evalStateT</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier">get</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier">modify</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier">MonadState</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier">put</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">StateT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier">Control.Monad.Trans</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">MonadIO</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">lift</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">liftIO</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">Data.ByteString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">ByteString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">Data.ByteString.Lazy</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Lazy</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">ByteString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Char</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">ord</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../data-default/html/src"><span class="hs-identifier">Data.Default</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../data-default-class/html/src"><span class="hs-identifier">Default</span></a></span><span class="hs-special">(</span><span class="annot"><a href="../../../../data-default-class/html/src"><span class="hs-identifier">def</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ListLike/html/src"><span class="hs-identifier">Data.ListLike</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ListLike</span></span><span>
</span><span id="line-52"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ListLike/html/src"><span class="hs-identifier">break</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">fromList</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ListLike/html/src"><span class="hs-identifier">head</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ListLike/html/src"><span class="hs-identifier">hPutStr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ListLike/html/src"><span class="hs-identifier">length</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ListLike/html/src"><span class="hs-identifier">ListLike</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ListLike/html/src"><span class="hs-identifier">null</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ListLike/html/src"><span class="hs-identifier">putStr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ListLike/html/src"><span class="hs-identifier">singleton</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ListLike/html/src"><span class="hs-identifier">tail</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Monoid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator">(&lt;&gt;)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.String</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">IsString</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">fromString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Text</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Word</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Word8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Data.Text.Lazy</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Lazy</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Text</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">System.IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">hPutStr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">hPutStrLn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">stderr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="System.Process.ListLike.html"><span class="hs-identifier">System.Process.ListLike</span></a></span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span class="hs-comment">-- | This is the state record that controls the output style.</span><span>
</span><span id="line-62"></span><span class="hs-keyword">data</span><span> </span><span id="RunState"><span class="annot"><a href="System.Process.Run.html#RunState"><span class="hs-identifier hs-var">RunState</span></a></span></span><span> </span><span id="local-6989586621679074261"><span class="annot"><a href="#local-6989586621679074261"><span class="hs-identifier hs-type">text</span></a></span></span><span>
</span><span id="line-63"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="RunState"><span class="annot"><a href="System.Process.Run.html#RunState"><span class="hs-identifier hs-var">RunState</span></a></span></span><span>
</span><span id="line-64"></span><span>      </span><span class="hs-special">{</span><span> </span><span id="_output"><span class="annot"><span class="annottext">RunState text -&gt; OutputStyle
</span><a href="System.Process.Run.html#_output"><span class="hs-identifier hs-var hs-var">_output</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Process.Run.html#OutputStyle"><span class="hs-identifier hs-type">OutputStyle</span></a></span><span> </span><span class="hs-comment">-- ^ Overall style of output</span><span>
</span><span id="line-65"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="_outprefix"><span class="annot"><span class="annottext">RunState text -&gt; text
</span><a href="System.Process.Run.html#_outprefix"><span class="hs-identifier hs-var hs-var">_outprefix</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679074261"><span class="hs-identifier hs-type">text</span></a></span><span>     </span><span class="hs-comment">-- ^ Prefix for lines of stdout</span><span>
</span><span id="line-66"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="_errprefix"><span class="annot"><span class="annottext">RunState text -&gt; text
</span><a href="System.Process.Run.html#_errprefix"><span class="hs-identifier hs-var hs-var">_errprefix</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679074261"><span class="hs-identifier hs-type">text</span></a></span><span>     </span><span class="hs-comment">-- ^ Prefix for lines of stderr</span><span>
</span><span id="line-67"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="_echoStart"><span class="annot"><span class="annottext">RunState text -&gt; Bool
</span><a href="System.Process.Run.html#_echoStart"><span class="hs-identifier hs-var hs-var">_echoStart</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>     </span><span class="hs-comment">-- ^ Echo command as process starts</span><span>
</span><span id="line-68"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="_echoEnd"><span class="annot"><span class="annottext">RunState text -&gt; Bool
</span><a href="System.Process.Run.html#_echoEnd"><span class="hs-identifier hs-var hs-var">_echoEnd</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>       </span><span class="hs-comment">-- ^ Echo command as process finishes</span><span>
</span><span id="line-69"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="_verbosity"><span class="annot"><span class="annottext">RunState text -&gt; Int
</span><a href="System.Process.Run.html#_verbosity"><span class="hs-identifier hs-var hs-var">_verbosity</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span>      </span><span class="hs-comment">-- ^ A progression of progress modes</span><span>
</span><span id="line-70"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="_lazy"><span class="annot"><span class="annottext">RunState text -&gt; Bool
</span><a href="System.Process.Run.html#_lazy"><span class="hs-identifier hs-var hs-var">_lazy</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>          </span><span class="hs-comment">-- ^ Use the lazy or strict runner?</span><span>
</span><span id="line-71"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="_message"><span class="annot"><span class="annottext">RunState text -&gt; text
</span><a href="System.Process.Run.html#_message"><span class="hs-identifier hs-var hs-var">_message</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679074261"><span class="hs-identifier hs-type">text</span></a></span><span>       </span><span class="hs-comment">-- ^ Extra text for start/end message - e.g. the change root</span><span>
</span><span id="line-72"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-73"></span><span>
</span><span id="line-74"></span><span class="hs-keyword">type</span><span> </span><span id="RunT"><span class="annot"><a href="System.Process.Run.html#RunT"><span class="hs-identifier hs-var">RunT</span></a></span></span><span> </span><span id="local-6989586621679074060"><span class="annot"><a href="#local-6989586621679074060"><span class="hs-identifier hs-type">text</span></a></span></span><span> </span><span id="local-6989586621679074059"><span class="annot"><a href="#local-6989586621679074059"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier hs-type">StateT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Process.Run.html#RunState"><span class="hs-identifier hs-type">RunState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074060"><span class="hs-identifier hs-type">text</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679074059"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier hs-type">MonadState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Process.Run.html#RunState"><span class="hs-identifier hs-type">RunState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074284"><span class="hs-identifier hs-type">text</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679074283"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-77"></span><span>       </span><span class="annot"><a href="System.Process.Common.html#ProcessText"><span class="hs-identifier hs-type">ProcessText</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074284"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074282"><span class="hs-identifier hs-type">char</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-78"></span><span>       </span><span class="annot"><a href="System.Process.Common.html#ListLikeProcessIO"><span class="hs-identifier hs-type">ListLikeProcessIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074284"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074282"><span class="hs-identifier hs-type">char</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-79"></span><span>       </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074283"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">IsString</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074284"><span class="hs-identifier hs-type">text</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074282"><span class="hs-identifier hs-type">char</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Process.Run.html#Dot"><span class="hs-identifier hs-type">Dot</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074282"><span class="hs-identifier hs-type">char</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-80"></span><span>    </span><span id="RunM"><span class="annot"><a href="System.Process.Run.html#RunM"><span class="hs-identifier hs-var">RunM</span></a></span></span><span> </span><span id="local-6989586621679074284"><span class="annot"><a href="#local-6989586621679074284"><span class="hs-identifier hs-type">text</span></a></span></span><span> </span><span id="local-6989586621679074282"><span class="annot"><a href="#local-6989586621679074282"><span class="hs-identifier hs-type">char</span></a></span></span><span> </span><span id="local-6989586621679074283"><span class="annot"><a href="#local-6989586621679074283"><span class="hs-identifier hs-type">m</span></a></span></span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="System.Process.Run.html#Dot"><span class="hs-identifier hs-type">Dot</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Word8</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-83"></span><span>    </span><span id="local-6989586621679074056"><span class="annot"><span class="annottext">dot :: Word8
</span><a href="System.Process.Run.html#dot"><span class="hs-identifier hs-var hs-var hs-var hs-var">dot</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Word8
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Int
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">ord</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'.'</span></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span id="local-6989586621679074054"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074054"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier hs-type">MonadState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Process.Run.html#RunState"><span class="hs-identifier hs-type">RunState</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679074054"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="System.Process.Run.html#RunM"><span class="hs-identifier hs-type">RunM</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Char</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074054"><span class="hs-identifier hs-type">m</span></a></span></span><span>
</span><span id="line-86"></span><span id="local-6989586621679074045"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074045"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier hs-type">MonadState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Process.Run.html#RunState"><span class="hs-identifier hs-type">RunState</span></a></span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679074045"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="System.Process.Run.html#RunM"><span class="hs-identifier hs-type">RunM</span></a></span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Char</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074045"><span class="hs-identifier hs-type">m</span></a></span></span><span>
</span><span id="line-87"></span><span id="local-6989586621679074037"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074037"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier hs-type">MonadState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Process.Run.html#RunState"><span class="hs-identifier hs-type">RunState</span></a></span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Lazy.Text</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679074037"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="System.Process.Run.html#RunM"><span class="hs-identifier hs-type">RunM</span></a></span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Lazy.Text</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Char</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074037"><span class="hs-identifier hs-type">m</span></a></span></span><span>
</span><span id="line-88"></span><span id="local-6989586621679074029"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074029"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier hs-type">MonadState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Process.Run.html#RunState"><span class="hs-identifier hs-type">RunState</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679074029"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="System.Process.Run.html#RunM"><span class="hs-identifier hs-type">RunM</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Word8</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074029"><span class="hs-identifier hs-type">m</span></a></span></span><span>
</span><span id="line-89"></span><span id="local-6989586621679074021"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074021"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier hs-type">MonadState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Process.Run.html#RunState"><span class="hs-identifier hs-type">RunState</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">Lazy.ByteString</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679074021"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="System.Process.Run.html#RunM"><span class="hs-identifier hs-type">RunM</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">Lazy.ByteString</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Word8</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074021"><span class="hs-identifier hs-type">m</span></a></span></span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span class="annot"><a href="System.Process.Run.html#runT"><span class="hs-identifier hs-type">runT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679074013"><span class="annot"><a href="#local-6989586621679074013"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679074012"><span class="annot"><a href="#local-6989586621679074012"><span class="hs-identifier hs-type">text</span></a></span></span><span> </span><span id="local-6989586621679074011"><span class="annot"><a href="#local-6989586621679074011"><span class="hs-identifier hs-type">char</span></a></span></span><span> </span><span id="local-6989586621679074010"><span class="annot"><a href="#local-6989586621679074010"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074013"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Process.Common.html#ProcessText"><span class="hs-identifier hs-type">ProcessText</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074012"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074011"><span class="hs-identifier hs-type">char</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="System.Process.Run.html#RunT"><span class="hs-identifier hs-type">RunT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074012"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074013"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074010"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679074013"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074010"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-92"></span><span id="runT"><span class="annot"><span class="annottext">runT :: RunT text m a -&gt; m a
</span><a href="System.Process.Run.html#runT"><span class="hs-identifier hs-var hs-var">runT</span></a></span></span><span> </span><span id="local-6989586621679074009"><span class="annot"><span class="annottext">RunT text m a
</span><a href="#local-6989586621679074009"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RunT text m a -&gt; RunState text -&gt; m a
forall (m :: * -&gt; *) s a. Monad m =&gt; StateT s m a -&gt; s -&gt; m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">evalStateT</span></a></span><span> </span><span class="annot"><span class="annottext">RunT text m a
</span><a href="#local-6989586621679074009"><span class="hs-identifier hs-var">action</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RunState text
forall a. Default a =&gt; a
</span><a href="../../../../data-default-class/html/src"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Process.Run.html#RunState"><span class="hs-identifier hs-type">RunState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074012"><span class="hs-identifier hs-type">text</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span class="hs-keyword">data</span><span> </span><span id="OutputStyle"><span class="annot"><a href="System.Process.Run.html#OutputStyle"><span class="hs-identifier hs-var">OutputStyle</span></a></span></span><span>
</span><span id="line-95"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="Dots"><span class="annot"><a href="System.Process.Run.html#Dots"><span class="hs-identifier hs-var">Dots</span></a></span></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span>  </span><span class="hs-comment">-- ^ Output one dot per n output characters</span><span>
</span><span id="line-96"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="All"><span class="annot"><a href="System.Process.Run.html#All"><span class="hs-identifier hs-var">All</span></a></span></span><span>       </span><span class="hs-comment">-- ^ send process stdout to console stdout and process stderr to console stderr</span><span>
</span><span id="line-97"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="Indented"><span class="annot"><a href="System.Process.Run.html#Indented"><span class="hs-identifier hs-var">Indented</span></a></span></span><span>  </span><span class="hs-comment">-- ^ Output with prefixes</span><span>
</span><span id="line-98"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="Silent"><span class="annot"><a href="System.Process.Run.html#Silent"><span class="hs-identifier hs-var">Silent</span></a></span></span><span>    </span><span class="hs-comment">-- ^ No output</span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span id="local-6989586621679074003"><span id="local-6989586621679074004"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="System.Process.Common.html#ProcessText"><span class="hs-identifier hs-type">ProcessText</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074004"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074003"><span class="hs-identifier hs-type">char</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../data-default-class/html/src"><span class="hs-identifier hs-type">Default</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Process.Run.html#RunState"><span class="hs-identifier hs-type">RunState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074004"><span class="hs-identifier hs-type">text</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-101"></span><span>    </span><span id="local-6989586621679074000"><span class="annot"><span class="annottext">def :: RunState text
</span><a href="#local-6989586621679074000"><span class="hs-identifier hs-var hs-var hs-var hs-var">def</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RunState :: forall text.
OutputStyle
-&gt; text
-&gt; text
-&gt; Bool
-&gt; Bool
-&gt; Int
-&gt; Bool
-&gt; text
-&gt; RunState text
</span><a href="System.Process.Run.html#RunState"><span class="hs-identifier hs-type">RunState</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">_outprefix :: text
</span><a href="System.Process.Run.html#_outprefix"><span class="hs-identifier hs-var">_outprefix</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; text
forall a. IsString a =&gt; String -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;1&gt; &quot;</span></span><span>
</span><span id="line-102"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_errprefix :: text
</span><a href="System.Process.Run.html#_errprefix"><span class="hs-identifier hs-var">_errprefix</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; text
forall a. IsString a =&gt; String -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;2&gt; &quot;</span></span><span>
</span><span id="line-103"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_output :: OutputStyle
</span><a href="System.Process.Run.html#_output"><span class="hs-identifier hs-var">_output</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OutputStyle
</span><a href="System.Process.Run.html#All"><span class="hs-identifier hs-var">All</span></a></span><span>
</span><span id="line-104"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_echoStart :: Bool
</span><a href="System.Process.Run.html#_echoStart"><span class="hs-identifier hs-var">_echoStart</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-105"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_echoEnd :: Bool
</span><a href="System.Process.Run.html#_echoEnd"><span class="hs-identifier hs-var">_echoEnd</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-106"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_verbosity :: Int
</span><a href="System.Process.Run.html#_verbosity"><span class="hs-identifier hs-var">_verbosity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span>
</span><span id="line-107"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_lazy :: Bool
</span><a href="System.Process.Run.html#_lazy"><span class="hs-identifier hs-var">_lazy</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-108"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_message :: text
</span><a href="System.Process.Run.html#_message"><span class="hs-identifier hs-var">_message</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">text
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="hs-special">}</span></span></span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span class="hs-comment">{-
class (Monoid text, MonadIO m) =&gt; MonadRun m text where
    type Text m
    getRunState :: m (RunState text)
    putRunState :: RunState text -&gt; m ()

instance Monoid text =&gt; MonadRun IO text where
    getRunState = return def
    putRunState _ = return ()

instance (MonadIO m, Monoid t, MonadState (RunState t) m) =&gt; MonadRun m t where
    getRunState = get
    putRunState = put
-}</span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span id="local-6989586621679074225"><span id="local-6989586621679074226"><span class="annot"><a href="System.Process.Run.html#noEcho"><span class="hs-identifier hs-type">noEcho</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier hs-type">MonadState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Process.Run.html#RunState"><span class="hs-identifier hs-type">RunState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074226"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679074225"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679074225"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-126"></span><span id="noEcho"><span class="annot"><span class="annottext">noEcho :: m ()
</span><a href="System.Process.Run.html#noEcho"><span class="hs-identifier hs-var hs-var">noEcho</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(RunState t -&gt; RunState t) -&gt; m ()
forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">modify</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679073998"><span class="annot"><span class="annottext">RunState t
</span><a href="#local-6989586621679073998"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RunState t
</span><a href="#local-6989586621679073998"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">_echoStart :: Bool
</span><a href="System.Process.Run.html#_echoStart"><span class="hs-identifier hs-var">_echoStart</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">False</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_echoEnd :: Bool
</span><a href="System.Process.Run.html#_echoEnd"><span class="hs-identifier hs-var">_echoEnd</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">False</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span id="local-6989586621679073996"><span id="local-6989586621679073997"><span class="annot"><a href="System.Process.Run.html#echoStart"><span class="hs-identifier hs-type">echoStart</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier hs-type">MonadState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Process.Run.html#RunState"><span class="hs-identifier hs-type">RunState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073997"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679073996"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679073996"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-129"></span><span id="echoStart"><span class="annot"><span class="annottext">echoStart :: m ()
</span><a href="System.Process.Run.html#echoStart"><span class="hs-identifier hs-var hs-var">echoStart</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(RunState t -&gt; RunState t) -&gt; m ()
forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">modify</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679073995"><span class="annot"><span class="annottext">RunState t
</span><a href="#local-6989586621679073995"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RunState t
</span><a href="#local-6989586621679073995"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">_echoStart :: Bool
</span><a href="System.Process.Run.html#_echoStart"><span class="hs-identifier hs-var">_echoStart</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">True</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span id="local-6989586621679073993"><span id="local-6989586621679073994"><span class="annot"><a href="System.Process.Run.html#echoEnd"><span class="hs-identifier hs-type">echoEnd</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier hs-type">MonadState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Process.Run.html#RunState"><span class="hs-identifier hs-type">RunState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073994"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679073993"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679073993"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-132"></span><span id="echoEnd"><span class="annot"><span class="annottext">echoEnd :: m ()
</span><a href="System.Process.Run.html#echoEnd"><span class="hs-identifier hs-var hs-var">echoEnd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(RunState t -&gt; RunState t) -&gt; m ()
forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">modify</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679073992"><span class="annot"><span class="annottext">RunState t
</span><a href="#local-6989586621679073992"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RunState t
</span><a href="#local-6989586621679073992"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">_echoEnd :: Bool
</span><a href="System.Process.Run.html#_echoEnd"><span class="hs-identifier hs-var">_echoEnd</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">True</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span id="local-6989586621679073990"><span id="local-6989586621679073991"><span class="annot"><a href="System.Process.Run.html#output"><span class="hs-identifier hs-type">output</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier hs-type">MonadState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Process.Run.html#RunState"><span class="hs-identifier hs-type">RunState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073991"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679073990"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679073990"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-135"></span><span id="output"><span class="annot"><span class="annottext">output :: m ()
</span><a href="System.Process.Run.html#output"><span class="hs-identifier hs-var hs-var">output</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(RunState t -&gt; RunState t) -&gt; m ()
forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">modify</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679073989"><span class="annot"><span class="annottext">RunState t
</span><a href="#local-6989586621679073989"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RunState t
</span><a href="#local-6989586621679073989"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">_output :: OutputStyle
</span><a href="System.Process.Run.html#_output"><span class="hs-identifier hs-var">_output</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OutputStyle
</span><a href="System.Process.Run.html#All"><span class="hs-identifier hs-var">All</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-136"></span><span>
</span><span id="line-137"></span><span id="local-6989586621679073987"><span id="local-6989586621679073988"><span class="annot"><a href="System.Process.Run.html#silent"><span class="hs-identifier hs-type">silent</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier hs-type">MonadState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Process.Run.html#RunState"><span class="hs-identifier hs-type">RunState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073988"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679073987"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679073987"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-138"></span><span id="silent"><span class="annot"><span class="annottext">silent :: m ()
</span><a href="System.Process.Run.html#silent"><span class="hs-identifier hs-var hs-var">silent</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(RunState t -&gt; RunState t) -&gt; m ()
forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">modify</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679073986"><span class="annot"><span class="annottext">RunState t
</span><a href="#local-6989586621679073986"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RunState t
</span><a href="#local-6989586621679073986"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">_output :: OutputStyle
</span><a href="System.Process.Run.html#_output"><span class="hs-identifier hs-var">_output</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OutputStyle
</span><a href="System.Process.Run.html#Silent"><span class="hs-identifier hs-var">Silent</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span id="local-6989586621679074214"><span id="local-6989586621679074215"><span class="annot"><a href="System.Process.Run.html#dots"><span class="hs-identifier hs-type">dots</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier hs-type">MonadState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Process.Run.html#RunState"><span class="hs-identifier hs-type">RunState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074215"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679074214"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679074214"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-141"></span><span id="dots"><span class="annot"><span class="annottext">dots :: Int -&gt; m ()
</span><a href="System.Process.Run.html#dots"><span class="hs-identifier hs-var hs-var">dots</span></a></span></span><span> </span><span id="local-6989586621679073985"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679073985"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(RunState t -&gt; RunState t) -&gt; m ()
forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">modify</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679073984"><span class="annot"><span class="annottext">RunState t
</span><a href="#local-6989586621679073984"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RunState t
</span><a href="#local-6989586621679073984"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">_output :: OutputStyle
</span><a href="System.Process.Run.html#_output"><span class="hs-identifier hs-var">_output</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; OutputStyle
</span><a href="System.Process.Run.html#Dots"><span class="hs-identifier hs-var">Dots</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679073985"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span class="hs-comment">-- | Modify the indentation prefixes for stdout and stderr in the</span><span>
</span><span id="line-144"></span><span class="hs-comment">-- progress monad.</span><span>
</span><span id="line-145"></span><span id="local-6989586621679074232"><span id="local-6989586621679074233"><span id="local-6989586621679074234"><span class="annot"><a href="System.Process.Run.html#indent"><span class="hs-identifier hs-type">indent</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier hs-type">MonadState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Process.Run.html#RunState"><span class="hs-identifier hs-type">RunState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074234"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679074233"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ListLike/html/src"><span class="hs-identifier hs-type">ListLike</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074234"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074232"><span class="hs-identifier hs-type">char</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679074234"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679074234"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679074234"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679074234"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679074233"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-146"></span><span id="indent"><span class="annot"><span class="annottext">indent :: (t -&gt; t) -&gt; (t -&gt; t) -&gt; m ()
</span><a href="System.Process.Run.html#indent"><span class="hs-identifier hs-var hs-var">indent</span></a></span></span><span> </span><span id="local-6989586621679073983"><span class="annot"><span class="annottext">t -&gt; t
</span><a href="#local-6989586621679073983"><span class="hs-identifier hs-var">so</span></a></span></span><span> </span><span id="local-6989586621679073982"><span class="annot"><span class="annottext">t -&gt; t
</span><a href="#local-6989586621679073982"><span class="hs-identifier hs-var">se</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(RunState t -&gt; RunState t) -&gt; m ()
forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">modify</span></a></span><span> </span><span class="annot"><span class="annottext">((RunState t -&gt; RunState t) -&gt; m ())
-&gt; (RunState t -&gt; RunState t) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679073981"><span class="annot"><span class="annottext">RunState t
</span><a href="#local-6989586621679073981"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-147"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679073980"><span class="annot"><span class="annottext">so' :: t
</span><a href="#local-6989586621679073980"><span class="hs-identifier hs-var hs-var">so'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t -&gt; t
</span><a href="#local-6989586621679073983"><span class="hs-identifier hs-var">so</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RunState t -&gt; t
forall text. RunState text -&gt; text
</span><a href="System.Process.Run.html#_outprefix"><span class="hs-identifier hs-var hs-var">_outprefix</span></a></span><span> </span><span class="annot"><span class="annottext">RunState t
</span><a href="#local-6989586621679073981"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-148"></span><span>        </span><span id="local-6989586621679073979"><span class="annot"><span class="annottext">se' :: t
</span><a href="#local-6989586621679073979"><span class="hs-identifier hs-var hs-var">se'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t -&gt; t
</span><a href="#local-6989586621679073982"><span class="hs-identifier hs-var">se</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RunState t -&gt; t
forall text. RunState text -&gt; text
</span><a href="System.Process.Run.html#_errprefix"><span class="hs-identifier hs-var hs-var">_errprefix</span></a></span><span> </span><span class="annot"><span class="annottext">RunState t
</span><a href="#local-6989586621679073981"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-149"></span><span>    </span><span class="annot"><span class="annottext">RunState t
</span><a href="#local-6989586621679073981"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">_outprefix :: t
</span><a href="System.Process.Run.html#_outprefix"><span class="hs-identifier hs-var">_outprefix</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679073980"><span class="hs-identifier hs-var">so'</span></a></span><span>
</span><span id="line-150"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_errprefix :: t
</span><a href="System.Process.Run.html#_errprefix"><span class="hs-identifier hs-var">_errprefix</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679073979"><span class="hs-identifier hs-var">se'</span></a></span><span>
</span><span id="line-151"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_output :: OutputStyle
</span><a href="System.Process.Run.html#_output"><span class="hs-identifier hs-var">_output</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">t -&gt; Bool
forall full item. ListLike full item =&gt; full -&gt; Bool
</span><a href="../../../../ListLike/html/src"><span class="hs-identifier hs-var">ListLike.null</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679073980"><span class="hs-identifier hs-var">so'</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&amp;&amp;</span></a></span><span>
</span><span id="line-152"></span><span>                     </span><span class="annot"><span class="annottext">t -&gt; Bool
forall full item. ListLike full item =&gt; full -&gt; Bool
</span><a href="../../../../ListLike/html/src"><span class="hs-identifier hs-var">ListLike.null</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679073979"><span class="hs-identifier hs-var">se'</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">RunState t -&gt; OutputStyle
forall text. RunState text -&gt; OutputStyle
</span><a href="System.Process.Run.html#_output"><span class="hs-identifier hs-var hs-var">_output</span></a></span><span> </span><span class="annot"><span class="annottext">RunState t
</span><a href="#local-6989586621679073981"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">OutputStyle
</span><a href="System.Process.Run.html#Indented"><span class="hs-identifier hs-var">Indented</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-153"></span><span>
</span><span id="line-154"></span><span id="local-6989586621679074219"><span id="local-6989586621679074220"><span id="local-6989586621679074221"><span class="annot"><a href="System.Process.Run.html#noIndent"><span class="hs-identifier hs-type">noIndent</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier hs-type">MonadState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Process.Run.html#RunState"><span class="hs-identifier hs-type">RunState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074221"><span class="hs-identifier hs-type">text</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679074220"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ListLike/html/src"><span class="hs-identifier hs-type">ListLike</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074221"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074219"><span class="hs-identifier hs-type">char</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679074220"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-155"></span><span id="noIndent"><span class="annot"><span class="annottext">noIndent :: m ()
</span><a href="System.Process.Run.html#noIndent"><span class="hs-identifier hs-var hs-var">noIndent</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(text -&gt; text) -&gt; (text -&gt; text) -&gt; m ()
forall t (m :: * -&gt; *) char.
(MonadState (RunState t) m, ListLike t char) =&gt;
(t -&gt; t) -&gt; (t -&gt; t) -&gt; m ()
</span><a href="System.Process.Run.html#indent"><span class="hs-identifier hs-var">indent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">text -&gt; text -&gt; text
forall a b. a -&gt; b -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">text
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">text -&gt; text -&gt; text
forall a b. a -&gt; b -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">text
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-156"></span><span>
</span><span id="line-157"></span><span class="hs-comment">-- | Set verbosity to a specific level from 0 to 3.</span><span>
</span><span id="line-158"></span><span class="hs-comment">-- vlevel :: (MonadIO m, Monoid text, MonadState (RunState text) m) =&gt; Int -&gt; m ()</span><span>
</span><span id="line-159"></span><span class="hs-comment">-- vlevel :: forall m text char. (IsString text, ListLike text char, MonadIO m) =&gt; Int -&gt; m ()</span><span>
</span><span id="line-160"></span><span class="annot"><a href="System.Process.Run.html#vlevel"><span class="hs-identifier hs-type">vlevel</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679074216"><span class="annot"><a href="#local-6989586621679074216"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679074218"><span class="annot"><a href="#local-6989586621679074218"><span class="hs-identifier hs-type">text</span></a></span></span><span> </span><span id="local-6989586621679074217"><span class="annot"><a href="#local-6989586621679074217"><span class="hs-identifier hs-type">char</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-161"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">IsString</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074218"><span class="hs-identifier hs-type">text</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ListLike/html/src"><span class="hs-identifier hs-type">ListLike</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074218"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074217"><span class="hs-identifier hs-type">char</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074216"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier hs-type">MonadState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Process.Run.html#RunState"><span class="hs-identifier hs-type">RunState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074218"><span class="hs-identifier hs-type">text</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679074216"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-162"></span><span>          </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679074216"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-163"></span><span id="vlevel"><span class="annot"><span class="annottext">vlevel :: Int -&gt; m ()
</span><a href="System.Process.Run.html#vlevel"><span class="hs-identifier hs-var hs-var">vlevel</span></a></span></span><span> </span><span id="local-6989586621679073975"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679073975"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-164"></span><span>  </span><span class="annot"><span class="annottext">(RunState text -&gt; RunState text) -&gt; m ()
forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">modify</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679073974"><span class="annot"><span class="annottext">RunState text
</span><a href="#local-6989586621679073974"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RunState text
</span><a href="#local-6989586621679073974"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">_verbosity :: Int
</span><a href="System.Process.Run.html#_verbosity"><span class="hs-identifier hs-var">_verbosity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679073975"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-165"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679073975"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-166"></span><span>    </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679073975"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&lt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m ()
forall t (m :: * -&gt; *). MonadState (RunState t) m =&gt; m ()
</span><a href="System.Process.Run.html#noEcho"><span class="hs-identifier hs-var">noEcho</span></a></span><span> </span><span class="annot"><span class="annottext">m () -&gt; m () -&gt; m ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">m ()
forall t (m :: * -&gt; *). MonadState (RunState t) m =&gt; m ()
</span><a href="System.Process.Run.html#silent"><span class="hs-identifier hs-var">silent</span></a></span><span> </span><span class="annot"><span class="annottext">m () -&gt; m () -&gt; m ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">m ()
forall text (m :: * -&gt; *) char.
(MonadState (RunState text) m, ListLike text char) =&gt;
m ()
</span><a href="System.Process.Run.html#noIndent"><span class="hs-identifier hs-var">noIndent</span></a></span><span> </span><span class="hs-comment">-- No output</span><span>
</span><span id="line-167"></span><span>    </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; m ()
forall (m :: * -&gt; *) text char.
(IsString text, ListLike text char, MonadIO m,
 MonadState (RunState text) m) =&gt;
Int -&gt; m ()
</span><a href="System.Process.Run.html#vlevel"><span class="hs-identifier hs-var">vlevel</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">m () -&gt; m () -&gt; m ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">m ()
forall t (m :: * -&gt; *). MonadState (RunState t) m =&gt; m ()
</span><a href="System.Process.Run.html#echoStart"><span class="hs-identifier hs-var">echoStart</span></a></span><span>                 </span><span class="hs-comment">-- Output command at start</span><span>
</span><span id="line-168"></span><span>    </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; m ()
forall (m :: * -&gt; *) text char.
(IsString text, ListLike text char, MonadIO m,
 MonadState (RunState text) m) =&gt;
Int -&gt; m ()
</span><a href="System.Process.Run.html#vlevel"><span class="hs-identifier hs-var">vlevel</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">m () -&gt; m () -&gt; m ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">m ()
forall t (m :: * -&gt; *). MonadState (RunState t) m =&gt; m ()
</span><a href="System.Process.Run.html#echoEnd"><span class="hs-identifier hs-var">echoEnd</span></a></span><span> </span><span class="annot"><span class="annottext">m () -&gt; m () -&gt; m ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; m ()
forall t (m :: * -&gt; *). MonadState (RunState t) m =&gt; Int -&gt; m ()
</span><a href="System.Process.Run.html#dots"><span class="hs-identifier hs-var">dots</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">100</span></span><span>       </span><span class="hs-comment">-- Output command at start and end, dots to show output</span><span>
</span><span id="line-169"></span><span>    </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>                                       </span><span class="hs-comment">-- echo command at start and end, and send all output</span><span>
</span><span id="line-170"></span><span>                                               </span><span class="hs-comment">-- to the console with channel prefixes 1&gt; and 2&gt;</span><span>
</span><span id="line-171"></span><span>          </span><span class="annot"><span class="annottext">Int -&gt; m ()
forall (m :: * -&gt; *) text char.
(IsString text, ListLike text char, MonadIO m,
 MonadState (RunState text) m) =&gt;
Int -&gt; m ()
</span><a href="System.Process.Run.html#vlevel"><span class="hs-identifier hs-var">vlevel</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">m () -&gt; m () -&gt; m ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">m ()
forall t (m :: * -&gt; *). MonadState (RunState t) m =&gt; m ()
</span><a href="System.Process.Run.html#output"><span class="hs-identifier hs-var">output</span></a></span><span> </span><span class="annot"><span class="annottext">m () -&gt; m () -&gt; m ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(text -&gt; text) -&gt; (text -&gt; text) -&gt; m ()
forall t (m :: * -&gt; *) char.
(MonadState (RunState t) m, ListLike t char) =&gt;
(t -&gt; t) -&gt; (t -&gt; t) -&gt; m ()
</span><a href="System.Process.Run.html#indent"><span class="hs-identifier hs-var">indent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">text -&gt; text -&gt; text
forall a b. a -&gt; b -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; text
forall a. IsString a =&gt; String -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;1&gt; &quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">text -&gt; text -&gt; text
forall a b. a -&gt; b -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; text
forall a. IsString a =&gt; String -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;2&gt; &quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-172"></span><span>
</span><span id="line-173"></span><span id="local-6989586621679073970"><span id="local-6989586621679073971"><span id="local-6989586621679073972"><span class="annot"><a href="System.Process.Run.html#quieter"><span class="hs-identifier hs-type">quieter</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Process.Run.html#RunM"><span class="hs-identifier hs-type">RunM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073972"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073971"><span class="hs-identifier hs-type">char</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073970"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679073970"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-174"></span><span id="quieter"><span class="annot"><span class="annottext">quieter :: m ()
</span><a href="System.Process.Run.html#quieter"><span class="hs-identifier hs-var hs-var">quieter</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m (RunState text)
forall s (m :: * -&gt; *). MonadState s m =&gt; m s
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">m (RunState text) -&gt; (RunState text -&gt; m ()) -&gt; m ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679073969"><span class="annot"><span class="annottext">RunState text
</span><a href="#local-6989586621679073969"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; m ()
forall (m :: * -&gt; *) text char.
(IsString text, ListLike text char, MonadIO m,
 MonadState (RunState text) m) =&gt;
Int -&gt; m ()
</span><a href="System.Process.Run.html#vlevel"><span class="hs-identifier hs-var">vlevel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RunState text -&gt; Int
forall text. RunState text -&gt; Int
</span><a href="System.Process.Run.html#_verbosity"><span class="hs-identifier hs-var hs-var">_verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">RunState text
</span><a href="#local-6989586621679073969"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-glyph hs-var">-</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span id="local-6989586621679073966"><span id="local-6989586621679073967"><span id="local-6989586621679073968"><span class="annot"><a href="System.Process.Run.html#noisier"><span class="hs-identifier hs-type">noisier</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Process.Run.html#RunM"><span class="hs-identifier hs-type">RunM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073968"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073967"><span class="hs-identifier hs-type">char</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073966"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679073966"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-177"></span><span id="noisier"><span class="annot"><span class="annottext">noisier :: m ()
</span><a href="System.Process.Run.html#noisier"><span class="hs-identifier hs-var hs-var">noisier</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m (RunState text)
forall s (m :: * -&gt; *). MonadState s m =&gt; m s
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">m (RunState text) -&gt; (RunState text -&gt; m ()) -&gt; m ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679073965"><span class="annot"><span class="annottext">RunState text
</span><a href="#local-6989586621679073965"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; m ()
forall (m :: * -&gt; *) text char.
(IsString text, ListLike text char, MonadIO m,
 MonadState (RunState text) m) =&gt;
Int -&gt; m ()
</span><a href="System.Process.Run.html#vlevel"><span class="hs-identifier hs-var">vlevel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RunState text -&gt; Int
forall text. RunState text -&gt; Int
</span><a href="System.Process.Run.html#_verbosity"><span class="hs-identifier hs-var hs-var">_verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">RunState text
</span><a href="#local-6989586621679073965"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span id="local-6989586621679073961"><span id="local-6989586621679073962"><span id="local-6989586621679073963"><span class="annot"><a href="System.Process.Run.html#strict"><span class="hs-identifier hs-type">strict</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Process.Run.html#RunM"><span class="hs-identifier hs-type">RunM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073963"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073962"><span class="hs-identifier hs-type">char</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073961"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679073961"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-180"></span><span id="strict"><span class="annot"><span class="annottext">strict :: m ()
</span><a href="System.Process.Run.html#strict"><span class="hs-identifier hs-var hs-var">strict</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(RunState text -&gt; RunState text) -&gt; m ()
forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">modify</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679073960"><span class="annot"><span class="annottext">RunState text
</span><a href="#local-6989586621679073960"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RunState text
</span><a href="#local-6989586621679073960"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">_lazy :: Bool
</span><a href="System.Process.Run.html#_lazy"><span class="hs-identifier hs-var">_lazy</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">False</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span id="local-6989586621679073957"><span id="local-6989586621679073958"><span id="local-6989586621679073959"><span class="annot"><a href="System.Process.Run.html#lazy"><span class="hs-identifier hs-type">lazy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Process.Run.html#RunM"><span class="hs-identifier hs-type">RunM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073959"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073958"><span class="hs-identifier hs-type">char</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073957"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679073957"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-183"></span><span id="lazy"><span class="annot"><span class="annottext">lazy :: m ()
</span><a href="System.Process.Run.html#lazy"><span class="hs-identifier hs-var hs-var">lazy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(RunState text -&gt; RunState text) -&gt; m ()
forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">modify</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679073956"><span class="annot"><span class="annottext">RunState text
</span><a href="#local-6989586621679073956"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RunState text
</span><a href="#local-6989586621679073956"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">_lazy :: Bool
</span><a href="System.Process.Run.html#_lazy"><span class="hs-identifier hs-var">_lazy</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">True</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span id="local-6989586621679073953"><span id="local-6989586621679073954"><span id="local-6989586621679073955"><span class="annot"><a href="System.Process.Run.html#message"><span class="hs-identifier hs-type">message</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Process.Run.html#RunM"><span class="hs-identifier hs-type">RunM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073955"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073954"><span class="hs-identifier hs-type">char</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073953"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679073955"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679073955"><span class="hs-identifier hs-type">text</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679073953"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-186"></span><span id="message"><span class="annot"><span class="annottext">message :: (text -&gt; text) -&gt; m ()
</span><a href="System.Process.Run.html#message"><span class="hs-identifier hs-var hs-var">message</span></a></span></span><span> </span><span id="local-6989586621679073952"><span class="annot"><span class="annottext">text -&gt; text
</span><a href="#local-6989586621679073952"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(RunState text -&gt; RunState text) -&gt; m ()
forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">modify</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679073951"><span class="annot"><span class="annottext">RunState text
</span><a href="#local-6989586621679073951"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RunState text
</span><a href="#local-6989586621679073951"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">_message :: text
</span><a href="System.Process.Run.html#_message"><span class="hs-identifier hs-var">_message</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">text -&gt; text
</span><a href="#local-6989586621679073952"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RunState text -&gt; text
forall text. RunState text -&gt; text
</span><a href="System.Process.Run.html#_message"><span class="hs-identifier hs-var hs-var">_message</span></a></span><span> </span><span class="annot"><span class="annottext">RunState text
</span><a href="#local-6989586621679073951"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-187"></span><span>
</span><span id="line-188"></span><span class="hs-keyword">class</span><span> </span><span id="Dot"><span class="annot"><a href="System.Process.Run.html#Dot"><span class="hs-identifier hs-var">Dot</span></a></span></span><span> </span><span id="local-6989586621679074294"><span class="annot"><a href="#local-6989586621679074294"><span class="hs-identifier hs-type">c</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-189"></span><span>    </span><span id="dot"><span class="annot"><a href="System.Process.Run.html#dot"><span class="hs-identifier hs-type">dot</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679074294"><span class="hs-identifier hs-type">c</span></a></span><span>
</span><span id="line-190"></span><span>
</span><span id="line-191"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="System.Process.Run.html#Dot"><span class="hs-identifier hs-type">Dot</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Char</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-192"></span><span>    </span><span id="local-6989586621679073949"><span class="annot"><span class="annottext">dot :: Char
</span><a href="#local-6989586621679073949"><span class="hs-identifier hs-var hs-var hs-var hs-var">dot</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'.'</span></span><span>
</span><span id="line-193"></span><span>
</span><span id="line-194"></span><span class="annot"><a href="System.Process.Run.html#run%27"><span class="hs-identifier hs-type">run'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679074168"><span class="annot"><a href="#local-6989586621679074168"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679074167"><span class="annot"><a href="#local-6989586621679074167"><span class="hs-identifier hs-type">maker</span></a></span></span><span> </span><span id="local-6989586621679074170"><span class="annot"><a href="#local-6989586621679074170"><span class="hs-identifier hs-type">text</span></a></span></span><span> </span><span id="local-6989586621679074169"><span class="annot"><a href="#local-6989586621679074169"><span class="hs-identifier hs-type">char</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-195"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="System.Process.Run.html#RunM"><span class="hs-identifier hs-type">RunM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074170"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074169"><span class="hs-identifier hs-type">char</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074168"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-196"></span><span>         </span><span class="annot"><a href="System.Process.Common.html#ProcessMaker"><span class="hs-identifier hs-type">ProcessMaker</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074167"><span class="hs-identifier hs-type">maker</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-197"></span><span>        </span><span class="annot"><a href="#local-6989586621679074167"><span class="hs-identifier hs-type">maker</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679074170"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679074168"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="System.Process.ListLike.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074170"><span class="hs-identifier hs-type">text</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-198"></span><span id="run%27"><span class="annot"><span class="annottext">run' :: maker -&gt; text -&gt; m [Chunk text]
</span><a href="System.Process.Run.html#run%27"><span class="hs-identifier hs-var hs-var">run'</span></a></span></span><span> </span><span id="local-6989586621679073947"><span class="annot"><span class="annottext">maker
</span><a href="#local-6989586621679073947"><span class="hs-identifier hs-var">maker</span></a></span></span><span> </span><span id="local-6989586621679073946"><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073946"><span class="hs-identifier hs-var">input</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-199"></span><span>  </span><span id="local-6989586621679073945"><span class="annot"><span class="annottext">RunState text
</span><a href="#local-6989586621679073945"><span class="hs-identifier hs-var">st0</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m (RunState text)
forall s (m :: * -&gt; *). MonadState s m =&gt; m s
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">get</span></a></span><span>
</span><span id="line-200"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RunState text -&gt; Bool
forall text. RunState text -&gt; Bool
</span><a href="System.Process.Run.html#_echoStart"><span class="hs-identifier hs-var hs-var">_echoStart</span></a></span><span> </span><span class="annot"><span class="annottext">RunState text
</span><a href="#local-6989586621679073945"><span class="hs-identifier hs-var">st0</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO () -&gt; m ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; m ()) -&gt; IO () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Handle -&gt; String -&gt; IO ()
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">hPutStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">stderr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-&gt; &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">maker -&gt; String
forall a. ProcessMaker a =&gt; a -&gt; String
</span><a href="System.Process.Common.html#showProcessMakerForUser"><span class="hs-identifier hs-var">showProcessMakerForUser</span></a></span><span> </span><span class="annot"><span class="annottext">maker
</span><a href="#local-6989586621679073947"><span class="hs-identifier hs-var">maker</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-201"></span><span>  </span><span id="local-6989586621679073943"><span class="annot"><span class="annottext">[Chunk text]
</span><a href="#local-6989586621679073943"><span class="hs-identifier hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO [Chunk text] -&gt; m [Chunk text]
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO [Chunk text] -&gt; m [Chunk text])
-&gt; IO [Chunk text] -&gt; m [Chunk text]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">RunState text -&gt; Bool
forall text. RunState text -&gt; Bool
</span><a href="System.Process.Run.html#_lazy"><span class="hs-identifier hs-var hs-var">_lazy</span></a></span><span> </span><span class="annot"><span class="annottext">RunState text
</span><a href="#local-6989586621679073945"><span class="hs-identifier hs-var">st0</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">maker -&gt; text -&gt; IO [Chunk text]
forall maker a b c.
(ProcessMaker maker, ProcessResult a b, ListLikeProcessIO a c) =&gt;
maker -&gt; a -&gt; IO b
</span><a href="System.Process.Common.html#readCreateProcessLazy"><span class="hs-identifier hs-var">readCreateProcessLazy</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">maker -&gt; text -&gt; IO [Chunk text]
forall maker a b c.
(ProcessMaker maker, ProcessResult a b, ListLikeProcessIO a c) =&gt;
maker -&gt; a -&gt; IO b
</span><a href="System.Process.ListLike.html#readCreateProcess"><span class="hs-identifier hs-var">readCreateProcess</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">maker
</span><a href="#local-6989586621679073947"><span class="hs-identifier hs-var">maker</span></a></span><span> </span><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073946"><span class="hs-identifier hs-var">input</span></a></span><span> </span><span class="annot"><span class="annottext">IO [Chunk text]
-&gt; ([Chunk text] -&gt; IO [Chunk text]) -&gt; IO [Chunk text]
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">RunState text -&gt; [Chunk text] -&gt; IO [Chunk text]
</span><a href="#local-6989586621679073940"><span class="hs-identifier hs-var">doOutput</span></a></span><span> </span><span class="annot"><span class="annottext">RunState text
</span><a href="#local-6989586621679073945"><span class="hs-identifier hs-var">st0</span></a></span><span>
</span><span id="line-202"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RunState text -&gt; Bool
forall text. RunState text -&gt; Bool
</span><a href="System.Process.Run.html#_echoEnd"><span class="hs-identifier hs-var hs-var">_echoEnd</span></a></span><span> </span><span class="annot"><span class="annottext">RunState text
</span><a href="#local-6989586621679073945"><span class="hs-identifier hs-var">st0</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO () -&gt; m ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; m ()) -&gt; IO () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Handle -&gt; String -&gt; IO ()
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">hPutStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">stderr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&lt;- &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">maker -&gt; String
forall a. ProcessMaker a =&gt; a -&gt; String
</span><a href="System.Process.Common.html#showProcessMakerForUser"><span class="hs-identifier hs-var">showProcessMakerForUser</span></a></span><span> </span><span class="annot"><span class="annottext">maker
</span><a href="#local-6989586621679073947"><span class="hs-identifier hs-var">maker</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-203"></span><span>  </span><span class="annot"><span class="annottext">[Chunk text] -&gt; m [Chunk text]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">[Chunk text]
</span><a href="#local-6989586621679073943"><span class="hs-identifier hs-var">result</span></a></span><span>
</span><span id="line-204"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-205"></span><span>      </span><span class="annot"><a href="#local-6989586621679073940"><span class="hs-identifier hs-type">doOutput</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Process.Run.html#RunState"><span class="hs-identifier hs-type">RunState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074170"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="System.Process.ListLike.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074170"><span class="hs-identifier hs-type">text</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="System.Process.ListLike.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074170"><span class="hs-identifier hs-type">text</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-206"></span><span>      </span><span id="local-6989586621679073940"><span class="annot"><span class="annottext">doOutput :: RunState text -&gt; [Chunk text] -&gt; IO [Chunk text]
</span><a href="#local-6989586621679073940"><span class="hs-identifier hs-var hs-var">doOutput</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Process.Run.html#RunState"><span class="hs-identifier hs-type">RunState</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">_output :: forall text. RunState text -&gt; OutputStyle
</span><a href="System.Process.Run.html#_output"><span class="hs-identifier hs-var">_output</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="System.Process.Run.html#Dots"><span class="hs-identifier hs-type">Dots</span></a></span><span> </span><span id="local-6989586621679073939"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679073939"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679073938"><span class="annot"><span class="annottext">[Chunk text]
</span><a href="#local-6989586621679073938"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Chunk text] -&gt; IO [Chunk text]
forall text char.
(ListLikeProcessIO text char, Dot char) =&gt;
Int -&gt; [Chunk text] -&gt; IO [Chunk text]
</span><a href="System.Process.Run.html#putDotsLn"><span class="hs-identifier hs-var">putDotsLn</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679073939"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">[Chunk text]
</span><a href="#local-6989586621679073938"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-207"></span><span>      </span><span class="annot"><a href="#local-6989586621679073940"><span class="hs-identifier hs-var">doOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Process.Run.html#RunState"><span class="hs-identifier hs-type">RunState</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">_output :: forall text. RunState text -&gt; OutputStyle
</span><a href="System.Process.Run.html#_output"><span class="hs-identifier hs-var">_output</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OutputStyle
</span><a href="System.Process.Run.html#Silent"><span class="hs-identifier hs-var">Silent</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679073936"><span class="annot"><span class="annottext">[Chunk text]
</span><a href="#local-6989586621679073936"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Chunk text] -&gt; IO [Chunk text]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">[Chunk text]
</span><a href="#local-6989586621679073936"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-208"></span><span>      </span><span class="annot"><a href="#local-6989586621679073940"><span class="hs-identifier hs-var">doOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Process.Run.html#RunState"><span class="hs-identifier hs-type">RunState</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">_output :: forall text. RunState text -&gt; OutputStyle
</span><a href="System.Process.Run.html#_output"><span class="hs-identifier hs-var">_output</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OutputStyle
</span><a href="System.Process.Run.html#All"><span class="hs-identifier hs-var">All</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679073935"><span class="annot"><span class="annottext">[Chunk text]
</span><a href="#local-6989586621679073935"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Chunk text] -&gt; IO [Chunk text]
forall a c. ListLikeIO a c =&gt; [Chunk a] -&gt; IO [Chunk a]
</span><a href="System.Process.ListLike.html#writeOutput"><span class="hs-identifier hs-var">writeOutput</span></a></span><span> </span><span class="annot"><span class="annottext">[Chunk text]
</span><a href="#local-6989586621679073935"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-209"></span><span>      </span><span class="annot"><a href="#local-6989586621679073940"><span class="hs-identifier hs-var">doOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Process.Run.html#RunState"><span class="hs-identifier hs-type">RunState</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">_output :: forall text. RunState text -&gt; OutputStyle
</span><a href="System.Process.Run.html#_output"><span class="hs-identifier hs-var">_output</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OutputStyle
</span><a href="System.Process.Run.html#Indented"><span class="hs-identifier hs-var">Indented</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_outprefix :: forall text. RunState text -&gt; text
</span><a href="System.Process.Run.html#_outprefix"><span class="hs-identifier hs-var">_outprefix</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679073933"><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073933"><span class="hs-identifier hs-var">outp</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">_errprefix :: forall text. RunState text -&gt; text
</span><a href="System.Process.Run.html#_errprefix"><span class="hs-identifier hs-var">_errprefix</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679073932"><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073932"><span class="hs-identifier hs-var">errp</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679073931"><span class="annot"><span class="annottext">[Chunk text]
</span><a href="#local-6989586621679073931"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">text -&gt; text -&gt; [Chunk text] -&gt; IO [Chunk text]
forall text char.
(ListLikeProcessIO text char, Eq char, IsString text) =&gt;
text -&gt; text -&gt; [Chunk text] -&gt; IO [Chunk text]
</span><a href="System.Process.Run.html#writeOutputIndented"><span class="hs-identifier hs-var">writeOutputIndented</span></a></span><span> </span><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073933"><span class="hs-identifier hs-var">outp</span></a></span><span> </span><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073932"><span class="hs-identifier hs-var">errp</span></a></span><span> </span><span class="annot"><span class="annottext">[Chunk text]
</span><a href="#local-6989586621679073931"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-210"></span><span>
</span><span id="line-211"></span><span class="annot"><a href="System.Process.Run.html#run"><span class="hs-identifier hs-type">run</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679073929"><span class="annot"><a href="#local-6989586621679073929"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679073928"><span class="annot"><a href="#local-6989586621679073928"><span class="hs-identifier hs-type">maker</span></a></span></span><span> </span><span id="local-6989586621679073927"><span class="annot"><a href="#local-6989586621679073927"><span class="hs-identifier hs-type">text</span></a></span></span><span> </span><span id="local-6989586621679073926"><span class="annot"><a href="#local-6989586621679073926"><span class="hs-identifier hs-type">char</span></a></span></span><span> </span><span id="local-6989586621679073925"><span class="annot"><a href="#local-6989586621679073925"><span class="hs-identifier hs-type">result</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-212"></span><span>       </span><span class="hs-special">(</span><span class="annot"><a href="System.Process.Run.html#RunM"><span class="hs-identifier hs-type">RunM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073927"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073926"><span class="hs-identifier hs-type">char</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073929"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-213"></span><span>        </span><span class="annot"><a href="System.Process.Common.html#ProcessMaker"><span class="hs-identifier hs-type">ProcessMaker</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073928"><span class="hs-identifier hs-type">maker</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-214"></span><span>        </span><span class="annot"><a href="System.Process.Common.html#ProcessResult"><span class="hs-identifier hs-type">ProcessResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073927"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073925"><span class="hs-identifier hs-type">result</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-215"></span><span>       </span><span class="annot"><a href="#local-6989586621679073928"><span class="hs-identifier hs-type">maker</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679073927"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679073929"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073925"><span class="hs-identifier hs-type">result</span></a></span><span>
</span><span id="line-216"></span><span id="run"><span class="annot"><span class="annottext">run :: maker -&gt; text -&gt; m result
</span><a href="System.Process.Run.html#run"><span class="hs-identifier hs-var hs-var">run</span></a></span></span><span> </span><span id="local-6989586621679073924"><span class="annot"><span class="annottext">maker
</span><a href="#local-6989586621679073924"><span class="hs-identifier hs-var">maker</span></a></span></span><span> </span><span id="local-6989586621679073923"><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073923"><span class="hs-identifier hs-var">input</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">maker -&gt; text -&gt; m [Chunk text]
forall (m :: * -&gt; *) maker text char.
(RunM text char m, ProcessMaker maker) =&gt;
maker -&gt; text -&gt; m [Chunk text]
</span><a href="System.Process.Run.html#run%27"><span class="hs-identifier hs-var">run'</span></a></span><span> </span><span class="annot"><span class="annottext">maker
</span><a href="#local-6989586621679073924"><span class="hs-identifier hs-var">maker</span></a></span><span> </span><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073923"><span class="hs-identifier hs-var">input</span></a></span><span> </span><span class="annot"><span class="annottext">m [Chunk text] -&gt; ([Chunk text] -&gt; m result) -&gt; m result
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">result -&gt; m result
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(result -&gt; m result)
-&gt; ([Chunk text] -&gt; result) -&gt; [Chunk text] -&gt; m result
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[Chunk text] -&gt; result
forall a b. ProcessResult a b =&gt; [Chunk a] -&gt; b
</span><a href="System.Process.ListLike.html#collectOutput"><span class="hs-identifier hs-var">collectOutput</span></a></span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span class="hs-comment">-- | Output the dotified text of a chunk list with a newline at EOF.</span><span>
</span><span id="line-219"></span><span class="hs-comment">-- Returns the original list.</span><span>
</span><span id="line-220"></span><span id="local-6989586621679074180"><span id="local-6989586621679074181"><span class="annot"><a href="System.Process.Run.html#putDotsLn"><span class="hs-identifier hs-type">putDotsLn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Process.Common.html#ListLikeProcessIO"><span class="hs-identifier hs-type">ListLikeProcessIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074181"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074180"><span class="hs-identifier hs-type">char</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Process.Run.html#Dot"><span class="hs-identifier hs-type">Dot</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074180"><span class="hs-identifier hs-type">char</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-221"></span><span>             </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="System.Process.ListLike.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074181"><span class="hs-identifier hs-type">text</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="System.Process.ListLike.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074181"><span class="hs-identifier hs-type">text</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-222"></span><span id="putDotsLn"><span class="annot"><span class="annottext">putDotsLn :: Int -&gt; [Chunk text] -&gt; IO [Chunk text]
</span><a href="System.Process.Run.html#putDotsLn"><span class="hs-identifier hs-var hs-var">putDotsLn</span></a></span></span><span> </span><span id="local-6989586621679073920"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679073920"><span class="hs-identifier hs-var">cpd</span></a></span></span><span> </span><span id="local-6989586621679073919"><span class="annot"><span class="annottext">[Chunk text]
</span><a href="#local-6989586621679073919"><span class="hs-identifier hs-var">chunks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Chunk text] -&gt; IO [Chunk text]
forall text char.
(ListLikeProcessIO text char, Dot char) =&gt;
Int -&gt; [Chunk text] -&gt; IO [Chunk text]
</span><a href="System.Process.Run.html#putDots"><span class="hs-identifier hs-var">putDots</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679073920"><span class="hs-identifier hs-var">cpd</span></a></span><span> </span><span class="annot"><span class="annottext">[Chunk text]
</span><a href="#local-6989586621679073919"><span class="hs-identifier hs-var">chunks</span></a></span><span> </span><span class="annot"><span class="annottext">IO [Chunk text]
-&gt; ([Chunk text] -&gt; IO [Chunk text]) -&gt; IO [Chunk text]
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621679073917"><span class="annot"><span class="annottext">[Chunk text]
</span><a href="#local-6989586621679073917"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Handle -&gt; String -&gt; IO ()
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">System.IO.hPutStr</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">stderr</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\n&quot;</span></span><span> </span><span class="annot"><span class="annottext">IO () -&gt; IO [Chunk text] -&gt; IO [Chunk text]
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Chunk text] -&gt; IO [Chunk text]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">[Chunk text]
</span><a href="#local-6989586621679073917"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span class="hs-comment">-- | Output the dotified text of a chunk list. Returns the original</span><span>
</span><span id="line-225"></span><span class="hs-comment">-- (undotified) list.</span><span>
</span><span id="line-226"></span><span id="local-6989586621679073915"><span id="local-6989586621679073916"><span class="annot"><a href="System.Process.Run.html#putDots"><span class="hs-identifier hs-type">putDots</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Process.Common.html#ListLikeProcessIO"><span class="hs-identifier hs-type">ListLikeProcessIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073916"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073915"><span class="hs-identifier hs-type">char</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Process.Run.html#Dot"><span class="hs-identifier hs-type">Dot</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073915"><span class="hs-identifier hs-type">char</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="System.Process.ListLike.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073916"><span class="hs-identifier hs-type">text</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="System.Process.ListLike.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679073916"><span class="hs-identifier hs-type">text</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-227"></span><span id="putDots"><span class="annot"><span class="annottext">putDots :: Int -&gt; [Chunk text] -&gt; IO [Chunk text]
</span><a href="System.Process.Run.html#putDots"><span class="hs-identifier hs-var hs-var">putDots</span></a></span></span><span> </span><span id="local-6989586621679073914"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679073914"><span class="hs-identifier hs-var">charsPerDot</span></a></span></span><span> </span><span id="local-6989586621679073913"><span class="annot"><span class="annottext">[Chunk text]
</span><a href="#local-6989586621679073913"><span class="hs-identifier hs-var">chunks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-228"></span><span>    </span><span class="annot"><span class="annottext">StateT Int IO [Chunk text] -&gt; Int -&gt; IO [Chunk text]
forall (m :: * -&gt; *) s a. Monad m =&gt; StateT s m a -&gt; s -&gt; m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">evalStateT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Chunk text -&gt; StateT Int IO (Chunk text))
-&gt; [Chunk text] -&gt; StateT Int IO [Chunk text]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621679073911"><span class="annot"><span class="annottext">Chunk text
</span><a href="#local-6989586621679073911"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Chunk text -&gt; StateT Int IO [Chunk text]
forall text char (m :: * -&gt; *).
(Monad m, ListLike text char, Dot char) =&gt;
Int -&gt; Chunk text -&gt; StateT Int m [Chunk text]
</span><a href="System.Process.Run.html#dotifyChunk"><span class="hs-identifier hs-var">dotifyChunk</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679073914"><span class="hs-identifier hs-var">charsPerDot</span></a></span><span> </span><span class="annot"><span class="annottext">Chunk text
</span><a href="#local-6989586621679073911"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">StateT Int IO [Chunk text]
-&gt; ([Chunk text] -&gt; StateT Int IO ()) -&gt; StateT Int IO ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">(Chunk text -&gt; StateT Int IO ())
-&gt; [Chunk text] -&gt; StateT Int IO ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mapM_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO () -&gt; StateT Int IO ()
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; StateT Int IO ())
-&gt; (Chunk text -&gt; IO ()) -&gt; Chunk text -&gt; StateT Int IO ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Chunk text -&gt; IO ()
forall text char.
ListLikeProcessIO text char =&gt;
Chunk text -&gt; IO ()
</span><a href="System.Process.Run.html#putChunk"><span class="hs-identifier hs-var">putChunk</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">StateT Int IO ()
-&gt; StateT Int IO (Chunk text) -&gt; StateT Int IO (Chunk text)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Chunk text -&gt; StateT Int IO (Chunk text)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Chunk text
</span><a href="#local-6989586621679073911"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Chunk text]
</span><a href="#local-6989586621679073913"><span class="hs-identifier hs-var">chunks</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-229"></span><span>
</span><span id="line-230"></span><span class="hs-comment">-- | dotifyChunk charsPerDot dot chunk - Replaces every charsPerDot</span><span>
</span><span id="line-231"></span><span class="hs-comment">-- characters in the Stdout and Stderr chunks with one dot.  Runs in</span><span>
</span><span id="line-232"></span><span class="hs-comment">-- the state monad to keep track of how many characters had been seen</span><span>
</span><span id="line-233"></span><span class="hs-comment">-- when the previous chunk finished.  chunks.</span><span>
</span><span id="line-234"></span><span class="annot"><a href="System.Process.Run.html#dotifyChunk"><span class="hs-identifier hs-type">dotifyChunk</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679074154"><span class="annot"><a href="#local-6989586621679074154"><span class="hs-identifier hs-type">text</span></a></span></span><span> </span><span id="local-6989586621679074153"><span class="annot"><a href="#local-6989586621679074153"><span class="hs-identifier hs-type">char</span></a></span></span><span> </span><span id="local-6989586621679074155"><span class="annot"><a href="#local-6989586621679074155"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monad</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074155"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ListLike/html/src"><span class="hs-identifier hs-type">ListLike</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074154"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074153"><span class="hs-identifier hs-type">char</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Process.Run.html#Dot"><span class="hs-identifier hs-type">Dot</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074153"><span class="hs-identifier hs-type">char</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-235"></span><span>               </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="System.Process.ListLike.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074154"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier hs-type">StateT</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074155"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="System.Process.ListLike.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074154"><span class="hs-identifier hs-type">text</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-236"></span><span id="dotifyChunk"><span class="annot"><span class="annottext">dotifyChunk :: Int -&gt; Chunk text -&gt; StateT Int m [Chunk text]
</span><a href="System.Process.Run.html#dotifyChunk"><span class="hs-identifier hs-var hs-var">dotifyChunk</span></a></span></span><span> </span><span id="local-6989586621679073907"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679073907"><span class="hs-identifier hs-var">charsPerDot</span></a></span></span><span> </span><span id="local-6989586621679073906"><span class="annot"><span class="annottext">Chunk text
</span><a href="#local-6989586621679073906"><span class="hs-identifier hs-var">chunk</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-237"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Chunk text
</span><a href="#local-6989586621679073906"><span class="hs-identifier hs-var">chunk</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-238"></span><span>      </span><span class="annot"><a href="System.Process.ListLike.html#Stdout"><span class="hs-identifier hs-type">Stdout</span></a></span><span> </span><span id="local-6989586621679073904"><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073904"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; StateT Int m [Chunk text]
</span><a href="#local-6989586621679073903"><span class="hs-identifier hs-var">doChars</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">text -&gt; Int
forall full item. ListLike full item =&gt; full -&gt; Int
</span><a href="../../../../ListLike/html/src"><span class="hs-identifier hs-var">ListLike.length</span></a></span><span> </span><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073904"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-239"></span><span>      </span><span class="annot"><a href="System.Process.ListLike.html#Stderr"><span class="hs-identifier hs-type">Stderr</span></a></span><span> </span><span id="local-6989586621679073901"><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073901"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; StateT Int m [Chunk text]
</span><a href="#local-6989586621679073903"><span class="hs-identifier hs-var">doChars</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">text -&gt; Int
forall full item. ListLike full item =&gt; full -&gt; Int
</span><a href="../../../../ListLike/html/src"><span class="hs-identifier hs-var">ListLike.length</span></a></span><span> </span><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073901"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-240"></span><span>      </span><span class="annot"><span class="annottext">Chunk text
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Chunk text] -&gt; StateT Int m [Chunk text]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Chunk text
</span><a href="#local-6989586621679073906"><span class="hs-identifier hs-var">chunk</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-241"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-242"></span><span>      </span><span class="annot"><a href="#local-6989586621679073903"><span class="hs-identifier hs-type">doChars</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier hs-type">StateT</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074155"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="System.Process.ListLike.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074154"><span class="hs-identifier hs-type">text</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-243"></span><span>      </span><span id="local-6989586621679073903"><span class="annot"><span class="annottext">doChars :: Int -&gt; StateT Int m [Chunk text]
</span><a href="#local-6989586621679073903"><span class="hs-identifier hs-var hs-var">doChars</span></a></span></span><span> </span><span id="local-6989586621679073900"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679073900"><span class="hs-identifier hs-var">count</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-244"></span><span>        </span><span id="local-6989586621679073899"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679073899"><span class="hs-identifier hs-var">remaining</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">StateT Int m Int
forall s (m :: * -&gt; *). MonadState s m =&gt; m s
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">get</span></a></span><span>
</span><span id="line-245"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679073898"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679073898"><span class="hs-identifier hs-var">count'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679073897"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679073897"><span class="hs-identifier hs-var">remaining'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; (Int, Int)
forall a. Integral a =&gt; a -&gt; a -&gt; (a, a)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">divMod</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679073899"><span class="hs-identifier hs-var">remaining</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679073900"><span class="hs-identifier hs-var">count</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679073907"><span class="hs-identifier hs-var">charsPerDot</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-246"></span><span>        </span><span class="annot"><span class="annottext">Int -&gt; StateT Int m ()
forall s (m :: * -&gt; *). MonadState s m =&gt; s -&gt; m ()
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">put</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679073897"><span class="hs-identifier hs-var">remaining'</span></a></span><span>
</span><span id="line-247"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679073898"><span class="hs-identifier hs-var">count'</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">[Chunk text] -&gt; StateT Int m [Chunk text]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">text -&gt; Chunk text
forall a. a -&gt; Chunk a
</span><a href="System.Process.ListLike.html#Stderr"><span class="hs-identifier hs-var">Stderr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Item text] -&gt; text
forall l. IsList l =&gt; [Item l] -&gt; l
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">ListLike.fromList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; char -&gt; [char]
forall a. Int -&gt; a -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">replicate</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679073898"><span class="hs-identifier hs-var">count'</span></a></span><span> </span><span class="annot"><span class="annottext">char
forall c. Dot c =&gt; c
</span><a href="System.Process.Run.html#dot"><span class="hs-identifier hs-var">dot</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">[Chunk text] -&gt; StateT Int m [Chunk text]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-248"></span><span>
</span><span id="line-249"></span><span class="hs-comment">-- | Write the Stdout chunks to stdout and the Stderr chunks to stderr.</span><span>
</span><span id="line-250"></span><span id="local-6989586621679074143"><span id="local-6989586621679074144"><span class="annot"><a href="System.Process.Run.html#putChunk"><span class="hs-identifier hs-type">putChunk</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Process.Common.html#ListLikeProcessIO"><span class="hs-identifier hs-type">ListLikeProcessIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074144"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074143"><span class="hs-identifier hs-type">char</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="System.Process.ListLike.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074144"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-251"></span><span id="putChunk"><span class="annot"><span class="annottext">putChunk :: Chunk text -&gt; IO ()
</span><a href="System.Process.Run.html#putChunk"><span class="hs-identifier hs-var hs-var">putChunk</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Process.ListLike.html#Stdout"><span class="hs-identifier hs-type">Stdout</span></a></span><span> </span><span id="local-6989586621679073893"><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073893"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">text -&gt; IO ()
forall full item. ListLikeIO full item =&gt; full -&gt; IO ()
</span><a href="../../../../ListLike/html/src"><span class="hs-identifier hs-var">ListLike.putStr</span></a></span><span> </span><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073893"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-252"></span><span class="annot"><a href="System.Process.Run.html#putChunk"><span class="hs-identifier hs-var">putChunk</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Process.ListLike.html#Stderr"><span class="hs-identifier hs-type">Stderr</span></a></span><span> </span><span id="local-6989586621679073892"><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073892"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Handle -&gt; text -&gt; IO ()
forall full item. ListLikeIO full item =&gt; Handle -&gt; full -&gt; IO ()
</span><a href="../../../../ListLike/html/src"><span class="hs-identifier hs-var">ListLike.hPutStr</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">stderr</span></a></span><span> </span><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073892"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-253"></span><span class="annot"><a href="System.Process.Run.html#putChunk"><span class="hs-identifier hs-var">putChunk</span></a></span><span> </span><span class="annot"><span class="annottext">Chunk text
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; IO ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-254"></span><span>
</span><span id="line-255"></span><span id="local-6989586621679074175"><span id="local-6989586621679074176"><span class="annot"><a href="System.Process.Run.html#writeOutputIndented"><span class="hs-identifier hs-type">writeOutputIndented</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Process.Common.html#ListLikeProcessIO"><span class="hs-identifier hs-type">ListLikeProcessIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074176"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074175"><span class="hs-identifier hs-type">char</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074175"><span class="hs-identifier hs-type">char</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">IsString</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074176"><span class="hs-identifier hs-type">text</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-256"></span><span>                       </span><span class="annot"><a href="#local-6989586621679074176"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679074176"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="System.Process.ListLike.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074176"><span class="hs-identifier hs-type">text</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="System.Process.ListLike.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074176"><span class="hs-identifier hs-type">text</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-257"></span><span id="writeOutputIndented"><span class="annot"><span class="annottext">writeOutputIndented :: text -&gt; text -&gt; [Chunk text] -&gt; IO [Chunk text]
</span><a href="System.Process.Run.html#writeOutputIndented"><span class="hs-identifier hs-var hs-var">writeOutputIndented</span></a></span></span><span> </span><span id="local-6989586621679073891"><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073891"><span class="hs-identifier hs-var">outp</span></a></span></span><span> </span><span id="local-6989586621679073890"><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073890"><span class="hs-identifier hs-var">errp</span></a></span></span><span> </span><span id="local-6989586621679073889"><span class="annot"><span class="annottext">[Chunk text]
</span><a href="#local-6989586621679073889"><span class="hs-identifier hs-var">chunks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-258"></span><span>    </span><span class="annot"><span class="annottext">((Chunk text, [Chunk text]) -&gt; IO (Chunk text))
-&gt; [(Chunk text, [Chunk text])] -&gt; IO [Chunk text]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679073888"><span class="annot"><span class="annottext">Chunk text
</span><a href="#local-6989586621679073888"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679073887"><span class="annot"><span class="annottext">[Chunk text]
</span><a href="#local-6989586621679073887"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Chunk text -&gt; IO (Chunk text)) -&gt; [Chunk text] -&gt; IO ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mapM_</span></a></span><span> </span><span class="annot"><span class="annottext">Chunk text -&gt; IO (Chunk text)
forall a c. ListLikeIO a c =&gt; Chunk a -&gt; IO (Chunk a)
</span><a href="System.Process.ListLike.html#writeChunk"><span class="hs-identifier hs-var">writeChunk</span></a></span><span> </span><span class="annot"><span class="annottext">[Chunk text]
</span><a href="#local-6989586621679073887"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="annot"><span class="annottext">IO () -&gt; IO (Chunk text) -&gt; IO (Chunk text)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Chunk text -&gt; IO (Chunk text)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Chunk text
</span><a href="#local-6989586621679073888"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">text -&gt; text -&gt; [Chunk text] -&gt; [(Chunk text, [Chunk text])]
forall text char.
(ListLikeProcessIO text char, Eq char, IsString text) =&gt;
text -&gt; text -&gt; [Chunk text] -&gt; [(Chunk text, [Chunk text])]
</span><a href="System.Process.Run.html#indentChunks"><span class="hs-identifier hs-var">indentChunks</span></a></span><span> </span><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073891"><span class="hs-identifier hs-var">outp</span></a></span><span> </span><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073890"><span class="hs-identifier hs-var">errp</span></a></span><span> </span><span class="annot"><span class="annottext">[Chunk text]
</span><a href="#local-6989586621679073889"><span class="hs-identifier hs-var">chunks</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-259"></span><span>
</span><span id="line-260"></span><span class="hs-comment">-- | Pure function to indent the text of a chunk list.</span><span>
</span><span id="line-261"></span><span class="annot"><a href="System.Process.Run.html#indentChunks"><span class="hs-identifier hs-type">indentChunks</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679074127"><span class="annot"><a href="#local-6989586621679074127"><span class="hs-identifier hs-type">text</span></a></span></span><span> </span><span id="local-6989586621679074126"><span class="annot"><a href="#local-6989586621679074126"><span class="hs-identifier hs-type">char</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Process.Common.html#ListLikeProcessIO"><span class="hs-identifier hs-type">ListLikeProcessIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074127"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074126"><span class="hs-identifier hs-type">char</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074126"><span class="hs-identifier hs-type">char</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">IsString</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074127"><span class="hs-identifier hs-type">text</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-262"></span><span>                </span><span class="annot"><a href="#local-6989586621679074127"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679074127"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="System.Process.ListLike.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074127"><span class="hs-identifier hs-type">text</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="System.Process.ListLike.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074127"><span class="hs-identifier hs-type">text</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="System.Process.ListLike.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074127"><span class="hs-identifier hs-type">text</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-263"></span><span id="indentChunks"><span class="annot"><span class="annottext">indentChunks :: text -&gt; text -&gt; [Chunk text] -&gt; [(Chunk text, [Chunk text])]
</span><a href="System.Process.Run.html#indentChunks"><span class="hs-identifier hs-var hs-var">indentChunks</span></a></span></span><span> </span><span id="local-6989586621679073884"><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073884"><span class="hs-identifier hs-var">outp</span></a></span></span><span> </span><span id="local-6989586621679073883"><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073883"><span class="hs-identifier hs-var">errp</span></a></span></span><span> </span><span id="local-6989586621679073882"><span class="annot"><span class="annottext">[Chunk text]
</span><a href="#local-6989586621679073882"><span class="hs-identifier hs-var">chunks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-264"></span><span>    </span><span class="annot"><span class="annottext">State BOL [(Chunk text, [Chunk text])]
-&gt; BOL -&gt; [(Chunk text, [Chunk text])]
forall s a. State s a -&gt; s -&gt; a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">evalState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Chunk text -&gt; StateT BOL Identity (Chunk text, [Chunk text]))
-&gt; [Chunk text] -&gt; State BOL [(Chunk text, [Chunk text])]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">char
-&gt; text
-&gt; text
-&gt; Chunk text
-&gt; StateT BOL Identity (Chunk text, [Chunk text])
forall (m :: * -&gt; *) text char.
(Eq char, ListLike text char, MonadState BOL m) =&gt;
char -&gt; text -&gt; text -&gt; Chunk text -&gt; m (Chunk text, [Chunk text])
</span><a href="System.Process.Run.html#indentChunk"><span class="hs-identifier hs-var">indentChunk</span></a></span><span> </span><span class="annot"><span class="annottext">char
</span><a href="#local-6989586621679073880"><span class="hs-identifier hs-var">nl</span></a></span><span> </span><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073884"><span class="hs-identifier hs-var">outp</span></a></span><span> </span><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073883"><span class="hs-identifier hs-var">errp</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Chunk text]
</span><a href="#local-6989586621679073882"><span class="hs-identifier hs-var">chunks</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">BOL
</span><a href="System.Process.Run.html#BOL"><span class="hs-identifier hs-var">BOL</span></a></span><span>
</span><span id="line-265"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-266"></span><span>      </span><span class="annot"><a href="#local-6989586621679073880"><span class="hs-identifier hs-type">nl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679074126"><span class="hs-identifier hs-type">char</span></a></span><span>
</span><span id="line-267"></span><span>      </span><span id="local-6989586621679073880"><span class="annot"><span class="annottext">nl :: char
</span><a href="#local-6989586621679073880"><span class="hs-identifier hs-var hs-var">nl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">text -&gt; char
forall full item. ListLike full item =&gt; full -&gt; item
</span><a href="../../../../ListLike/html/src"><span class="hs-identifier hs-var">ListLike.head</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; text
forall a. IsString a =&gt; String -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\n&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679074127"><span class="hs-identifier hs-type">text</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-268"></span><span>
</span><span id="line-269"></span><span class="hs-comment">-- | The monad state, are we at the beginning of a line or the middle?</span><span>
</span><span id="line-270"></span><span class="hs-keyword">data</span><span> </span><span id="BOL"><span class="annot"><a href="System.Process.Run.html#BOL"><span class="hs-identifier hs-var">BOL</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="BOL"><span class="annot"><a href="System.Process.Run.html#BOL"><span class="hs-identifier hs-var">BOL</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="MOL"><span class="annot"><a href="System.Process.Run.html#MOL"><span class="hs-identifier hs-var">MOL</span></a></span></span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679073874"><span id="local-6989586621679073876"><span class="annot"><span class="annottext">BOL -&gt; BOL -&gt; Bool
(BOL -&gt; BOL -&gt; Bool) -&gt; (BOL -&gt; BOL -&gt; Bool) -&gt; Eq BOL
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: BOL -&gt; BOL -&gt; Bool
$c/= :: BOL -&gt; BOL -&gt; Bool
== :: BOL -&gt; BOL -&gt; Bool
$c== :: BOL -&gt; BOL -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-271"></span><span>
</span><span id="line-272"></span><span class="hs-comment">-- | Indent the text of a chunk with the prefixes given for stdout and</span><span>
</span><span id="line-273"></span><span class="hs-comment">-- stderr.  The state monad keeps track of whether we are at the</span><span>
</span><span id="line-274"></span><span class="hs-comment">-- beginning of a line - when we are and more text comes we insert one</span><span>
</span><span id="line-275"></span><span class="hs-comment">-- of the prefixes.</span><span>
</span><span id="line-276"></span><span class="annot"><a href="System.Process.Run.html#indentChunk"><span class="hs-identifier hs-type">indentChunk</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679074116"><span class="annot"><a href="#local-6989586621679074116"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679074117"><span class="annot"><a href="#local-6989586621679074117"><span class="hs-identifier hs-type">text</span></a></span></span><span> </span><span id="local-6989586621679074118"><span class="annot"><a href="#local-6989586621679074118"><span class="hs-identifier hs-type">char</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-277"></span><span>               </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074118"><span class="hs-identifier hs-type">char</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ListLike/html/src"><span class="hs-identifier hs-type">ListLike</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074117"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074118"><span class="hs-identifier hs-type">char</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../mtl/html/src"><span class="hs-identifier hs-type">MonadState</span></a></span><span> </span><span class="annot"><a href="System.Process.Run.html#BOL"><span class="hs-identifier hs-type">BOL</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074116"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-278"></span><span>               </span><span class="annot"><a href="#local-6989586621679074118"><span class="hs-identifier hs-type">char</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679074117"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679074117"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="System.Process.ListLike.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074117"><span class="hs-identifier hs-type">text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679074116"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Process.ListLike.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074117"><span class="hs-identifier hs-type">text</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="System.Process.ListLike.html#Chunk"><span class="hs-identifier hs-type">Chunk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679074117"><span class="hs-identifier hs-type">text</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-279"></span><span id="indentChunk"><span class="annot"><span class="annottext">indentChunk :: char -&gt; text -&gt; text -&gt; Chunk text -&gt; m (Chunk text, [Chunk text])
</span><a href="System.Process.Run.html#indentChunk"><span class="hs-identifier hs-var hs-var">indentChunk</span></a></span></span><span> </span><span id="local-6989586621679073872"><span class="annot"><span class="annottext">char
</span><a href="#local-6989586621679073872"><span class="hs-identifier hs-var">nl</span></a></span></span><span> </span><span id="local-6989586621679073871"><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073871"><span class="hs-identifier hs-var">outp</span></a></span></span><span> </span><span id="local-6989586621679073870"><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073870"><span class="hs-identifier hs-var">errp</span></a></span></span><span> </span><span id="local-6989586621679073869"><span class="annot"><span class="annottext">Chunk text
</span><a href="#local-6989586621679073869"><span class="hs-identifier hs-var">chunk</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-280"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Chunk text
</span><a href="#local-6989586621679073869"><span class="hs-identifier hs-var">chunk</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-281"></span><span>      </span><span class="annot"><a href="System.Process.ListLike.html#Stdout"><span class="hs-identifier hs-type">Stdout</span></a></span><span> </span><span id="local-6989586621679073868"><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073868"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(text -&gt; Chunk text) -&gt; text -&gt; text -&gt; m [Chunk text]
forall (m :: * -&gt; *) p a.
(MonadState BOL m, ListLike p (Item p), ListLike p char) =&gt;
(p -&gt; a) -&gt; p -&gt; p -&gt; m [a]
</span><a href="#local-6989586621679073867"><span class="hs-identifier hs-var">doText</span></a></span><span> </span><span class="annot"><span class="annottext">text -&gt; Chunk text
forall a. a -&gt; Chunk a
</span><a href="System.Process.ListLike.html#Stdout"><span class="hs-identifier hs-var">Stdout</span></a></span><span> </span><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073871"><span class="hs-identifier hs-var">outp</span></a></span><span> </span><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073868"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">m [Chunk text]
-&gt; ([Chunk text] -&gt; m (Chunk text, [Chunk text]))
-&gt; m (Chunk text, [Chunk text])
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">(Chunk text, [Chunk text]) -&gt; m (Chunk text, [Chunk text])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">((Chunk text, [Chunk text]) -&gt; m (Chunk text, [Chunk text]))
-&gt; ([Chunk text] -&gt; (Chunk text, [Chunk text]))
-&gt; [Chunk text]
-&gt; m (Chunk text, [Chunk text])
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Chunk text
</span><a href="#local-6989586621679073869"><span class="hs-identifier hs-var">chunk</span></a></span><span class="hs-special">,</span><span class="hs-special">)</span><span>
</span><span id="line-282"></span><span>      </span><span class="annot"><a href="System.Process.ListLike.html#Stderr"><span class="hs-identifier hs-type">Stderr</span></a></span><span> </span><span id="local-6989586621679073866"><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073866"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(text -&gt; Chunk text) -&gt; text -&gt; text -&gt; m [Chunk text]
forall (m :: * -&gt; *) p a.
(MonadState BOL m, ListLike p (Item p), ListLike p char) =&gt;
(p -&gt; a) -&gt; p -&gt; p -&gt; m [a]
</span><a href="#local-6989586621679073867"><span class="hs-identifier hs-var">doText</span></a></span><span> </span><span class="annot"><span class="annottext">text -&gt; Chunk text
forall a. a -&gt; Chunk a
</span><a href="System.Process.ListLike.html#Stderr"><span class="hs-identifier hs-var">Stderr</span></a></span><span> </span><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073870"><span class="hs-identifier hs-var">errp</span></a></span><span> </span><span class="annot"><span class="annottext">text
</span><a href="#local-6989586621679073866"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">m [Chunk text]
-&gt; ([Chunk text] -&gt; m (Chunk text, [Chunk text]))
-&gt; m (Chunk text, [Chunk text])
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">(Chunk text, [Chunk text]) -&gt; m (Chunk text, [Chunk text])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">((Chunk text, [Chunk text]) -&gt; m (Chunk text, [Chunk text]))
-&gt; ([Chunk text] -&gt; (Chunk text, [Chunk text]))
-&gt; [Chunk text]
-&gt; m (Chunk text, [Chunk text])
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Chunk text
</span><a href="#local-6989586621679073869"><span class="hs-identifier hs-var">chunk</span></a></span><span class="hs-special">,</span><span class="hs-special">)</span><span>
</span><span id="line-283"></span><span>      </span><span class="annot"><span class="annottext">Chunk text
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Chunk text, [Chunk text]) -&gt; m (Chunk text, [Chunk text])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Chunk text
</span><a href="#local-6989586621679073869"><span class="hs-identifier hs-var">chunk</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Chunk text
</span><a href="#local-6989586621679073869"><span class="hs-identifier hs-var">chunk</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-284"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-285"></span><span>      </span><span class="hs-comment">-- doText :: (a -&gt; Chunk a) -&gt; a -&gt; a -&gt; StateT BOL m [Chunk a]</span><span>
</span><span id="line-286"></span><span>      </span><span id="local-6989586621679073867"><span class="annot"><span class="annottext">doText :: (p -&gt; a) -&gt; p -&gt; p -&gt; m [a]
</span><a href="#local-6989586621679073867"><span class="hs-identifier hs-var hs-var">doText</span></a></span></span><span> </span><span id="local-6989586621679073865"><span class="annot"><span class="annottext">p -&gt; a
</span><a href="#local-6989586621679073865"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span id="local-6989586621679073864"><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679073864"><span class="hs-identifier hs-var">pre</span></a></span></span><span> </span><span id="local-6989586621679073863"><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679073863"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-287"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679073862"><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679073862"><span class="hs-identifier hs-var">hd</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679073861"><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679073861"><span class="hs-identifier hs-var">tl</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(char -&gt; Bool) -&gt; p -&gt; (p, p)
forall full item.
ListLike full item =&gt;
(item -&gt; Bool) -&gt; full -&gt; (full, full)
</span><a href="../../../../ListLike/html/src"><span class="hs-identifier hs-var">ListLike.break</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">char -&gt; char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">char
</span><a href="#local-6989586621679073872"><span class="hs-identifier hs-var">nl</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679073863"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-288"></span><span>        </span><span id="local-6989586621679073860"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679073860"><span class="hs-identifier hs-var">hd'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(p -&gt; a) -&gt; p -&gt; p -&gt; m [a]
forall t (m :: * -&gt; *) a.
(ListLike t (Item t), MonadState BOL m) =&gt;
(t -&gt; a) -&gt; t -&gt; t -&gt; m [a]
</span><a href="#local-6989586621679073859"><span class="hs-identifier hs-var">doHead</span></a></span><span> </span><span class="annot"><span class="annottext">p -&gt; a
</span><a href="#local-6989586621679073865"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679073864"><span class="hs-identifier hs-var">pre</span></a></span><span> </span><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679073862"><span class="hs-identifier hs-var">hd</span></a></span><span>
</span><span id="line-289"></span><span>        </span><span id="local-6989586621679073858"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679073858"><span class="hs-identifier hs-var">tl'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(p -&gt; a) -&gt; p -&gt; p -&gt; m [a]
</span><a href="#local-6989586621679073857"><span class="hs-identifier hs-var">doTail</span></a></span><span> </span><span class="annot"><span class="annottext">p -&gt; a
</span><a href="#local-6989586621679073865"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679073864"><span class="hs-identifier hs-var">pre</span></a></span><span> </span><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679073861"><span class="hs-identifier hs-var">tl</span></a></span><span>
</span><span id="line-290"></span><span>        </span><span class="annot"><span class="annottext">[a] -&gt; m [a]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; m [a]) -&gt; [a] -&gt; m [a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679073860"><span class="hs-identifier hs-var">hd'</span></a></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a] -&gt; [a]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679073858"><span class="hs-identifier hs-var">tl'</span></a></span><span>
</span><span id="line-291"></span><span>      </span><span class="hs-comment">-- doHead :: (a -&gt; Chunk a) -&gt; a -&gt; a -&gt; StateT BOL m [Chunk a]</span><span>
</span><span id="line-292"></span><span>      </span><span id="local-6989586621679073859"><span class="annot"><span class="annottext">doHead :: (t -&gt; a) -&gt; t -&gt; t -&gt; m [a]
</span><a href="#local-6989586621679073859"><span class="hs-identifier hs-var hs-var">doHead</span></a></span></span><span> </span><span class="annot"><span class="annottext">t -&gt; a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679073856"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679073856"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">t -&gt; Bool
forall full item. ListLike full item =&gt; full -&gt; Bool
</span><a href="../../../../ListLike/html/src"><span class="hs-identifier hs-var">ListLike.null</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679073856"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; m [a]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-293"></span><span>      </span><span class="annot"><a href="#local-6989586621679073859"><span class="hs-identifier hs-var">doHead</span></a></span><span> </span><span id="local-6989586621679073855"><span class="annot"><span class="annottext">t -&gt; a
</span><a href="#local-6989586621679073855"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span id="local-6989586621679073854"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679073854"><span class="hs-identifier hs-var">pre</span></a></span></span><span> </span><span id="local-6989586621679073853"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679073853"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-294"></span><span>        </span><span id="local-6989586621679073852"><span class="annot"><span class="annottext">BOL
</span><a href="#local-6989586621679073852"><span class="hs-identifier hs-var">bol</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m BOL
forall s (m :: * -&gt; *). MonadState s m =&gt; m s
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">get</span></a></span><span>
</span><span id="line-295"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">BOL
</span><a href="#local-6989586621679073852"><span class="hs-identifier hs-var">bol</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-296"></span><span>          </span><span class="annot"><span class="annottext">BOL
</span><a href="System.Process.Run.html#BOL"><span class="hs-identifier hs-var">BOL</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">BOL -&gt; m ()
forall s (m :: * -&gt; *). MonadState s m =&gt; s -&gt; m ()
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">put</span></a></span><span> </span><span class="annot"><span class="annottext">BOL
</span><a href="System.Process.Run.html#MOL"><span class="hs-identifier hs-var">MOL</span></a></span><span> </span><span class="annot"><span class="annottext">m () -&gt; m [a] -&gt; m [a]
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; m [a]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">t -&gt; a
</span><a href="#local-6989586621679073855"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679073854"><span class="hs-identifier hs-var">pre</span></a></span><span> </span><span class="annot"><span class="annottext">t -&gt; t -&gt; t
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679073853"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-297"></span><span>          </span><span class="annot"><span class="annottext">BOL
</span><a href="System.Process.Run.html#MOL"><span class="hs-identifier hs-var">MOL</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; m [a]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">t -&gt; a
</span><a href="#local-6989586621679073855"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679073853"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-298"></span><span>      </span><span class="hs-comment">-- doTail :: (a -&gt; Chunk a) -&gt; a -&gt; a -&gt; StateT BOL m [Chunk a]</span><span>
</span><span id="line-299"></span><span>      </span><span id="local-6989586621679073857"><span class="annot"><span class="annottext">doTail :: (p -&gt; a) -&gt; p -&gt; p -&gt; m [a]
</span><a href="#local-6989586621679073857"><span class="hs-identifier hs-var hs-var">doTail</span></a></span></span><span> </span><span class="annot"><span class="annottext">p -&gt; a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">p
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679073851"><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679073851"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">p -&gt; Bool
forall full item. ListLike full item =&gt; full -&gt; Bool
</span><a href="../../../../ListLike/html/src"><span class="hs-identifier hs-var">ListLike.null</span></a></span><span> </span><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679073851"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; m [a]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-300"></span><span>      </span><span class="annot"><a href="#local-6989586621679073857"><span class="hs-identifier hs-var">doTail</span></a></span><span> </span><span id="local-6989586621679073850"><span class="annot"><span class="annottext">p -&gt; a
</span><a href="#local-6989586621679073850"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span id="local-6989586621679073849"><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679073849"><span class="hs-identifier hs-var">pre</span></a></span></span><span> </span><span id="local-6989586621679073848"><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679073848"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-301"></span><span>        </span><span id="local-6989586621679073847"><span class="annot"><span class="annottext">BOL
</span><a href="#local-6989586621679073847"><span class="hs-identifier hs-var">bol</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m BOL
forall s (m :: * -&gt; *). MonadState s m =&gt; m s
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">get</span></a></span><span>
</span><span id="line-302"></span><span>        </span><span class="annot"><span class="annottext">BOL -&gt; m ()
forall s (m :: * -&gt; *). MonadState s m =&gt; s -&gt; m ()
</span><a href="../../../../mtl/html/src"><span class="hs-identifier hs-var">put</span></a></span><span> </span><span class="annot"><span class="annottext">BOL
</span><a href="System.Process.Run.html#BOL"><span class="hs-identifier hs-var">BOL</span></a></span><span>
</span><span id="line-303"></span><span>        </span><span id="local-6989586621679073846"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679073846"><span class="hs-identifier hs-var">tl</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(p -&gt; a) -&gt; p -&gt; p -&gt; m [a]
</span><a href="#local-6989586621679073867"><span class="hs-identifier hs-var">doText</span></a></span><span> </span><span class="annot"><span class="annottext">p -&gt; a
</span><a href="#local-6989586621679073850"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679073849"><span class="hs-identifier hs-var">pre</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">p -&gt; p
forall full item. ListLike full item =&gt; full -&gt; full
</span><a href="../../../../ListLike/html/src"><span class="hs-identifier hs-var">ListLike.tail</span></a></span><span> </span><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679073848"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-304"></span><span>        </span><span class="annot"><span class="annottext">[a] -&gt; m [a]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; m [a]) -&gt; [a] -&gt; m [a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">BOL
</span><a href="#local-6989586621679073847"><span class="hs-identifier hs-var">bol</span></a></span><span> </span><span class="annot"><span class="annottext">BOL -&gt; BOL -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">BOL
</span><a href="System.Process.Run.html#BOL"><span class="hs-identifier hs-var">BOL</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">p -&gt; a
</span><a href="#local-6989586621679073850"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679073849"><span class="hs-identifier hs-var">pre</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a] -&gt; [a]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">p -&gt; a
</span><a href="#local-6989586621679073850"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">char -&gt; p
forall full item. ListLike full item =&gt; item -&gt; full
</span><a href="../../../../ListLike/html/src"><span class="hs-identifier hs-var">singleton</span></a></span><span> </span><span class="annot"><span class="annottext">char
</span><a href="#local-6989586621679073872"><span class="hs-identifier hs-var">nl</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a] -&gt; [a]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679073846"><span class="hs-identifier hs-var">tl</span></a></span><span>
</span><span id="line-305"></span></pre></body></html>