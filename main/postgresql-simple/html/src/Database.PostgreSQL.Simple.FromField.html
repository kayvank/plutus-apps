<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP, DeriveDataTypeable, DeriveFunctor  #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances, TypeSynonymInstances #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE PatternGuards, ScopedTypeVariables      #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE RecordWildCards                         #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE PolyKinds #-}</span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span class="hs-comment">{- |
Module:      Database.PostgreSQL.Simple.FromField
Copyright:   (c) 2011 MailRank, Inc.
             (c) 2011-2013 Leon P Smith
License:     BSD3
Maintainer:  Leon P Smith &lt;leon@melding-monads.com&gt;
Stability:   experimental

The 'FromField' typeclass, for converting a single value in a row
returned by a SQL query into a more useful Haskell representation.
Note that each instance of 'FromField' is documented by a list of
compatible postgresql types.

A Haskell numeric type is considered to be compatible with all
PostgreSQL numeric types that are less accurate than it. For instance,
the Haskell 'Double' type is compatible with the PostgreSQL's 32-bit
@int@ type because it can represent a @int@ exactly.  On the other hand,
since a 'Double' might lose precision if representing PostgreSQL's 64-bit
@bigint@, the two are /not/ considered compatible.

Note that the 'Float' and 'Double' instances use attoparsec's 'double'
conversion routine,  which sacrifices some accuracy for speed.   If you
need accuracy,  consider first converting data to a 'Scientific' or 'Rational'
type,  and then converting to a floating-point type.   If you are defining
your own 'Database.PostgreSQL.Simple.FromRow.FromRow' instances,  this can be
achieved simply by
@'fromRational' '&lt;$&gt;' 'Database.PostgreSQL.Simple.FromRow.field'@,  although
this idiom is additionally compatible with PostgreSQL's @int8@ and @numeric@
types.  If this is unacceptable,  you may find
'Database.PostgreSQL.Simple.FromRow.fieldWith' useful.

Also note that while converting to a 'Double' through the 'Scientific' type
is likely somewhat faster than converting through the 'Rational' type,
the 'Scientific' type has no way to represent @NaN@ and @&#177;Infinity@ values.
Thus,  if you need precision conversion of regular floating point values
and the possibility of receiving these special values from the backend,
stick with 'Rational'.

Because 'FromField' is a typeclass,  one may provide conversions to
additional Haskell types without modifying postgresql-simple.  This is
particularly useful for supporting PostgreSQL types that postgresql-simple
does not support out-of-box.  Here's an example of what such an instance
might look like for a UUID type that implements the @Read@ class:

@
import Data.UUID ( UUID )
import Database.PostgreSQL.Simple.FromField
       ( FromField (fromField) , typeOid, returnError, ResultError (..) )
import Database.PostgreSQL.Simple.TypeInfo.Static (typoid, uuid)
import qualified Data.ByteString.Char8 as B

instance FromField UUID where
   fromField f mdata =
      if typeOid f /= typoid uuid
        then returnError Incompatible f \&quot;\&quot;
        else case B.unpack \`fmap\` mdata of
               Nothing  -&gt; returnError UnexpectedNull f \&quot;\&quot;
               Just dat -&gt;
                  case [ x | (x,t) &lt;- reads dat, (\&quot;\&quot;,\&quot;\&quot;) &lt;- lex t ] of
                    [x] -&gt; return x
                    _   -&gt; returnError ConversionFailed f dat
@

Note that because PostgreSQL's @uuid@ type is built into postgres and is
not provided by an extension,  the 'typeOid' of @uuid@ does not change and
thus we can examine it directly.  One could hard-code the type oid,  or
obtain it by other means, but in this case we simply pull it out of the
static table provided by postgresql-simple.

On the other hand if the type is provided by an extension,  such as
@PostGIS@ or @hstore@,  then the 'typeOid' is not stable and can vary from
database to database. In this case it is recommended that FromField
instances use 'typename' instead.

-}</span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Database.PostgreSQL.Simple.FromField</span><span>
</span><span id="line-85"></span><span>    </span><span class="hs-special">(</span><span>
</span><span id="line-86"></span><span>      </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier">FromField</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FieldParser"><span class="hs-identifier">FieldParser</span></a></span><span>
</span><span id="line-88"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Conversion"><span class="hs-identifier">Conversion</span></a></span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#runConversion"><span class="hs-identifier">runConversion</span></a></span><span>
</span><span id="line-91"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#conversionMap"><span class="hs-identifier">conversionMap</span></a></span><span>
</span><span id="line-92"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#conversionError"><span class="hs-identifier">conversionError</span></a></span><span>
</span><span id="line-93"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#ResultError"><span class="hs-identifier">ResultError</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#returnError"><span class="hs-identifier">returnError</span></a></span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Field"><span class="hs-identifier">Field</span></a></span><span>
</span><span id="line-97"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#typename"><span class="hs-identifier">typename</span></a></span><span>
</span><span id="line-98"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.TypeInfo.Types.html#TypeInfo"><span class="hs-identifier">TypeInfo</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.TypeInfo.Types.html#Attribute"><span class="hs-identifier">Attribute</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#typeInfo"><span class="hs-identifier">typeInfo</span></a></span><span>
</span><span id="line-101"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#typeInfoByOid"><span class="hs-identifier">typeInfoByOid</span></a></span><span>
</span><span id="line-102"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#name"><span class="hs-identifier">name</span></a></span><span>
</span><span id="line-103"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#tableOid"><span class="hs-identifier">tableOid</span></a></span><span>
</span><span id="line-104"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#tableColumn"><span class="hs-identifier">tableColumn</span></a></span><span>
</span><span id="line-105"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#format"><span class="hs-identifier">format</span></a></span><span>
</span><span id="line-106"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#typeOid"><span class="hs-identifier">typeOid</span></a></span><span>
</span><span id="line-107"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier">PQ.Oid</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-108"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier">PQ.Format</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-109"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#pgArrayFieldParser"><span class="hs-identifier">pgArrayFieldParser</span></a></span><span>
</span><span id="line-110"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#attoFieldParser"><span class="hs-identifier">attoFieldParser</span></a></span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#optionalField"><span class="hs-identifier">optionalField</span></a></span><span>
</span><span id="line-113"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#fromJSONField"><span class="hs-identifier">fromJSONField</span></a></span><span>
</span><span id="line-114"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#fromFieldJSONByteString"><span class="hs-identifier">fromFieldJSONByteString</span></a></span><span>
</span><span id="line-115"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span class="hs-cpp">

#include &quot;MachDeps.h&quot;
</span><span>
</span><span id="line-119"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Applicative</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Const</span></a></span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Const</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator">(&lt;|&gt;)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator">(&lt;$&gt;)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">pure</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator">(*&gt;)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator">(&lt;*)</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-120"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Concurrent.MVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">MVar</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">newMVar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-121"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Exception</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Exception</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-122"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier">Data.Aeson</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">JSON</span></span><span>
</span><span id="line-123"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier">Data.Aeson.Internal</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">JSON</span></span><span>
</span><span id="line-124"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier">Data.Aeson.Parser</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">JSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier">value'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../attoparsec/html/src"><span class="hs-identifier">Data.Attoparsec.ByteString.Char8</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../attoparsec/html/src"><span class="hs-identifier">Result</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-126"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">Data.ByteString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">ByteString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-127"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">Data.ByteString.Char8</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">B</span></span><span>
</span><span id="line-128"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Functor.Identity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Identity</span></a></span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Identity</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-129"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Int</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Int16</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Int32</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Int64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.IORef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">IORef</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">newIORef</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-131"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Ratio</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Ratio</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-132"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../time-compat/html/src"><span class="hs-identifier">Data.Time.Compat</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier">UTCTime</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier">ZonedTime</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier">LocalTime</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier">Day</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier">TimeOfDay</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier">CalendarDiffTime</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Typeable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Typeable</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">typeOf</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-134"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../vector/html/src"><span class="hs-identifier">Data.Vector</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../vector/html/src"><span class="hs-identifier">Vector</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-135"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../vector/html/src"><span class="hs-identifier">Data.Vector.Mutable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../vector/html/src"><span class="hs-identifier">IOVector</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-136"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../vector/html/src"><span class="hs-identifier">Data.Vector</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">V</span></span><span>
</span><span id="line-137"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html"><span class="hs-identifier">Database.PostgreSQL.Simple.Internal</span></a></span><span>
</span><span id="line-138"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Database.PostgreSQL.Simple.Compat.html"><span class="hs-identifier">Database.PostgreSQL.Simple.Compat</span></a></span><span>
</span><span id="line-139"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Database.PostgreSQL.Simple.Ok.html"><span class="hs-identifier">Database.PostgreSQL.Simple.Ok</span></a></span><span>
</span><span id="line-140"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Database.PostgreSQL.Simple.Types.html"><span class="hs-identifier">Database.PostgreSQL.Simple.Types</span></a></span><span>
</span><span id="line-141"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Database.PostgreSQL.Simple.TypeInfo.html"><span class="hs-identifier">Database.PostgreSQL.Simple.TypeInfo</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TI</span></span><span>
</span><span id="line-142"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html"><span class="hs-identifier">Database.PostgreSQL.Simple.TypeInfo.Static</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TI</span></span><span>
</span><span id="line-143"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Database.PostgreSQL.Simple.Time.html"><span class="hs-identifier">Database.PostgreSQL.Simple.Time</span></a></span><span>
</span><span id="line-144"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Database.PostgreSQL.Simple.Arrays.html"><span class="hs-identifier">Database.PostgreSQL.Simple.Arrays</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Arrays</span></span><span>
</span><span id="line-145"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier">Database.PostgreSQL.LibPQ</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PQ</span></span><span>
</span><span id="line-146"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">Data.ByteString</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SB</span></span><span>
</span><span id="line-147"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">Data.ByteString.Char8</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">B8</span></span><span>
</span><span id="line-148"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier">Data.ByteString.Lazy</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">LB</span></span><span>
</span><span id="line-149"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ST</span></span><span>
</span><span id="line-150"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Data.Text.Encoding</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ST</span></span><span>
</span><span id="line-151"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Data.Text.Lazy</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">LT</span></span><span>
</span><span id="line-152"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../case-insensitive/html/src"><span class="hs-identifier">Data.CaseInsensitive</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../case-insensitive/html/src"><span class="hs-identifier">CI</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-153"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../case-insensitive/html/src"><span class="hs-identifier">Data.CaseInsensitive</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">CI</span></span><span>
</span><span id="line-154"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../uuid-types/html/src"><span class="hs-identifier">Data.UUID.Types</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="../../../../uuid-types/html/src"><span class="hs-identifier">UUID</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../uuid-types/html/src"><span class="hs-identifier">Data.UUID.Types</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">UUID</span></span><span>
</span><span id="line-156"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../scientific/html/src"><span class="hs-identifier">Data.Scientific</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../scientific/html/src"><span class="hs-identifier">Scientific</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-157"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">GHC.Real</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">infinity</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">notANumber</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span class="hs-comment">-- | Exception thrown if conversion from a SQL value to a Haskell</span><span>
</span><span id="line-160"></span><span class="hs-comment">-- value fails.</span><span>
</span><span id="line-161"></span><span class="hs-keyword">data</span><span> </span><span id="ResultError"><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#ResultError"><span class="hs-identifier hs-var">ResultError</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Incompatible"><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#Incompatible"><span class="hs-identifier hs-var">Incompatible</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="errSQLType"><span class="annot"><span class="annottext">ResultError -&gt; String
</span><a href="Database.PostgreSQL.Simple.FromField.html#errSQLType"><span class="hs-identifier hs-var hs-var">errSQLType</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-162"></span><span>                                </span><span class="hs-special">,</span><span> </span><span id="errSQLTableOid"><span class="annot"><span class="annottext">ResultError -&gt; Maybe Oid
</span><a href="Database.PostgreSQL.Simple.FromField.html#errSQLTableOid"><span class="hs-identifier hs-var hs-var">errSQLTableOid</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-type">PQ.Oid</span></a></span><span>
</span><span id="line-163"></span><span>                                </span><span class="hs-special">,</span><span> </span><span id="errSQLField"><span class="annot"><span class="annottext">ResultError -&gt; String
</span><a href="Database.PostgreSQL.Simple.FromField.html#errSQLField"><span class="hs-identifier hs-var hs-var">errSQLField</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-164"></span><span>                                </span><span class="hs-special">,</span><span> </span><span id="errHaskellType"><span class="annot"><span class="annottext">ResultError -&gt; String
</span><a href="Database.PostgreSQL.Simple.FromField.html#errHaskellType"><span class="hs-identifier hs-var hs-var">errHaskellType</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-165"></span><span>                                </span><span class="hs-special">,</span><span> </span><span id="errMessage"><span class="annot"><span class="annottext">ResultError -&gt; String
</span><a href="Database.PostgreSQL.Simple.FromField.html#errMessage"><span class="hs-identifier hs-var hs-var">errMessage</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-166"></span><span>                 </span><span class="hs-comment">-- ^ The SQL and Haskell types are not compatible.</span><span>
</span><span id="line-167"></span><span>                 </span><span class="hs-glyph">|</span><span> </span><span id="UnexpectedNull"><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#UnexpectedNull"><span class="hs-identifier hs-var">UnexpectedNull</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="errSQLType"><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#errSQLType"><span class="hs-identifier hs-var">errSQLType</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-168"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span id="errSQLTableOid"><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#errSQLTableOid"><span class="hs-identifier hs-var">errSQLTableOid</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-type">PQ.Oid</span></a></span><span>
</span><span id="line-169"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span id="errSQLField"><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#errSQLField"><span class="hs-identifier hs-var">errSQLField</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-170"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span id="errHaskellType"><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#errHaskellType"><span class="hs-identifier hs-var">errHaskellType</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-171"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span id="errMessage"><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#errMessage"><span class="hs-identifier hs-var">errMessage</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-172"></span><span>                 </span><span class="hs-comment">-- ^ A SQL @NULL@ was encountered when the Haskell</span><span>
</span><span id="line-173"></span><span>                 </span><span class="hs-comment">-- type did not permit it.</span><span>
</span><span id="line-174"></span><span>                 </span><span class="hs-glyph">|</span><span> </span><span id="ConversionFailed"><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#ConversionFailed"><span class="hs-identifier hs-var">ConversionFailed</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="errSQLType"><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#errSQLType"><span class="hs-identifier hs-var">errSQLType</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-175"></span><span>                                    </span><span class="hs-special">,</span><span> </span><span id="errSQLTableOid"><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#errSQLTableOid"><span class="hs-identifier hs-var">errSQLTableOid</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-type">PQ.Oid</span></a></span><span>
</span><span id="line-176"></span><span>                                    </span><span class="hs-special">,</span><span> </span><span id="errSQLField"><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#errSQLField"><span class="hs-identifier hs-var">errSQLField</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-177"></span><span>                                    </span><span class="hs-special">,</span><span> </span><span id="errHaskellType"><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#errHaskellType"><span class="hs-identifier hs-var">errHaskellType</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-178"></span><span>                                    </span><span class="hs-special">,</span><span> </span><span id="errMessage"><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#errMessage"><span class="hs-identifier hs-var">errMessage</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-179"></span><span>                 </span><span class="hs-comment">-- ^ The SQL value could not be parsed, or could not</span><span>
</span><span id="line-180"></span><span>                 </span><span class="hs-comment">-- be represented as a valid Haskell value, or an</span><span>
</span><span id="line-181"></span><span>                 </span><span class="hs-comment">-- unexpected low-level error occurred (e.g. mismatch</span><span>
</span><span id="line-182"></span><span>                 </span><span class="hs-comment">-- between metadata and actual data in a row).</span><span>
</span><span id="line-183"></span><span>                   </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679131880"><span id="local-6989586621679131882"><span class="annot"><span class="annottext">ResultError -&gt; ResultError -&gt; Bool
(ResultError -&gt; ResultError -&gt; Bool)
-&gt; (ResultError -&gt; ResultError -&gt; Bool) -&gt; Eq ResultError
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: ResultError -&gt; ResultError -&gt; Bool
$c/= :: ResultError -&gt; ResultError -&gt; Bool
== :: ResultError -&gt; ResultError -&gt; Bool
$c== :: ResultError -&gt; ResultError -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679131873"><span id="local-6989586621679131875"><span id="local-6989586621679131877"><span class="annot"><span class="annottext">Int -&gt; ResultError -&gt; ShowS
[ResultError] -&gt; ShowS
ResultError -&gt; String
(Int -&gt; ResultError -&gt; ShowS)
-&gt; (ResultError -&gt; String)
-&gt; ([ResultError] -&gt; ShowS)
-&gt; Show ResultError
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [ResultError] -&gt; ShowS
$cshowList :: [ResultError] -&gt; ShowS
show :: ResultError -&gt; String
$cshow :: ResultError -&gt; String
showsPrec :: Int -&gt; ResultError -&gt; ShowS
$cshowsPrec :: Int -&gt; ResultError -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679131864"><span id="local-6989586621679131866"><span id="local-6989586621679131868"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Exception</span></a></span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#ResultError"><span class="hs-identifier hs-type">ResultError</span></a></span></span></span></span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span id="local-6989586621679131861"><span id="local-6989586621679131862"><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#left"><span class="hs-identifier hs-type">left</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Exception</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131862"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679131862"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Conversion"><span class="hs-identifier hs-type">Conversion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131861"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-188"></span><span id="left"><span class="annot"><span class="annottext">left :: a -&gt; Conversion b
</span><a href="Database.PostgreSQL.Simple.FromField.html#left"><span class="hs-identifier hs-var hs-var">left</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Conversion b
forall err a. Exception err =&gt; err -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.Internal.html#conversionError"><span class="hs-identifier hs-var">conversionError</span></a></span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span class="hs-keyword">type</span><span> </span><span id="FieldParser"><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FieldParser"><span class="hs-identifier hs-var">FieldParser</span></a></span></span><span> </span><span id="local-6989586621679131859"><span class="annot"><a href="#local-6989586621679131859"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Conversion"><span class="hs-identifier hs-type">Conversion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131859"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-191"></span><span>
</span><span id="line-192"></span><span class="hs-comment">-- | A type that may be converted from a SQL type.</span><span>
</span><span id="line-193"></span><span class="hs-keyword">class</span><span> </span><span id="FromField"><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-var">FromField</span></a></span></span><span> </span><span id="local-6989586621679132050"><span class="annot"><a href="#local-6989586621679132050"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-194"></span><span>    </span><span id="fromField"><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#fromField"><span class="hs-identifier hs-type">fromField</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FieldParser"><span class="hs-identifier hs-type">FieldParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679132050"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-195"></span><span>    </span><span class="hs-comment">-- ^ Convert a SQL value to a Haskell value.</span><span>
</span><span id="line-196"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-197"></span><span>    </span><span class="hs-comment">-- Returns a list of exceptions if the conversion fails.  In the case of</span><span>
</span><span id="line-198"></span><span>    </span><span class="hs-comment">-- library instances,  this will usually be a single 'ResultError',  but</span><span>
</span><span id="line-199"></span><span>    </span><span class="hs-comment">-- may be a 'UnicodeException'.</span><span>
</span><span id="line-200"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-201"></span><span>    </span><span class="hs-comment">-- Note that retaining any reference to the 'Field' argument causes</span><span>
</span><span id="line-202"></span><span>    </span><span class="hs-comment">-- the entire @LibPQ.'PQ.Result'@ to be retained.  Thus, implementations</span><span>
</span><span id="line-203"></span><span>    </span><span class="hs-comment">-- of 'fromField' should return results that do not refer to this value</span><span>
</span><span id="line-204"></span><span>    </span><span class="hs-comment">-- after the result have been evaluated to WHNF.</span><span>
</span><span id="line-205"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-206"></span><span>    </span><span class="hs-comment">-- Note that as of @postgresql-simple-0.4.0.0@,  the 'ByteString' value</span><span>
</span><span id="line-207"></span><span>    </span><span class="hs-comment">-- has already been copied out of the @LibPQ.'PQ.Result'@ before it has</span><span>
</span><span id="line-208"></span><span>    </span><span class="hs-comment">-- been passed to 'fromField'.  This is because for short strings, it's</span><span>
</span><span id="line-209"></span><span>    </span><span class="hs-comment">-- cheaper to copy the string than to set up a finalizer.</span><span>
</span><span id="line-210"></span><span>
</span><span id="line-211"></span><span class="hs-comment">-- | Returns the data type name.  This is the preferred way of identifying</span><span>
</span><span id="line-212"></span><span class="hs-comment">--   types that do not have a stable type oid, such as types provided by</span><span>
</span><span id="line-213"></span><span class="hs-comment">--   extensions to PostgreSQL.</span><span>
</span><span id="line-214"></span><span class="hs-comment">--</span><span>
</span><span id="line-215"></span><span class="hs-comment">--   More concretely,  it returns the @typname@ column associated with the</span><span>
</span><span id="line-216"></span><span class="hs-comment">--   type oid in the @pg_type@ table.  First, postgresql-simple will check</span><span>
</span><span id="line-217"></span><span class="hs-comment">--   the built-in, static table.   If the type oid is not there,</span><span>
</span><span id="line-218"></span><span class="hs-comment">--   postgresql-simple will check a per-connection cache,  and then</span><span>
</span><span id="line-219"></span><span class="hs-comment">--   finally query the database's meta-schema.</span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#typename"><span class="hs-identifier hs-type">typename</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Conversion"><span class="hs-identifier hs-type">Conversion</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span>
</span><span id="line-222"></span><span id="typename"><span class="annot"><span class="annottext">typename :: Field -&gt; Conversion ByteString
</span><a href="Database.PostgreSQL.Simple.FromField.html#typename"><span class="hs-identifier hs-var hs-var">typename</span></a></span></span><span> </span><span id="local-6989586621679131857"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131857"><span class="hs-identifier hs-var">field</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; ByteString
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Types.html#typname"><span class="hs-identifier hs-var hs-var">typname</span></a></span><span> </span><span class="annot"><span class="annottext">(TypeInfo -&gt; ByteString)
-&gt; Conversion TypeInfo -&gt; Conversion ByteString
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Field -&gt; Conversion TypeInfo
</span><a href="Database.PostgreSQL.Simple.FromField.html#typeInfo"><span class="hs-identifier hs-var">typeInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131857"><span class="hs-identifier hs-var">field</span></a></span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#typeInfo"><span class="hs-identifier hs-type">typeInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Conversion"><span class="hs-identifier hs-type">Conversion</span></a></span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.TypeInfo.Types.html#TypeInfo"><span class="hs-identifier hs-type">TypeInfo</span></a></span><span>
</span><span id="line-225"></span><span id="typeInfo"><span class="annot"><span class="annottext">typeInfo :: Field -&gt; Conversion TypeInfo
</span><a href="Database.PostgreSQL.Simple.FromField.html#typeInfo"><span class="hs-identifier hs-var hs-var">typeInfo</span></a></span></span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span class="hs-special">{</span><span id="local-6989586621679131852"><span id="local-6989586621679131853"><span id="local-6989586621679131854"><span class="annot"><span class="annottext">Result
Column
Oid
column :: Field -&gt; Column
result :: Field -&gt; Result
typeOid :: Oid
column :: Column
result :: Result
typeOid :: Field -&gt; Oid
</span><a href="Database.PostgreSQL.Simple.Internal.html#column"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Connection -&gt; IO (Ok TypeInfo)) -&gt; Conversion TypeInfo
forall a. (Connection -&gt; IO (Ok a)) -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.Internal.html#Conversion"><span class="hs-identifier hs-var">Conversion</span></a></span><span> </span><span class="annot"><span class="annottext">((Connection -&gt; IO (Ok TypeInfo)) -&gt; Conversion TypeInfo)
-&gt; (Connection -&gt; IO (Ok TypeInfo)) -&gt; Conversion TypeInfo
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679131848"><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679131848"><span class="hs-identifier hs-var">conn</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-226"></span><span>                       </span><span class="annot"><span class="annottext">TypeInfo -&gt; Ok TypeInfo
forall a. a -&gt; Ok a
</span><a href="Database.PostgreSQL.Simple.Ok.html#Ok"><span class="hs-identifier hs-var">Ok</span></a></span><span> </span><span class="annot"><span class="annottext">(TypeInfo -&gt; Ok TypeInfo) -&gt; IO TypeInfo -&gt; IO (Ok TypeInfo)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Connection -&gt; Oid -&gt; IO TypeInfo
</span><a href="Database.PostgreSQL.Simple.TypeInfo.html#getTypeInfo"><span class="hs-identifier hs-var">getTypeInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679131848"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679131852"><span class="hs-identifier hs-var">typeOid</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-227"></span><span>
</span><span id="line-228"></span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#typeInfoByOid"><span class="hs-identifier hs-type">typeInfoByOid</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-type">PQ.Oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Conversion"><span class="hs-identifier hs-type">Conversion</span></a></span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.TypeInfo.Types.html#TypeInfo"><span class="hs-identifier hs-type">TypeInfo</span></a></span><span>
</span><span id="line-229"></span><span id="typeInfoByOid"><span class="annot"><span class="annottext">typeInfoByOid :: Oid -&gt; Conversion TypeInfo
</span><a href="Database.PostgreSQL.Simple.FromField.html#typeInfoByOid"><span class="hs-identifier hs-var hs-var">typeInfoByOid</span></a></span></span><span> </span><span id="local-6989586621679131845"><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679131845"><span class="hs-identifier hs-var">oid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Connection -&gt; IO (Ok TypeInfo)) -&gt; Conversion TypeInfo
forall a. (Connection -&gt; IO (Ok a)) -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.Internal.html#Conversion"><span class="hs-identifier hs-var">Conversion</span></a></span><span> </span><span class="annot"><span class="annottext">((Connection -&gt; IO (Ok TypeInfo)) -&gt; Conversion TypeInfo)
-&gt; (Connection -&gt; IO (Ok TypeInfo)) -&gt; Conversion TypeInfo
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679131844"><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679131844"><span class="hs-identifier hs-var">conn</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-230"></span><span>                      </span><span class="annot"><span class="annottext">TypeInfo -&gt; Ok TypeInfo
forall a. a -&gt; Ok a
</span><a href="Database.PostgreSQL.Simple.Ok.html#Ok"><span class="hs-identifier hs-var">Ok</span></a></span><span> </span><span class="annot"><span class="annottext">(TypeInfo -&gt; Ok TypeInfo) -&gt; IO TypeInfo -&gt; IO (Ok TypeInfo)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Connection -&gt; Oid -&gt; IO TypeInfo
</span><a href="Database.PostgreSQL.Simple.TypeInfo.html#getTypeInfo"><span class="hs-identifier hs-var">getTypeInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Connection
</span><a href="#local-6989586621679131844"><span class="hs-identifier hs-var">conn</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679131845"><span class="hs-identifier hs-var">oid</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-231"></span><span>
</span><span id="line-232"></span><span class="hs-comment">-- | Returns the name of the column.  This is often determined by a table</span><span>
</span><span id="line-233"></span><span class="hs-comment">--   definition,  but it can be set using an @as@ clause.</span><span>
</span><span id="line-234"></span><span>
</span><span id="line-235"></span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#name"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span>
</span><span id="line-236"></span><span id="name"><span class="annot"><span class="annottext">name :: Field -&gt; Maybe ByteString
</span><a href="Database.PostgreSQL.Simple.FromField.html#name"><span class="hs-identifier hs-var hs-var">name</span></a></span></span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span class="hs-special">{</span><span id="local-6989586621679131841"><span id="local-6989586621679131842"><span id="local-6989586621679131843"><span class="annot"><span class="annottext">Result
Column
Oid
typeOid :: Oid
column :: Column
result :: Result
column :: Field -&gt; Column
result :: Field -&gt; Result
typeOid :: Field -&gt; Oid
</span><a href="#local-6989586621679131841"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO (Maybe ByteString) -&gt; Maybe ByteString
forall a. IO a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">unsafeDupablePerformIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Result -&gt; Column -&gt; IO (Maybe ByteString)
</span><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-var">PQ.fname</span></a></span><span> </span><span class="annot"><span class="annottext">Result
</span><a href="#local-6989586621679131843"><span class="hs-identifier hs-var">result</span></a></span><span> </span><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679131842"><span class="hs-identifier hs-var">column</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-237"></span><span>
</span><span id="line-238"></span><span class="hs-comment">-- | Returns the name of the object id of the @table@ associated with the</span><span>
</span><span id="line-239"></span><span class="hs-comment">--   column,  if any.  Returns 'Nothing' when there is no such table;</span><span>
</span><span id="line-240"></span><span class="hs-comment">--   for example a computed column does not have a table associated with it.</span><span>
</span><span id="line-241"></span><span class="hs-comment">--   Analogous to libpq's @PQftable@.</span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#tableOid"><span class="hs-identifier hs-type">tableOid</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-type">PQ.Oid</span></a></span><span>
</span><span id="line-244"></span><span id="tableOid"><span class="annot"><span class="annottext">tableOid :: Field -&gt; Maybe Oid
</span><a href="Database.PostgreSQL.Simple.FromField.html#tableOid"><span class="hs-identifier hs-var hs-var">tableOid</span></a></span></span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span class="hs-special">{</span><span id="local-6989586621679131836"><span id="local-6989586621679131837"><span id="local-6989586621679131838"><span class="annot"><span class="annottext">Result
Column
Oid
typeOid :: Oid
column :: Column
result :: Result
column :: Field -&gt; Column
result :: Field -&gt; Result
typeOid :: Field -&gt; Oid
</span><a href="#local-6989586621679131836"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Maybe Oid
</span><a href="#local-6989586621679131835"><span class="hs-identifier hs-var">toMaybeOid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO Oid -&gt; Oid
forall a. IO a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">unsafeDupablePerformIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Result -&gt; Column -&gt; IO Oid
</span><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-var">PQ.ftable</span></a></span><span> </span><span class="annot"><span class="annottext">Result
</span><a href="#local-6989586621679131838"><span class="hs-identifier hs-var">result</span></a></span><span> </span><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679131837"><span class="hs-identifier hs-var">column</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-245"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-246"></span><span>     </span><span id="local-6989586621679131835"><span class="annot"><span class="annottext">toMaybeOid :: Oid -&gt; Maybe Oid
</span><a href="#local-6989586621679131835"><span class="hs-identifier hs-var hs-var">toMaybeOid</span></a></span></span><span> </span><span id="local-6989586621679131833"><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679131833"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-247"></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span>   </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679131833"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-var">PQ.invalidOid</span></a></span><span>
</span><span id="line-248"></span><span>         </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Maybe Oid
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-249"></span><span>         </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Maybe Oid
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679131833"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-250"></span><span>
</span><span id="line-251"></span><span class="hs-comment">-- | If the column has a table associated with it, this returns the</span><span>
</span><span id="line-252"></span><span class="hs-comment">--   number of the associated table column.  Table columns have</span><span>
</span><span id="line-253"></span><span class="hs-comment">--   nonzero numbers.  Zero is returned if the specified column is not</span><span>
</span><span id="line-254"></span><span class="hs-comment">--   a simple reference to a table column, or when using pre-3.0</span><span>
</span><span id="line-255"></span><span class="hs-comment">--   protocol. Analogous to libpq's @PQftablecol@.</span><span>
</span><span id="line-256"></span><span>
</span><span id="line-257"></span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#tableColumn"><span class="hs-identifier hs-type">tableColumn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-258"></span><span id="tableColumn"><span class="annot"><span class="annottext">tableColumn :: Field -&gt; Int
</span><a href="Database.PostgreSQL.Simple.FromField.html#tableColumn"><span class="hs-identifier hs-var hs-var">tableColumn</span></a></span></span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span class="hs-special">{</span><span id="local-6989586621679131829"><span id="local-6989586621679131830"><span id="local-6989586621679131831"><span class="annot"><span class="annottext">Result
Column
Oid
typeOid :: Oid
column :: Column
result :: Result
column :: Field -&gt; Column
result :: Field -&gt; Result
typeOid :: Field -&gt; Oid
</span><a href="#local-6989586621679131829"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Column -&gt; Int
forall b. Num b =&gt; Column -&gt; b
</span><a href="#local-6989586621679131828"><span class="hs-identifier hs-var">fromCol</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO Column -&gt; Column
forall a. IO a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">unsafeDupablePerformIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Result -&gt; Column -&gt; IO Column
</span><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-var">PQ.ftablecol</span></a></span><span> </span><span class="annot"><span class="annottext">Result
</span><a href="#local-6989586621679131831"><span class="hs-identifier hs-var">result</span></a></span><span> </span><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679131830"><span class="hs-identifier hs-var">column</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-259"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-260"></span><span>    </span><span id="local-6989586621679131828"><span class="annot"><span class="annottext">fromCol :: Column -&gt; b
</span><a href="#local-6989586621679131828"><span class="hs-identifier hs-var hs-var">fromCol</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-type">PQ.Col</span></a></span><span> </span><span id="local-6989586621679131825"><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679131825"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CInt -&gt; b
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679131825"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-261"></span><span>
</span><span id="line-262"></span><span class="hs-comment">-- | This returns whether the data was returned in a binary or textual format.</span><span>
</span><span id="line-263"></span><span class="hs-comment">--   Analogous to libpq's @PQfformat@.</span><span>
</span><span id="line-264"></span><span>
</span><span id="line-265"></span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#format"><span class="hs-identifier hs-type">format</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-type">PQ.Format</span></a></span><span>
</span><span id="line-266"></span><span id="format"><span class="annot"><span class="annottext">format :: Field -&gt; Format
</span><a href="Database.PostgreSQL.Simple.FromField.html#format"><span class="hs-identifier hs-var hs-var">format</span></a></span></span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span class="hs-special">{</span><span id="local-6989586621679131822"><span id="local-6989586621679131823"><span id="local-6989586621679131824"><span class="annot"><span class="annottext">Result
Column
Oid
typeOid :: Oid
column :: Column
result :: Result
column :: Field -&gt; Column
result :: Field -&gt; Result
typeOid :: Field -&gt; Oid
</span><a href="#local-6989586621679131822"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO Format -&gt; Format
forall a. IO a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">unsafeDupablePerformIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Result -&gt; Column -&gt; IO Format
</span><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-var">PQ.fformat</span></a></span><span> </span><span class="annot"><span class="annottext">Result
</span><a href="#local-6989586621679131824"><span class="hs-identifier hs-var">result</span></a></span><span> </span><span class="annot"><span class="annottext">Column
</span><a href="#local-6989586621679131823"><span class="hs-identifier hs-var">column</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-267"></span><span>
</span><span id="line-268"></span><span class="hs-comment">-- | void</span><span>
</span><span id="line-269"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-270"></span><span>  </span><span id="local-6989586621679131818"><span class="annot"><span class="annottext">fromField :: FieldParser ()
</span><a href="#local-6989586621679131818"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679131817"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131817"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679131816"><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131816"><span class="hs-identifier hs-var">_bs</span></a></span></span><span>
</span><span id="line-271"></span><span>     </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Field -&gt; Oid
</span><a href="Database.PostgreSQL.Simple.Internal.html#typeOid"><span class="hs-identifier hs-var hs-var">typeOid</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131817"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">/=</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#voidOid"><span class="hs-identifier hs-var">TI.voidOid</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError)
-&gt; Field -&gt; String -&gt; Conversion ()
forall a err.
(Typeable a, Exception err) =&gt;
(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; err)
-&gt; Field -&gt; String -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#returnError"><span class="hs-identifier hs-var">returnError</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError
</span><a href="Database.PostgreSQL.Simple.FromField.html#Incompatible"><span class="hs-identifier hs-var">Incompatible</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131817"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-272"></span><span>     </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; Conversion ()
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-273"></span><span>
</span><span id="line-274"></span><span id="local-6989586621679131812"><span id="local-6989586621679131813"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131813"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Const</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131813"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131812"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-275"></span><span>  </span><span id="local-6989586621679131810"><span class="annot"><span class="annottext">fromField :: FieldParser (Const a b)
</span><a href="#local-6989586621679131810"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679131809"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131809"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679131808"><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131808"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Const a b
forall k a (b :: k). a -&gt; Const a b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Const</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Const a b) -&gt; Conversion a -&gt; Conversion (Const a b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FieldParser a
forall a. FromField a =&gt; FieldParser a
</span><a href="Database.PostgreSQL.Simple.FromField.html#fromField"><span class="hs-identifier hs-var">fromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131809"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131808"><span class="hs-identifier hs-var">bs</span></a></span></span></span><span>
</span><span id="line-276"></span><span>
</span><span id="line-277"></span><span id="local-6989586621679131807"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131807"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Identity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131807"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-278"></span><span>  </span><span id="local-6989586621679131805"><span class="annot"><span class="annottext">fromField :: FieldParser (Identity a)
</span><a href="#local-6989586621679131805"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679131804"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131804"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679131803"><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131803"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Identity a
forall a. a -&gt; Identity a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Identity</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Identity a) -&gt; Conversion a -&gt; Conversion (Identity a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FieldParser a
forall a. FromField a =&gt; FieldParser a
</span><a href="Database.PostgreSQL.Simple.FromField.html#fromField"><span class="hs-identifier hs-var">fromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131804"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131803"><span class="hs-identifier hs-var">bs</span></a></span></span><span>
</span><span id="line-279"></span><span>
</span><span id="line-280"></span><span class="hs-comment">-- | For dealing with null values.  Compatible with any postgresql type</span><span>
</span><span id="line-281"></span><span class="hs-comment">--   compatible with type @a@.  Note that the type is not checked if</span><span>
</span><span id="line-282"></span><span class="hs-comment">--   the value is null, although it is inadvisable to rely on this</span><span>
</span><span id="line-283"></span><span class="hs-comment">--   behavior.</span><span>
</span><span id="line-284"></span><span id="local-6989586621679131802"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131802"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131802"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-285"></span><span>    </span><span id="local-6989586621679131800"><span class="annot"><span class="annottext">fromField :: FieldParser (Maybe a)
</span><a href="#local-6989586621679131800"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldParser a -&gt; FieldParser (Maybe a)
forall a. FieldParser a -&gt; FieldParser (Maybe a)
</span><a href="Database.PostgreSQL.Simple.FromField.html#optionalField"><span class="hs-identifier hs-var">optionalField</span></a></span><span> </span><span class="annot"><span class="annottext">FieldParser a
forall a. FromField a =&gt; FieldParser a
</span><a href="Database.PostgreSQL.Simple.FromField.html#fromField"><span class="hs-identifier hs-var">fromField</span></a></span></span><span>
</span><span id="line-286"></span><span>
</span><span id="line-287"></span><span class="hs-comment">-- | For dealing with SQL @null@ values outside of the 'FromField' class.</span><span>
</span><span id="line-288"></span><span class="hs-comment">--   Alternatively, one could use 'Control.Applicative.optional',  but that</span><span>
</span><span id="line-289"></span><span class="hs-comment">--   also turns type and conversion errors into 'Nothing',  whereas this is</span><span>
</span><span id="line-290"></span><span class="hs-comment">--   more specific and turns only @null@ values into 'Nothing'.</span><span>
</span><span id="line-291"></span><span>
</span><span id="line-292"></span><span id="local-6989586621679132034"><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#optionalField"><span class="hs-identifier hs-type">optionalField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FieldParser"><span class="hs-identifier hs-type">FieldParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679132034"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FieldParser"><span class="hs-identifier hs-type">FieldParser</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679132034"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-293"></span><span id="optionalField"><span class="annot"><span class="annottext">optionalField :: FieldParser a -&gt; FieldParser (Maybe a)
</span><a href="Database.PostgreSQL.Simple.FromField.html#optionalField"><span class="hs-identifier hs-var hs-var">optionalField</span></a></span></span><span> </span><span id="local-6989586621679131799"><span class="annot"><span class="annottext">FieldParser a
</span><a href="#local-6989586621679131799"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679131798"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131798"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679131797"><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131797"><span class="hs-identifier hs-var">mv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-294"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131797"><span class="hs-identifier hs-var">mv</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-295"></span><span>      </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; Conversion (Maybe a)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-296"></span><span>      </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe a) -&gt; Conversion a -&gt; Conversion (Maybe a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FieldParser a
</span><a href="#local-6989586621679131799"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131798"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131797"><span class="hs-identifier hs-var">mv</span></a></span><span>
</span><span id="line-297"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#optionalField"><span class="hs-pragma hs-type">optionalField</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-298"></span><span>
</span><span id="line-299"></span><span class="hs-comment">-- | compatible with any data type,  but the value must be null</span><span>
</span><span id="line-300"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Types.html#Null"><span class="hs-identifier hs-type">Null</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-301"></span><span>    </span><span id="local-6989586621679131795"><span class="annot"><span class="annottext">fromField :: FieldParser Null
</span><a href="#local-6989586621679131795"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span class="annot"><span class="annottext">Field
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Null -&gt; Conversion Null
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Null
</span><a href="Database.PostgreSQL.Simple.Types.html#Null"><span class="hs-identifier hs-var">Null</span></a></span><span>
</span><span id="line-302"></span><span>    </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#fromField"><span class="hs-identifier hs-var">fromField</span></a></span><span> </span><span id="local-6989586621679131793"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131793"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError)
-&gt; Field -&gt; String -&gt; Conversion Null
forall a err.
(Typeable a, Exception err) =&gt;
(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; err)
-&gt; Field -&gt; String -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#returnError"><span class="hs-identifier hs-var">returnError</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError
</span><a href="Database.PostgreSQL.Simple.FromField.html#ConversionFailed"><span class="hs-identifier hs-var">ConversionFailed</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131793"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;data is not null&quot;</span></span><span>
</span><span id="line-303"></span><span>
</span><span id="line-304"></span><span class="hs-comment">-- | bool</span><span>
</span><span id="line-305"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-306"></span><span>    </span><span id="local-6989586621679131791"><span class="annot"><span class="annottext">fromField :: FieldParser Bool
</span><a href="#local-6989586621679131791"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679131790"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131790"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679131789"><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131789"><span class="hs-identifier hs-var">bs</span></a></span></span><span>
</span><span id="line-307"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Field -&gt; Oid
</span><a href="Database.PostgreSQL.Simple.Internal.html#typeOid"><span class="hs-identifier hs-var hs-var">typeOid</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131790"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">/=</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#boolOid"><span class="hs-identifier hs-var">TI.boolOid</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError)
-&gt; Field -&gt; String -&gt; Conversion Bool
forall a err.
(Typeable a, Exception err) =&gt;
(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; err)
-&gt; Field -&gt; String -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#returnError"><span class="hs-identifier hs-var">returnError</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError
</span><a href="Database.PostgreSQL.Simple.FromField.html#Incompatible"><span class="hs-identifier hs-var">Incompatible</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131790"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-308"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131789"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ByteString -&gt; Maybe ByteString -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError)
-&gt; Field -&gt; String -&gt; Conversion Bool
forall a err.
(Typeable a, Exception err) =&gt;
(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; err)
-&gt; Field -&gt; String -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#returnError"><span class="hs-identifier hs-var">returnError</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError
</span><a href="Database.PostgreSQL.Simple.FromField.html#UnexpectedNull"><span class="hs-identifier hs-var">UnexpectedNull</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131790"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-309"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131789"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ByteString -&gt; Maybe ByteString -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Maybe ByteString
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;t&quot;</span></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Conversion Bool
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-310"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131789"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ByteString -&gt; Maybe ByteString -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Maybe ByteString
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;f&quot;</span></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Conversion Bool
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-311"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">otherwise</span></a></span><span>                     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError)
-&gt; Field -&gt; String -&gt; Conversion Bool
forall a err.
(Typeable a, Exception err) =&gt;
(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; err)
-&gt; Field -&gt; String -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#returnError"><span class="hs-identifier hs-var">returnError</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError
</span><a href="Database.PostgreSQL.Simple.FromField.html#ConversionFailed"><span class="hs-identifier hs-var">ConversionFailed</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131790"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-312"></span><span>
</span><span id="line-313"></span><span class="hs-comment">-- | \&quot;char\&quot;, bpchar</span><span>
</span><span id="line-314"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Char</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-315"></span><span>    </span><span id="local-6989586621679131786"><span class="annot"><span class="annottext">fromField :: FieldParser Char
</span><a href="#local-6989586621679131786"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679131785"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131785"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679131784"><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131784"><span class="hs-identifier hs-var">bs0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-316"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#charOid"><span class="hs-identifier hs-var">TI.charOid</span></a></span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; (Oid -&gt; Bool) -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#%5C%2F"><span class="hs-operator hs-var">\/</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#bpcharOid"><span class="hs-identifier hs-var">TI.bpcharOid</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Field -&gt; Oid
</span><a href="Database.PostgreSQL.Simple.Internal.html#typeOid"><span class="hs-identifier hs-var hs-var">typeOid</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131785"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-317"></span><span>        </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131784"><span class="hs-identifier hs-var">bs0</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-318"></span><span>               </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError)
-&gt; Field -&gt; String -&gt; Conversion Char
forall a err.
(Typeable a, Exception err) =&gt;
(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; err)
-&gt; Field -&gt; String -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#returnError"><span class="hs-identifier hs-var">returnError</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError
</span><a href="Database.PostgreSQL.Simple.FromField.html#UnexpectedNull"><span class="hs-identifier hs-var">UnexpectedNull</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131785"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-319"></span><span>               </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679131779"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131779"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Int
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">B.length</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131779"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">/=</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-320"></span><span>                          </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError)
-&gt; Field -&gt; String -&gt; Conversion Char
forall a err.
(Typeable a, Exception err) =&gt;
(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; err)
-&gt; Field -&gt; String -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#returnError"><span class="hs-identifier hs-var">returnError</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError
</span><a href="Database.PostgreSQL.Simple.FromField.html#ConversionFailed"><span class="hs-identifier hs-var">ConversionFailed</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131785"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;length not 1&quot;</span></span><span>
</span><span id="line-321"></span><span>                          </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Conversion Char
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Conversion Char) -&gt; Char -&gt; Conversion Char
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$!</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; Char
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">B.head</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131779"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-322"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError)
-&gt; Field -&gt; String -&gt; Conversion Char
forall a err.
(Typeable a, Exception err) =&gt;
(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; err)
-&gt; Field -&gt; String -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#returnError"><span class="hs-identifier hs-var">returnError</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError
</span><a href="Database.PostgreSQL.Simple.FromField.html#Incompatible"><span class="hs-identifier hs-var">Incompatible</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131785"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-323"></span><span>
</span><span id="line-324"></span><span class="hs-comment">-- | int2</span><span>
</span><span id="line-325"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Int16</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-326"></span><span>    </span><span id="local-6989586621679131774"><span class="annot"><span class="annottext">fromField :: FieldParser Int16
</span><a href="#local-6989586621679131774"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; Parser Int16 -&gt; FieldParser Int16
forall a. Typeable a =&gt; (Oid -&gt; Bool) -&gt; Parser a -&gt; FieldParser a
</span><a href="Database.PostgreSQL.Simple.FromField.html#attoFieldParser"><span class="hs-identifier hs-var">attoFieldParser</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#ok16"><span class="hs-identifier hs-var">ok16</span></a></span><span> </span><span class="annot"><span class="annottext">(Parser Int16 -&gt; FieldParser Int16)
-&gt; Parser Int16 -&gt; FieldParser Int16
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Parser Int16 -&gt; Parser Int16
forall a. Num a =&gt; Parser a -&gt; Parser a
</span><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-var">signed</span></a></span><span> </span><span class="annot"><span class="annottext">Parser Int16
forall a. Integral a =&gt; Parser a
</span><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-var">decimal</span></a></span><span>
</span><span id="line-327"></span><span>
</span><span id="line-328"></span><span class="hs-comment">-- | int2, int4</span><span>
</span><span id="line-329"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Int32</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-330"></span><span>    </span><span id="local-6989586621679131769"><span class="annot"><span class="annottext">fromField :: FieldParser Int32
</span><a href="#local-6989586621679131769"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; Parser Int32 -&gt; FieldParser Int32
forall a. Typeable a =&gt; (Oid -&gt; Bool) -&gt; Parser a -&gt; FieldParser a
</span><a href="Database.PostgreSQL.Simple.FromField.html#attoFieldParser"><span class="hs-identifier hs-var">attoFieldParser</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#ok32"><span class="hs-identifier hs-var">ok32</span></a></span><span> </span><span class="annot"><span class="annottext">(Parser Int32 -&gt; FieldParser Int32)
-&gt; Parser Int32 -&gt; FieldParser Int32
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Parser Int32 -&gt; Parser Int32
forall a. Num a =&gt; Parser a -&gt; Parser a
</span><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-var">signed</span></a></span><span> </span><span class="annot"><span class="annottext">Parser Int32
forall a. Integral a =&gt; Parser a
</span><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-var">decimal</span></a></span><span class="hs-cpp">

#if WORD_SIZE_IN_BITS &lt; 64
</span><span class="hs-comment">-- | int2, int4,  and if compiled as 64-bit code,  int8 as well.</span><span>
</span><span id="line-334"></span><span class="hs-comment">-- This library was compiled as 32-bit code.</span><span class="hs-cpp">
#else
</span><span class="hs-comment">-- | int2, int4,  and if compiled as 64-bit code,  int8 as well.</span><span>
</span><span id="line-337"></span><span class="hs-comment">-- This library was compiled as 64-bit code.</span><span class="hs-cpp">
#endif
</span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-340"></span><span>    </span><span id="local-6989586621679131766"><span class="annot"><span class="annottext">fromField :: FieldParser Int
</span><a href="#local-6989586621679131766"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; Parser Int -&gt; FieldParser Int
forall a. Typeable a =&gt; (Oid -&gt; Bool) -&gt; Parser a -&gt; FieldParser a
</span><a href="Database.PostgreSQL.Simple.FromField.html#attoFieldParser"><span class="hs-identifier hs-var">attoFieldParser</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#okInt"><span class="hs-identifier hs-var">okInt</span></a></span><span> </span><span class="annot"><span class="annottext">(Parser Int -&gt; FieldParser Int) -&gt; Parser Int -&gt; FieldParser Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Parser Int -&gt; Parser Int
forall a. Num a =&gt; Parser a -&gt; Parser a
</span><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-var">signed</span></a></span><span> </span><span class="annot"><span class="annottext">Parser Int
forall a. Integral a =&gt; Parser a
</span><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-var">decimal</span></a></span><span>
</span><span id="line-341"></span><span>
</span><span id="line-342"></span><span class="hs-comment">-- | int2, int4, int8</span><span>
</span><span id="line-343"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Int64</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-344"></span><span>    </span><span id="local-6989586621679131763"><span class="annot"><span class="annottext">fromField :: FieldParser Int64
</span><a href="#local-6989586621679131763"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; Parser Int64 -&gt; FieldParser Int64
forall a. Typeable a =&gt; (Oid -&gt; Bool) -&gt; Parser a -&gt; FieldParser a
</span><a href="Database.PostgreSQL.Simple.FromField.html#attoFieldParser"><span class="hs-identifier hs-var">attoFieldParser</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#ok64"><span class="hs-identifier hs-var">ok64</span></a></span><span> </span><span class="annot"><span class="annottext">(Parser Int64 -&gt; FieldParser Int64)
-&gt; Parser Int64 -&gt; FieldParser Int64
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Parser Int64 -&gt; Parser Int64
forall a. Num a =&gt; Parser a -&gt; Parser a
</span><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-var">signed</span></a></span><span> </span><span class="annot"><span class="annottext">Parser Int64
forall a. Integral a =&gt; Parser a
</span><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-var">decimal</span></a></span><span>
</span><span id="line-345"></span><span>
</span><span id="line-346"></span><span class="hs-comment">-- | int2, int4, int8</span><span>
</span><span id="line-347"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/integer-gmp-1.0.3.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-348"></span><span>    </span><span id="local-6989586621679131760"><span class="annot"><span class="annottext">fromField :: FieldParser Integer
</span><a href="#local-6989586621679131760"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; Parser Integer -&gt; FieldParser Integer
forall a. Typeable a =&gt; (Oid -&gt; Bool) -&gt; Parser a -&gt; FieldParser a
</span><a href="Database.PostgreSQL.Simple.FromField.html#attoFieldParser"><span class="hs-identifier hs-var">attoFieldParser</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#ok64"><span class="hs-identifier hs-var">ok64</span></a></span><span> </span><span class="annot"><span class="annottext">(Parser Integer -&gt; FieldParser Integer)
-&gt; Parser Integer -&gt; FieldParser Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Parser Integer -&gt; Parser Integer
forall a. Num a =&gt; Parser a -&gt; Parser a
</span><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-var">signed</span></a></span><span> </span><span class="annot"><span class="annottext">Parser Integer
forall a. Integral a =&gt; Parser a
</span><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-var">decimal</span></a></span><span>
</span><span id="line-349"></span><span>
</span><span id="line-350"></span><span class="hs-comment">-- | int2, float4    (Uses attoparsec's 'double' routine,  for</span><span>
</span><span id="line-351"></span><span class="hs-comment">--   better accuracy convert to 'Scientific' or 'Rational' first)</span><span>
</span><span id="line-352"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Float</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-353"></span><span>    </span><span id="local-6989586621679131758"><span class="annot"><span class="annottext">fromField :: FieldParser Float
</span><a href="#local-6989586621679131758"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; Parser Float -&gt; FieldParser Float
forall a. Typeable a =&gt; (Oid -&gt; Bool) -&gt; Parser a -&gt; FieldParser a
</span><a href="Database.PostgreSQL.Simple.FromField.html#attoFieldParser"><span class="hs-identifier hs-var">attoFieldParser</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Bool
</span><a href="#local-6989586621679131757"><span class="hs-identifier hs-var">ok</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; Float
forall a b. (Real a, Fractional b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">realToFrac</span></a></span><span> </span><span class="annot"><span class="annottext">(Double -&gt; Float) -&gt; Parser ByteString Double -&gt; Parser Float
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Parser ByteString Double
</span><a href="Database.PostgreSQL.Simple.FromField.html#pg_double"><span class="hs-identifier hs-var">pg_double</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-354"></span><span>      </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679131757"><span class="annot"><span class="annottext">ok :: Oid -&gt; Bool
</span><a href="#local-6989586621679131757"><span class="hs-identifier hs-var hs-var">ok</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#float4Oid"><span class="hs-identifier hs-var">TI.float4Oid</span></a></span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; (Oid -&gt; Bool) -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#%5C%2F"><span class="hs-operator hs-var">\/</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#int2Oid"><span class="hs-identifier hs-var">TI.int2Oid</span></a></span><span>
</span><span id="line-355"></span><span>
</span><span id="line-356"></span><span class="hs-comment">-- | int2, int4, float4, float8  (Uses attoparsec's 'double' routine,  for</span><span>
</span><span id="line-357"></span><span class="hs-comment">--   better accuracy convert to 'Scientific' or 'Rational' first)</span><span>
</span><span id="line-358"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Double</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-359"></span><span>    </span><span id="local-6989586621679131752"><span class="annot"><span class="annottext">fromField :: FieldParser Double
</span><a href="#local-6989586621679131752"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; Parser ByteString Double -&gt; FieldParser Double
forall a. Typeable a =&gt; (Oid -&gt; Bool) -&gt; Parser a -&gt; FieldParser a
</span><a href="Database.PostgreSQL.Simple.FromField.html#attoFieldParser"><span class="hs-identifier hs-var">attoFieldParser</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Bool
</span><a href="#local-6989586621679131751"><span class="hs-identifier hs-var">ok</span></a></span><span> </span><span class="annot"><span class="annottext">Parser ByteString Double
</span><a href="Database.PostgreSQL.Simple.FromField.html#pg_double"><span class="hs-identifier hs-var">pg_double</span></a></span><span>
</span><span id="line-360"></span><span>      </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679131751"><span class="annot"><span class="annottext">ok :: Oid -&gt; Bool
</span><a href="#local-6989586621679131751"><span class="hs-identifier hs-var hs-var">ok</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#float4Oid"><span class="hs-identifier hs-var">TI.float4Oid</span></a></span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; (Oid -&gt; Bool) -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#%5C%2F"><span class="hs-operator hs-var">\/</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#float8Oid"><span class="hs-identifier hs-var">TI.float8Oid</span></a></span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; (Oid -&gt; Bool) -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#%5C%2F"><span class="hs-operator hs-var">\/</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#int2Oid"><span class="hs-identifier hs-var">TI.int2Oid</span></a></span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; (Oid -&gt; Bool) -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#%5C%2F"><span class="hs-operator hs-var">\/</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#int4Oid"><span class="hs-identifier hs-var">TI.int4Oid</span></a></span><span>
</span><span id="line-361"></span><span>
</span><span id="line-362"></span><span class="hs-comment">-- | int2, int4, int8, float4, float8, numeric</span><span>
</span><span id="line-363"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Ratio</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/integer-gmp-1.0.3.0/src"><span class="hs-identifier hs-type">Integer</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-364"></span><span>    </span><span id="local-6989586621679131747"><span class="annot"><span class="annottext">fromField :: FieldParser (Ratio Integer)
</span><a href="#local-6989586621679131747"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool)
-&gt; Parser (Ratio Integer) -&gt; FieldParser (Ratio Integer)
forall a. Typeable a =&gt; (Oid -&gt; Bool) -&gt; Parser a -&gt; FieldParser a
</span><a href="Database.PostgreSQL.Simple.FromField.html#attoFieldParser"><span class="hs-identifier hs-var">attoFieldParser</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Bool
</span><a href="#local-6989586621679131746"><span class="hs-identifier hs-var">ok</span></a></span><span> </span><span class="annot"><span class="annottext">Parser (Ratio Integer)
</span><a href="Database.PostgreSQL.Simple.FromField.html#pg_rational"><span class="hs-identifier hs-var">pg_rational</span></a></span><span>
</span><span id="line-365"></span><span>      </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679131746"><span class="annot"><span class="annottext">ok :: Oid -&gt; Bool
</span><a href="#local-6989586621679131746"><span class="hs-identifier hs-var hs-var">ok</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#float4Oid"><span class="hs-identifier hs-var">TI.float4Oid</span></a></span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; (Oid -&gt; Bool) -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#%5C%2F"><span class="hs-operator hs-var">\/</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#float8Oid"><span class="hs-identifier hs-var">TI.float8Oid</span></a></span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; (Oid -&gt; Bool) -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#%5C%2F"><span class="hs-operator hs-var">\/</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#int2Oid"><span class="hs-identifier hs-var">TI.int2Oid</span></a></span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; (Oid -&gt; Bool) -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#%5C%2F"><span class="hs-operator hs-var">\/</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#int4Oid"><span class="hs-identifier hs-var">TI.int4Oid</span></a></span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; (Oid -&gt; Bool) -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#%5C%2F"><span class="hs-operator hs-var">\/</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#int8Oid"><span class="hs-identifier hs-var">TI.int8Oid</span></a></span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; (Oid -&gt; Bool) -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#%5C%2F"><span class="hs-operator hs-var">\/</span></a></span><span>  </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#numericOid"><span class="hs-identifier hs-var">TI.numericOid</span></a></span><span>
</span><span id="line-366"></span><span>
</span><span id="line-367"></span><span class="hs-comment">-- | int2, int4, int8, float4, float8, numeric</span><span>
</span><span id="line-368"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="../../../../scientific/html/src"><span class="hs-identifier hs-type">Scientific</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-369"></span><span>     </span><span id="local-6989586621679131741"><span class="annot"><span class="annottext">fromField :: FieldParser Scientific
</span><a href="#local-6989586621679131741"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; Parser Scientific -&gt; FieldParser Scientific
forall a. Typeable a =&gt; (Oid -&gt; Bool) -&gt; Parser a -&gt; FieldParser a
</span><a href="Database.PostgreSQL.Simple.FromField.html#attoFieldParser"><span class="hs-identifier hs-var">attoFieldParser</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Bool
</span><a href="#local-6989586621679131740"><span class="hs-identifier hs-var">ok</span></a></span><span> </span><span class="annot"><span class="annottext">Parser Scientific
forall a. Fractional a =&gt; Parser a
</span><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-var">rational</span></a></span><span>
</span><span id="line-370"></span><span>      </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679131740"><span class="annot"><span class="annottext">ok :: Oid -&gt; Bool
</span><a href="#local-6989586621679131740"><span class="hs-identifier hs-var hs-var">ok</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#float4Oid"><span class="hs-identifier hs-var">TI.float4Oid</span></a></span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; (Oid -&gt; Bool) -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#%5C%2F"><span class="hs-operator hs-var">\/</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#float8Oid"><span class="hs-identifier hs-var">TI.float8Oid</span></a></span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; (Oid -&gt; Bool) -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#%5C%2F"><span class="hs-operator hs-var">\/</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#int2Oid"><span class="hs-identifier hs-var">TI.int2Oid</span></a></span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; (Oid -&gt; Bool) -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#%5C%2F"><span class="hs-operator hs-var">\/</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#int4Oid"><span class="hs-identifier hs-var">TI.int4Oid</span></a></span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; (Oid -&gt; Bool) -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#%5C%2F"><span class="hs-operator hs-var">\/</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#int8Oid"><span class="hs-identifier hs-var">TI.int8Oid</span></a></span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; (Oid -&gt; Bool) -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#%5C%2F"><span class="hs-operator hs-var">\/</span></a></span><span>  </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#numericOid"><span class="hs-identifier hs-var">TI.numericOid</span></a></span><span>
</span><span id="line-371"></span><span>
</span><span id="line-372"></span><span id="local-6989586621679132012"><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#unBinary"><span class="hs-identifier hs-type">unBinary</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Types.html#Binary"><span class="hs-identifier hs-type">Binary</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679132012"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679132012"><span class="hs-identifier hs-type">t</span></a></span></span><span>
</span><span id="line-373"></span><span id="unBinary"><span class="annot"><span class="annottext">unBinary :: Binary t -&gt; t
</span><a href="Database.PostgreSQL.Simple.FromField.html#unBinary"><span class="hs-identifier hs-var hs-var">unBinary</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.PostgreSQL.Simple.Types.html#Binary"><span class="hs-identifier hs-type">Binary</span></a></span><span> </span><span id="local-6989586621679131736"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679131736"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679131736"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-374"></span><span>
</span><span id="line-375"></span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#pg_double"><span class="hs-identifier hs-type">pg_double</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Double</span></a></span><span>
</span><span id="line-376"></span><span id="pg_double"><span class="annot"><span class="annottext">pg_double :: Parser ByteString Double
</span><a href="Database.PostgreSQL.Simple.FromField.html#pg_double"><span class="hs-identifier hs-var hs-var">pg_double</span></a></span></span><span>
</span><span id="line-377"></span><span>    </span><span class="hs-glyph">=</span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; Parser ByteString
</span><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-var">string</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;NaN&quot;</span></span><span>       </span><span class="annot"><span class="annottext">Parser ByteString
-&gt; Parser ByteString Double -&gt; Parser ByteString Double
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Parser ByteString Double
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">/</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-378"></span><span>    </span><span class="annot"><span class="annottext">Parser ByteString Double
-&gt; Parser ByteString Double -&gt; Parser ByteString Double
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;|&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; Parser ByteString
</span><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-var">string</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;Infinity&quot;</span></span><span>  </span><span class="annot"><span class="annottext">Parser ByteString
-&gt; Parser ByteString Double -&gt; Parser ByteString Double
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Parser ByteString Double
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">/</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-379"></span><span>    </span><span class="annot"><span class="annottext">Parser ByteString Double
-&gt; Parser ByteString Double -&gt; Parser ByteString Double
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;|&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; Parser ByteString
</span><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-var">string</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;-Infinity&quot;</span></span><span> </span><span class="annot"><span class="annottext">Parser ByteString
-&gt; Parser ByteString Double -&gt; Parser ByteString Double
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Parser ByteString Double
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">/</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-380"></span><span>    </span><span class="annot"><span class="annottext">Parser ByteString Double
-&gt; Parser ByteString Double -&gt; Parser ByteString Double
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;|&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Parser ByteString Double
</span><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-var">double</span></a></span><span>
</span><span id="line-381"></span><span>
</span><span id="line-382"></span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#pg_rational"><span class="hs-identifier hs-type">pg_rational</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Rational</span></a></span><span>
</span><span id="line-383"></span><span id="pg_rational"><span class="annot"><span class="annottext">pg_rational :: Parser (Ratio Integer)
</span><a href="Database.PostgreSQL.Simple.FromField.html#pg_rational"><span class="hs-identifier hs-var hs-var">pg_rational</span></a></span></span><span>
</span><span id="line-384"></span><span>    </span><span class="hs-glyph">=</span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; Parser ByteString
</span><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-var">string</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;NaN&quot;</span></span><span>       </span><span class="annot"><span class="annottext">Parser ByteString
-&gt; Parser (Ratio Integer) -&gt; Parser (Ratio Integer)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Ratio Integer -&gt; Parser (Ratio Integer)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Ratio Integer
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">notANumber</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-385"></span><span>    </span><span class="annot"><span class="annottext">Parser (Ratio Integer)
-&gt; Parser (Ratio Integer) -&gt; Parser (Ratio Integer)
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;|&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; Parser ByteString
</span><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-var">string</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;Infinity&quot;</span></span><span>  </span><span class="annot"><span class="annottext">Parser ByteString
-&gt; Parser (Ratio Integer) -&gt; Parser (Ratio Integer)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Ratio Integer -&gt; Parser (Ratio Integer)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Ratio Integer
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">infinity</span></a></span><span>   </span><span class="hs-special">)</span><span>
</span><span id="line-386"></span><span>    </span><span class="annot"><span class="annottext">Parser (Ratio Integer)
-&gt; Parser (Ratio Integer) -&gt; Parser (Ratio Integer)
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;|&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; Parser ByteString
</span><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-var">string</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;-Infinity&quot;</span></span><span> </span><span class="annot"><span class="annottext">Parser ByteString
-&gt; Parser (Ratio Integer) -&gt; Parser (Ratio Integer)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Ratio Integer -&gt; Parser (Ratio Integer)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Ratio Integer
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">infinity</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-387"></span><span>    </span><span class="annot"><span class="annottext">Parser (Ratio Integer)
-&gt; Parser (Ratio Integer) -&gt; Parser (Ratio Integer)
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;|&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Parser (Ratio Integer)
forall a. Fractional a =&gt; Parser a
</span><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-var">rational</span></a></span><span>
</span><span id="line-388"></span><span>
</span><span id="line-389"></span><span class="hs-comment">-- | bytea, name, text, \&quot;char\&quot;, bpchar, varchar, unknown</span><span>
</span><span id="line-390"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">SB.ByteString</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-391"></span><span>    </span><span id="local-6989586621679131731"><span class="annot"><span class="annottext">fromField :: FieldParser ByteString
</span><a href="#local-6989586621679131731"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679131730"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131730"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679131729"><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131729"><span class="hs-identifier hs-var">dat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Field -&gt; Oid
</span><a href="Database.PostgreSQL.Simple.Internal.html#typeOid"><span class="hs-identifier hs-var hs-var">typeOid</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131730"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#byteaOid"><span class="hs-identifier hs-var">TI.byteaOid</span></a></span><span>
</span><span id="line-392"></span><span>                      </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Binary ByteString -&gt; ByteString
forall t. Binary t -&gt; t
</span><a href="Database.PostgreSQL.Simple.FromField.html#unBinary"><span class="hs-identifier hs-var">unBinary</span></a></span><span> </span><span class="annot"><span class="annottext">(Binary ByteString -&gt; ByteString)
-&gt; Conversion (Binary ByteString) -&gt; Conversion ByteString
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FieldParser (Binary ByteString)
forall a. FromField a =&gt; FieldParser a
</span><a href="Database.PostgreSQL.Simple.FromField.html#fromField"><span class="hs-identifier hs-var">fromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131730"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131729"><span class="hs-identifier hs-var">dat</span></a></span><span>
</span><span id="line-393"></span><span>                      </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Field
-&gt; (Oid -&gt; Bool)
-&gt; (ByteString -&gt; Conversion ByteString)
-&gt; Maybe ByteString
-&gt; Conversion ByteString
forall a.
Typeable a =&gt;
Field
-&gt; (Oid -&gt; Bool)
-&gt; (ByteString -&gt; Conversion a)
-&gt; Maybe ByteString
-&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#doFromField"><span class="hs-identifier hs-var">doFromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131730"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#okText%27"><span class="hs-identifier hs-var">okText'</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Conversion ByteString
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131729"><span class="hs-identifier hs-var">dat</span></a></span><span>
</span><span id="line-394"></span><span>
</span><span id="line-395"></span><span class="hs-comment">-- | oid</span><span>
</span><span id="line-396"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-type">PQ.Oid</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-397"></span><span>    </span><span id="local-6989586621679131724"><span class="annot"><span class="annottext">fromField :: FieldParser Oid
</span><a href="#local-6989586621679131724"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679131723"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131723"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679131722"><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131722"><span class="hs-identifier hs-var">dat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CUInt -&gt; Oid
</span><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-var">PQ.Oid</span></a></span><span> </span><span class="annot"><span class="annottext">(CUInt -&gt; Oid) -&gt; Conversion CUInt -&gt; Conversion Oid
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; Parser CUInt -&gt; FieldParser CUInt
forall a. Typeable a =&gt; (Oid -&gt; Bool) -&gt; Parser a -&gt; FieldParser a
</span><a href="Database.PostgreSQL.Simple.FromField.html#attoFieldParser"><span class="hs-identifier hs-var">attoFieldParser</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#oidOid"><span class="hs-identifier hs-var">TI.oidOid</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Parser CUInt
forall a. Integral a =&gt; Parser a
</span><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-var">decimal</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131723"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131722"><span class="hs-identifier hs-var">dat</span></a></span><span>
</span><span id="line-398"></span><span>
</span><span id="line-399"></span><span class="hs-comment">-- | bytea, name, text, \&quot;char\&quot;, bpchar, varchar, unknown</span><span>
</span><span id="line-400"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">LB.ByteString</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-401"></span><span>    </span><span id="local-6989586621679131718"><span class="annot"><span class="annottext">fromField :: FieldParser ByteString
</span><a href="#local-6989586621679131718"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679131717"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131717"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679131716"><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131716"><span class="hs-identifier hs-var">dat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[ByteString] -&gt; ByteString
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">LB.fromChunks</span></a></span><span> </span><span class="annot"><span class="annottext">([ByteString] -&gt; ByteString)
-&gt; (ByteString -&gt; [ByteString]) -&gt; ByteString -&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; [ByteString] -&gt; [ByteString]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; ByteString)
-&gt; Conversion ByteString -&gt; Conversion ByteString
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FieldParser ByteString
forall a. FromField a =&gt; FieldParser a
</span><a href="Database.PostgreSQL.Simple.FromField.html#fromField"><span class="hs-identifier hs-var">fromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131717"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131716"><span class="hs-identifier hs-var">dat</span></a></span><span>
</span><span id="line-402"></span><span>
</span><span id="line-403"></span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#unescapeBytea"><span class="hs-identifier hs-type">unescapeBytea</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">SB.ByteString</span></a></span><span>
</span><span id="line-404"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Conversion"><span class="hs-identifier hs-type">Conversion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.PostgreSQL.Simple.Types.html#Binary"><span class="hs-identifier hs-type">Binary</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">SB.ByteString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-405"></span><span id="unescapeBytea"><span class="annot"><span class="annottext">unescapeBytea :: Field -&gt; ByteString -&gt; Conversion (Binary ByteString)
</span><a href="Database.PostgreSQL.Simple.FromField.html#unescapeBytea"><span class="hs-identifier hs-var hs-var">unescapeBytea</span></a></span></span><span> </span><span id="local-6989586621679131712"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131712"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679131711"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131711"><span class="hs-identifier hs-var">str'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">IO (Maybe ByteString) -&gt; Maybe ByteString
forall a. IO a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">unsafeDupablePerformIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; IO (Maybe ByteString)
</span><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-var">PQ.unescapeBytea</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131711"><span class="hs-identifier hs-var">str'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-406"></span><span>       </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError)
-&gt; Field -&gt; String -&gt; Conversion (Binary ByteString)
forall a err.
(Typeable a, Exception err) =&gt;
(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; err)
-&gt; Field -&gt; String -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#returnError"><span class="hs-identifier hs-var">returnError</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError
</span><a href="Database.PostgreSQL.Simple.FromField.html#ConversionFailed"><span class="hs-identifier hs-var">ConversionFailed</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131712"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;unescapeBytea failed&quot;</span></span><span>
</span><span id="line-407"></span><span>       </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679131709"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131709"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Binary ByteString -&gt; Conversion (Binary ByteString)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; Binary ByteString
forall a. a -&gt; Binary a
</span><a href="Database.PostgreSQL.Simple.Types.html#Binary"><span class="hs-identifier hs-var">Binary</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131709"><span class="hs-identifier hs-var">str</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-408"></span><span>
</span><span id="line-409"></span><span class="hs-comment">-- | bytea</span><span>
</span><span id="line-410"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.PostgreSQL.Simple.Types.html#Binary"><span class="hs-identifier hs-type">Binary</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">SB.ByteString</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-411"></span><span>    </span><span id="local-6989586621679131707"><span class="annot"><span class="annottext">fromField :: FieldParser (Binary ByteString)
</span><a href="#local-6989586621679131707"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679131706"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131706"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679131705"><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131705"><span class="hs-identifier hs-var">dat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Field -&gt; Format
</span><a href="Database.PostgreSQL.Simple.FromField.html#format"><span class="hs-identifier hs-var">format</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131706"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-412"></span><span>      </span><span class="annot"><span class="annottext">Format
</span><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-var">PQ.Text</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Field
-&gt; (Oid -&gt; Bool)
-&gt; (ByteString -&gt; Conversion (Binary ByteString))
-&gt; Maybe ByteString
-&gt; Conversion (Binary ByteString)
forall a.
Typeable a =&gt;
Field
-&gt; (Oid -&gt; Bool)
-&gt; (ByteString -&gt; Conversion a)
-&gt; Maybe ByteString
-&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#doFromField"><span class="hs-identifier hs-var">doFromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131706"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#okBinary"><span class="hs-identifier hs-var">okBinary</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Field -&gt; ByteString -&gt; Conversion (Binary ByteString)
</span><a href="Database.PostgreSQL.Simple.FromField.html#unescapeBytea"><span class="hs-identifier hs-var">unescapeBytea</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131706"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131705"><span class="hs-identifier hs-var">dat</span></a></span><span>
</span><span id="line-413"></span><span>      </span><span class="annot"><span class="annottext">Format
</span><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-var">PQ.Binary</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Field
-&gt; (Oid -&gt; Bool)
-&gt; (ByteString -&gt; Conversion (Binary ByteString))
-&gt; Maybe ByteString
-&gt; Conversion (Binary ByteString)
forall a.
Typeable a =&gt;
Field
-&gt; (Oid -&gt; Bool)
-&gt; (ByteString -&gt; Conversion a)
-&gt; Maybe ByteString
-&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#doFromField"><span class="hs-identifier hs-var">doFromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131706"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#okBinary"><span class="hs-identifier hs-var">okBinary</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Binary ByteString -&gt; Conversion (Binary ByteString)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Binary ByteString -&gt; Conversion (Binary ByteString))
-&gt; (ByteString -&gt; Binary ByteString)
-&gt; ByteString
-&gt; Conversion (Binary ByteString)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Binary ByteString
forall a. a -&gt; Binary a
</span><a href="Database.PostgreSQL.Simple.Types.html#Binary"><span class="hs-identifier hs-var">Binary</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131705"><span class="hs-identifier hs-var">dat</span></a></span><span>
</span><span id="line-414"></span><span>
</span><span id="line-415"></span><span class="hs-comment">-- | bytea</span><span>
</span><span id="line-416"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.PostgreSQL.Simple.Types.html#Binary"><span class="hs-identifier hs-type">Binary</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">LB.ByteString</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-417"></span><span>    </span><span id="local-6989586621679131700"><span class="annot"><span class="annottext">fromField :: FieldParser (Binary ByteString)
</span><a href="#local-6989586621679131700"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679131699"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131699"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679131698"><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131698"><span class="hs-identifier hs-var">dat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Binary ByteString
forall a. a -&gt; Binary a
</span><a href="Database.PostgreSQL.Simple.Types.html#Binary"><span class="hs-identifier hs-var">Binary</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Binary ByteString)
-&gt; (Binary ByteString -&gt; ByteString)
-&gt; Binary ByteString
-&gt; Binary ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[ByteString] -&gt; ByteString
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">LB.fromChunks</span></a></span><span> </span><span class="annot"><span class="annottext">([ByteString] -&gt; ByteString)
-&gt; (Binary ByteString -&gt; [ByteString])
-&gt; Binary ByteString
-&gt; ByteString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; [ByteString] -&gt; [ByteString]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; [ByteString])
-&gt; (Binary ByteString -&gt; ByteString)
-&gt; Binary ByteString
-&gt; [ByteString]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Binary ByteString -&gt; ByteString
forall t. Binary t -&gt; t
</span><a href="Database.PostgreSQL.Simple.FromField.html#unBinary"><span class="hs-identifier hs-var">unBinary</span></a></span><span> </span><span class="annot"><span class="annottext">(Binary ByteString -&gt; Binary ByteString)
-&gt; Conversion (Binary ByteString) -&gt; Conversion (Binary ByteString)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FieldParser (Binary ByteString)
forall a. FromField a =&gt; FieldParser a
</span><a href="Database.PostgreSQL.Simple.FromField.html#fromField"><span class="hs-identifier hs-var">fromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131699"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131698"><span class="hs-identifier hs-var">dat</span></a></span><span>
</span><span id="line-418"></span><span>
</span><span id="line-419"></span><span class="hs-comment">-- | name, text, \&quot;char\&quot;, bpchar, varchar</span><span>
</span><span id="line-420"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">ST.Text</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-421"></span><span>    </span><span id="local-6989586621679131696"><span class="annot"><span class="annottext">fromField :: FieldParser Text
</span><a href="#local-6989586621679131696"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679131695"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131695"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Field
-&gt; (Oid -&gt; Bool)
-&gt; (ByteString -&gt; Conversion Text)
-&gt; Maybe ByteString
-&gt; Conversion Text
forall a.
Typeable a =&gt;
Field
-&gt; (Oid -&gt; Bool)
-&gt; (ByteString -&gt; Conversion a)
-&gt; Maybe ByteString
-&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#doFromField"><span class="hs-identifier hs-var">doFromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131695"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#okText"><span class="hs-identifier hs-var">okText</span></a></span><span> </span><span class="annot"><span class="annottext">((ByteString -&gt; Conversion Text)
 -&gt; Maybe ByteString -&gt; Conversion Text)
-&gt; (ByteString -&gt; Conversion Text)
-&gt; Maybe ByteString
-&gt; Conversion Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(UnicodeException -&gt; Conversion Text)
-&gt; (Text -&gt; Conversion Text)
-&gt; Either UnicodeException Text
-&gt; Conversion Text
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">either</span></a></span><span> </span><span class="annot"><span class="annottext">UnicodeException -&gt; Conversion Text
forall err a. Exception err =&gt; err -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#left"><span class="hs-identifier hs-var">left</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Conversion Text
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Either UnicodeException Text -&gt; Conversion Text)
-&gt; (ByteString -&gt; Either UnicodeException Text)
-&gt; ByteString
-&gt; Conversion Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either UnicodeException Text
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">ST.decodeUtf8'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-422"></span><span>    </span><span class="hs-comment">-- FIXME:  check character encoding</span><span>
</span><span id="line-423"></span><span>
</span><span id="line-424"></span><span class="hs-comment">-- | name, text, \&quot;char\&quot;, bpchar, varchar</span><span>
</span><span id="line-425"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">LT.Text</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-426"></span><span>    </span><span id="local-6989586621679131690"><span class="annot"><span class="annottext">fromField :: FieldParser Text
</span><a href="#local-6989586621679131690"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679131689"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131689"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679131688"><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131688"><span class="hs-identifier hs-var">dat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">LT.fromStrict</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text) -&gt; Conversion Text -&gt; Conversion Text
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FieldParser Text
forall a. FromField a =&gt; FieldParser a
</span><a href="Database.PostgreSQL.Simple.FromField.html#fromField"><span class="hs-identifier hs-var">fromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131689"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131688"><span class="hs-identifier hs-var">dat</span></a></span><span>
</span><span id="line-427"></span><span>
</span><span id="line-428"></span><span class="hs-comment">-- | citext</span><span>
</span><span id="line-429"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../case-insensitive/html/src"><span class="hs-identifier hs-type">CI</span></a></span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">ST.Text</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-430"></span><span>    </span><span id="local-6989586621679131685"><span class="annot"><span class="annottext">fromField :: FieldParser (CI Text)
</span><a href="#local-6989586621679131685"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679131684"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131684"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679131683"><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131683"><span class="hs-identifier hs-var">mdat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-431"></span><span>       </span><span id="local-6989586621679131682"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131682"><span class="hs-identifier hs-var">typ</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Field -&gt; Conversion ByteString
</span><a href="Database.PostgreSQL.Simple.FromField.html#typename"><span class="hs-identifier hs-var">typename</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131684"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-432"></span><span>       </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131682"><span class="hs-identifier hs-var">typ</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">/=</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;citext&quot;</span></span><span>
</span><span id="line-433"></span><span>         </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError)
-&gt; Field -&gt; String -&gt; Conversion (CI Text)
forall a err.
(Typeable a, Exception err) =&gt;
(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; err)
-&gt; Field -&gt; String -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#returnError"><span class="hs-identifier hs-var">returnError</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError
</span><a href="Database.PostgreSQL.Simple.FromField.html#Incompatible"><span class="hs-identifier hs-var">Incompatible</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131684"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-434"></span><span>         </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131683"><span class="hs-identifier hs-var">mdat</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-435"></span><span>                </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError)
-&gt; Field -&gt; String -&gt; Conversion (CI Text)
forall a err.
(Typeable a, Exception err) =&gt;
(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; err)
-&gt; Field -&gt; String -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#returnError"><span class="hs-identifier hs-var">returnError</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError
</span><a href="Database.PostgreSQL.Simple.FromField.html#UnexpectedNull"><span class="hs-identifier hs-var">UnexpectedNull</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131684"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-436"></span><span>                </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679131681"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131681"><span class="hs-identifier hs-var">dat</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(UnicodeException -&gt; Conversion (CI Text))
-&gt; (Text -&gt; Conversion (CI Text))
-&gt; Either UnicodeException Text
-&gt; Conversion (CI Text)
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">either</span></a></span><span> </span><span class="annot"><span class="annottext">UnicodeException -&gt; Conversion (CI Text)
forall err a. Exception err =&gt; err -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#left"><span class="hs-identifier hs-var">left</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CI Text -&gt; Conversion (CI Text)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(CI Text -&gt; Conversion (CI Text))
-&gt; (Text -&gt; CI Text) -&gt; Text -&gt; Conversion (CI Text)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; CI Text
forall s. FoldCase s =&gt; s -&gt; CI s
</span><a href="../../../../case-insensitive/html/src"><span class="hs-identifier hs-var">CI.mk</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-437"></span><span>                                        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; Either UnicodeException Text
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">ST.decodeUtf8'</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131681"><span class="hs-identifier hs-var">dat</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-438"></span><span>
</span><span id="line-439"></span><span class="hs-comment">-- | citext</span><span>
</span><span id="line-440"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../case-insensitive/html/src"><span class="hs-identifier hs-type">CI</span></a></span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">LT.Text</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-441"></span><span>    </span><span id="local-6989586621679131678"><span class="annot"><span class="annottext">fromField :: FieldParser (CI Text)
</span><a href="#local-6989586621679131678"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679131677"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131677"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679131676"><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131676"><span class="hs-identifier hs-var">mdat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-442"></span><span>       </span><span id="local-6989586621679131675"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131675"><span class="hs-identifier hs-var">typ</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Field -&gt; Conversion ByteString
</span><a href="Database.PostgreSQL.Simple.FromField.html#typename"><span class="hs-identifier hs-var">typename</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131677"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-443"></span><span>       </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131675"><span class="hs-identifier hs-var">typ</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ByteString -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">/=</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;citext&quot;</span></span><span>
</span><span id="line-444"></span><span>         </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError)
-&gt; Field -&gt; String -&gt; Conversion (CI Text)
forall a err.
(Typeable a, Exception err) =&gt;
(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; err)
-&gt; Field -&gt; String -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#returnError"><span class="hs-identifier hs-var">returnError</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError
</span><a href="Database.PostgreSQL.Simple.FromField.html#Incompatible"><span class="hs-identifier hs-var">Incompatible</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131677"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-445"></span><span>         </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131676"><span class="hs-identifier hs-var">mdat</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-446"></span><span>                </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError)
-&gt; Field -&gt; String -&gt; Conversion (CI Text)
forall a err.
(Typeable a, Exception err) =&gt;
(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; err)
-&gt; Field -&gt; String -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#returnError"><span class="hs-identifier hs-var">returnError</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError
</span><a href="Database.PostgreSQL.Simple.FromField.html#UnexpectedNull"><span class="hs-identifier hs-var">UnexpectedNull</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131677"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-447"></span><span>                </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679131674"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131674"><span class="hs-identifier hs-var">dat</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(UnicodeException -&gt; Conversion (CI Text))
-&gt; (Text -&gt; Conversion (CI Text))
-&gt; Either UnicodeException Text
-&gt; Conversion (CI Text)
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">either</span></a></span><span> </span><span class="annot"><span class="annottext">UnicodeException -&gt; Conversion (CI Text)
forall err a. Exception err =&gt; err -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#left"><span class="hs-identifier hs-var">left</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CI Text -&gt; Conversion (CI Text)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(CI Text -&gt; Conversion (CI Text))
-&gt; (Text -&gt; CI Text) -&gt; Text -&gt; Conversion (CI Text)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; CI Text
forall s. FoldCase s =&gt; s -&gt; CI s
</span><a href="../../../../case-insensitive/html/src"><span class="hs-identifier hs-var">CI.mk</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; CI Text) -&gt; (Text -&gt; Text) -&gt; Text -&gt; CI Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">LT.fromStrict</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-448"></span><span>                                        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; Either UnicodeException Text
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">ST.decodeUtf8'</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131674"><span class="hs-identifier hs-var">dat</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-449"></span><span>
</span><span id="line-450"></span><span class="hs-comment">-- | name, text, \&quot;char\&quot;, bpchar, varchar</span><span>
</span><span id="line-451"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Char</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-452"></span><span>    </span><span id="local-6989586621679131672"><span class="annot"><span class="annottext">fromField :: FieldParser String
</span><a href="#local-6989586621679131672"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679131671"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131671"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679131670"><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131670"><span class="hs-identifier hs-var">dat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">ST.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; String) -&gt; Conversion Text -&gt; Conversion String
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FieldParser Text
forall a. FromField a =&gt; FieldParser a
</span><a href="Database.PostgreSQL.Simple.FromField.html#fromField"><span class="hs-identifier hs-var">fromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131671"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131670"><span class="hs-identifier hs-var">dat</span></a></span><span>
</span><span id="line-453"></span><span>
</span><span id="line-454"></span><span class="hs-comment">-- | timestamptz</span><span>
</span><span id="line-455"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier hs-type">UTCTime</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-456"></span><span>  </span><span id="local-6989586621679131667"><span class="annot"><span class="annottext">fromField :: FieldParser UTCTime
</span><a href="#local-6989586621679131667"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Oid
-&gt; String
-&gt; (ByteString -&gt; Either String UTCTime)
-&gt; FieldParser UTCTime
forall a.
Oid
-&gt; String
-&gt; (ByteString -&gt; Either String a)
-&gt; Field
-&gt; Maybe ByteString
-&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#ff"><span class="hs-identifier hs-var">ff</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#timestamptzOid"><span class="hs-identifier hs-var">TI.timestamptzOid</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;UTCTime&quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String UTCTime
</span><a href="Database.PostgreSQL.Simple.Time.Implementation.html#parseUTCTime"><span class="hs-identifier hs-var">parseUTCTime</span></a></span><span>
</span><span id="line-457"></span><span>
</span><span id="line-458"></span><span class="hs-comment">-- | timestamptz</span><span>
</span><span id="line-459"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier hs-type">ZonedTime</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-460"></span><span>  </span><span id="local-6989586621679131662"><span class="annot"><span class="annottext">fromField :: FieldParser ZonedTime
</span><a href="#local-6989586621679131662"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Oid
-&gt; String
-&gt; (ByteString -&gt; Either String ZonedTime)
-&gt; FieldParser ZonedTime
forall a.
Oid
-&gt; String
-&gt; (ByteString -&gt; Either String a)
-&gt; Field
-&gt; Maybe ByteString
-&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#ff"><span class="hs-identifier hs-var">ff</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#timestamptzOid"><span class="hs-identifier hs-var">TI.timestamptzOid</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ZonedTime&quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String ZonedTime
</span><a href="Database.PostgreSQL.Simple.Time.Implementation.html#parseZonedTime"><span class="hs-identifier hs-var">parseZonedTime</span></a></span><span>
</span><span id="line-461"></span><span>
</span><span id="line-462"></span><span class="hs-comment">-- | timestamp</span><span>
</span><span id="line-463"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier hs-type">LocalTime</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-464"></span><span>  </span><span id="local-6989586621679131659"><span class="annot"><span class="annottext">fromField :: FieldParser LocalTime
</span><a href="#local-6989586621679131659"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Oid
-&gt; String
-&gt; (ByteString -&gt; Either String LocalTime)
-&gt; FieldParser LocalTime
forall a.
Oid
-&gt; String
-&gt; (ByteString -&gt; Either String a)
-&gt; Field
-&gt; Maybe ByteString
-&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#ff"><span class="hs-identifier hs-var">ff</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#timestampOid"><span class="hs-identifier hs-var">TI.timestampOid</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;LocalTime&quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String LocalTime
</span><a href="Database.PostgreSQL.Simple.Time.Implementation.html#parseLocalTime"><span class="hs-identifier hs-var">parseLocalTime</span></a></span><span>
</span><span id="line-465"></span><span>
</span><span id="line-466"></span><span class="hs-comment">-- | date</span><span>
</span><span id="line-467"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier hs-type">Day</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-468"></span><span>  </span><span id="local-6989586621679131655"><span class="annot"><span class="annottext">fromField :: FieldParser Day
</span><a href="#local-6989586621679131655"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Oid
-&gt; String -&gt; (ByteString -&gt; Either String Day) -&gt; FieldParser Day
forall a.
Oid
-&gt; String
-&gt; (ByteString -&gt; Either String a)
-&gt; Field
-&gt; Maybe ByteString
-&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#ff"><span class="hs-identifier hs-var">ff</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#dateOid"><span class="hs-identifier hs-var">TI.dateOid</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Day&quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String Day
</span><a href="Database.PostgreSQL.Simple.Time.Implementation.html#parseDay"><span class="hs-identifier hs-var">parseDay</span></a></span><span>
</span><span id="line-469"></span><span>
</span><span id="line-470"></span><span class="hs-comment">-- | time</span><span>
</span><span id="line-471"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier hs-type">TimeOfDay</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-472"></span><span>  </span><span id="local-6989586621679131651"><span class="annot"><span class="annottext">fromField :: FieldParser TimeOfDay
</span><a href="#local-6989586621679131651"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Oid
-&gt; String
-&gt; (ByteString -&gt; Either String TimeOfDay)
-&gt; FieldParser TimeOfDay
forall a.
Oid
-&gt; String
-&gt; (ByteString -&gt; Either String a)
-&gt; Field
-&gt; Maybe ByteString
-&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#ff"><span class="hs-identifier hs-var">ff</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#timeOid"><span class="hs-identifier hs-var">TI.timeOid</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;TimeOfDay&quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String TimeOfDay
</span><a href="Database.PostgreSQL.Simple.Time.Implementation.html#parseTimeOfDay"><span class="hs-identifier hs-var">parseTimeOfDay</span></a></span><span>
</span><span id="line-473"></span><span>
</span><span id="line-474"></span><span class="hs-comment">-- | timestamptz</span><span>
</span><span id="line-475"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Time.Implementation.html#UTCTimestamp"><span class="hs-identifier hs-type">UTCTimestamp</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-476"></span><span>  </span><span id="local-6989586621679131647"><span class="annot"><span class="annottext">fromField :: FieldParser UTCTimestamp
</span><a href="#local-6989586621679131647"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Oid
-&gt; String
-&gt; (ByteString -&gt; Either String UTCTimestamp)
-&gt; FieldParser UTCTimestamp
forall a.
Oid
-&gt; String
-&gt; (ByteString -&gt; Either String a)
-&gt; Field
-&gt; Maybe ByteString
-&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#ff"><span class="hs-identifier hs-var">ff</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#timestamptzOid"><span class="hs-identifier hs-var">TI.timestamptzOid</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;UTCTimestamp&quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String UTCTimestamp
</span><a href="Database.PostgreSQL.Simple.Time.Implementation.html#parseUTCTimestamp"><span class="hs-identifier hs-var">parseUTCTimestamp</span></a></span><span>
</span><span id="line-477"></span><span>
</span><span id="line-478"></span><span class="hs-comment">-- | timestamptz</span><span>
</span><span id="line-479"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Time.Implementation.html#ZonedTimestamp"><span class="hs-identifier hs-type">ZonedTimestamp</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-480"></span><span>  </span><span id="local-6989586621679131644"><span class="annot"><span class="annottext">fromField :: FieldParser ZonedTimestamp
</span><a href="#local-6989586621679131644"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Oid
-&gt; String
-&gt; (ByteString -&gt; Either String ZonedTimestamp)
-&gt; FieldParser ZonedTimestamp
forall a.
Oid
-&gt; String
-&gt; (ByteString -&gt; Either String a)
-&gt; Field
-&gt; Maybe ByteString
-&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#ff"><span class="hs-identifier hs-var">ff</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#timestamptzOid"><span class="hs-identifier hs-var">TI.timestamptzOid</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ZonedTimestamp&quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String ZonedTimestamp
</span><a href="Database.PostgreSQL.Simple.Time.Implementation.html#parseZonedTimestamp"><span class="hs-identifier hs-var">parseZonedTimestamp</span></a></span><span>
</span><span id="line-481"></span><span>
</span><span id="line-482"></span><span class="hs-comment">-- | timestamp</span><span>
</span><span id="line-483"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Time.Implementation.html#LocalTimestamp"><span class="hs-identifier hs-type">LocalTimestamp</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-484"></span><span>  </span><span id="local-6989586621679131641"><span class="annot"><span class="annottext">fromField :: FieldParser LocalTimestamp
</span><a href="#local-6989586621679131641"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Oid
-&gt; String
-&gt; (ByteString -&gt; Either String LocalTimestamp)
-&gt; FieldParser LocalTimestamp
forall a.
Oid
-&gt; String
-&gt; (ByteString -&gt; Either String a)
-&gt; Field
-&gt; Maybe ByteString
-&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#ff"><span class="hs-identifier hs-var">ff</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#timestampOid"><span class="hs-identifier hs-var">TI.timestampOid</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;LocalTimestamp&quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String LocalTimestamp
</span><a href="Database.PostgreSQL.Simple.Time.Implementation.html#parseLocalTimestamp"><span class="hs-identifier hs-var">parseLocalTimestamp</span></a></span><span>
</span><span id="line-485"></span><span>
</span><span id="line-486"></span><span class="hs-comment">-- | date</span><span>
</span><span id="line-487"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Time.Implementation.html#Date"><span class="hs-identifier hs-type">Date</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-488"></span><span>  </span><span id="local-6989586621679131638"><span class="annot"><span class="annottext">fromField :: FieldParser Date
</span><a href="#local-6989586621679131638"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Oid
-&gt; String -&gt; (ByteString -&gt; Either String Date) -&gt; FieldParser Date
forall a.
Oid
-&gt; String
-&gt; (ByteString -&gt; Either String a)
-&gt; Field
-&gt; Maybe ByteString
-&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#ff"><span class="hs-identifier hs-var">ff</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#dateOid"><span class="hs-identifier hs-var">TI.dateOid</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Date&quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String Date
</span><a href="Database.PostgreSQL.Simple.Time.Implementation.html#parseDate"><span class="hs-identifier hs-var">parseDate</span></a></span><span>
</span><span id="line-489"></span><span>
</span><span id="line-490"></span><span class="hs-comment">-- | interval. Requires you to configure intervalstyle as @iso_8601@.</span><span>
</span><span id="line-491"></span><span class="hs-comment">--</span><span>
</span><span id="line-492"></span><span class="hs-comment">--   You can configure intervalstyle on every connection with a @SET@ command,</span><span>
</span><span id="line-493"></span><span class="hs-comment">--   but for better performance you may want to configure it permanently in the</span><span>
</span><span id="line-494"></span><span class="hs-comment">--   file found with @SHOW config_file;@ .</span><span>
</span><span id="line-495"></span><span class="hs-comment">--</span><span>
</span><span id="line-496"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier hs-type">CalendarDiffTime</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-497"></span><span>  </span><span id="local-6989586621679131635"><span class="annot"><span class="annottext">fromField :: FieldParser CalendarDiffTime
</span><a href="#local-6989586621679131635"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Oid
-&gt; String
-&gt; (ByteString -&gt; Either String CalendarDiffTime)
-&gt; FieldParser CalendarDiffTime
forall a.
Oid
-&gt; String
-&gt; (ByteString -&gt; Either String a)
-&gt; Field
-&gt; Maybe ByteString
-&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#ff"><span class="hs-identifier hs-var">ff</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#intervalOid"><span class="hs-identifier hs-var">TI.intervalOid</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;CalendarDiffTime&quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String CalendarDiffTime
</span><a href="Database.PostgreSQL.Simple.Time.Implementation.html#parseCalendarDiffTime"><span class="hs-identifier hs-var">parseCalendarDiffTime</span></a></span><span>
</span><span id="line-498"></span><span>
</span><span id="line-499"></span><span id="local-6989586621679131994"><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#ff"><span class="hs-identifier hs-type">ff</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-type">PQ.Oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">B8.ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131994"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-500"></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">B8.ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Conversion"><span class="hs-identifier hs-type">Conversion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131994"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-501"></span><span id="ff"><span class="annot"><span class="annottext">ff :: Oid
-&gt; String
-&gt; (ByteString -&gt; Either String a)
-&gt; Field
-&gt; Maybe ByteString
-&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#ff"><span class="hs-identifier hs-var hs-var">ff</span></a></span></span><span> </span><span id="local-6989586621679131632"><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679131632"><span class="hs-identifier hs-var">compatOid</span></a></span></span><span> </span><span id="local-6989586621679131631"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679131631"><span class="hs-identifier hs-var">hsType</span></a></span></span><span> </span><span id="local-6989586621679131630"><span class="annot"><span class="annottext">ByteString -&gt; Either String a
</span><a href="#local-6989586621679131630"><span class="hs-identifier hs-var">parseBS</span></a></span></span><span> </span><span id="local-6989586621679131629"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131629"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679131628"><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131628"><span class="hs-identifier hs-var">mstr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-502"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Field -&gt; Oid
</span><a href="Database.PostgreSQL.Simple.Internal.html#typeOid"><span class="hs-identifier hs-var hs-var">typeOid</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131629"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">/=</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679131632"><span class="hs-identifier hs-var">compatOid</span></a></span><span>
</span><span id="line-503"></span><span>  </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError)
-&gt; String -&gt; Conversion a
forall a t b.
Exception a =&gt;
(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; t -&gt; a)
-&gt; t -&gt; Conversion b
</span><a href="#local-6989586621679131627"><span class="hs-identifier hs-var">err</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError
</span><a href="Database.PostgreSQL.Simple.FromField.html#Incompatible"><span class="hs-identifier hs-var">Incompatible</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-504"></span><span>  </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131628"><span class="hs-identifier hs-var">mstr</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-505"></span><span>         </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError)
-&gt; String -&gt; Conversion a
forall a t b.
Exception a =&gt;
(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; t -&gt; a)
-&gt; t -&gt; Conversion b
</span><a href="#local-6989586621679131627"><span class="hs-identifier hs-var">err</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError
</span><a href="Database.PostgreSQL.Simple.FromField.html#UnexpectedNull"><span class="hs-identifier hs-var">UnexpectedNull</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-506"></span><span>         </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679131626"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131626"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Either String a
</span><a href="#local-6989586621679131630"><span class="hs-identifier hs-var">parseBS</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131626"><span class="hs-identifier hs-var">str</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-507"></span><span>                       </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679131625"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679131625"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError)
-&gt; String -&gt; Conversion a
forall a t b.
Exception a =&gt;
(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; t -&gt; a)
-&gt; t -&gt; Conversion b
</span><a href="#local-6989586621679131627"><span class="hs-identifier hs-var">err</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError
</span><a href="Database.PostgreSQL.Simple.FromField.html#ConversionFailed"><span class="hs-identifier hs-var">ConversionFailed</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679131625"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-508"></span><span>                       </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679131624"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679131624"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; Conversion a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679131624"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-509"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-510"></span><span>   </span><span id="local-6989586621679131627"><span class="annot"><span class="annottext">err :: (String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; t -&gt; a)
-&gt; t -&gt; Conversion b
</span><a href="#local-6989586621679131627"><span class="hs-identifier hs-var hs-var">err</span></a></span></span><span> </span><span id="local-6989586621679131623"><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; t -&gt; a
</span><a href="#local-6989586621679131623"><span class="hs-identifier hs-var">errC</span></a></span></span><span> </span><span id="local-6989586621679131622"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679131622"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-511"></span><span>     </span><span id="local-6989586621679131621"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131621"><span class="hs-identifier hs-var">typnam</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Field -&gt; Conversion ByteString
</span><a href="Database.PostgreSQL.Simple.FromField.html#typename"><span class="hs-identifier hs-var">typename</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131629"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-512"></span><span>     </span><span class="annot"><span class="annottext">a -&gt; Conversion b
forall err a. Exception err =&gt; err -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#left"><span class="hs-identifier hs-var">left</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Conversion b) -&gt; a -&gt; Conversion b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; t -&gt; a
</span><a href="#local-6989586621679131623"><span class="hs-identifier hs-var">errC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; String
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">B8.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131621"><span class="hs-identifier hs-var">typnam</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-513"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Field -&gt; Maybe Oid
</span><a href="Database.PostgreSQL.Simple.FromField.html#tableOid"><span class="hs-identifier hs-var">tableOid</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131629"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-514"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; (ByteString -&gt; String) -&gt; Maybe ByteString -&gt; String
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; String
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">B8.unpack</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Field -&gt; Maybe ByteString
</span><a href="Database.PostgreSQL.Simple.FromField.html#name"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131629"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-515"></span><span>                 </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679131631"><span class="hs-identifier hs-var">hsType</span></a></span><span>
</span><span id="line-516"></span><span>                 </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679131622"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-517"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#ff"><span class="hs-pragma hs-type">ff</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-518"></span><span>
</span><span id="line-519"></span><span class="hs-comment">-- | Compatible with both types.  Conversions to type @b@ are</span><span>
</span><span id="line-520"></span><span class="hs-comment">--   preferred,  the conversion to type @a@ will be tried after</span><span>
</span><span id="line-521"></span><span class="hs-comment">--   the 'Right' conversion fails.</span><span>
</span><span id="line-522"></span><span id="local-6989586621679131617"><span id="local-6989586621679131618"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131618"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131617"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131618"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131617"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-523"></span><span>    </span><span id="local-6989586621679131615"><span class="annot"><span class="annottext">fromField :: FieldParser (Either a b)
</span><a href="#local-6989586621679131615"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679131614"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131614"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679131613"><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131613"><span class="hs-identifier hs-var">dat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; Either a b
forall a b. b -&gt; Either a b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Right</span></a></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Either a b) -&gt; Conversion b -&gt; Conversion (Either a b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FieldParser b
forall a. FromField a =&gt; FieldParser a
</span><a href="Database.PostgreSQL.Simple.FromField.html#fromField"><span class="hs-identifier hs-var">fromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131614"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131613"><span class="hs-identifier hs-var">dat</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-524"></span><span>                    </span><span class="annot"><span class="annottext">Conversion (Either a b)
-&gt; Conversion (Either a b) -&gt; Conversion (Either a b)
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;|&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Either a b
forall a b. a -&gt; Either a b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Left</span></a></span><span>  </span><span class="annot"><span class="annottext">(a -&gt; Either a b) -&gt; Conversion a -&gt; Conversion (Either a b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FieldParser a
forall a. FromField a =&gt; FieldParser a
</span><a href="Database.PostgreSQL.Simple.FromField.html#fromField"><span class="hs-identifier hs-var">fromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131614"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131613"><span class="hs-identifier hs-var">dat</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-525"></span><span>
</span><span id="line-526"></span><span class="hs-comment">-- | any postgresql array whose elements are compatible with type @a@</span><span>
</span><span id="line-527"></span><span id="local-6989586621679131612"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131612"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131612"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.PostgreSQL.Simple.Types.html#PGArray"><span class="hs-identifier hs-type">PGArray</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131612"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-528"></span><span>  </span><span id="local-6989586621679131610"><span class="annot"><span class="annottext">fromField :: FieldParser (PGArray a)
</span><a href="#local-6989586621679131610"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldParser a -&gt; FieldParser (PGArray a)
forall a. Typeable a =&gt; FieldParser a -&gt; FieldParser (PGArray a)
</span><a href="Database.PostgreSQL.Simple.FromField.html#pgArrayFieldParser"><span class="hs-identifier hs-var">pgArrayFieldParser</span></a></span><span> </span><span class="annot"><span class="annottext">FieldParser a
forall a. FromField a =&gt; FieldParser a
</span><a href="Database.PostgreSQL.Simple.FromField.html#fromField"><span class="hs-identifier hs-var">fromField</span></a></span></span><span>
</span><span id="line-529"></span><span>
</span><span id="line-530"></span><span id="local-6989586621679131972"><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#pgArrayFieldParser"><span class="hs-identifier hs-type">pgArrayFieldParser</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131972"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FieldParser"><span class="hs-identifier hs-type">FieldParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131972"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FieldParser"><span class="hs-identifier hs-type">FieldParser</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.PostgreSQL.Simple.Types.html#PGArray"><span class="hs-identifier hs-type">PGArray</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131972"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-531"></span><span id="pgArrayFieldParser"><span class="annot"><span class="annottext">pgArrayFieldParser :: FieldParser a -&gt; FieldParser (PGArray a)
</span><a href="Database.PostgreSQL.Simple.FromField.html#pgArrayFieldParser"><span class="hs-identifier hs-var hs-var">pgArrayFieldParser</span></a></span></span><span> </span><span id="local-6989586621679131609"><span class="annot"><span class="annottext">FieldParser a
</span><a href="#local-6989586621679131609"><span class="hs-identifier hs-var">fieldParser</span></a></span></span><span> </span><span id="local-6989586621679131608"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131608"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679131607"><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131607"><span class="hs-identifier hs-var">mdat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-532"></span><span>        </span><span id="local-6989586621679131606"><span class="annot"><span class="annottext">TypeInfo
</span><a href="#local-6989586621679131606"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Field -&gt; Conversion TypeInfo
</span><a href="Database.PostgreSQL.Simple.FromField.html#typeInfo"><span class="hs-identifier hs-var">typeInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131608"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-533"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="#local-6989586621679131606"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-534"></span><span>          </span><span class="annot"><a href="Database.PostgreSQL.Simple.TypeInfo.Types.html#Array"><span class="hs-identifier hs-type">TI.Array</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-535"></span><span>              </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131607"><span class="hs-identifier hs-var">mdat</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-536"></span><span>                </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError)
-&gt; Field -&gt; String -&gt; Conversion (PGArray a)
forall a err.
(Typeable a, Exception err) =&gt;
(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; err)
-&gt; Field -&gt; String -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#returnError"><span class="hs-identifier hs-var">returnError</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError
</span><a href="Database.PostgreSQL.Simple.FromField.html#UnexpectedNull"><span class="hs-identifier hs-var">UnexpectedNull</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131608"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-537"></span><span>                </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679131604"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131604"><span class="hs-identifier hs-var">dat</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-538"></span><span>                   </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Parser (Conversion [a])
-&gt; ByteString -&gt; Either String (Conversion [a])
forall a. Parser a -&gt; ByteString -&gt; Either String a
</span><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-var">parseOnly</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldParser a -&gt; TypeInfo -&gt; Field -&gt; Parser (Conversion [a])
forall a.
FieldParser a -&gt; TypeInfo -&gt; Field -&gt; Parser (Conversion [a])
</span><a href="Database.PostgreSQL.Simple.FromField.html#fromArray"><span class="hs-identifier hs-var">fromArray</span></a></span><span> </span><span class="annot"><span class="annottext">FieldParser a
</span><a href="#local-6989586621679131609"><span class="hs-identifier hs-var">fieldParser</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="#local-6989586621679131606"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131608"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131604"><span class="hs-identifier hs-var">dat</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-539"></span><span>                     </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Left</span></a></span><span>  </span><span id="local-6989586621679131601"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679131601"><span class="hs-identifier hs-var">err</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError)
-&gt; Field -&gt; String -&gt; Conversion (PGArray a)
forall a err.
(Typeable a, Exception err) =&gt;
(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; err)
-&gt; Field -&gt; String -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#returnError"><span class="hs-identifier hs-var">returnError</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError
</span><a href="Database.PostgreSQL.Simple.FromField.html#ConversionFailed"><span class="hs-identifier hs-var">ConversionFailed</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131608"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679131601"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-540"></span><span>                     </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679131600"><span class="annot"><span class="annottext">Conversion [a]
</span><a href="#local-6989586621679131600"><span class="hs-identifier hs-var">conv</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; PGArray a
forall a. [a] -&gt; PGArray a
</span><a href="Database.PostgreSQL.Simple.Types.html#PGArray"><span class="hs-identifier hs-var">PGArray</span></a></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; PGArray a) -&gt; Conversion [a] -&gt; Conversion (PGArray a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Conversion [a]
</span><a href="#local-6989586621679131600"><span class="hs-identifier hs-var">conv</span></a></span><span>
</span><span id="line-541"></span><span>          </span><span class="annot"><span class="annottext">TypeInfo
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError)
-&gt; Field -&gt; String -&gt; Conversion (PGArray a)
forall a err.
(Typeable a, Exception err) =&gt;
(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; err)
-&gt; Field -&gt; String -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#returnError"><span class="hs-identifier hs-var">returnError</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError
</span><a href="Database.PostgreSQL.Simple.FromField.html#Incompatible"><span class="hs-identifier hs-var">Incompatible</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131608"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-542"></span><span>
</span><span id="line-543"></span><span id="local-6989586621679131969"><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#fromArray"><span class="hs-identifier hs-type">fromArray</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FieldParser"><span class="hs-identifier hs-type">FieldParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131969"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.TypeInfo.Types.html#TypeInfo"><span class="hs-identifier hs-type">TypeInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Conversion"><span class="hs-identifier hs-type">Conversion</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679131969"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span></span><span>
</span><span id="line-544"></span><span id="fromArray"><span class="annot"><span class="annottext">fromArray :: FieldParser a -&gt; TypeInfo -&gt; Field -&gt; Parser (Conversion [a])
</span><a href="Database.PostgreSQL.Simple.FromField.html#fromArray"><span class="hs-identifier hs-var hs-var">fromArray</span></a></span></span><span> </span><span id="local-6989586621679131598"><span class="annot"><span class="annottext">FieldParser a
</span><a href="#local-6989586621679131598"><span class="hs-identifier hs-var">fieldParser</span></a></span></span><span> </span><span id="local-6989586621679131597"><span class="annot"><span class="annottext">TypeInfo
</span><a href="#local-6989586621679131597"><span class="hs-identifier hs-var">typInfo</span></a></span></span><span> </span><span id="local-6989586621679131596"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131596"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Conversion a] -&gt; Conversion [a]
forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">sequence</span></a></span><span> </span><span class="annot"><span class="annottext">([Conversion a] -&gt; Conversion [a])
-&gt; ([ArrayFormat] -&gt; [Conversion a])
-&gt; [ArrayFormat]
-&gt; Conversion [a]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArrayFormat -&gt; Conversion a
</span><a href="#local-6989586621679131594"><span class="hs-identifier hs-var">parseIt</span></a></span><span> </span><span class="annot"><span class="annottext">(ArrayFormat -&gt; Conversion a) -&gt; [ArrayFormat] -&gt; [Conversion a]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([ArrayFormat] -&gt; Conversion [a])
-&gt; Parser ByteString [ArrayFormat] -&gt; Parser (Conversion [a])
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Parser ByteString [ArrayFormat]
</span><a href="Database.PostgreSQL.Simple.Arrays.html#array"><span class="hs-identifier hs-var">array</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679131592"><span class="hs-identifier hs-var">delim</span></a></span><span>
</span><span id="line-545"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-546"></span><span>    </span><span id="local-6989586621679131592"><span class="annot"><span class="annottext">delim :: Char
</span><a href="#local-6989586621679131592"><span class="hs-identifier hs-var hs-var">delim</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Char
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Types.html#typdelim"><span class="hs-identifier hs-var hs-var">typdelim</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TypeInfo -&gt; TypeInfo
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Types.html#typelem"><span class="hs-identifier hs-var hs-var">typelem</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="#local-6989586621679131597"><span class="hs-identifier hs-var">typInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-547"></span><span>    </span><span id="local-6989586621679131589"><span class="annot"><span class="annottext">fElem :: Field
</span><a href="#local-6989586621679131589"><span class="hs-identifier hs-var hs-var">fElem</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131596"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">typeOid :: Oid
</span><a href="Database.PostgreSQL.Simple.Internal.html#typeOid"><span class="hs-identifier hs-var">typeOid</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TypeInfo -&gt; Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Types.html#typoid"><span class="hs-identifier hs-var hs-var">typoid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TypeInfo -&gt; TypeInfo
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Types.html#typelem"><span class="hs-identifier hs-var hs-var">typelem</span></a></span><span> </span><span class="annot"><span class="annottext">TypeInfo
</span><a href="#local-6989586621679131597"><span class="hs-identifier hs-var">typInfo</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-548"></span><span>
</span><span id="line-549"></span><span>    </span><span id="local-6989586621679131594"><span class="annot"><span class="annottext">parseIt :: ArrayFormat -&gt; Conversion a
</span><a href="#local-6989586621679131594"><span class="hs-identifier hs-var hs-var">parseIt</span></a></span></span><span> </span><span id="local-6989586621679131587"><span class="annot"><span class="annottext">ArrayFormat
</span><a href="#local-6989586621679131587"><span class="hs-identifier hs-var">item</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-550"></span><span>        </span><span class="annot"><span class="annottext">FieldParser a
</span><a href="#local-6989586621679131598"><span class="hs-identifier hs-var">fieldParser</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131586"><span class="hs-identifier hs-var">f'</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe ByteString -&gt; Conversion a)
-&gt; Maybe ByteString -&gt; Conversion a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">ArrayFormat
</span><a href="#local-6989586621679131587"><span class="hs-identifier hs-var">item</span></a></span><span> </span><span class="annot"><span class="annottext">ArrayFormat -&gt; ArrayFormat -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; ArrayFormat
</span><a href="Database.PostgreSQL.Simple.Arrays.html#Plain"><span class="hs-identifier hs-var">Arrays.Plain</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;NULL&quot;</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Maybe ByteString
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131584"><span class="hs-identifier hs-var">item'</span></a></span><span>
</span><span id="line-551"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-552"></span><span>        </span><span id="local-6989586621679131584"><span class="annot"><span class="annottext">item' :: ByteString
</span><a href="#local-6989586621679131584"><span class="hs-identifier hs-var hs-var">item'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; ArrayFormat -&gt; ByteString
</span><a href="Database.PostgreSQL.Simple.Arrays.html#fmt"><span class="hs-identifier hs-var">fmt</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679131592"><span class="hs-identifier hs-var">delim</span></a></span><span> </span><span class="annot"><span class="annottext">ArrayFormat
</span><a href="#local-6989586621679131587"><span class="hs-identifier hs-var">item</span></a></span><span>
</span><span id="line-553"></span><span>        </span><span id="local-6989586621679131586"><span class="annot"><span class="annottext">f' :: Field
</span><a href="#local-6989586621679131586"><span class="hs-identifier hs-var hs-var">f'</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Arrays.html#Array"><span class="hs-identifier hs-type">Arrays.Array</span></a></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ArrayFormat
</span><a href="#local-6989586621679131587"><span class="hs-identifier hs-var">item</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131596"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-554"></span><span>           </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">otherwise</span></a></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131589"><span class="hs-identifier hs-var">fElem</span></a></span><span>
</span><span id="line-555"></span><span>
</span><span id="line-556"></span><span id="local-6989586621679131581"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131581"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131581"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../vector/html/src"><span class="hs-identifier hs-type">Vector</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131581"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-557"></span><span>    </span><span id="local-6989586621679131579"><span class="annot"><span class="annottext">fromField :: FieldParser (Vector a)
</span><a href="#local-6989586621679131579"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679131578"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131578"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679131577"><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131577"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Vector a
forall a. [a] -&gt; Vector a
</span><a href="../../../../vector/html/src"><span class="hs-identifier hs-var">V.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; Vector a) -&gt; (PGArray a -&gt; [a]) -&gt; PGArray a -&gt; Vector a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">PGArray a -&gt; [a]
forall a. PGArray a -&gt; [a]
</span><a href="Database.PostgreSQL.Simple.Types.html#fromPGArray"><span class="hs-identifier hs-var hs-var">fromPGArray</span></a></span><span> </span><span class="annot"><span class="annottext">(PGArray a -&gt; Vector a)
-&gt; Conversion (PGArray a) -&gt; Conversion (Vector a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FieldParser (PGArray a)
forall a. FromField a =&gt; FieldParser a
</span><a href="Database.PostgreSQL.Simple.FromField.html#fromField"><span class="hs-identifier hs-var">fromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131578"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131577"><span class="hs-identifier hs-var">v</span></a></span></span><span>
</span><span id="line-558"></span><span>
</span><span id="line-559"></span><span id="local-6989586621679131574"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131574"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131574"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../vector/html/src"><span class="hs-identifier hs-type">IOVector</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131574"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-560"></span><span>    </span><span id="local-6989586621679131572"><span class="annot"><span class="annottext">fromField :: FieldParser (IOVector a)
</span><a href="#local-6989586621679131572"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679131571"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131571"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679131570"><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131570"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO (IOVector a) -&gt; Conversion (IOVector a)
forall a. IO a -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.Internal.html#liftConversion"><span class="hs-identifier hs-var">liftConversion</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (IOVector a) -&gt; Conversion (IOVector a))
-&gt; (Vector a -&gt; IO (IOVector a))
-&gt; Vector a
-&gt; Conversion (IOVector a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Vector a -&gt; IO (IOVector a)
forall (m :: * -&gt; *) a.
PrimMonad m =&gt;
Vector a -&gt; m (MVector (PrimState m) a)
</span><a href="../../../../vector/html/src"><span class="hs-identifier hs-var">V.unsafeThaw</span></a></span><span> </span><span class="annot"><span class="annottext">(Vector a -&gt; Conversion (IOVector a))
-&gt; Conversion (Vector a) -&gt; Conversion (IOVector a)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">FieldParser (Vector a)
forall a. FromField a =&gt; FieldParser a
</span><a href="Database.PostgreSQL.Simple.FromField.html#fromField"><span class="hs-identifier hs-var">fromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131571"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131570"><span class="hs-identifier hs-var">v</span></a></span></span><span>
</span><span id="line-561"></span><span>
</span><span id="line-562"></span><span class="hs-comment">-- | uuid</span><span>
</span><span id="line-563"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="../../../../uuid-types/html/src"><span class="hs-identifier hs-type">UUID</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-564"></span><span>    </span><span id="local-6989586621679131565"><span class="annot"><span class="annottext">fromField :: FieldParser UUID
</span><a href="#local-6989586621679131565"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679131564"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131564"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679131563"><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131563"><span class="hs-identifier hs-var">mbs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-565"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Field -&gt; Oid
</span><a href="Database.PostgreSQL.Simple.Internal.html#typeOid"><span class="hs-identifier hs-var hs-var">typeOid</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131564"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">/=</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#uuidOid"><span class="hs-identifier hs-var">TI.uuidOid</span></a></span><span>
</span><span id="line-566"></span><span>      </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError)
-&gt; Field -&gt; String -&gt; Conversion UUID
forall a err.
(Typeable a, Exception err) =&gt;
(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; err)
-&gt; Field -&gt; String -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#returnError"><span class="hs-identifier hs-var">returnError</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError
</span><a href="Database.PostgreSQL.Simple.FromField.html#Incompatible"><span class="hs-identifier hs-var">Incompatible</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131564"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-567"></span><span>      </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131563"><span class="hs-identifier hs-var">mbs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-568"></span><span>             </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError)
-&gt; Field -&gt; String -&gt; Conversion UUID
forall a err.
(Typeable a, Exception err) =&gt;
(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; err)
-&gt; Field -&gt; String -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#returnError"><span class="hs-identifier hs-var">returnError</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError
</span><a href="Database.PostgreSQL.Simple.FromField.html#UnexpectedNull"><span class="hs-identifier hs-var">UnexpectedNull</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131564"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-569"></span><span>             </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679131561"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131561"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-570"></span><span>                 </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Maybe UUID
</span><a href="../../../../uuid-types/html/src"><span class="hs-identifier hs-var">UUID.fromASCIIBytes</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131561"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-571"></span><span>                   </span><span class="annot"><span class="annottext">Maybe UUID
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError)
-&gt; Field -&gt; String -&gt; Conversion UUID
forall a err.
(Typeable a, Exception err) =&gt;
(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; err)
-&gt; Field -&gt; String -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#returnError"><span class="hs-identifier hs-var">returnError</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError
</span><a href="Database.PostgreSQL.Simple.FromField.html#ConversionFailed"><span class="hs-identifier hs-var">ConversionFailed</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131564"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Invalid UUID&quot;</span></span><span>
</span><span id="line-572"></span><span>                   </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679131559"><span class="annot"><span class="annottext">UUID
</span><a href="#local-6989586621679131559"><span class="hs-identifier hs-var">uuid</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UUID -&gt; Conversion UUID
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">UUID
</span><a href="#local-6989586621679131559"><span class="hs-identifier hs-var">uuid</span></a></span><span>
</span><span id="line-573"></span><span>
</span><span id="line-574"></span><span class="hs-comment">-- | json, jsonb</span><span>
</span><span id="line-575"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">JSON.Value</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-576"></span><span>    </span><span id="local-6989586621679131557"><span class="annot"><span class="annottext">fromField :: FieldParser Value
</span><a href="#local-6989586621679131557"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679131556"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131556"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679131555"><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131555"><span class="hs-identifier hs-var">mbs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Conversion Value
</span><a href="#local-6989586621679131554"><span class="hs-identifier hs-var">parseBS</span></a></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Conversion Value)
-&gt; Conversion ByteString -&gt; Conversion Value
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">FieldParser ByteString
</span><a href="Database.PostgreSQL.Simple.FromField.html#fromFieldJSONByteString"><span class="hs-identifier hs-var">fromFieldJSONByteString</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131556"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131555"><span class="hs-identifier hs-var">mbs</span></a></span><span>
</span><span id="line-577"></span><span>      </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679131554"><span class="annot"><span class="annottext">parseBS :: ByteString -&gt; Conversion Value
</span><a href="#local-6989586621679131554"><span class="hs-identifier hs-var hs-var">parseBS</span></a></span></span><span> </span><span id="local-6989586621679131553"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131553"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Parser Value -&gt; ByteString -&gt; Either String Value
forall a. Parser a -&gt; ByteString -&gt; Either String a
</span><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-var">parseOnly</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Parser Value
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">JSON.value'</span></a></span><span> </span><span class="annot"><span class="annottext">Parser Value -&gt; Parser ByteString () -&gt; Parser Value
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*</span></a></span><span> </span><span class="annot"><span class="annottext">Parser ByteString ()
forall t. Chunk t =&gt; Parser t ()
</span><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-var">endOfInput</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131553"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-578"></span><span>                   </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Left</span></a></span><span>  </span><span id="local-6989586621679131551"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679131551"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError)
-&gt; Field -&gt; String -&gt; Conversion Value
forall a err.
(Typeable a, Exception err) =&gt;
(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; err)
-&gt; Field -&gt; String -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#returnError"><span class="hs-identifier hs-var">returnError</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError
</span><a href="Database.PostgreSQL.Simple.FromField.html#ConversionFailed"><span class="hs-identifier hs-var">ConversionFailed</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131556"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679131551"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-579"></span><span>                   </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679131550"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679131550"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Value -&gt; Conversion Value
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679131550"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-580"></span><span>
</span><span id="line-581"></span><span class="hs-comment">-- | Return the JSON ByteString directly</span><span>
</span><span id="line-582"></span><span class="hs-comment">--</span><span>
</span><span id="line-583"></span><span class="hs-comment">-- @since 0.6.3</span><span>
</span><span id="line-584"></span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#fromFieldJSONByteString"><span class="hs-identifier hs-type">fromFieldJSONByteString</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Conversion"><span class="hs-identifier hs-type">Conversion</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span>
</span><span id="line-585"></span><span id="fromFieldJSONByteString"><span class="annot"><span class="annottext">fromFieldJSONByteString :: FieldParser ByteString
</span><a href="Database.PostgreSQL.Simple.FromField.html#fromFieldJSONByteString"><span class="hs-identifier hs-var hs-var">fromFieldJSONByteString</span></a></span></span><span> </span><span id="local-6989586621679131549"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131549"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679131548"><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131548"><span class="hs-identifier hs-var">mbs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-586"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Field -&gt; Oid
</span><a href="Database.PostgreSQL.Simple.Internal.html#typeOid"><span class="hs-identifier hs-var hs-var">typeOid</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131549"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">/=</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#jsonOid"><span class="hs-identifier hs-var">TI.jsonOid</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&amp;&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Field -&gt; Oid
</span><a href="Database.PostgreSQL.Simple.Internal.html#typeOid"><span class="hs-identifier hs-var hs-var">typeOid</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131549"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">/=</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#jsonbOid"><span class="hs-identifier hs-var">TI.jsonbOid</span></a></span><span>
</span><span id="line-587"></span><span>      </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError)
-&gt; Field -&gt; String -&gt; Conversion ByteString
forall a err.
(Typeable a, Exception err) =&gt;
(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; err)
-&gt; Field -&gt; String -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#returnError"><span class="hs-identifier hs-var">returnError</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError
</span><a href="Database.PostgreSQL.Simple.FromField.html#Incompatible"><span class="hs-identifier hs-var">Incompatible</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131549"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-588"></span><span>      </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131548"><span class="hs-identifier hs-var">mbs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-589"></span><span>             </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError)
-&gt; Field -&gt; String -&gt; Conversion ByteString
forall a err.
(Typeable a, Exception err) =&gt;
(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; err)
-&gt; Field -&gt; String -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#returnError"><span class="hs-identifier hs-var">returnError</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError
</span><a href="Database.PostgreSQL.Simple.FromField.html#UnexpectedNull"><span class="hs-identifier hs-var">UnexpectedNull</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131549"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-590"></span><span>             </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679131544"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131544"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Conversion ByteString
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131544"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-591"></span><span>
</span><span id="line-592"></span><span class="hs-comment">-- | Parse a field to a JSON 'JSON.Value' and convert that into a</span><span>
</span><span id="line-593"></span><span class="hs-comment">-- Haskell value using the 'JSON.FromJSON' instance.</span><span>
</span><span id="line-594"></span><span class="hs-comment">--</span><span>
</span><span id="line-595"></span><span class="hs-comment">-- This can be used as the default implementation for the 'fromField'</span><span>
</span><span id="line-596"></span><span class="hs-comment">-- method for Haskell types that have a JSON representation in</span><span>
</span><span id="line-597"></span><span class="hs-comment">-- PostgreSQL.</span><span>
</span><span id="line-598"></span><span class="hs-comment">--</span><span>
</span><span id="line-599"></span><span class="hs-comment">-- The 'Typeable' constraint is required to show more informative</span><span>
</span><span id="line-600"></span><span class="hs-comment">-- error messages when parsing fails.</span><span>
</span><span id="line-601"></span><span class="hs-comment">--</span><span>
</span><span id="line-602"></span><span class="hs-comment">-- Note that @fromJSONField :: FieldParser ('Maybe' Foo)@ will return</span><span>
</span><span id="line-603"></span><span class="hs-comment">-- @'Nothing'@ on the json @null@ value, and return an exception on SQL @null@</span><span>
</span><span id="line-604"></span><span class="hs-comment">-- value.  Alternatively,  one could write @'optionalField' fromJSONField@</span><span>
</span><span id="line-605"></span><span class="hs-comment">-- that will return @Nothing@ on SQL @null@,  and otherwise will call</span><span>
</span><span id="line-606"></span><span class="hs-comment">-- @fromJSONField :: FieldParser Foo@ and then return @'Just'@ the</span><span>
</span><span id="line-607"></span><span class="hs-comment">-- result value,  or return its exception.  If one would</span><span>
</span><span id="line-608"></span><span class="hs-comment">-- like to return @Nothing@ on both the SQL @null@ and json @null@ values,</span><span>
</span><span id="line-609"></span><span class="hs-comment">-- one way to do it would be to write</span><span>
</span><span id="line-610"></span><span class="hs-comment">-- @\\f mv -&gt; 'Control.Monad.join' '&lt;$&gt;' optionalField fromJSONField f mv@</span><span>
</span><span id="line-611"></span><span id="local-6989586621679131543"><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#fromJSONField"><span class="hs-identifier hs-type">fromJSONField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">JSON.FromJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131543"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131543"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FieldParser"><span class="hs-identifier hs-type">FieldParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131543"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-612"></span><span id="fromJSONField"><span class="annot"><span class="annottext">fromJSONField :: FieldParser a
</span><a href="Database.PostgreSQL.Simple.FromField.html#fromJSONField"><span class="hs-identifier hs-var hs-var">fromJSONField</span></a></span></span><span> </span><span id="local-6989586621679131542"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131542"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679131541"><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131541"><span class="hs-identifier hs-var">mbBs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-613"></span><span>    </span><span id="local-6989586621679131540"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679131540"><span class="hs-identifier hs-var">value</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FieldParser Value
forall a. FromField a =&gt; FieldParser a
</span><a href="Database.PostgreSQL.Simple.FromField.html#fromField"><span class="hs-identifier hs-var">fromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131542"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131541"><span class="hs-identifier hs-var">mbBs</span></a></span><span>
</span><span id="line-614"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Value -&gt; IResult a
forall a. FromJSON a =&gt; Value -&gt; IResult a
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">JSON.ifromJSON</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621679131540"><span class="hs-identifier hs-var">value</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-615"></span><span>        </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">JSON.IError</span></a></span><span> </span><span id="local-6989586621679131537"><span class="annot"><span class="annottext">JSONPath
</span><a href="#local-6989586621679131537"><span class="hs-identifier hs-var">path</span></a></span></span><span> </span><span id="local-6989586621679131536"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679131536"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError)
-&gt; Field -&gt; String -&gt; Conversion a
forall a err.
(Typeable a, Exception err) =&gt;
(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; err)
-&gt; Field -&gt; String -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#returnError"><span class="hs-identifier hs-var">returnError</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError
</span><a href="Database.PostgreSQL.Simple.FromField.html#ConversionFailed"><span class="hs-identifier hs-var">ConversionFailed</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131542"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Conversion a) -&gt; String -&gt; Conversion a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-616"></span><span>                            </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;JSON decoding error: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">JSONPath -&gt; ShowS
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">JSON.formatError</span></a></span><span> </span><span class="annot"><span class="annottext">JSONPath
</span><a href="#local-6989586621679131537"><span class="hs-identifier hs-var">path</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679131536"><span class="hs-identifier hs-var">err</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-617"></span><span>        </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">JSON.ISuccess</span></a></span><span> </span><span id="local-6989586621679131533"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679131533"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; Conversion a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679131533"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-618"></span><span>
</span><span id="line-619"></span><span class="hs-comment">-- | Compatible with the same set of types as @a@.  Note that</span><span>
</span><span id="line-620"></span><span class="hs-comment">--   modifying the 'IORef' does not have any effects outside</span><span>
</span><span id="line-621"></span><span class="hs-comment">--   the local process on the local machine.</span><span>
</span><span id="line-622"></span><span id="local-6989586621679131532"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131532"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">IORef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131532"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-623"></span><span>    </span><span id="local-6989586621679131530"><span class="annot"><span class="annottext">fromField :: FieldParser (IORef a)
</span><a href="#local-6989586621679131530"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679131529"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131529"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679131528"><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131528"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO (IORef a) -&gt; Conversion (IORef a)
forall a. IO a -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.Internal.html#liftConversion"><span class="hs-identifier hs-var">liftConversion</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (IORef a) -&gt; Conversion (IORef a))
-&gt; (a -&gt; IO (IORef a)) -&gt; a -&gt; Conversion (IORef a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; IO (IORef a)
forall a. a -&gt; IO (IORef a)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">newIORef</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Conversion (IORef a)) -&gt; Conversion a -&gt; Conversion (IORef a)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">FieldParser a
forall a. FromField a =&gt; FieldParser a
</span><a href="Database.PostgreSQL.Simple.FromField.html#fromField"><span class="hs-identifier hs-var">fromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131529"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131528"><span class="hs-identifier hs-var">v</span></a></span></span><span>
</span><span id="line-624"></span><span>
</span><span id="line-625"></span><span class="hs-comment">-- | Compatible with the same set of types as @a@.  Note that</span><span>
</span><span id="line-626"></span><span class="hs-comment">--   modifying the 'MVar' does not have any effects outside</span><span>
</span><span id="line-627"></span><span class="hs-comment">--   the local process on the local machine.</span><span>
</span><span id="line-628"></span><span id="local-6989586621679131527"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131527"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FromField"><span class="hs-identifier hs-type">FromField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">MVar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679131527"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-629"></span><span>    </span><span id="local-6989586621679131525"><span class="annot"><span class="annottext">fromField :: FieldParser (MVar a)
</span><a href="#local-6989586621679131525"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679131524"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131524"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679131523"><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131523"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO (MVar a) -&gt; Conversion (MVar a)
forall a. IO a -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.Internal.html#liftConversion"><span class="hs-identifier hs-var">liftConversion</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (MVar a) -&gt; Conversion (MVar a))
-&gt; (a -&gt; IO (MVar a)) -&gt; a -&gt; Conversion (MVar a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; IO (MVar a)
forall a. a -&gt; IO (MVar a)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">newMVar</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Conversion (MVar a)) -&gt; Conversion a -&gt; Conversion (MVar a)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">FieldParser a
forall a. FromField a =&gt; FieldParser a
</span><a href="Database.PostgreSQL.Simple.FromField.html#fromField"><span class="hs-identifier hs-var">fromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131524"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131523"><span class="hs-identifier hs-var">v</span></a></span></span><span>
</span><span id="line-630"></span><span>
</span><span id="line-631"></span><span class="hs-keyword">type</span><span> </span><span id="Compat"><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#Compat"><span class="hs-identifier hs-var">Compat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-type">PQ.Oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-632"></span><span>
</span><span id="line-633"></span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#okText"><span class="hs-identifier hs-type">okText</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#okText%27"><span class="hs-identifier hs-type">okText'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#okBinary"><span class="hs-identifier hs-type">okBinary</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#ok16"><span class="hs-identifier hs-type">ok16</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#ok32"><span class="hs-identifier hs-type">ok32</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#ok64"><span class="hs-identifier hs-type">ok64</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#okInt"><span class="hs-identifier hs-type">okInt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#Compat"><span class="hs-identifier hs-type">Compat</span></a></span><span>
</span><span id="line-634"></span><span id="okText"><span class="annot"><span class="annottext">okText :: Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#okText"><span class="hs-identifier hs-var hs-var">okText</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#nameOid"><span class="hs-identifier hs-var">TI.nameOid</span></a></span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; (Oid -&gt; Bool) -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#%5C%2F"><span class="hs-operator hs-var">\/</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#textOid"><span class="hs-identifier hs-var">TI.textOid</span></a></span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; (Oid -&gt; Bool) -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#%5C%2F"><span class="hs-operator hs-var">\/</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#charOid"><span class="hs-identifier hs-var">TI.charOid</span></a></span><span>
</span><span id="line-635"></span><span>        </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; (Oid -&gt; Bool) -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#%5C%2F"><span class="hs-operator hs-var">\/</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#bpcharOid"><span class="hs-identifier hs-var">TI.bpcharOid</span></a></span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; (Oid -&gt; Bool) -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#%5C%2F"><span class="hs-operator hs-var">\/</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#varcharOid"><span class="hs-identifier hs-var">TI.varcharOid</span></a></span><span>
</span><span id="line-636"></span><span id="okText%27"><span class="annot"><span class="annottext">okText' :: Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#okText%27"><span class="hs-identifier hs-var hs-var">okText'</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#nameOid"><span class="hs-identifier hs-var">TI.nameOid</span></a></span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; (Oid -&gt; Bool) -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#%5C%2F"><span class="hs-operator hs-var">\/</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#textOid"><span class="hs-identifier hs-var">TI.textOid</span></a></span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; (Oid -&gt; Bool) -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#%5C%2F"><span class="hs-operator hs-var">\/</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#charOid"><span class="hs-identifier hs-var">TI.charOid</span></a></span><span>
</span><span id="line-637"></span><span>        </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; (Oid -&gt; Bool) -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#%5C%2F"><span class="hs-operator hs-var">\/</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#bpcharOid"><span class="hs-identifier hs-var">TI.bpcharOid</span></a></span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; (Oid -&gt; Bool) -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#%5C%2F"><span class="hs-operator hs-var">\/</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#varcharOid"><span class="hs-identifier hs-var">TI.varcharOid</span></a></span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; (Oid -&gt; Bool) -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#%5C%2F"><span class="hs-operator hs-var">\/</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#unknownOid"><span class="hs-identifier hs-var">TI.unknownOid</span></a></span><span>
</span><span id="line-638"></span><span id="okBinary"><span class="annot"><span class="annottext">okBinary :: Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#okBinary"><span class="hs-identifier hs-var hs-var">okBinary</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#byteaOid"><span class="hs-identifier hs-var">TI.byteaOid</span></a></span><span>
</span><span id="line-639"></span><span id="ok16"><span class="annot"><span class="annottext">ok16 :: Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#ok16"><span class="hs-identifier hs-var hs-var">ok16</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#int2Oid"><span class="hs-identifier hs-var">TI.int2Oid</span></a></span><span>
</span><span id="line-640"></span><span id="ok32"><span class="annot"><span class="annottext">ok32 :: Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#ok32"><span class="hs-identifier hs-var hs-var">ok32</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#int2Oid"><span class="hs-identifier hs-var">TI.int2Oid</span></a></span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; (Oid -&gt; Bool) -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#%5C%2F"><span class="hs-operator hs-var">\/</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#int4Oid"><span class="hs-identifier hs-var">TI.int4Oid</span></a></span><span>
</span><span id="line-641"></span><span id="ok64"><span class="annot"><span class="annottext">ok64 :: Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#ok64"><span class="hs-identifier hs-var hs-var">ok64</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#int2Oid"><span class="hs-identifier hs-var">TI.int2Oid</span></a></span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; (Oid -&gt; Bool) -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#%5C%2F"><span class="hs-operator hs-var">\/</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#int4Oid"><span class="hs-identifier hs-var">TI.int4Oid</span></a></span><span> </span><span class="annot"><span class="annottext">(Oid -&gt; Bool) -&gt; (Oid -&gt; Bool) -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#%5C%2F"><span class="hs-operator hs-var">\/</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="Database.PostgreSQL.Simple.TypeInfo.Static.html#int8Oid"><span class="hs-identifier hs-var">TI.int8Oid</span></a></span><span class="hs-cpp">
#if WORD_SIZE_IN_BITS &lt; 64
</span><span class="hs-identifier">okInt</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">ok32</span><span class="hs-cpp">
#else
</span><span id="okInt"><span class="annot"><span class="annottext">okInt :: Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#okInt"><span class="hs-identifier hs-var hs-var">okInt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#ok64"><span class="hs-identifier hs-var">ok64</span></a></span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-648"></span><span class="hs-comment">-- | eq and \/ are used to imlement what Macro stuff did,</span><span>
</span><span id="line-649"></span><span class="hs-comment">-- i.e. mkCompats and inlineTypoid</span><span>
</span><span id="line-650"></span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-type">eq</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-type">PQ.Oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-type">PQ.Oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-651"></span><span id="eq"><span class="annot"><span class="annottext">eq :: Oid -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-identifier hs-var hs-var">eq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Oid -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">(==)</span></a></span><span>
</span><span id="line-652"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#eq"><span class="hs-pragma hs-type">eq</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-653"></span><span>
</span><span id="line-654"></span><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">2</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#%5C%2F"><span class="hs-operator hs-type">\/</span></a></span><span>
</span><span id="line-655"></span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#%5C%2F"><span class="hs-operator hs-type">(\/)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-type">PQ.Oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-656"></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-type">PQ.Oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-657"></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-type">PQ.Oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-658"></span><span id="local-6989586621679131517"><span class="annot"><span class="annottext">Oid -&gt; Bool
</span><a href="#local-6989586621679131517"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="%5C%2F"><span class="annot"><span class="annottext">\/ :: (Oid -&gt; Bool) -&gt; (Oid -&gt; Bool) -&gt; Oid -&gt; Bool
</span><a href="Database.PostgreSQL.Simple.FromField.html#%5C%2F"><span class="hs-operator hs-var hs-var">\/</span></a></span></span><span> </span><span id="local-6989586621679131516"><span class="annot"><span class="annottext">Oid -&gt; Bool
</span><a href="#local-6989586621679131516"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679131515"><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679131515"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Bool
</span><a href="#local-6989586621679131517"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679131515"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">||</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Bool
</span><a href="#local-6989586621679131516"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Oid
</span><a href="#local-6989586621679131515"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-659"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">\/</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-660"></span><span>
</span><span id="line-661"></span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#doFromField"><span class="hs-identifier hs-type">doFromField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679132011"><span class="annot"><a href="#local-6989586621679132011"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679132011"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-662"></span><span>          </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#Compat"><span class="hs-identifier hs-type">Compat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Conversion"><span class="hs-identifier hs-type">Conversion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679132011"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-663"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Conversion"><span class="hs-identifier hs-type">Conversion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679132011"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-664"></span><span id="doFromField"><span class="annot"><span class="annottext">doFromField :: Field
-&gt; (Oid -&gt; Bool)
-&gt; (ByteString -&gt; Conversion a)
-&gt; Maybe ByteString
-&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#doFromField"><span class="hs-identifier hs-var hs-var">doFromField</span></a></span></span><span> </span><span id="local-6989586621679131513"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131513"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679131512"><span class="annot"><span class="annottext">Oid -&gt; Bool
</span><a href="#local-6989586621679131512"><span class="hs-identifier hs-var">isCompat</span></a></span></span><span> </span><span id="local-6989586621679131511"><span class="annot"><span class="annottext">ByteString -&gt; Conversion a
</span><a href="#local-6989586621679131511"><span class="hs-identifier hs-var">cvt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679131510"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131510"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-665"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Bool
</span><a href="#local-6989586621679131512"><span class="hs-identifier hs-var">isCompat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Field -&gt; Oid
</span><a href="Database.PostgreSQL.Simple.Internal.html#typeOid"><span class="hs-identifier hs-var hs-var">typeOid</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131513"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Conversion a
</span><a href="#local-6989586621679131511"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131510"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-666"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">otherwise</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError)
-&gt; Field -&gt; String -&gt; Conversion a
forall a err.
(Typeable a, Exception err) =&gt;
(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; err)
-&gt; Field -&gt; String -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#returnError"><span class="hs-identifier hs-var">returnError</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError
</span><a href="Database.PostgreSQL.Simple.FromField.html#Incompatible"><span class="hs-identifier hs-var">Incompatible</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131513"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;types incompatible&quot;</span></span><span>
</span><span id="line-667"></span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#doFromField"><span class="hs-identifier hs-var">doFromField</span></a></span><span> </span><span id="local-6989586621679131509"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131509"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; Conversion a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError)
-&gt; Field -&gt; String -&gt; Conversion a
forall a err.
(Typeable a, Exception err) =&gt;
(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; err)
-&gt; Field -&gt; String -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#returnError"><span class="hs-identifier hs-var">returnError</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError
</span><a href="Database.PostgreSQL.Simple.FromField.html#UnexpectedNull"><span class="hs-identifier hs-var">UnexpectedNull</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131509"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-668"></span><span>
</span><span id="line-669"></span><span>
</span><span id="line-670"></span><span class="hs-comment">-- | Given one of the constructors from 'ResultError',  the field,</span><span>
</span><span id="line-671"></span><span class="hs-comment">--   and an 'errMessage',  this fills in the other fields in the</span><span>
</span><span id="line-672"></span><span class="hs-comment">--   exception value and returns it in a 'Left . SomeException'</span><span>
</span><span id="line-673"></span><span class="hs-comment">--   constructor.</span><span>
</span><span id="line-674"></span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#returnError"><span class="hs-identifier hs-type">returnError</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679132049"><span class="annot"><a href="#local-6989586621679132049"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679132048"><span class="annot"><a href="#local-6989586621679132048"><span class="hs-identifier hs-type">err</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679132049"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Exception</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679132048"><span class="hs-identifier hs-type">err</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-675"></span><span>            </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-type">PQ.Oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679132048"><span class="hs-identifier hs-type">err</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-676"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Conversion"><span class="hs-identifier hs-type">Conversion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679132049"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-677"></span><span id="returnError"><span class="annot"><span class="annottext">returnError :: (String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; err)
-&gt; Field -&gt; String -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#returnError"><span class="hs-identifier hs-var hs-var">returnError</span></a></span></span><span> </span><span id="local-6989586621679131508"><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; err
</span><a href="#local-6989586621679131508"><span class="hs-identifier hs-var">mkErr</span></a></span></span><span> </span><span id="local-6989586621679131507"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131507"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679131506"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679131506"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-678"></span><span>  </span><span id="local-6989586621679131505"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131505"><span class="hs-identifier hs-var">typnam</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Field -&gt; Conversion ByteString
</span><a href="Database.PostgreSQL.Simple.FromField.html#typename"><span class="hs-identifier hs-var">typename</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131507"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-679"></span><span>  </span><span class="annot"><span class="annottext">err -&gt; Conversion a
forall err a. Exception err =&gt; err -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#left"><span class="hs-identifier hs-var">left</span></a></span><span> </span><span class="annot"><span class="annottext">(err -&gt; Conversion a) -&gt; err -&gt; Conversion a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; err
</span><a href="#local-6989586621679131508"><span class="hs-identifier hs-var">mkErr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; String
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">B.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131505"><span class="hs-identifier hs-var">typnam</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-680"></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Field -&gt; Maybe Oid
</span><a href="Database.PostgreSQL.Simple.FromField.html#tableOid"><span class="hs-identifier hs-var">tableOid</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131507"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-681"></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; (ByteString -&gt; String) -&gt; Maybe ByteString -&gt; String
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; String
</span><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-var">B.unpack</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Field -&gt; Maybe ByteString
</span><a href="Database.PostgreSQL.Simple.FromField.html#name"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131507"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-682"></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TypeRep -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; TypeRep
forall a. Typeable a =&gt; a -&gt; TypeRep
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">typeOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
forall a. HasCallStack =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">undefined</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679132049"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-683"></span><span>               </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679131506"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-684"></span><span>
</span><span id="line-685"></span><span class="hs-comment">-- | Construct a field parser from an attoparsec parser. An 'Incompatible' error is thrown if the</span><span>
</span><span id="line-686"></span><span class="hs-comment">-- PostgreSQL oid does not match the specified predicate.</span><span>
</span><span id="line-687"></span><span class="hs-comment">--</span><span>
</span><span id="line-688"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-689"></span><span class="hs-comment">-- instance FromField Int16 where</span><span>
</span><span id="line-690"></span><span class="hs-comment">--   fromField = attoFieldParser ok16 (signed decimal)</span><span>
</span><span id="line-691"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-692"></span><span class="hs-comment">--</span><span>
</span><span id="line-693"></span><span class="hs-comment">-- @since 0.6.3</span><span>
</span><span id="line-694"></span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#attoFieldParser"><span class="hs-identifier hs-type">attoFieldParser</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679132028"><span class="annot"><a href="#local-6989586621679132028"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Typeable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679132028"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-695"></span><span>     </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../postgresql-libpq/html/src"><span class="hs-identifier hs-type">PQ.Oid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-696"></span><span>     </span><span class="hs-comment">-- ^ Predicate for whether the postgresql type oid is compatible with this parser</span><span>
</span><span id="line-697"></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679132028"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-698"></span><span>     </span><span class="hs-comment">-- ^ An attoparsec parser.</span><span>
</span><span id="line-699"></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.FromField.html#FieldParser"><span class="hs-identifier hs-type">FieldParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679132028"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-700"></span><span id="attoFieldParser"><span class="annot"><span class="annottext">attoFieldParser :: (Oid -&gt; Bool) -&gt; Parser a -&gt; FieldParser a
</span><a href="Database.PostgreSQL.Simple.FromField.html#attoFieldParser"><span class="hs-identifier hs-var hs-var">attoFieldParser</span></a></span></span><span> </span><span id="local-6989586621679131502"><span class="annot"><span class="annottext">Oid -&gt; Bool
</span><a href="#local-6989586621679131502"><span class="hs-identifier hs-var">types</span></a></span></span><span> </span><span id="local-6989586621679131501"><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679131501"><span class="hs-identifier hs-var">p0</span></a></span></span><span> </span><span id="local-6989586621679131500"><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131500"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679131499"><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131499"><span class="hs-identifier hs-var">dat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Field
-&gt; (Oid -&gt; Bool)
-&gt; (ByteString -&gt; Conversion a)
-&gt; Maybe ByteString
-&gt; Conversion a
forall a.
Typeable a =&gt;
Field
-&gt; (Oid -&gt; Bool)
-&gt; (ByteString -&gt; Conversion a)
-&gt; Maybe ByteString
-&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#doFromField"><span class="hs-identifier hs-var">doFromField</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131500"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Oid -&gt; Bool
</span><a href="#local-6989586621679131502"><span class="hs-identifier hs-var">types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Parser a -&gt; ByteString -&gt; Conversion a
</span><a href="#local-6989586621679131498"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679131501"><span class="hs-identifier hs-var">p0</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe ByteString
</span><a href="#local-6989586621679131499"><span class="hs-identifier hs-var">dat</span></a></span><span>
</span><span id="line-701"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-702"></span><span>    </span><span class="annot"><a href="#local-6989586621679131498"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679132028"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../bytestring/html/src"><span class="hs-identifier hs-type">ByteString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Database.PostgreSQL.Simple.Internal.html#Conversion"><span class="hs-identifier hs-type">Conversion</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679132028"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-703"></span><span>    </span><span id="local-6989586621679131498"><span class="annot"><span class="annottext">go :: Parser a -&gt; ByteString -&gt; Conversion a
</span><a href="#local-6989586621679131498"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679131497"><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679131497"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679131496"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131496"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-704"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Parser a -&gt; ByteString -&gt; Either String a
forall a. Parser a -&gt; ByteString -&gt; Either String a
</span><a href="../../../../attoparsec/html/src"><span class="hs-identifier hs-var">parseOnly</span></a></span><span> </span><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679131497"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621679131496"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-705"></span><span>          </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679131495"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679131495"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError)
-&gt; Field -&gt; String -&gt; Conversion a
forall a err.
(Typeable a, Exception err) =&gt;
(String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; err)
-&gt; Field -&gt; String -&gt; Conversion a
</span><a href="Database.PostgreSQL.Simple.FromField.html#returnError"><span class="hs-identifier hs-var">returnError</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Oid -&gt; String -&gt; String -&gt; String -&gt; ResultError
</span><a href="Database.PostgreSQL.Simple.FromField.html#ConversionFailed"><span class="hs-identifier hs-var">ConversionFailed</span></a></span><span> </span><span class="annot"><span class="annottext">Field
</span><a href="#local-6989586621679131500"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679131495"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-706"></span><span>          </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span>  </span><span id="local-6989586621679131494"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679131494"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; Conversion a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679131494"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-707"></span></pre></body></html>