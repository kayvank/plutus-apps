<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Katip.Scribes.Handle</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">katip-0.8.7.2: A structured logging framework.</span><ul class="links" id="page-menu"><li><a href="src/Katip.Scribes.Handle.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Katip.Scribes.Handle</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:brackets">brackets</a> :: <a href="../../text/html/Data-Text-Lazy-Builder.html#t:Builder" title="Data.Text.Lazy.Builder">Builder</a> -&gt; <a href="../../text/html/Data-Text-Lazy-Builder.html#t:Builder" title="Data.Text.Lazy.Builder">Builder</a></li><li class="src short"><a href="#v:getKeys">getKeys</a> :: <a href="Katip-Core.html#t:LogItem" title="Katip.Core">LogItem</a> s =&gt; <a href="Katip-Core.html#t:Verbosity" title="Katip.Core">Verbosity</a> -&gt; s -&gt; [<a href="../../text/html/Data-Text-Lazy-Builder.html#t:Builder" title="Data.Text.Lazy.Builder">Builder</a>]</li><li class="src short"><a href="#v:toBuilders">toBuilders</a> :: <a href="../../aeson/html/Data-Aeson-KeyMap.html#t:KeyMap" title="Data.Aeson.KeyMap">KeyMap</a> <a href="../../aeson/html/Data-Aeson-Types.html#t:Value" title="Data.Aeson.Types">Value</a> -&gt; [[<a href="../../text/html/Data-Text-Lazy-Builder.html#t:Builder" title="Data.Text.Lazy.Builder">Builder</a>]]</li><li class="src short"><a href="#v:toTxtKeyList">toTxtKeyList</a> :: <a href="../../aeson/html/Data-Aeson-KeyMap.html#t:KeyMap" title="Data.Aeson.KeyMap">KeyMap</a> v -&gt; [(<a href="../../text/html/Data-Text.html#t:Text" title="Data.Text">Text</a>, v)]</li><li class="src short"><a href="#v:renderPair">renderPair</a> :: (<a href="../../text/html/Data-Text.html#t:Text" title="Data.Text">Text</a>, <a href="../../aeson/html/Data-Aeson-Types.html#t:Value" title="Data.Aeson.Types">Value</a>) -&gt; [<a href="../../text/html/Data-Text-Lazy-Builder.html#t:Builder" title="Data.Text.Lazy.Builder">Builder</a>]</li><li class="src short"><span class="keyword">data</span> <a href="#t:ColorStrategy">ColorStrategy</a><ul class="subs"><li>= <a href="#v:ColorLog">ColorLog</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li>| <a href="#v:ColorIfTerminal">ColorIfTerminal</a></li></ul></li><li class="src short"><a href="#v:mkHandleScribe">mkHandleScribe</a> :: <a href="Katip-Scribes-Handle.html#t:ColorStrategy" title="Katip.Scribes.Handle">ColorStrategy</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="Katip-Core.html#t:PermitFunc" title="Katip.Core">PermitFunc</a> -&gt; <a href="Katip-Core.html#t:Verbosity" title="Katip.Core">Verbosity</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Katip-Core.html#t:Scribe" title="Katip.Core">Scribe</a></li><li class="src short"><a href="#v:mkHandleScribeWithFormatter">mkHandleScribeWithFormatter</a> :: (<span class="keyword">forall</span> a. <a href="Katip-Core.html#t:LogItem" title="Katip.Core">LogItem</a> a =&gt; <a href="Katip-Scribes-Handle.html#t:ItemFormatter" title="Katip.Scribes.Handle">ItemFormatter</a> a) -&gt; <a href="Katip-Scribes-Handle.html#t:ColorStrategy" title="Katip.Scribes.Handle">ColorStrategy</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="Katip-Core.html#t:PermitFunc" title="Katip.Core">PermitFunc</a> -&gt; <a href="Katip-Core.html#t:Verbosity" title="Katip.Core">Verbosity</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Katip-Core.html#t:Scribe" title="Katip.Core">Scribe</a></li><li class="src short"><a href="#v:mkFileScribe">mkFileScribe</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="Katip-Core.html#t:PermitFunc" title="Katip.Core">PermitFunc</a> -&gt; <a href="Katip-Core.html#t:Verbosity" title="Katip.Core">Verbosity</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Katip-Core.html#t:Scribe" title="Katip.Core">Scribe</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:ItemFormatter">ItemFormatter</a> a = <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="Katip-Core.html#t:Verbosity" title="Katip.Core">Verbosity</a> -&gt; <a href="Katip-Core.html#t:Item" title="Katip.Core">Item</a> a -&gt; <a href="../../text/html/Data-Text-Lazy-Builder.html#t:Builder" title="Data.Text.Lazy.Builder">Builder</a></li><li class="src short"><a href="#v:formatItem">formatItem</a> :: <a href="Katip-Core.html#t:LogItem" title="Katip.Core">LogItem</a> a =&gt; <a href="Katip-Scribes-Handle.html#t:ItemFormatter" title="Katip.Scribes.Handle">ItemFormatter</a> a</li><li class="src short"><a href="#v:bracketFormat">bracketFormat</a> :: <a href="Katip-Core.html#t:LogItem" title="Katip.Core">LogItem</a> a =&gt; <a href="Katip-Scribes-Handle.html#t:ItemFormatter" title="Katip.Scribes.Handle">ItemFormatter</a> a</li><li class="src short"><a href="#v:jsonFormat">jsonFormat</a> :: <a href="Katip-Core.html#t:LogItem" title="Katip.Core">LogItem</a> a =&gt; <a href="Katip-Scribes-Handle.html#t:ItemFormatter" title="Katip.Scribes.Handle">ItemFormatter</a> a</li><li class="src short"><a href="#v:colorBySeverity">colorBySeverity</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="Katip-Core.html#t:Severity" title="Katip.Core">Severity</a> -&gt; <a href="../../text/html/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../../text/html/Data-Text.html#t:Text" title="Data.Text">Text</a></li><li class="src short"><a href="#v:ioLogEnv">ioLogEnv</a> :: <a href="Katip-Core.html#t:PermitFunc" title="Katip.Core">PermitFunc</a> -&gt; <a href="Katip-Core.html#t:Verbosity" title="Katip.Core">Verbosity</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Katip-Core.html#t:LogEnv" title="Katip.Core">LogEnv</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:brackets" class="def">brackets</a> :: <a href="../../text/html/Data-Text-Lazy-Builder.html#t:Builder" title="Data.Text.Lazy.Builder">Builder</a> -&gt; <a href="../../text/html/Data-Text-Lazy-Builder.html#t:Builder" title="Data.Text.Lazy.Builder">Builder</a> <a href="src/Katip.Scribes.Handle.html#brackets" class="link">Source</a> <a href="#v:brackets" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getKeys" class="def">getKeys</a> :: <a href="Katip-Core.html#t:LogItem" title="Katip.Core">LogItem</a> s =&gt; <a href="Katip-Core.html#t:Verbosity" title="Katip.Core">Verbosity</a> -&gt; s -&gt; [<a href="../../text/html/Data-Text-Lazy-Builder.html#t:Builder" title="Data.Text.Lazy.Builder">Builder</a>] <a href="src/Katip.Scribes.Handle.html#getKeys" class="link">Source</a> <a href="#v:getKeys" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:toBuilders" class="def">toBuilders</a> :: <a href="../../aeson/html/Data-Aeson-KeyMap.html#t:KeyMap" title="Data.Aeson.KeyMap">KeyMap</a> <a href="../../aeson/html/Data-Aeson-Types.html#t:Value" title="Data.Aeson.Types">Value</a> -&gt; [[<a href="../../text/html/Data-Text-Lazy-Builder.html#t:Builder" title="Data.Text.Lazy.Builder">Builder</a>]] <a href="src/Katip.Scribes.Handle.html#toBuilders" class="link">Source</a> <a href="#v:toBuilders" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:toTxtKeyList" class="def">toTxtKeyList</a> :: <a href="../../aeson/html/Data-Aeson-KeyMap.html#t:KeyMap" title="Data.Aeson.KeyMap">KeyMap</a> v -&gt; [(<a href="../../text/html/Data-Text.html#t:Text" title="Data.Text">Text</a>, v)] <a href="src/Katip.Scribes.Handle.html#toTxtKeyList" class="link">Source</a> <a href="#v:toTxtKeyList" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:renderPair" class="def">renderPair</a> :: (<a href="../../text/html/Data-Text.html#t:Text" title="Data.Text">Text</a>, <a href="../../aeson/html/Data-Aeson-Types.html#t:Value" title="Data.Aeson.Types">Value</a>) -&gt; [<a href="../../text/html/Data-Text-Lazy-Builder.html#t:Builder" title="Data.Text.Lazy.Builder">Builder</a>] <a href="src/Katip.Scribes.Handle.html#renderPair" class="link">Source</a> <a href="#v:renderPair" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ColorStrategy" class="def">ColorStrategy</a> <a href="src/Katip.Scribes.Handle.html#ColorStrategy" class="link">Source</a> <a href="#t:ColorStrategy" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ColorLog" class="def">ColorLog</a> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc"><p>Whether to use color control chars in log output</p></td></tr><tr><td class="src"><a id="v:ColorIfTerminal" class="def">ColorIfTerminal</a></td><td class="doc"><p>Color if output is a terminal</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ColorStrategy">Instances</h4><details id="i:ColorStrategy" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ColorStrategy:Eq:1"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Katip-Scribes-Handle.html#t:ColorStrategy" title="Katip.Scribes.Handle">ColorStrategy</a></span> <a href="src/Katip.Scribes.Handle.html#line-72" class="link">Source</a> <a href="#t:ColorStrategy" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ColorStrategy:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Katip-Scribes-Handle.html">Katip.Scribes.Handle</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Katip-Scribes-Handle.html#t:ColorStrategy" title="Katip.Scribes.Handle">ColorStrategy</a> -&gt; <a href="Katip-Scribes-Handle.html#t:ColorStrategy" title="Katip.Scribes.Handle">ColorStrategy</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="../../ghc/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Katip-Scribes-Handle.html#t:ColorStrategy" title="Katip.Scribes.Handle">ColorStrategy</a> -&gt; <a href="Katip-Scribes-Handle.html#t:ColorStrategy" title="Katip.Scribes.Handle">ColorStrategy</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="../../ghc/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ColorStrategy:Show:2"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Katip-Scribes-Handle.html#t:ColorStrategy" title="Katip.Scribes.Handle">ColorStrategy</a></span> <a href="src/Katip.Scribes.Handle.html#line-72" class="link">Source</a> <a href="#t:ColorStrategy" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ColorStrategy:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Katip-Scribes-Handle.html">Katip.Scribes.Handle</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Katip-Scribes-Handle.html#t:ColorStrategy" title="Katip.Scribes.Handle">ColorStrategy</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Katip-Scribes-Handle.html#t:ColorStrategy" title="Katip.Scribes.Handle">ColorStrategy</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Katip-Scribes-Handle.html#t:ColorStrategy" title="Katip.Scribes.Handle">ColorStrategy</a>] -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:mkHandleScribe" class="def">mkHandleScribe</a> :: <a href="Katip-Scribes-Handle.html#t:ColorStrategy" title="Katip.Scribes.Handle">ColorStrategy</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="Katip-Core.html#t:PermitFunc" title="Katip.Core">PermitFunc</a> -&gt; <a href="Katip-Core.html#t:Verbosity" title="Katip.Core">Verbosity</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Katip-Core.html#t:Scribe" title="Katip.Core">Scribe</a> <a href="src/Katip.Scribes.Handle.html#mkHandleScribe" class="link">Source</a> <a href="#v:mkHandleScribe" class="selflink">#</a></p><div class="doc"><p>Logs to a file handle such as stdout, stderr, or a file. Contexts
 and other information will be flattened out into bracketed
 fields. For example:</p><pre>[2016-05-11 21:01:15][MyApp][Info][myhost.example.com][PID 1724][ThreadId 1154][main:Helpers.Logging Helpers/Logging.hs:32:7] Started
[2016-05-11 21:01:15][MyApp.confrabulation][Debug][myhost.example.com][PID 1724][ThreadId 1154][confrab_factor:42.0][main:Helpers.Logging Helpers/Logging.hs:41:9] Confrabulating widgets, with extra namespace and context
[2016-05-11 21:01:15][MyApp][Info][myhost.example.com][PID 1724][ThreadId 1154][main:Helpers.Logging Helpers/Logging.hs:43:7] Namespace and context are back to normal</pre><p>Returns the newly-created <code><a href="Katip-Core.html#t:Scribe" title="Katip.Core">Scribe</a></code>. The finalizer flushes the
 handle. Handle mode is set to <code><a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#v:LineBuffering" title="GHC.IO.Handle">LineBuffering</a></code> automatically.</p></div></div><div class="top"><p class="src"><a id="v:mkHandleScribeWithFormatter" class="def">mkHandleScribeWithFormatter</a> :: (<span class="keyword">forall</span> a. <a href="Katip-Core.html#t:LogItem" title="Katip.Core">LogItem</a> a =&gt; <a href="Katip-Scribes-Handle.html#t:ItemFormatter" title="Katip.Scribes.Handle">ItemFormatter</a> a) -&gt; <a href="Katip-Scribes-Handle.html#t:ColorStrategy" title="Katip.Scribes.Handle">ColorStrategy</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a> -&gt; <a href="Katip-Core.html#t:PermitFunc" title="Katip.Core">PermitFunc</a> -&gt; <a href="Katip-Core.html#t:Verbosity" title="Katip.Core">Verbosity</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Katip-Core.html#t:Scribe" title="Katip.Core">Scribe</a> <a href="src/Katip.Scribes.Handle.html#mkHandleScribeWithFormatter" class="link">Source</a> <a href="#v:mkHandleScribeWithFormatter" class="selflink">#</a></p><div class="doc"><p>Logs to a file handle such as stdout, stderr, or a file. Takes a custom
 <code><a href="Katip-Scribes-Handle.html#t:ItemFormatter" title="Katip.Scribes.Handle">ItemFormatter</a></code> that can be used to format <code><a href="Katip-Core.html#t:Item" title="Katip.Core">Item</a></code> as needed.</p><p>Returns the newly-created <code><a href="Katip-Core.html#t:Scribe" title="Katip.Core">Scribe</a></code>. The finalizer flushes the
 handle. Handle mode is set to <code><a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#v:LineBuffering" title="GHC.IO.Handle">LineBuffering</a></code> automatically.</p></div></div><div class="top"><p class="src"><a id="v:mkFileScribe" class="def">mkFileScribe</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="Katip-Core.html#t:PermitFunc" title="Katip.Core">PermitFunc</a> -&gt; <a href="Katip-Core.html#t:Verbosity" title="Katip.Core">Verbosity</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Katip-Core.html#t:Scribe" title="Katip.Core">Scribe</a> <a href="src/Katip.Scribes.Handle.html#mkFileScribe" class="link">Source</a> <a href="#v:mkFileScribe" class="selflink">#</a></p><div class="doc"><p>A specialization of <code><a href="Katip-Scribes-Handle.html#v:mkHandleScribe" title="Katip.Scribes.Handle">mkHandleScribe</a></code> that takes a <code><a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a></code>
 instead of a <code><a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#t:Handle" title="GHC.IO.Handle">Handle</a></code>. It is responsible for opening the file in
 <code><a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#v:AppendMode" title="System.IO">AppendMode</a></code> and will close the file handle on
 <code><a href="Katip-Core.html#v:closeScribe" title="Katip.Core">closeScribe</a></code>/<code><a href="Katip-Core.html#v:closeScribes" title="Katip.Core">closeScribes</a></code>. Does not do log coloring. Sets handle
 to <code><a href="../../ghc/html/libraries/base-4.14.3.0/GHC-IO-Handle.html#v:LineBuffering" title="GHC.IO.Handle">LineBuffering</a></code> mode.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ItemFormatter" class="def">ItemFormatter</a> a = <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="Katip-Core.html#t:Verbosity" title="Katip.Core">Verbosity</a> -&gt; <a href="Katip-Core.html#t:Item" title="Katip.Core">Item</a> a -&gt; <a href="../../text/html/Data-Text-Lazy-Builder.html#t:Builder" title="Data.Text.Lazy.Builder">Builder</a> <a href="src/Katip.Scribes.Handle.html#ItemFormatter" class="link">Source</a> <a href="#t:ItemFormatter" class="selflink">#</a></p><div class="doc"><p>A custom ItemFormatter for logging <code><a href="Katip-Core.html#t:Item" title="Katip.Core">Item</a></code>s. Takes a <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></code> indicating
 whether to colorize the output, <code><a href="Katip-Core.html#t:Verbosity" title="Katip.Core">Verbosity</a></code> of output, and an <code><a href="Katip-Core.html#t:Item" title="Katip.Core">Item</a></code> to
 format.</p><p>See <code><a href="Katip-Scribes-Handle.html#v:bracketFormat" title="Katip.Scribes.Handle">bracketFormat</a></code> and <code><a href="Katip-Scribes-Handle.html#v:jsonFormat" title="Katip.Scribes.Handle">jsonFormat</a></code> for examples.</p></div></div><div class="top"><p class="src"><a id="v:formatItem" class="def">formatItem</a> :: <a href="Katip-Core.html#t:LogItem" title="Katip.Core">LogItem</a> a =&gt; <a href="Katip-Scribes-Handle.html#t:ItemFormatter" title="Katip.Scribes.Handle">ItemFormatter</a> a <a href="src/Katip.Scribes.Handle.html#formatItem" class="link">Source</a> <a href="#v:formatItem" class="selflink">#</a></p><div class="doc"><div class="warning"><p>Deprecated: Use bracketFormat instead</p></div></div></div><div class="top"><p class="src"><a id="v:bracketFormat" class="def">bracketFormat</a> :: <a href="Katip-Core.html#t:LogItem" title="Katip.Core">LogItem</a> a =&gt; <a href="Katip-Scribes-Handle.html#t:ItemFormatter" title="Katip.Scribes.Handle">ItemFormatter</a> a <a href="src/Katip.Scribes.Handle.html#bracketFormat" class="link">Source</a> <a href="#v:bracketFormat" class="selflink">#</a></p><div class="doc"><p>A traditional <code>bracketed</code> log format. Contexts and other information will
 be flattened out into bracketed fields. For example:</p><pre>[2016-05-11 21:01:15][MyApp][Info][myhost.example.com][PID 1724][ThreadId 1154][main:Helpers.Logging Helpers/Logging.hs:32:7] Started
[2016-05-11 21:01:15][MyApp.confrabulation][Debug][myhost.example.com][PID 1724][ThreadId 1154][confrab_factor:42.0][main:Helpers.Logging Helpers/Logging.hs:41:9] Confrabulating widgets, with extra namespace and context
[2016-05-11 21:01:15][MyApp][Info][myhost.example.com][PID 1724][ThreadId 1154][main:Helpers.Logging Helpers/Logging.hs:43:7] Namespace and context are back to normal</pre></div></div><div class="top"><p class="src"><a id="v:jsonFormat" class="def">jsonFormat</a> :: <a href="Katip-Core.html#t:LogItem" title="Katip.Core">LogItem</a> a =&gt; <a href="Katip-Scribes-Handle.html#t:ItemFormatter" title="Katip.Scribes.Handle">ItemFormatter</a> a <a href="src/Katip.Scribes.Handle.html#jsonFormat" class="link">Source</a> <a href="#v:jsonFormat" class="selflink">#</a></p><div class="doc"><p>Logs items as JSON. This can be useful in circumstances where you already
 have infrastructure that is expecting JSON to be logged to a standard stream
 or file. For example:</p><pre>{&quot;at&quot;:&quot;2018-10-02T21:50:30.4523848Z&quot;,&quot;env&quot;:&quot;production&quot;,&quot;ns&quot;:[&quot;MyApp&quot;],&quot;data&quot;:{},&quot;app&quot;:[&quot;MyApp&quot;],&quot;msg&quot;:&quot;Started&quot;,&quot;pid&quot;:&quot;10456&quot;,&quot;loc&quot;:{&quot;loc_col&quot;:9,&quot;loc_pkg&quot;:&quot;main&quot;,&quot;loc_mod&quot;:&quot;Helpers.Logging&quot;,&quot;loc_fn&quot;:&quot;Helpers\\Logging.hs&quot;,&quot;loc_ln&quot;:44},&quot;host&quot;:&quot;myhost.example.com&quot;,&quot;sev&quot;:&quot;Info&quot;,&quot;thread&quot;:&quot;ThreadId 139&quot;}
{&quot;at&quot;:&quot;2018-10-02T21:50:30.4523848Z&quot;,&quot;env&quot;:&quot;production&quot;,&quot;ns&quot;:[&quot;MyApp&quot;,&quot;confrabulation&quot;],&quot;data&quot;:{&quot;confrab_factor&quot;:42},&quot;app&quot;:[&quot;MyApp&quot;],&quot;msg&quot;:&quot;Confrabulating widgets, with extra namespace and context&quot;,&quot;pid&quot;:&quot;10456&quot;,&quot;loc&quot;:{&quot;loc_col&quot;:11,&quot;loc_pkg&quot;:&quot;main&quot;,&quot;loc_mod&quot;:&quot;Helpers.Logging&quot;,&quot;loc_fn&quot;:&quot;Helpers\\Logging.hs&quot;,&quot;loc_ln&quot;:53},&quot;host&quot;:&quot;myhost.example.com&quot;,&quot;sev&quot;:&quot;Debug&quot;,&quot;thread&quot;:&quot;ThreadId 139&quot;}
{&quot;at&quot;:&quot;2018-10-02T21:50:30.4523848Z&quot;,&quot;env&quot;:&quot;production&quot;,&quot;ns&quot;:[&quot;MyApp&quot;],&quot;data&quot;:{},&quot;app&quot;:[&quot;MyApp&quot;],&quot;msg&quot;:&quot;Namespace and context are back to normal&quot;,&quot;pid&quot;:&quot;10456&quot;,&quot;loc&quot;:{&quot;loc_col&quot;:9,&quot;loc_pkg&quot;:&quot;main&quot;,&quot;loc_mod&quot;:&quot;Helpers.Logging&quot;,&quot;loc_fn&quot;:&quot;Helpers\\Logging.hs&quot;,&quot;loc_ln&quot;:55},&quot;host&quot;:&quot;myhost.example.com&quot;,&quot;sev&quot;:&quot;Info&quot;,&quot;thread&quot;:&quot;ThreadId 139&quot;}</pre></div></div><div class="top"><p class="src"><a id="v:colorBySeverity" class="def">colorBySeverity</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="Katip-Core.html#t:Severity" title="Katip.Core">Severity</a> -&gt; <a href="../../text/html/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; <a href="../../text/html/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="src/Katip.Scribes.Handle.html#colorBySeverity" class="link">Source</a> <a href="#v:colorBySeverity" class="selflink">#</a></p><div class="doc"><p>Color a text message based on <code><a href="Katip-Core.html#t:Severity" title="Katip.Core">Severity</a></code>. <code><a href="Katip-Core.html#v:ErrorS" title="Katip.Core">ErrorS</a></code> and more severe errors
 are colored red, <code><a href="Katip-Core.html#v:WarningS" title="Katip.Core">WarningS</a></code> is colored yellow, and all other messages are
 rendered in the default color.</p></div></div><div class="top"><p class="src"><a id="v:ioLogEnv" class="def">ioLogEnv</a> :: <a href="Katip-Core.html#t:PermitFunc" title="Katip.Core">PermitFunc</a> -&gt; <a href="Katip-Core.html#t:Verbosity" title="Katip.Core">Verbosity</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Katip-Core.html#t:LogEnv" title="Katip.Core">LogEnv</a> <a href="src/Katip.Scribes.Handle.html#ioLogEnv" class="link">Source</a> <a href="#v:ioLogEnv" class="selflink">#</a></p><div class="doc"><p>Provides a simple log environment with 1 scribe going to
 stdout. This is a decent example of how to build a LogEnv and is
 best for scripts that just need a quick, reasonable set up to log
 to stdout.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>