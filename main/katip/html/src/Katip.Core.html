<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span id="%24maxtag_d2I5GaIGq23CdlBAz4ULV"><span id="%24tag2con_d2I5GaIGq23CdlBAz4ULV"><span id="%24con2tag_d2I5GaIGq23CdlBAz4ULV"><span id="%24maxtag_8clDAyPvssy5UT2B9TvZmb"><span id="%24tag2con_8clDAyPvssy5UT2B9TvZmb"><span id="%24con2tag_8clDAyPvssy5UT2B9TvZmb"></span></span></span></span></span></span><span class="hs-pragma">{-# LANGUAGE DeriveLift #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE CPP                        #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DefaultSignatures          #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE DeriveFunctor              #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric              #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE ExistentialQuantification  #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts           #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances          #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE GADTs                      #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE GeneralizedNewtypeDeriving #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses      #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings          #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes                 #-}</span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# LANGUAGE RecordWildCards            #-}</span><span>
</span><span id="line-15"></span><span class="hs-pragma">{-# LANGUAGE TemplateHaskell            #-}</span><span>
</span><span id="line-16"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies               #-}</span><span>
</span><span id="line-17"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances       #-}</span><span class="hs-cpp">
#if MIN_VERSION_base(4, 9, 0)
</span><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-redundant-constraints #-}</span><span class="hs-cpp">
#endif
</span><span class="hs-comment">-- | This module is not meant to be imported directly and may contain</span><span>
</span><span id="line-22"></span><span class="hs-comment">-- internal mechanisms that will change without notice.</span><span>
</span><span id="line-23"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Katip.Core</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Applicative</span></a></span><span>               </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">A</span></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../auto-update/html/src"><span class="hs-identifier">Control.AutoUpdate</span></a></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Concurrent</span></a></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../async/html/src"><span class="hs-identifier">Control.Concurrent.Async</span></a></span><span>          </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Async</span></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../stm/html/src"><span class="hs-identifier">Control.Concurrent.STM</span></a></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../stm/html/src"><span class="hs-identifier">Control.Concurrent.STM.TBQueue</span></a></span><span>    </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BQ</span></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../safe-exceptions/html/src"><span class="hs-identifier">Control.Exception.Safe</span></a></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Monad</span></a></span><span>                     </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">unless</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">void</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">when</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../transformers-base/html/src"><span class="hs-identifier">Control.Monad.Base</span></a></span><span class="hs-cpp">
#if MIN_VERSION_base(4, 9, 0)
</span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Monad.Fail</span></a></span><span>                </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">MF</span></span><span class="hs-cpp">
#endif
</span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Monad.IO.Class</span></a></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../unliftio-core/html/src"><span class="hs-identifier">Control.Monad.IO.Unlift</span></a></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">Control.Monad.Trans.Class</span></a></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../monad-control/html/src"><span class="hs-identifier">Control.Monad.Trans.Control</span></a></span><span class="hs-cpp">
#if !MIN_VERSION_either(4, 5, 0)
</span><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Control.Monad.Trans.Either</span><span class="hs-cpp">
#endif
</span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">Control.Monad.Trans.Except</span></a></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">Control.Monad.Trans.Maybe</span></a></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">Control.Monad.Trans.Reader</span></a></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../resourcet/html/src"><span class="hs-identifier">Control.Monad.Trans.Resource</span></a></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="../../../../resourcet/html/src"><span class="hs-identifier">MonadResource</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../resourcet/html/src"><span class="hs-identifier">ResourceT</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>                                                    </span><span class="annot"><a href="../../../../resourcet/html/src"><span class="hs-identifier">transResourceT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">Control.Monad.Trans.RWS.Lazy</span></a></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">RWST</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">mapRWST</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">Control.Monad.Trans.RWS.Strict</span></a></span><span>    </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Strict</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">RWST</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">mapRWST</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">Control.Monad.Trans.State.Lazy</span></a></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">StateT</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">mapStateT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">Control.Monad.Trans.State.Strict</span></a></span><span>  </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Strict</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">StateT</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">mapStateT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">Control.Monad.Trans.Writer.Lazy</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">WriterT</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">mapWriterT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">Control.Monad.Trans.Writer.Strict</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Strict</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">WriterT</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>                                                              </span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier">mapWriterT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier">Data.Aeson</span></a></span><span>                        </span><span class="hs-special">(</span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier">FromJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier">ToJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-58"></span><span>                                                    </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier">object</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier">Data.Aeson</span></a></span><span>                        </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">A</span></span><span class="hs-cpp">
#if MIN_VERSION_aeson(2, 0, 0)
</span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier">Data.Aeson.Key</span></a></span><span>                    </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">K</span></span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier">Data.Aeson.KeyMap</span></a></span><span>                 </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">KM</span></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Bifunctor</span></a></span><span>                    </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Bifunctor</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Foldable</span></a></span><span>                     </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">FT</span></span><span class="hs-cpp">
#if !MIN_VERSION_aeson(2, 0, 0)
</span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Data.HashMap.Strict</span><span>               </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">HM</span><span class="hs-cpp">
#endif
</span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.List</span></a></span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../containers/html/src"><span class="hs-identifier">Data.Map.Strict</span></a></span><span>                   </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Maybe</span></a></span><span>                        </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">fromMaybe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.Semigroup</span></a></span><span>                    </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SG</span></span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../containers/html/src"><span class="hs-identifier">Data.Set</span></a></span><span>                          </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Data.String</span></a></span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../string-conv/html/src"><span class="hs-identifier">Data.String.Conv</span></a></span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Data.Text</span></a></span><span>                         </span><span class="hs-special">(</span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Text</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Data.Text</span></a></span><span>                         </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier">Data.Text.Lazy.Builder</span></a></span><span>            </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">B</span></span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier">Data.Time</span></a></span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">GHC.Generics</span></a></span><span>                      </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">to</span></a></span><span class="hs-special">)</span><span class="hs-cpp">
#if MIN_VERSION_base(4, 8, 0)
</span><span class="hs-cpp">#if !MIN_VERSION_base(4, 9, 0)
</span><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">GHC.SrcLoc</span><span class="hs-cpp">
#endif
</span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">GHC.Stack</span></a></span><span class="hs-cpp">
#endif
</span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier">Language.Haskell.TH</span></a></span><span>
</span><span id="line-88"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier">Language.Haskell.TH.Syntax</span></a></span><span>        </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TH</span></span><span>
</span><span id="line-89"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../microlens/html/src"><span class="hs-identifier">Lens.Micro</span></a></span><span>
</span><span id="line-90"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../microlens-th/html/src"><span class="hs-identifier">Lens.Micro.TH</span></a></span><span>
</span><span id="line-91"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../hostname/html/src"><span class="hs-identifier">Network.HostName</span></a></span><span class="hs-cpp">
#if mingw32_HOST_OS
</span><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Katip.Compat</span><span class="hs-cpp">
#else
</span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../../../../unix/html/src"><span class="hs-identifier">System.Posix</span></a></span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-98"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span id="local-6989586621679216246"><span class="annot"><a href="Katip.Core.html#readMay"><span class="hs-identifier hs-type">readMay</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Read</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679216246"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679216246"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-102"></span><span id="readMay"><span class="annot"><span class="annottext">readMay :: String -&gt; Maybe a
</span><a href="Katip.Core.html#readMay"><span class="hs-identifier hs-var hs-var">readMay</span></a></span></span><span> </span><span id="local-6989586621679215804"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679215804"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679215803"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679215803"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679215803"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679215802"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679215802"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReadS a
forall a. Read a =&gt; ReadS a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">reads</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679215804"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReadS String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">lex</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679215802"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-103"></span><span>              </span><span class="hs-special">[</span><span id="local-6989586621679215799"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679215799"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679215799"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-104"></span><span>              </span><span class="hs-special">[</span><span class="hs-special">]</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-comment">-- no parse</span><span>
</span><span id="line-105"></span><span>              </span><span class="annot"><span class="annottext">[a]
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-comment">-- Ambiguous parse</span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-109"></span><span class="hs-comment">-- | Represents a heirarchy of namespaces going from general to</span><span>
</span><span id="line-110"></span><span class="hs-comment">-- specific. For instance: [&quot;processname&quot;, &quot;subsystem&quot;]. Note that</span><span>
</span><span id="line-111"></span><span class="hs-comment">-- single-segment namespaces can be created using</span><span>
</span><span id="line-112"></span><span class="hs-comment">-- IsString/OverloadedStrings, so &quot;foo&quot; will result in Namespace</span><span>
</span><span id="line-113"></span><span class="hs-comment">-- [&quot;foo&quot;].</span><span>
</span><span id="line-114"></span><span id="local-6989586621679215797"><span id="local-6989586621679215798"></span></span><span class="hs-keyword">newtype</span><span> </span><span id="Namespace"><span class="annot"><a href="Katip.Core.html#Namespace"><span class="hs-identifier hs-var">Namespace</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Namespace"><span class="annot"><a href="Katip.Core.html#Namespace"><span class="hs-identifier hs-var">Namespace</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unNamespace"><span class="annot"><span class="annottext">Namespace -&gt; [Text]
</span><a href="Katip.Core.html#unNamespace"><span class="hs-identifier hs-var hs-var">unNamespace</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-115"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679215791"><span id="local-6989586621679215793"><span class="annot"><span class="annottext">Namespace -&gt; Namespace -&gt; Bool
(Namespace -&gt; Namespace -&gt; Bool)
-&gt; (Namespace -&gt; Namespace -&gt; Bool) -&gt; Eq Namespace
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Namespace -&gt; Namespace -&gt; Bool
$c/= :: Namespace -&gt; Namespace -&gt; Bool
== :: Namespace -&gt; Namespace -&gt; Bool
$c== :: Namespace -&gt; Namespace -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span id="local-6989586621679215784"><span id="local-6989586621679215786"><span id="local-6989586621679215788"><span class="annot"><span class="annottext">Int -&gt; Namespace -&gt; ShowS
[Namespace] -&gt; ShowS
Namespace -&gt; String
(Int -&gt; Namespace -&gt; ShowS)
-&gt; (Namespace -&gt; String)
-&gt; ([Namespace] -&gt; ShowS)
-&gt; Show Namespace
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Namespace] -&gt; ShowS
$cshowList :: [Namespace] -&gt; ShowS
show :: Namespace -&gt; String
$cshow :: Namespace -&gt; String
showsPrec :: Int -&gt; Namespace -&gt; ShowS
$cshowsPrec :: Int -&gt; Namespace -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span id="local-6989586621679215775"><span id="local-6989586621679215777"><span id="local-6989586621679215779"><span id="local-6989586621679215781"><span class="annot"><span class="annottext">ReadPrec [Namespace]
ReadPrec Namespace
Int -&gt; ReadS Namespace
ReadS [Namespace]
(Int -&gt; ReadS Namespace)
-&gt; ReadS [Namespace]
-&gt; ReadPrec Namespace
-&gt; ReadPrec [Namespace]
-&gt; Read Namespace
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [Namespace]
$creadListPrec :: ReadPrec [Namespace]
readPrec :: ReadPrec Namespace
$creadPrec :: ReadPrec Namespace
readList :: ReadS [Namespace]
$creadList :: ReadS [Namespace]
readsPrec :: Int -&gt; ReadS Namespace
$creadsPrec :: Int -&gt; ReadS Namespace
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></a></span></span></span></span></span><span class="hs-special">,</span><span id="local-6989586621679215759"><span id="local-6989586621679215761"><span id="local-6989586621679215763"><span id="local-6989586621679215765"><span id="local-6989586621679215767"><span id="local-6989586621679215769"><span id="local-6989586621679215771"><span class="annot"><span class="annottext">Eq Namespace
Eq Namespace
-&gt; (Namespace -&gt; Namespace -&gt; Ordering)
-&gt; (Namespace -&gt; Namespace -&gt; Bool)
-&gt; (Namespace -&gt; Namespace -&gt; Bool)
-&gt; (Namespace -&gt; Namespace -&gt; Bool)
-&gt; (Namespace -&gt; Namespace -&gt; Bool)
-&gt; (Namespace -&gt; Namespace -&gt; Namespace)
-&gt; (Namespace -&gt; Namespace -&gt; Namespace)
-&gt; Ord Namespace
Namespace -&gt; Namespace -&gt; Bool
Namespace -&gt; Namespace -&gt; Ordering
Namespace -&gt; Namespace -&gt; Namespace
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: Namespace -&gt; Namespace -&gt; Namespace
$cmin :: Namespace -&gt; Namespace -&gt; Namespace
max :: Namespace -&gt; Namespace -&gt; Namespace
$cmax :: Namespace -&gt; Namespace -&gt; Namespace
&gt;= :: Namespace -&gt; Namespace -&gt; Bool
$c&gt;= :: Namespace -&gt; Namespace -&gt; Bool
&gt; :: Namespace -&gt; Namespace -&gt; Bool
$c&gt; :: Namespace -&gt; Namespace -&gt; Bool
&lt;= :: Namespace -&gt; Namespace -&gt; Bool
$c&lt;= :: Namespace -&gt; Namespace -&gt; Bool
&lt; :: Namespace -&gt; Namespace -&gt; Bool
$c&lt; :: Namespace -&gt; Namespace -&gt; Bool
compare :: Namespace -&gt; Namespace -&gt; Ordering
$ccompare :: Namespace -&gt; Namespace -&gt; Ordering
$cp1Ord :: Eq Namespace
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">(forall x. Namespace -&gt; Rep Namespace x)
-&gt; (forall x. Rep Namespace x -&gt; Namespace) -&gt; Generic Namespace
forall x. Rep Namespace x -&gt; Namespace
forall x. Namespace -&gt; Rep Namespace x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep Namespace x -&gt; Namespace
$cfrom :: forall x. Namespace -&gt; Rep Namespace x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span id="local-6989586621679215747"><span id="local-6989586621679215749"><span id="local-6989586621679215751"><span id="local-6989586621679215753"><span class="annot"><span class="annottext">[Namespace] -&gt; Encoding
[Namespace] -&gt; Value
Namespace -&gt; Encoding
Namespace -&gt; Value
(Namespace -&gt; Value)
-&gt; (Namespace -&gt; Encoding)
-&gt; ([Namespace] -&gt; Value)
-&gt; ([Namespace] -&gt; Encoding)
-&gt; ToJSON Namespace
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [Namespace] -&gt; Encoding
$ctoEncodingList :: [Namespace] -&gt; Encoding
toJSONList :: [Namespace] -&gt; Value
$ctoJSONList :: [Namespace] -&gt; Value
toEncoding :: Namespace -&gt; Encoding
$ctoEncoding :: Namespace -&gt; Encoding
toJSON :: Namespace -&gt; Value
$ctoJSON :: Namespace -&gt; Value
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">,</span><span id="local-6989586621679215742"><span id="local-6989586621679215744"><span class="annot"><span class="annottext">Value -&gt; Parser [Namespace]
Value -&gt; Parser Namespace
(Value -&gt; Parser Namespace)
-&gt; (Value -&gt; Parser [Namespace]) -&gt; FromJSON Namespace
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [Namespace]
$cparseJSONList :: Value -&gt; Parser [Namespace]
parseJSON :: Value -&gt; Parser Namespace
$cparseJSON :: Value -&gt; Parser Namespace
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></a></span></span></span><span class="hs-special">,</span><span id="local-6989586621679215735"><span id="local-6989586621679215737"><span id="local-6989586621679215739"><span class="annot"><span class="annottext">b -&gt; Namespace -&gt; Namespace
NonEmpty Namespace -&gt; Namespace
Namespace -&gt; Namespace -&gt; Namespace
(Namespace -&gt; Namespace -&gt; Namespace)
-&gt; (NonEmpty Namespace -&gt; Namespace)
-&gt; (forall b. Integral b =&gt; b -&gt; Namespace -&gt; Namespace)
-&gt; Semigroup Namespace
forall b. Integral b =&gt; b -&gt; Namespace -&gt; Namespace
forall a.
(a -&gt; a -&gt; a)
-&gt; (NonEmpty a -&gt; a)
-&gt; (forall b. Integral b =&gt; b -&gt; a -&gt; a)
-&gt; Semigroup a
stimes :: b -&gt; Namespace -&gt; Namespace
$cstimes :: forall b. Integral b =&gt; b -&gt; Namespace -&gt; Namespace
sconcat :: NonEmpty Namespace -&gt; Namespace
$csconcat :: NonEmpty Namespace -&gt; Namespace
&lt;&gt; :: Namespace -&gt; Namespace -&gt; Namespace
$c&lt;&gt; :: Namespace -&gt; Namespace -&gt; Namespace
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">SG.Semigroup</span></a></span></span></span></span><span class="hs-special">,</span><span id="local-6989586621679215727"><span id="local-6989586621679215729"><span id="local-6989586621679215731"><span class="annot"><span class="annottext">Semigroup Namespace
Namespace
Semigroup Namespace
-&gt; Namespace
-&gt; (Namespace -&gt; Namespace -&gt; Namespace)
-&gt; ([Namespace] -&gt; Namespace)
-&gt; Monoid Namespace
[Namespace] -&gt; Namespace
Namespace -&gt; Namespace -&gt; Namespace
forall a.
Semigroup a -&gt; a -&gt; (a -&gt; a -&gt; a) -&gt; ([a] -&gt; a) -&gt; Monoid a
mconcat :: [Namespace] -&gt; Namespace
$cmconcat :: [Namespace] -&gt; Namespace
mappend :: Namespace -&gt; Namespace -&gt; Namespace
$cmappend :: Namespace -&gt; Namespace -&gt; Namespace
mempty :: Namespace
$cmempty :: Namespace
$cp1Monoid :: Semigroup Namespace
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monoid</span></a></span></span></span></span><span class="hs-special">,</span><span id="local-6989586621679215722"><span id="local-6989586621679215724"><span class="annot"><span class="annottext">Namespace -&gt; Q Exp
Namespace -&gt; Q (TExp Namespace)
(Namespace -&gt; Q Exp)
-&gt; (Namespace -&gt; Q (TExp Namespace)) -&gt; Lift Namespace
forall t. (t -&gt; Q Exp) -&gt; (t -&gt; Q (TExp t)) -&gt; Lift t
liftTyped :: Namespace -&gt; Q (TExp Namespace)
$cliftTyped :: Namespace -&gt; Q (TExp Namespace)
lift :: Namespace -&gt; Q Exp
$clift :: Namespace -&gt; Q Exp
</span><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">TH.Lift</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-116"></span><span>
</span><span id="line-117"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">IsString</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#Namespace"><span class="hs-identifier hs-type">Namespace</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-118"></span><span>    </span><span id="local-6989586621679215718"><span class="annot"><span class="annottext">fromString :: String -&gt; Namespace
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromString</span></a></span></span><span> </span><span id="local-6989586621679215717"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679215717"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Text] -&gt; Namespace
</span><a href="Katip.Core.html#Namespace"><span class="hs-identifier hs-var">Namespace</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; Text
forall a. IsString a =&gt; String -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679215717"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-122"></span><span class="hs-comment">-- | Ready namespace for emission with dots to join the segments.</span><span>
</span><span id="line-123"></span><span class="annot"><a href="Katip.Core.html#intercalateNs"><span class="hs-identifier hs-type">intercalateNs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Katip.Core.html#Namespace"><span class="hs-identifier hs-type">Namespace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-124"></span><span id="intercalateNs"><span class="annot"><span class="annottext">intercalateNs :: Namespace -&gt; [Text]
</span><a href="Katip.Core.html#intercalateNs"><span class="hs-identifier hs-var hs-var">intercalateNs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#Namespace"><span class="hs-identifier hs-type">Namespace</span></a></span><span> </span><span id="local-6989586621679215715"><span class="annot"><span class="annottext">[Text]
</span><a href="#local-6989586621679215715"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; [Text] -&gt; [Text]
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">intersperse</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;.&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Text]
</span><a href="#local-6989586621679215715"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span>
</span><span id="line-127"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-128"></span><span class="hs-comment">-- | Application environment, like @prod@, @devel@, @testing@.</span><span>
</span><span id="line-129"></span><span id="local-6989586621679215712"><span id="local-6989586621679215713"></span></span><span class="hs-keyword">newtype</span><span> </span><span id="Environment"><span class="annot"><a href="Katip.Core.html#Environment"><span class="hs-identifier hs-var">Environment</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Environment"><span class="annot"><a href="Katip.Core.html#Environment"><span class="hs-identifier hs-var">Environment</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="getEnvironment"><span class="annot"><span class="annottext">Environment -&gt; Text
</span><a href="Katip.Core.html#getEnvironment"><span class="hs-identifier hs-var hs-var">getEnvironment</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-130"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679215706"><span id="local-6989586621679215708"><span class="annot"><span class="annottext">Environment -&gt; Environment -&gt; Bool
(Environment -&gt; Environment -&gt; Bool)
-&gt; (Environment -&gt; Environment -&gt; Bool) -&gt; Eq Environment
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Environment -&gt; Environment -&gt; Bool
$c/= :: Environment -&gt; Environment -&gt; Bool
== :: Environment -&gt; Environment -&gt; Bool
$c== :: Environment -&gt; Environment -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span id="local-6989586621679215700"><span id="local-6989586621679215702"><span id="local-6989586621679215704"><span class="annot"><span class="annottext">Int -&gt; Environment -&gt; ShowS
[Environment] -&gt; ShowS
Environment -&gt; String
(Int -&gt; Environment -&gt; ShowS)
-&gt; (Environment -&gt; String)
-&gt; ([Environment] -&gt; ShowS)
-&gt; Show Environment
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Environment] -&gt; ShowS
$cshowList :: [Environment] -&gt; ShowS
show :: Environment -&gt; String
$cshow :: Environment -&gt; String
showsPrec :: Int -&gt; Environment -&gt; ShowS
$cshowsPrec :: Int -&gt; Environment -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span id="local-6989586621679215692"><span id="local-6989586621679215694"><span id="local-6989586621679215696"><span id="local-6989586621679215698"><span class="annot"><span class="annottext">ReadPrec [Environment]
ReadPrec Environment
Int -&gt; ReadS Environment
ReadS [Environment]
(Int -&gt; ReadS Environment)
-&gt; ReadS [Environment]
-&gt; ReadPrec Environment
-&gt; ReadPrec [Environment]
-&gt; Read Environment
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [Environment]
$creadListPrec :: ReadPrec [Environment]
readPrec :: ReadPrec Environment
$creadPrec :: ReadPrec Environment
readList :: ReadS [Environment]
$creadList :: ReadS [Environment]
readsPrec :: Int -&gt; ReadS Environment
$creadsPrec :: Int -&gt; ReadS Environment
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></a></span></span></span></span></span><span class="hs-special">,</span><span id="local-6989586621679215677"><span id="local-6989586621679215679"><span id="local-6989586621679215681"><span id="local-6989586621679215683"><span id="local-6989586621679215685"><span id="local-6989586621679215687"><span id="local-6989586621679215689"><span class="annot"><span class="annottext">Eq Environment
Eq Environment
-&gt; (Environment -&gt; Environment -&gt; Ordering)
-&gt; (Environment -&gt; Environment -&gt; Bool)
-&gt; (Environment -&gt; Environment -&gt; Bool)
-&gt; (Environment -&gt; Environment -&gt; Bool)
-&gt; (Environment -&gt; Environment -&gt; Bool)
-&gt; (Environment -&gt; Environment -&gt; Environment)
-&gt; (Environment -&gt; Environment -&gt; Environment)
-&gt; Ord Environment
Environment -&gt; Environment -&gt; Bool
Environment -&gt; Environment -&gt; Ordering
Environment -&gt; Environment -&gt; Environment
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: Environment -&gt; Environment -&gt; Environment
$cmin :: Environment -&gt; Environment -&gt; Environment
max :: Environment -&gt; Environment -&gt; Environment
$cmax :: Environment -&gt; Environment -&gt; Environment
&gt;= :: Environment -&gt; Environment -&gt; Bool
$c&gt;= :: Environment -&gt; Environment -&gt; Bool
&gt; :: Environment -&gt; Environment -&gt; Bool
$c&gt; :: Environment -&gt; Environment -&gt; Bool
&lt;= :: Environment -&gt; Environment -&gt; Bool
$c&lt;= :: Environment -&gt; Environment -&gt; Bool
&lt; :: Environment -&gt; Environment -&gt; Bool
$c&lt; :: Environment -&gt; Environment -&gt; Bool
compare :: Environment -&gt; Environment -&gt; Ordering
$ccompare :: Environment -&gt; Environment -&gt; Ordering
$cp1Ord :: Eq Environment
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">(forall x. Environment -&gt; Rep Environment x)
-&gt; (forall x. Rep Environment x -&gt; Environment)
-&gt; Generic Environment
forall x. Rep Environment x -&gt; Environment
forall x. Environment -&gt; Rep Environment x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep Environment x -&gt; Environment
$cfrom :: forall x. Environment -&gt; Rep Environment x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span id="local-6989586621679215667"><span id="local-6989586621679215669"><span id="local-6989586621679215671"><span id="local-6989586621679215673"><span class="annot"><span class="annottext">[Environment] -&gt; Encoding
[Environment] -&gt; Value
Environment -&gt; Encoding
Environment -&gt; Value
(Environment -&gt; Value)
-&gt; (Environment -&gt; Encoding)
-&gt; ([Environment] -&gt; Value)
-&gt; ([Environment] -&gt; Encoding)
-&gt; ToJSON Environment
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [Environment] -&gt; Encoding
$ctoEncodingList :: [Environment] -&gt; Encoding
toJSONList :: [Environment] -&gt; Value
$ctoJSONList :: [Environment] -&gt; Value
toEncoding :: Environment -&gt; Encoding
$ctoEncoding :: Environment -&gt; Encoding
toJSON :: Environment -&gt; Value
$ctoJSON :: Environment -&gt; Value
</span><a href="#local-6989586621679215667"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">,</span><span id="local-6989586621679215663"><span id="local-6989586621679215665"><span class="annot"><span class="annottext">Value -&gt; Parser [Environment]
Value -&gt; Parser Environment
(Value -&gt; Parser Environment)
-&gt; (Value -&gt; Parser [Environment]) -&gt; FromJSON Environment
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [Environment]
$cparseJSONList :: Value -&gt; Parser [Environment]
parseJSON :: Value -&gt; Parser Environment
$cparseJSON :: Value -&gt; Parser Environment
</span><a href="#local-6989586621679215663"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></a></span></span></span><span class="hs-special">,</span><span id="local-6989586621679215661"><span class="annot"><span class="annottext">String -&gt; Environment
(String -&gt; Environment) -&gt; IsString Environment
forall a. (String -&gt; a) -&gt; IsString a
fromString :: String -&gt; Environment
$cfromString :: String -&gt; Environment
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">IsString</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span>
</span><span id="line-133"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-134"></span><span id="local-6989586621679215659"><span id="local-6989586621679215660"></span></span><span class="hs-keyword">data</span><span> </span><span id="Severity"><span class="annot"><a href="Katip.Core.html#Severity"><span class="hs-identifier hs-var">Severity</span></a></span></span><span>
</span><span id="line-135"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="DebugS"><span class="annot"><a href="Katip.Core.html#DebugS"><span class="hs-identifier hs-var">DebugS</span></a></span></span><span>                   </span><span class="hs-comment">-- ^ Debug messages</span><span>
</span><span id="line-136"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="InfoS"><span class="annot"><a href="Katip.Core.html#InfoS"><span class="hs-identifier hs-var">InfoS</span></a></span></span><span>                    </span><span class="hs-comment">-- ^ Information</span><span>
</span><span id="line-137"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="NoticeS"><span class="annot"><a href="Katip.Core.html#NoticeS"><span class="hs-identifier hs-var">NoticeS</span></a></span></span><span>                  </span><span class="hs-comment">-- ^ Normal runtime Conditions</span><span>
</span><span id="line-138"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="WarningS"><span class="annot"><a href="Katip.Core.html#WarningS"><span class="hs-identifier hs-var">WarningS</span></a></span></span><span>                 </span><span class="hs-comment">-- ^ General Warnings</span><span>
</span><span id="line-139"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="ErrorS"><span class="annot"><a href="Katip.Core.html#ErrorS"><span class="hs-identifier hs-var">ErrorS</span></a></span></span><span>                   </span><span class="hs-comment">-- ^ General Errors</span><span>
</span><span id="line-140"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="CriticalS"><span class="annot"><a href="Katip.Core.html#CriticalS"><span class="hs-identifier hs-var">CriticalS</span></a></span></span><span>                </span><span class="hs-comment">-- ^ Severe situations</span><span>
</span><span id="line-141"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="AlertS"><span class="annot"><a href="Katip.Core.html#AlertS"><span class="hs-identifier hs-var">AlertS</span></a></span></span><span>                   </span><span class="hs-comment">-- ^ Take immediate action</span><span>
</span><span id="line-142"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="EmergencyS"><span class="annot"><a href="Katip.Core.html#EmergencyS"><span class="hs-identifier hs-var">EmergencyS</span></a></span></span><span>               </span><span class="hs-comment">-- ^ System is unusable</span><span>
</span><span id="line-143"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679215647"><span id="local-6989586621679215649"><span class="annot"><span class="annottext">Severity -&gt; Severity -&gt; Bool
(Severity -&gt; Severity -&gt; Bool)
-&gt; (Severity -&gt; Severity -&gt; Bool) -&gt; Eq Severity
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Severity -&gt; Severity -&gt; Bool
$c/= :: Severity -&gt; Severity -&gt; Bool
== :: Severity -&gt; Severity -&gt; Bool
$c== :: Severity -&gt; Severity -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679215632"><span id="local-6989586621679215634"><span id="local-6989586621679215636"><span id="local-6989586621679215638"><span id="local-6989586621679215640"><span id="local-6989586621679215642"><span id="local-6989586621679215644"><span class="annot"><span class="annottext">Eq Severity
Eq Severity
-&gt; (Severity -&gt; Severity -&gt; Ordering)
-&gt; (Severity -&gt; Severity -&gt; Bool)
-&gt; (Severity -&gt; Severity -&gt; Bool)
-&gt; (Severity -&gt; Severity -&gt; Bool)
-&gt; (Severity -&gt; Severity -&gt; Bool)
-&gt; (Severity -&gt; Severity -&gt; Severity)
-&gt; (Severity -&gt; Severity -&gt; Severity)
-&gt; Ord Severity
Severity -&gt; Severity -&gt; Bool
Severity -&gt; Severity -&gt; Ordering
Severity -&gt; Severity -&gt; Severity
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: Severity -&gt; Severity -&gt; Severity
$cmin :: Severity -&gt; Severity -&gt; Severity
max :: Severity -&gt; Severity -&gt; Severity
$cmax :: Severity -&gt; Severity -&gt; Severity
&gt;= :: Severity -&gt; Severity -&gt; Bool
$c&gt;= :: Severity -&gt; Severity -&gt; Bool
&gt; :: Severity -&gt; Severity -&gt; Bool
$c&gt; :: Severity -&gt; Severity -&gt; Bool
&lt;= :: Severity -&gt; Severity -&gt; Bool
$c&lt;= :: Severity -&gt; Severity -&gt; Bool
&lt; :: Severity -&gt; Severity -&gt; Bool
$c&lt; :: Severity -&gt; Severity -&gt; Bool
compare :: Severity -&gt; Severity -&gt; Ordering
$ccompare :: Severity -&gt; Severity -&gt; Ordering
$cp1Ord :: Eq Severity
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679215626"><span id="local-6989586621679215628"><span id="local-6989586621679215630"><span class="annot"><span class="annottext">Int -&gt; Severity -&gt; ShowS
[Severity] -&gt; ShowS
Severity -&gt; String
(Int -&gt; Severity -&gt; ShowS)
-&gt; (Severity -&gt; String) -&gt; ([Severity] -&gt; ShowS) -&gt; Show Severity
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Severity] -&gt; ShowS
$cshowList :: [Severity] -&gt; ShowS
show :: Severity -&gt; String
$cshow :: Severity -&gt; String
showsPrec :: Int -&gt; Severity -&gt; ShowS
$cshowsPrec :: Int -&gt; Severity -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679215618"><span id="local-6989586621679215620"><span id="local-6989586621679215622"><span id="local-6989586621679215624"><span class="annot"><span class="annottext">ReadPrec [Severity]
ReadPrec Severity
Int -&gt; ReadS Severity
ReadS [Severity]
(Int -&gt; ReadS Severity)
-&gt; ReadS [Severity]
-&gt; ReadPrec Severity
-&gt; ReadPrec [Severity]
-&gt; Read Severity
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [Severity]
$creadListPrec :: ReadPrec [Severity]
readPrec :: ReadPrec Severity
$creadPrec :: ReadPrec Severity
readList :: ReadS [Severity]
$creadList :: ReadS [Severity]
readsPrec :: Int -&gt; ReadS Severity
$creadsPrec :: Int -&gt; ReadS Severity
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. Severity -&gt; Rep Severity x)
-&gt; (forall x. Rep Severity x -&gt; Severity) -&gt; Generic Severity
forall x. Rep Severity x -&gt; Severity
forall x. Severity -&gt; Rep Severity x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep Severity x -&gt; Severity
$cfrom :: forall x. Severity -&gt; Rep Severity x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679215600"><span id="local-6989586621679215602"><span id="local-6989586621679215604"><span id="local-6989586621679215606"><span id="local-6989586621679215608"><span id="local-6989586621679215610"><span id="local-6989586621679215612"><span id="local-6989586621679215614"><span class="annot"><span class="annottext">Int -&gt; Severity
Severity -&gt; Int
Severity -&gt; [Severity]
Severity -&gt; Severity
Severity -&gt; Severity -&gt; [Severity]
Severity -&gt; Severity -&gt; Severity -&gt; [Severity]
(Severity -&gt; Severity)
-&gt; (Severity -&gt; Severity)
-&gt; (Int -&gt; Severity)
-&gt; (Severity -&gt; Int)
-&gt; (Severity -&gt; [Severity])
-&gt; (Severity -&gt; Severity -&gt; [Severity])
-&gt; (Severity -&gt; Severity -&gt; [Severity])
-&gt; (Severity -&gt; Severity -&gt; Severity -&gt; [Severity])
-&gt; Enum Severity
forall a.
(a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Int -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; a -&gt; [a])
-&gt; Enum a
enumFromThenTo :: Severity -&gt; Severity -&gt; Severity -&gt; [Severity]
$cenumFromThenTo :: Severity -&gt; Severity -&gt; Severity -&gt; [Severity]
enumFromTo :: Severity -&gt; Severity -&gt; [Severity]
$cenumFromTo :: Severity -&gt; Severity -&gt; [Severity]
enumFromThen :: Severity -&gt; Severity -&gt; [Severity]
$cenumFromThen :: Severity -&gt; Severity -&gt; [Severity]
enumFrom :: Severity -&gt; [Severity]
$cenumFrom :: Severity -&gt; [Severity]
fromEnum :: Severity -&gt; Int
$cfromEnum :: Severity -&gt; Int
toEnum :: Int -&gt; Severity
$ctoEnum :: Int -&gt; Severity
pred :: Severity -&gt; Severity
$cpred :: Severity -&gt; Severity
succ :: Severity -&gt; Severity
$csucc :: Severity -&gt; Severity
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Enum</span></a></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679215595"><span id="local-6989586621679215597"><span class="annot"><span class="annottext">Severity
Severity -&gt; Severity -&gt; Bounded Severity
forall a. a -&gt; a -&gt; Bounded a
maxBound :: Severity
$cmaxBound :: Severity
minBound :: Severity
$cminBound :: Severity
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Bounded</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679215590"><span id="local-6989586621679215592"><span class="annot"><span class="annottext">Severity -&gt; Q Exp
Severity -&gt; Q (TExp Severity)
(Severity -&gt; Q Exp)
-&gt; (Severity -&gt; Q (TExp Severity)) -&gt; Lift Severity
forall t. (t -&gt; Q Exp) -&gt; (t -&gt; Q (TExp t)) -&gt; Lift t
liftTyped :: Severity -&gt; Q (TExp Severity)
$cliftTyped :: Severity -&gt; Q (TExp Severity)
lift :: Severity -&gt; Q Exp
$clift :: Severity -&gt; Q Exp
</span><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">TH.Lift</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-144"></span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-147"></span><span class="hs-comment">-- | Verbosity controls the amount of information (columns) a 'Scribe'</span><span>
</span><span id="line-148"></span><span class="hs-comment">-- emits during logging.</span><span>
</span><span id="line-149"></span><span class="hs-comment">--</span><span>
</span><span id="line-150"></span><span class="hs-comment">-- The convention is:</span><span>
</span><span id="line-151"></span><span class="hs-comment">-- - 'V0' implies no additional payload information is included in message.</span><span>
</span><span id="line-152"></span><span class="hs-comment">-- - 'V3' implies the maximum amount of payload information.</span><span>
</span><span id="line-153"></span><span class="hs-comment">-- - Anything in between is left to the discretion of the developer.</span><span>
</span><span id="line-154"></span><span id="local-6989586621679215588"><span id="local-6989586621679215589"></span></span><span class="hs-keyword">data</span><span> </span><span id="Verbosity"><span class="annot"><a href="Katip.Core.html#Verbosity"><span class="hs-identifier hs-var">Verbosity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="V0"><span class="annot"><a href="Katip.Core.html#V0"><span class="hs-identifier hs-var">V0</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="V1"><span class="annot"><a href="Katip.Core.html#V1"><span class="hs-identifier hs-var">V1</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="V2"><span class="annot"><a href="Katip.Core.html#V2"><span class="hs-identifier hs-var">V2</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="V3"><span class="annot"><a href="Katip.Core.html#V3"><span class="hs-identifier hs-var">V3</span></a></span></span><span>
</span><span id="line-155"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679215580"><span id="local-6989586621679215582"><span class="annot"><span class="annottext">Verbosity -&gt; Verbosity -&gt; Bool
(Verbosity -&gt; Verbosity -&gt; Bool)
-&gt; (Verbosity -&gt; Verbosity -&gt; Bool) -&gt; Eq Verbosity
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Verbosity -&gt; Verbosity -&gt; Bool
$c/= :: Verbosity -&gt; Verbosity -&gt; Bool
== :: Verbosity -&gt; Verbosity -&gt; Bool
$c== :: Verbosity -&gt; Verbosity -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679215565"><span id="local-6989586621679215567"><span id="local-6989586621679215569"><span id="local-6989586621679215571"><span id="local-6989586621679215573"><span id="local-6989586621679215575"><span id="local-6989586621679215577"><span class="annot"><span class="annottext">Eq Verbosity
Eq Verbosity
-&gt; (Verbosity -&gt; Verbosity -&gt; Ordering)
-&gt; (Verbosity -&gt; Verbosity -&gt; Bool)
-&gt; (Verbosity -&gt; Verbosity -&gt; Bool)
-&gt; (Verbosity -&gt; Verbosity -&gt; Bool)
-&gt; (Verbosity -&gt; Verbosity -&gt; Bool)
-&gt; (Verbosity -&gt; Verbosity -&gt; Verbosity)
-&gt; (Verbosity -&gt; Verbosity -&gt; Verbosity)
-&gt; Ord Verbosity
Verbosity -&gt; Verbosity -&gt; Bool
Verbosity -&gt; Verbosity -&gt; Ordering
Verbosity -&gt; Verbosity -&gt; Verbosity
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: Verbosity -&gt; Verbosity -&gt; Verbosity
$cmin :: Verbosity -&gt; Verbosity -&gt; Verbosity
max :: Verbosity -&gt; Verbosity -&gt; Verbosity
$cmax :: Verbosity -&gt; Verbosity -&gt; Verbosity
&gt;= :: Verbosity -&gt; Verbosity -&gt; Bool
$c&gt;= :: Verbosity -&gt; Verbosity -&gt; Bool
&gt; :: Verbosity -&gt; Verbosity -&gt; Bool
$c&gt; :: Verbosity -&gt; Verbosity -&gt; Bool
&lt;= :: Verbosity -&gt; Verbosity -&gt; Bool
$c&lt;= :: Verbosity -&gt; Verbosity -&gt; Bool
&lt; :: Verbosity -&gt; Verbosity -&gt; Bool
$c&lt; :: Verbosity -&gt; Verbosity -&gt; Bool
compare :: Verbosity -&gt; Verbosity -&gt; Ordering
$ccompare :: Verbosity -&gt; Verbosity -&gt; Ordering
$cp1Ord :: Eq Verbosity
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679215559"><span id="local-6989586621679215561"><span id="local-6989586621679215563"><span class="annot"><span class="annottext">Int -&gt; Verbosity -&gt; ShowS
[Verbosity] -&gt; ShowS
Verbosity -&gt; String
(Int -&gt; Verbosity -&gt; ShowS)
-&gt; (Verbosity -&gt; String)
-&gt; ([Verbosity] -&gt; ShowS)
-&gt; Show Verbosity
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Verbosity] -&gt; ShowS
$cshowList :: [Verbosity] -&gt; ShowS
show :: Verbosity -&gt; String
$cshow :: Verbosity -&gt; String
showsPrec :: Int -&gt; Verbosity -&gt; ShowS
$cshowsPrec :: Int -&gt; Verbosity -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679215551"><span id="local-6989586621679215553"><span id="local-6989586621679215555"><span id="local-6989586621679215557"><span class="annot"><span class="annottext">ReadPrec [Verbosity]
ReadPrec Verbosity
Int -&gt; ReadS Verbosity
ReadS [Verbosity]
(Int -&gt; ReadS Verbosity)
-&gt; ReadS [Verbosity]
-&gt; ReadPrec Verbosity
-&gt; ReadPrec [Verbosity]
-&gt; Read Verbosity
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [Verbosity]
$creadListPrec :: ReadPrec [Verbosity]
readPrec :: ReadPrec Verbosity
$creadPrec :: ReadPrec Verbosity
readList :: ReadS [Verbosity]
$creadList :: ReadS [Verbosity]
readsPrec :: Int -&gt; ReadS Verbosity
$creadsPrec :: Int -&gt; ReadS Verbosity
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. Verbosity -&gt; Rep Verbosity x)
-&gt; (forall x. Rep Verbosity x -&gt; Verbosity) -&gt; Generic Verbosity
forall x. Rep Verbosity x -&gt; Verbosity
forall x. Verbosity -&gt; Rep Verbosity x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep Verbosity x -&gt; Verbosity
$cfrom :: forall x. Verbosity -&gt; Rep Verbosity x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679215533"><span id="local-6989586621679215535"><span id="local-6989586621679215537"><span id="local-6989586621679215539"><span id="local-6989586621679215541"><span id="local-6989586621679215543"><span id="local-6989586621679215545"><span id="local-6989586621679215547"><span class="annot"><span class="annottext">Int -&gt; Verbosity
Verbosity -&gt; Int
Verbosity -&gt; [Verbosity]
Verbosity -&gt; Verbosity
Verbosity -&gt; Verbosity -&gt; [Verbosity]
Verbosity -&gt; Verbosity -&gt; Verbosity -&gt; [Verbosity]
(Verbosity -&gt; Verbosity)
-&gt; (Verbosity -&gt; Verbosity)
-&gt; (Int -&gt; Verbosity)
-&gt; (Verbosity -&gt; Int)
-&gt; (Verbosity -&gt; [Verbosity])
-&gt; (Verbosity -&gt; Verbosity -&gt; [Verbosity])
-&gt; (Verbosity -&gt; Verbosity -&gt; [Verbosity])
-&gt; (Verbosity -&gt; Verbosity -&gt; Verbosity -&gt; [Verbosity])
-&gt; Enum Verbosity
forall a.
(a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Int -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; a -&gt; [a])
-&gt; Enum a
enumFromThenTo :: Verbosity -&gt; Verbosity -&gt; Verbosity -&gt; [Verbosity]
$cenumFromThenTo :: Verbosity -&gt; Verbosity -&gt; Verbosity -&gt; [Verbosity]
enumFromTo :: Verbosity -&gt; Verbosity -&gt; [Verbosity]
$cenumFromTo :: Verbosity -&gt; Verbosity -&gt; [Verbosity]
enumFromThen :: Verbosity -&gt; Verbosity -&gt; [Verbosity]
$cenumFromThen :: Verbosity -&gt; Verbosity -&gt; [Verbosity]
enumFrom :: Verbosity -&gt; [Verbosity]
$cenumFrom :: Verbosity -&gt; [Verbosity]
fromEnum :: Verbosity -&gt; Int
$cfromEnum :: Verbosity -&gt; Int
toEnum :: Int -&gt; Verbosity
$ctoEnum :: Int -&gt; Verbosity
pred :: Verbosity -&gt; Verbosity
$cpred :: Verbosity -&gt; Verbosity
succ :: Verbosity -&gt; Verbosity
$csucc :: Verbosity -&gt; Verbosity
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Enum</span></a></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679215529"><span id="local-6989586621679215531"><span class="annot"><span class="annottext">Verbosity
Verbosity -&gt; Verbosity -&gt; Bounded Verbosity
forall a. a -&gt; a -&gt; Bounded a
maxBound :: Verbosity
$cmaxBound :: Verbosity
minBound :: Verbosity
$cminBound :: Verbosity
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Bounded</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679215525"><span id="local-6989586621679215527"><span class="annot"><span class="annottext">Verbosity -&gt; Q Exp
Verbosity -&gt; Q (TExp Verbosity)
(Verbosity -&gt; Q Exp)
-&gt; (Verbosity -&gt; Q (TExp Verbosity)) -&gt; Lift Verbosity
forall t. (t -&gt; Q Exp) -&gt; (t -&gt; Q (TExp t)) -&gt; Lift t
liftTyped :: Verbosity -&gt; Q (TExp Verbosity)
$cliftTyped :: Verbosity -&gt; Q (TExp Verbosity)
lift :: Verbosity -&gt; Q Exp
$clift :: Verbosity -&gt; Q Exp
</span><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">TH.Lift</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-156"></span><span>
</span><span id="line-157"></span><span>
</span><span id="line-158"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-159"></span><span class="annot"><a href="Katip.Core.html#renderSeverity"><span class="hs-identifier hs-type">renderSeverity</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Katip.Core.html#Severity"><span class="hs-identifier hs-type">Severity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span>
</span><span id="line-160"></span><span id="renderSeverity"><span class="annot"><span class="annottext">renderSeverity :: Severity -&gt; Text
</span><a href="Katip.Core.html#renderSeverity"><span class="hs-identifier hs-var hs-var">renderSeverity</span></a></span></span><span> </span><span id="local-6989586621679215523"><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621679215523"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621679215523"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-161"></span><span>      </span><span class="annot"><span class="annottext">Severity
</span><a href="Katip.Core.html#DebugS"><span class="hs-identifier hs-var">DebugS</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Debug&quot;</span></span><span>
</span><span id="line-162"></span><span>      </span><span class="annot"><span class="annottext">Severity
</span><a href="Katip.Core.html#InfoS"><span class="hs-identifier hs-var">InfoS</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Info&quot;</span></span><span>
</span><span id="line-163"></span><span>      </span><span class="annot"><span class="annottext">Severity
</span><a href="Katip.Core.html#NoticeS"><span class="hs-identifier hs-var">NoticeS</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Notice&quot;</span></span><span>
</span><span id="line-164"></span><span>      </span><span class="annot"><span class="annottext">Severity
</span><a href="Katip.Core.html#WarningS"><span class="hs-identifier hs-var">WarningS</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Warning&quot;</span></span><span>
</span><span id="line-165"></span><span>      </span><span class="annot"><span class="annottext">Severity
</span><a href="Katip.Core.html#ErrorS"><span class="hs-identifier hs-var">ErrorS</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Error&quot;</span></span><span>
</span><span id="line-166"></span><span>      </span><span class="annot"><span class="annottext">Severity
</span><a href="Katip.Core.html#CriticalS"><span class="hs-identifier hs-var">CriticalS</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Critical&quot;</span></span><span>
</span><span id="line-167"></span><span>      </span><span class="annot"><span class="annottext">Severity
</span><a href="Katip.Core.html#AlertS"><span class="hs-identifier hs-var">AlertS</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Alert&quot;</span></span><span>
</span><span id="line-168"></span><span>      </span><span class="annot"><span class="annottext">Severity
</span><a href="Katip.Core.html#EmergencyS"><span class="hs-identifier hs-var">EmergencyS</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Emergency&quot;</span></span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span>
</span><span id="line-171"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-172"></span><span class="annot"><a href="Katip.Core.html#textToSeverity"><span class="hs-identifier hs-type">textToSeverity</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#Severity"><span class="hs-identifier hs-type">Severity</span></a></span><span>
</span><span id="line-173"></span><span id="textToSeverity"><span class="annot"><span class="annottext">textToSeverity :: Text -&gt; Maybe Severity
</span><a href="Katip.Core.html#textToSeverity"><span class="hs-identifier hs-var hs-var">textToSeverity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Maybe Severity
forall a. (Eq a, IsString a) =&gt; a -&gt; Maybe Severity
</span><a href="#local-6989586621679215521"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Maybe Severity)
-&gt; (Text -&gt; Text) -&gt; Text -&gt; Maybe Severity
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">T.toLower</span></a></span><span>
</span><span id="line-174"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-175"></span><span>    </span><span id="local-6989586621679215521"><span class="annot"><span class="annottext">go :: a -&gt; Maybe Severity
</span><a href="#local-6989586621679215521"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-string">&quot;debug&quot;</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Severity -&gt; Maybe Severity
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="Katip.Core.html#DebugS"><span class="hs-identifier hs-var">DebugS</span></a></span><span>
</span><span id="line-176"></span><span>    </span><span class="annot"><a href="#local-6989586621679215521"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-string">&quot;info&quot;</span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Severity -&gt; Maybe Severity
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="Katip.Core.html#InfoS"><span class="hs-identifier hs-var">InfoS</span></a></span><span>
</span><span id="line-177"></span><span>    </span><span class="annot"><a href="#local-6989586621679215521"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-string">&quot;notice&quot;</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Severity -&gt; Maybe Severity
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="Katip.Core.html#NoticeS"><span class="hs-identifier hs-var">NoticeS</span></a></span><span>
</span><span id="line-178"></span><span>    </span><span class="annot"><a href="#local-6989586621679215521"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-string">&quot;warning&quot;</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Severity -&gt; Maybe Severity
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="Katip.Core.html#WarningS"><span class="hs-identifier hs-var">WarningS</span></a></span><span>
</span><span id="line-179"></span><span>    </span><span class="annot"><a href="#local-6989586621679215521"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-string">&quot;error&quot;</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Severity -&gt; Maybe Severity
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="Katip.Core.html#ErrorS"><span class="hs-identifier hs-var">ErrorS</span></a></span><span>
</span><span id="line-180"></span><span>    </span><span class="annot"><a href="#local-6989586621679215521"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-string">&quot;critical&quot;</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Severity -&gt; Maybe Severity
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="Katip.Core.html#CriticalS"><span class="hs-identifier hs-var">CriticalS</span></a></span><span>
</span><span id="line-181"></span><span>    </span><span class="annot"><a href="#local-6989586621679215521"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-string">&quot;alert&quot;</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Severity -&gt; Maybe Severity
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="Katip.Core.html#AlertS"><span class="hs-identifier hs-var">AlertS</span></a></span><span>
</span><span id="line-182"></span><span>    </span><span class="annot"><a href="#local-6989586621679215521"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-string">&quot;emergency&quot;</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Severity -&gt; Maybe Severity
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="Katip.Core.html#EmergencyS"><span class="hs-identifier hs-var">EmergencyS</span></a></span><span>
</span><span id="line-183"></span><span>    </span><span class="annot"><a href="#local-6989586621679215521"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Severity
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span>
</span><span id="line-186"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679215512"><span id="local-6989586621679215514"><span id="local-6989586621679215516"><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#Severity"><span class="hs-identifier hs-type">Severity</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-187"></span><span>    </span><span id="local-6989586621679215511"><span class="annot"><span class="annottext">toJSON :: Severity -&gt; Value
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span id="local-6989586621679215509"><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621679215509"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">A.String</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Severity -&gt; Text
</span><a href="Katip.Core.html#renderSeverity"><span class="hs-identifier hs-var">renderSeverity</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621679215509"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-188"></span><span>
</span><span id="line-189"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679215505"><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">FromJSON</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#Severity"><span class="hs-identifier hs-type">Severity</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-190"></span><span>    </span><span id="local-6989586621679215504"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser Severity
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; (Text -&gt; Parser Severity) -&gt; Value -&gt; Parser Severity
forall a. String -&gt; (Text -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">A.withText</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Severity&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Parser Severity
forall (m :: * -&gt; *). MonadFail m =&gt; Text -&gt; m Severity
</span><a href="#local-6989586621679215501"><span class="hs-identifier hs-var">parseSeverity</span></a></span><span>
</span><span id="line-191"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-192"></span><span>        </span><span id="local-6989586621679215501"><span class="annot"><span class="annottext">parseSeverity :: Text -&gt; m Severity
</span><a href="#local-6989586621679215501"><span class="hs-identifier hs-var hs-var">parseSeverity</span></a></span></span><span> </span><span id="local-6989586621679215500"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679215500"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Maybe Severity
</span><a href="Katip.Core.html#textToSeverity"><span class="hs-identifier hs-var">textToSeverity</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679215500"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-193"></span><span>          </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679215499"><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621679215499"><span class="hs-identifier hs-var">x</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Severity -&gt; m Severity
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621679215499"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-194"></span><span>          </span><span class="annot"><span class="annottext">Maybe Severity
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; m Severity
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m Severity) -&gt; String -&gt; m Severity
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Invalid Severity &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
forall a b. StringConv a b =&gt; a -&gt; b
</span><a href="../../../../string-conv/html/src"><span class="hs-identifier hs-var">toS</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679215500"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679215491"><span id="local-6989586621679215493"><span id="local-6989586621679215495"><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#Verbosity"><span class="hs-identifier hs-type">Verbosity</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-197"></span><span>    </span><span id="local-6989586621679215490"><span class="annot"><span class="annottext">toJSON :: Verbosity -&gt; Value
</span><a href="#local-6989586621679215490"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span id="local-6989586621679215489"><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679215489"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">A.String</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Value) -&gt; Text -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679215489"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-198"></span><span>      </span><span class="annot"><span class="annottext">Verbosity
</span><a href="Katip.Core.html#V0"><span class="hs-identifier hs-var">V0</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;V0&quot;</span></span><span>
</span><span id="line-199"></span><span>      </span><span class="annot"><span class="annottext">Verbosity
</span><a href="Katip.Core.html#V1"><span class="hs-identifier hs-var">V1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;V1&quot;</span></span><span>
</span><span id="line-200"></span><span>      </span><span class="annot"><span class="annottext">Verbosity
</span><a href="Katip.Core.html#V2"><span class="hs-identifier hs-var">V2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;V2&quot;</span></span><span>
</span><span id="line-201"></span><span>      </span><span class="annot"><span class="annottext">Verbosity
</span><a href="Katip.Core.html#V3"><span class="hs-identifier hs-var">V3</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;V3&quot;</span></span><span>
</span><span id="line-202"></span><span>
</span><span id="line-203"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679215486"><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">FromJSON</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#Verbosity"><span class="hs-identifier hs-type">Verbosity</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-204"></span><span>    </span><span id="local-6989586621679215485"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser Verbosity
</span><a href="#local-6989586621679215485"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; (Text -&gt; Parser Verbosity) -&gt; Value -&gt; Parser Verbosity
forall a. String -&gt; (Text -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">A.withText</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Verbosity&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Text -&gt; Parser Verbosity) -&gt; Value -&gt; Parser Verbosity)
-&gt; (Text -&gt; Parser Verbosity) -&gt; Value -&gt; Parser Verbosity
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679215484"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679215484"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679215484"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-205"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;V0&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Verbosity -&gt; Parser Verbosity
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="Katip.Core.html#V0"><span class="hs-identifier hs-var">V0</span></a></span><span>
</span><span id="line-206"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;V1&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Verbosity -&gt; Parser Verbosity
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="Katip.Core.html#V1"><span class="hs-identifier hs-var">V1</span></a></span><span>
</span><span id="line-207"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;V2&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Verbosity -&gt; Parser Verbosity
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="Katip.Core.html#V2"><span class="hs-identifier hs-var">V2</span></a></span><span>
</span><span id="line-208"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;V3&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Verbosity -&gt; Parser Verbosity
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="Katip.Core.html#V3"><span class="hs-identifier hs-var">V3</span></a></span><span>
</span><span id="line-209"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-identifier">_</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Parser Verbosity
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Parser Verbosity) -&gt; String -&gt; Parser Verbosity
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Invalid Verbosity &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
forall a b. StringConv a b =&gt; a -&gt; b
</span><a href="../../../../string-conv/html/src"><span class="hs-identifier hs-var">toS</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679215484"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-210"></span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-213"></span><span class="hs-comment">-- | Log message with Builder underneath; use '&lt;&gt;' to concat in O(1).</span><span>
</span><span id="line-214"></span><span id="local-6989586621679215482"><span id="local-6989586621679215483"></span></span><span class="hs-keyword">newtype</span><span> </span><span id="LogStr"><span class="annot"><a href="Katip.Core.html#LogStr"><span class="hs-identifier hs-var">LogStr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="LogStr"><span class="annot"><a href="Katip.Core.html#LogStr"><span class="hs-identifier hs-var">LogStr</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unLogStr"><span class="annot"><span class="annottext">LogStr -&gt; Builder
</span><a href="Katip.Core.html#unLogStr"><span class="hs-identifier hs-var hs-var">unLogStr</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">B.Builder</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-215"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. LogStr -&gt; Rep LogStr x)
-&gt; (forall x. Rep LogStr x -&gt; LogStr) -&gt; Generic LogStr
forall x. Rep LogStr x -&gt; LogStr
forall x. LogStr -&gt; Rep LogStr x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep LogStr x -&gt; LogStr
$cfrom :: forall x. LogStr -&gt; Rep LogStr x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679215472"><span id="local-6989586621679215474"><span id="local-6989586621679215476"><span class="annot"><span class="annottext">Int -&gt; LogStr -&gt; ShowS
[LogStr] -&gt; ShowS
LogStr -&gt; String
(Int -&gt; LogStr -&gt; ShowS)
-&gt; (LogStr -&gt; String) -&gt; ([LogStr] -&gt; ShowS) -&gt; Show LogStr
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [LogStr] -&gt; ShowS
$cshowList :: [LogStr] -&gt; ShowS
show :: LogStr -&gt; String
$cshow :: LogStr -&gt; String
showsPrec :: Int -&gt; LogStr -&gt; ShowS
$cshowsPrec :: Int -&gt; LogStr -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679215468"><span id="local-6989586621679215470"><span class="annot"><span class="annottext">LogStr -&gt; LogStr -&gt; Bool
(LogStr -&gt; LogStr -&gt; Bool)
-&gt; (LogStr -&gt; LogStr -&gt; Bool) -&gt; Eq LogStr
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: LogStr -&gt; LogStr -&gt; Bool
$c/= :: LogStr -&gt; LogStr -&gt; Bool
== :: LogStr -&gt; LogStr -&gt; Bool
$c== :: LogStr -&gt; LogStr -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-216"></span><span>
</span><span id="line-217"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">IsString</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#LogStr"><span class="hs-identifier hs-type">LogStr</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-218"></span><span>    </span><span id="local-6989586621679215466"><span class="annot"><span class="annottext">fromString :: String -&gt; LogStr
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromString</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Builder -&gt; LogStr
</span><a href="Katip.Core.html#LogStr"><span class="hs-identifier hs-var">LogStr</span></a></span><span> </span><span class="annot"><span class="annottext">(Builder -&gt; LogStr) -&gt; (String -&gt; Builder) -&gt; String -&gt; LogStr
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Builder
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">B.fromString</span></a></span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679215460"><span id="local-6989586621679215462"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Semigroup</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#LogStr"><span class="hs-identifier hs-type">LogStr</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-222"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#LogStr"><span class="hs-identifier hs-type">LogStr</span></a></span><span> </span><span id="local-6989586621679215459"><span class="annot"><span class="annottext">Builder
</span><a href="#local-6989586621679215459"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679215458"><span class="annot"><span class="annottext">&lt;&gt; :: LogStr -&gt; LogStr -&gt; LogStr
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;&gt;</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#LogStr"><span class="hs-identifier hs-type">LogStr</span></a></span><span> </span><span id="local-6989586621679215457"><span class="annot"><span class="annottext">Builder
</span><a href="#local-6989586621679215457"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Builder -&gt; LogStr
</span><a href="Katip.Core.html#LogStr"><span class="hs-identifier hs-var">LogStr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Builder
</span><a href="#local-6989586621679215459"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Builder -&gt; Builder -&gt; Builder
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Builder
</span><a href="#local-6989586621679215457"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span>
</span><span id="line-225"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679215452"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#LogStr"><span class="hs-identifier hs-type">LogStr</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-226"></span><span>    </span><span id="local-6989586621679215451"><span class="annot"><span class="annottext">mappend :: LogStr -&gt; LogStr -&gt; LogStr
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">mappend</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LogStr -&gt; LogStr -&gt; LogStr
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">(&lt;&gt;)</span></a></span><span>
</span><span id="line-227"></span><span>    </span><span id="local-6989586621679215450"><span class="annot"><span class="annottext">mempty :: LogStr
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">mempty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Builder -&gt; LogStr
</span><a href="Katip.Core.html#LogStr"><span class="hs-identifier hs-var">LogStr</span></a></span><span> </span><span class="annot"><span class="annottext">Builder
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-228"></span><span>
</span><span id="line-229"></span><span>
</span><span id="line-230"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679215447"><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">FromJSON</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#LogStr"><span class="hs-identifier hs-type">LogStr</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-231"></span><span>    </span><span id="local-6989586621679215446"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser LogStr
</span><a href="#local-6989586621679215446"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; (Text -&gt; Parser LogStr) -&gt; Value -&gt; Parser LogStr
forall a. String -&gt; (Text -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">A.withText</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;LogStr&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Parser LogStr
</span><a href="#local-6989586621679215445"><span class="hs-identifier hs-var">parseLogStr</span></a></span><span>
</span><span id="line-232"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-233"></span><span>        </span><span id="local-6989586621679215445"><span class="annot"><span class="annottext">parseLogStr :: Text -&gt; Parser LogStr
</span><a href="#local-6989586621679215445"><span class="hs-identifier hs-var hs-var">parseLogStr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LogStr -&gt; Parser LogStr
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LogStr -&gt; Parser LogStr)
-&gt; (Text -&gt; LogStr) -&gt; Text -&gt; Parser LogStr
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Builder -&gt; LogStr
</span><a href="Katip.Core.html#LogStr"><span class="hs-identifier hs-var">LogStr</span></a></span><span> </span><span class="annot"><span class="annottext">(Builder -&gt; LogStr) -&gt; (Text -&gt; Builder) -&gt; Text -&gt; LogStr
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Builder
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">B.fromText</span></a></span><span>
</span><span id="line-234"></span><span>
</span><span id="line-235"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-236"></span><span class="hs-comment">-- | Pack any string-like thing into a 'LogStr'. This will</span><span>
</span><span id="line-237"></span><span class="hs-comment">-- automatically work on 'String', 'ByteString', 'Text' and any of the</span><span>
</span><span id="line-238"></span><span class="hs-comment">-- lazy variants.</span><span>
</span><span id="line-239"></span><span id="local-6989586621679216330"><span class="annot"><a href="Katip.Core.html#logStr"><span class="hs-identifier hs-type">logStr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../string-conv/html/src"><span class="hs-identifier hs-type">StringConv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679216330"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679216330"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#LogStr"><span class="hs-identifier hs-type">LogStr</span></a></span></span><span>
</span><span id="line-240"></span><span id="logStr"><span class="annot"><span class="annottext">logStr :: a -&gt; LogStr
</span><a href="Katip.Core.html#logStr"><span class="hs-identifier hs-var hs-var">logStr</span></a></span></span><span> </span><span id="local-6989586621679215442"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679215442"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Builder -&gt; LogStr
</span><a href="Katip.Core.html#LogStr"><span class="hs-identifier hs-var">LogStr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Builder
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">B.fromText</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Builder) -&gt; Text -&gt; Builder
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Text
forall a b. StringConv a b =&gt; a -&gt; b
</span><a href="../../../../string-conv/html/src"><span class="hs-identifier hs-var">toS</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679215442"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-241"></span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-244"></span><span class="hs-comment">-- | Shorthand for 'logStr'</span><span>
</span><span id="line-245"></span><span id="local-6989586621679215441"><span class="annot"><a href="Katip.Core.html#ls"><span class="hs-identifier hs-type">ls</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../string-conv/html/src"><span class="hs-identifier hs-type">StringConv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215441"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679215441"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#LogStr"><span class="hs-identifier hs-type">LogStr</span></a></span></span><span>
</span><span id="line-246"></span><span id="ls"><span class="annot"><span class="annottext">ls :: a -&gt; LogStr
</span><a href="Katip.Core.html#ls"><span class="hs-identifier hs-var hs-var">ls</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; LogStr
forall a. StringConv a Text =&gt; a -&gt; LogStr
</span><a href="Katip.Core.html#logStr"><span class="hs-identifier hs-var">logStr</span></a></span><span>
</span><span id="line-247"></span><span>
</span><span id="line-248"></span><span>
</span><span id="line-249"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-250"></span><span class="hs-comment">-- | Convert any showable type into a 'LogStr'.</span><span>
</span><span id="line-251"></span><span id="local-6989586621679215439"><span class="annot"><a href="Katip.Core.html#showLS"><span class="hs-identifier hs-type">showLS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215439"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679215439"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#LogStr"><span class="hs-identifier hs-type">LogStr</span></a></span></span><span>
</span><span id="line-252"></span><span id="showLS"><span class="annot"><span class="annottext">showLS :: a -&gt; LogStr
</span><a href="Katip.Core.html#showLS"><span class="hs-identifier hs-var hs-var">showLS</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; LogStr
forall a. StringConv a Text =&gt; a -&gt; LogStr
</span><a href="Katip.Core.html#ls"><span class="hs-identifier hs-var">ls</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; LogStr) -&gt; (a -&gt; String) -&gt; a -&gt; LogStr
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span>
</span><span id="line-253"></span><span>
</span><span id="line-254"></span><span>
</span><span id="line-255"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-256"></span><span class="hs-keyword">newtype</span><span> </span><span id="ThreadIdText"><span class="annot"><a href="Katip.Core.html#ThreadIdText"><span class="hs-identifier hs-var">ThreadIdText</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ThreadIdText"><span class="annot"><a href="Katip.Core.html#ThreadIdText"><span class="hs-identifier hs-var">ThreadIdText</span></a></span></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-257"></span><span>      </span><span id="getThreadIdText"><span class="annot"><span class="annottext">ThreadIdText -&gt; Text
</span><a href="Katip.Core.html#getThreadIdText"><span class="hs-identifier hs-var hs-var">getThreadIdText</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span>
</span><span id="line-258"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679215427"><span id="local-6989586621679215429"><span id="local-6989586621679215431"><span id="local-6989586621679215433"><span class="annot"><span class="annottext">[ThreadIdText] -&gt; Encoding
[ThreadIdText] -&gt; Value
ThreadIdText -&gt; Encoding
ThreadIdText -&gt; Value
(ThreadIdText -&gt; Value)
-&gt; (ThreadIdText -&gt; Encoding)
-&gt; ([ThreadIdText] -&gt; Value)
-&gt; ([ThreadIdText] -&gt; Encoding)
-&gt; ToJSON ThreadIdText
forall a.
(a -&gt; Value)
-&gt; (a -&gt; Encoding)
-&gt; ([a] -&gt; Value)
-&gt; ([a] -&gt; Encoding)
-&gt; ToJSON a
toEncodingList :: [ThreadIdText] -&gt; Encoding
$ctoEncodingList :: [ThreadIdText] -&gt; Encoding
toJSONList :: [ThreadIdText] -&gt; Value
$ctoJSONList :: [ThreadIdText] -&gt; Value
toEncoding :: ThreadIdText -&gt; Encoding
$ctoEncoding :: ThreadIdText -&gt; Encoding
toJSON :: ThreadIdText -&gt; Value
$ctoJSON :: ThreadIdText -&gt; Value
</span><a href="#local-6989586621679215427"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">ToJSON</span></a></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679215423"><span id="local-6989586621679215425"><span class="annot"><span class="annottext">Value -&gt; Parser [ThreadIdText]
Value -&gt; Parser ThreadIdText
(Value -&gt; Parser ThreadIdText)
-&gt; (Value -&gt; Parser [ThreadIdText]) -&gt; FromJSON ThreadIdText
forall a.
(Value -&gt; Parser a) -&gt; (Value -&gt; Parser [a]) -&gt; FromJSON a
parseJSONList :: Value -&gt; Parser [ThreadIdText]
$cparseJSONList :: Value -&gt; Parser [ThreadIdText]
parseJSON :: Value -&gt; Parser ThreadIdText
$cparseJSON :: Value -&gt; Parser ThreadIdText
</span><a href="#local-6989586621679215423"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">FromJSON</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679215417"><span id="local-6989586621679215419"><span id="local-6989586621679215421"><span class="annot"><span class="annottext">Int -&gt; ThreadIdText -&gt; ShowS
[ThreadIdText] -&gt; ShowS
ThreadIdText -&gt; String
(Int -&gt; ThreadIdText -&gt; ShowS)
-&gt; (ThreadIdText -&gt; String)
-&gt; ([ThreadIdText] -&gt; ShowS)
-&gt; Show ThreadIdText
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [ThreadIdText] -&gt; ShowS
$cshowList :: [ThreadIdText] -&gt; ShowS
show :: ThreadIdText -&gt; String
$cshow :: ThreadIdText -&gt; String
showsPrec :: Int -&gt; ThreadIdText -&gt; ShowS
$cshowsPrec :: Int -&gt; ThreadIdText -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679215413"><span id="local-6989586621679215415"><span class="annot"><span class="annottext">ThreadIdText -&gt; ThreadIdText -&gt; Bool
(ThreadIdText -&gt; ThreadIdText -&gt; Bool)
-&gt; (ThreadIdText -&gt; ThreadIdText -&gt; Bool) -&gt; Eq ThreadIdText
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: ThreadIdText -&gt; ThreadIdText -&gt; Bool
$c/= :: ThreadIdText -&gt; ThreadIdText -&gt; Bool
== :: ThreadIdText -&gt; ThreadIdText -&gt; Bool
$c== :: ThreadIdText -&gt; ThreadIdText -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679215398"><span id="local-6989586621679215400"><span id="local-6989586621679215402"><span id="local-6989586621679215404"><span id="local-6989586621679215406"><span id="local-6989586621679215408"><span id="local-6989586621679215410"><span class="annot"><span class="annottext">Eq ThreadIdText
Eq ThreadIdText
-&gt; (ThreadIdText -&gt; ThreadIdText -&gt; Ordering)
-&gt; (ThreadIdText -&gt; ThreadIdText -&gt; Bool)
-&gt; (ThreadIdText -&gt; ThreadIdText -&gt; Bool)
-&gt; (ThreadIdText -&gt; ThreadIdText -&gt; Bool)
-&gt; (ThreadIdText -&gt; ThreadIdText -&gt; Bool)
-&gt; (ThreadIdText -&gt; ThreadIdText -&gt; ThreadIdText)
-&gt; (ThreadIdText -&gt; ThreadIdText -&gt; ThreadIdText)
-&gt; Ord ThreadIdText
ThreadIdText -&gt; ThreadIdText -&gt; Bool
ThreadIdText -&gt; ThreadIdText -&gt; Ordering
ThreadIdText -&gt; ThreadIdText -&gt; ThreadIdText
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: ThreadIdText -&gt; ThreadIdText -&gt; ThreadIdText
$cmin :: ThreadIdText -&gt; ThreadIdText -&gt; ThreadIdText
max :: ThreadIdText -&gt; ThreadIdText -&gt; ThreadIdText
$cmax :: ThreadIdText -&gt; ThreadIdText -&gt; ThreadIdText
&gt;= :: ThreadIdText -&gt; ThreadIdText -&gt; Bool
$c&gt;= :: ThreadIdText -&gt; ThreadIdText -&gt; Bool
&gt; :: ThreadIdText -&gt; ThreadIdText -&gt; Bool
$c&gt; :: ThreadIdText -&gt; ThreadIdText -&gt; Bool
&lt;= :: ThreadIdText -&gt; ThreadIdText -&gt; Bool
$c&lt;= :: ThreadIdText -&gt; ThreadIdText -&gt; Bool
&lt; :: ThreadIdText -&gt; ThreadIdText -&gt; Bool
$c&lt; :: ThreadIdText -&gt; ThreadIdText -&gt; Bool
compare :: ThreadIdText -&gt; ThreadIdText -&gt; Ordering
$ccompare :: ThreadIdText -&gt; ThreadIdText -&gt; Ordering
$cp1Ord :: Eq ThreadIdText
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-259"></span><span>
</span><span id="line-260"></span><span>
</span><span id="line-261"></span><span class="annot"><a href="Katip.Core.html#mkThreadIdText"><span class="hs-identifier hs-type">mkThreadIdText</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">ThreadId</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#ThreadIdText"><span class="hs-identifier hs-type">ThreadIdText</span></a></span><span>
</span><span id="line-262"></span><span id="mkThreadIdText"><span class="annot"><span class="annottext">mkThreadIdText :: ThreadId -&gt; ThreadIdText
</span><a href="Katip.Core.html#mkThreadIdText"><span class="hs-identifier hs-var hs-var">mkThreadIdText</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; ThreadIdText
</span><a href="Katip.Core.html#ThreadIdText"><span class="hs-identifier hs-var">ThreadIdText</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; ThreadIdText)
-&gt; (ThreadId -&gt; Text) -&gt; ThreadId -&gt; ThreadIdText
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
</span><a href="#local-6989586621679215396"><span class="hs-identifier hs-var">stripPrefix'</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;ThreadId &quot;</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text) -&gt; (ThreadId -&gt; Text) -&gt; ThreadId -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">T.pack</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; (ThreadId -&gt; String) -&gt; ThreadId -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ThreadId -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span>
</span><span id="line-263"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-264"></span><span>    </span><span id="local-6989586621679215396"><span class="annot"><span class="annottext">stripPrefix' :: Text -&gt; Text -&gt; Text
</span><a href="#local-6989586621679215396"><span class="hs-identifier hs-var hs-var">stripPrefix'</span></a></span></span><span> </span><span id="local-6989586621679215394"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679215394"><span class="hs-identifier hs-var">pfx</span></a></span></span><span> </span><span id="local-6989586621679215393"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679215393"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Maybe Text -&gt; Text
forall a. a -&gt; Maybe a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679215393"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Maybe Text
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">T.stripPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679215394"><span class="hs-identifier hs-var">pfx</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679215393"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span>
</span><span id="line-267"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-268"></span><span class="hs-comment">-- | This has everything each log message will contain.</span><span>
</span><span id="line-269"></span><span id="local-6989586621679215390"><span id="local-6989586621679215391"></span></span><span class="hs-keyword">data</span><span> </span><span id="Item"><span class="annot"><a href="Katip.Core.html#Item"><span class="hs-identifier hs-var">Item</span></a></span></span><span> </span><span id="local-6989586621679216273"><span class="annot"><a href="#local-6989586621679216273"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Item"><span class="annot"><a href="Katip.Core.html#Item"><span class="hs-identifier hs-var">Item</span></a></span></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-270"></span><span>      </span><span id="_itemApp"><span class="annot"><span class="annottext">Item a -&gt; Namespace
</span><a href="Katip.Core.html#_itemApp"><span class="hs-identifier hs-var hs-var">_itemApp</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Katip.Core.html#Namespace"><span class="hs-identifier hs-type">Namespace</span></a></span><span>
</span><span id="line-271"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_itemEnv"><span class="annot"><span class="annottext">Item a -&gt; Environment
</span><a href="Katip.Core.html#_itemEnv"><span class="hs-identifier hs-var hs-var">_itemEnv</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Katip.Core.html#Environment"><span class="hs-identifier hs-type">Environment</span></a></span><span>
</span><span id="line-272"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_itemSeverity"><span class="annot"><span class="annottext">Item a -&gt; Severity
</span><a href="Katip.Core.html#_itemSeverity"><span class="hs-identifier hs-var hs-var">_itemSeverity</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Katip.Core.html#Severity"><span class="hs-identifier hs-type">Severity</span></a></span><span>
</span><span id="line-273"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_itemThread"><span class="annot"><span class="annottext">Item a -&gt; ThreadIdText
</span><a href="Katip.Core.html#_itemThread"><span class="hs-identifier hs-var hs-var">_itemThread</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Katip.Core.html#ThreadIdText"><span class="hs-identifier hs-type">ThreadIdText</span></a></span><span>
</span><span id="line-274"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_itemHost"><span class="annot"><span class="annottext">Item a -&gt; String
</span><a href="Katip.Core.html#_itemHost"><span class="hs-identifier hs-var hs-var">_itemHost</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../hostname/html/src"><span class="hs-identifier hs-type">HostName</span></a></span><span>
</span><span id="line-275"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_itemProcess"><span class="annot"><span class="annottext">Item a -&gt; ProcessID
</span><a href="Katip.Core.html#_itemProcess"><span class="hs-identifier hs-var hs-var">_itemProcess</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">ProcessID</span></a></span><span>
</span><span id="line-276"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_itemPayload"><span class="annot"><span class="annottext">Item a -&gt; a
</span><a href="Katip.Core.html#_itemPayload"><span class="hs-identifier hs-var hs-var">_itemPayload</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679216273"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-277"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_itemMessage"><span class="annot"><span class="annottext">Item a -&gt; LogStr
</span><a href="Katip.Core.html#_itemMessage"><span class="hs-identifier hs-var hs-var">_itemMessage</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Katip.Core.html#LogStr"><span class="hs-identifier hs-type">LogStr</span></a></span><span>
</span><span id="line-278"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_itemTime"><span class="annot"><span class="annottext">Item a -&gt; UTCTime
</span><a href="Katip.Core.html#_itemTime"><span class="hs-identifier hs-var hs-var">_itemTime</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier hs-type">UTCTime</span></a></span><span>
</span><span id="line-279"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_itemNamespace"><span class="annot"><span class="annottext">Item a -&gt; Namespace
</span><a href="Katip.Core.html#_itemNamespace"><span class="hs-identifier hs-var hs-var">_itemNamespace</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Katip.Core.html#Namespace"><span class="hs-identifier hs-type">Namespace</span></a></span><span>
</span><span id="line-280"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_itemLoc"><span class="annot"><span class="annottext">Item a -&gt; Maybe Loc
</span><a href="Katip.Core.html#_itemLoc"><span class="hs-identifier hs-var hs-var">_itemLoc</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-type">Loc</span></a></span><span>
</span><span id="line-281"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. Item a -&gt; Rep (Item a) x)
-&gt; (forall x. Rep (Item a) x -&gt; Item a) -&gt; Generic (Item a)
forall x. Rep (Item a) x -&gt; Item a
forall x. Item a -&gt; Rep (Item a) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall a x. Rep (Item a) x -&gt; Item a
forall a x. Item a -&gt; Rep (Item a) x
$cto :: forall a x. Rep (Item a) x -&gt; Item a
$cfrom :: forall a x. Item a -&gt; Rep (Item a) x
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679215371"><span id="local-6989586621679215373"><span class="annot"><span class="annottext">a -&gt; Item b -&gt; Item a
(a -&gt; b) -&gt; Item a -&gt; Item b
(forall a b. (a -&gt; b) -&gt; Item a -&gt; Item b)
-&gt; (forall a b. a -&gt; Item b -&gt; Item a) -&gt; Functor Item
forall a b. a -&gt; Item b -&gt; Item a
forall a b. (a -&gt; b) -&gt; Item a -&gt; Item b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
&lt;$ :: a -&gt; Item b -&gt; Item a
$c&lt;$ :: forall a b. a -&gt; Item b -&gt; Item a
fmap :: (a -&gt; b) -&gt; Item a -&gt; Item b
$cfmap :: forall a b. (a -&gt; b) -&gt; Item a -&gt; Item b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-282"></span><span id="itemTime"><span id="itemThread"><span id="itemSeverity"><span id="itemProcess"><span id="itemPayload"><span id="itemNamespace"><span id="itemMessage"><span id="itemLoc"><span id="itemHost"><span id="itemEnv"><span id="itemApp"><span id="local-6989586621679216204"><span id="local-6989586621679216273"><span class="hs-identifier">makeLenses</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">Item</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-283"></span><span>
</span><span id="line-284"></span><span class="hs-comment">-- Manual instance because 'Loc' has no 'Eq' and 'Show' instances in old</span><span>
</span><span id="line-285"></span><span class="hs-comment">-- versions of template-haskell (&lt; 2.10)</span><span>
</span><span id="line-286"></span><span id="local-6989586621679215358"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679215355"><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215358"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#Item"><span class="hs-identifier hs-type">Item</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215358"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-287"></span><span>    </span><span id="local-6989586621679215354"><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215354"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679215353"><span class="annot"><span class="annottext">== :: Item a -&gt; Item a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var hs-var hs-var hs-var">==</span></a></span></span><span> </span><span id="local-6989586621679215352"><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215352"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Bool] -&gt; Bool
forall (t :: * -&gt; *). Foldable t =&gt; t Bool -&gt; Bool
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">FT.and</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Item a -&gt; Namespace
forall a. Item a -&gt; Namespace
</span><a href="Katip.Core.html#_itemApp"><span class="hs-identifier hs-var hs-var">_itemApp</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215354"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Namespace -&gt; Namespace -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Item a -&gt; Namespace
forall a. Item a -&gt; Namespace
</span><a href="Katip.Core.html#_itemApp"><span class="hs-identifier hs-var hs-var">_itemApp</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215352"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-288"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Item a -&gt; Environment
forall a. Item a -&gt; Environment
</span><a href="Katip.Core.html#_itemEnv"><span class="hs-identifier hs-var hs-var">_itemEnv</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215354"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Environment -&gt; Environment -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Item a -&gt; Environment
forall a. Item a -&gt; Environment
</span><a href="Katip.Core.html#_itemEnv"><span class="hs-identifier hs-var hs-var">_itemEnv</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215352"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-289"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Item a -&gt; Severity
forall a. Item a -&gt; Severity
</span><a href="Katip.Core.html#_itemSeverity"><span class="hs-identifier hs-var hs-var">_itemSeverity</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215354"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Severity -&gt; Severity -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Item a -&gt; Severity
forall a. Item a -&gt; Severity
</span><a href="Katip.Core.html#_itemSeverity"><span class="hs-identifier hs-var hs-var">_itemSeverity</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215352"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-290"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Item a -&gt; ThreadIdText
forall a. Item a -&gt; ThreadIdText
</span><a href="Katip.Core.html#_itemThread"><span class="hs-identifier hs-var hs-var">_itemThread</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215354"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">ThreadIdText -&gt; ThreadIdText -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Item a -&gt; ThreadIdText
forall a. Item a -&gt; ThreadIdText
</span><a href="Katip.Core.html#_itemThread"><span class="hs-identifier hs-var hs-var">_itemThread</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215352"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-291"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Item a -&gt; String
forall a. Item a -&gt; String
</span><a href="Katip.Core.html#_itemHost"><span class="hs-identifier hs-var hs-var">_itemHost</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215354"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Item a -&gt; String
forall a. Item a -&gt; String
</span><a href="Katip.Core.html#_itemHost"><span class="hs-identifier hs-var hs-var">_itemHost</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215352"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-292"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Item a -&gt; ProcessID
forall a. Item a -&gt; ProcessID
</span><a href="Katip.Core.html#_itemProcess"><span class="hs-identifier hs-var hs-var">_itemProcess</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215354"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">ProcessID -&gt; ProcessID -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Item a -&gt; ProcessID
forall a. Item a -&gt; ProcessID
</span><a href="Katip.Core.html#_itemProcess"><span class="hs-identifier hs-var hs-var">_itemProcess</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215352"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-293"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Item a -&gt; a
forall a. Item a -&gt; a
</span><a href="Katip.Core.html#_itemPayload"><span class="hs-identifier hs-var hs-var">_itemPayload</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215354"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Item a -&gt; a
forall a. Item a -&gt; a
</span><a href="Katip.Core.html#_itemPayload"><span class="hs-identifier hs-var hs-var">_itemPayload</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215352"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-294"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Item a -&gt; LogStr
forall a. Item a -&gt; LogStr
</span><a href="Katip.Core.html#_itemMessage"><span class="hs-identifier hs-var hs-var">_itemMessage</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215354"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">LogStr -&gt; LogStr -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Item a -&gt; LogStr
forall a. Item a -&gt; LogStr
</span><a href="Katip.Core.html#_itemMessage"><span class="hs-identifier hs-var hs-var">_itemMessage</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215352"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-295"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Item a -&gt; UTCTime
forall a. Item a -&gt; UTCTime
</span><a href="Katip.Core.html#_itemTime"><span class="hs-identifier hs-var hs-var">_itemTime</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215354"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; UTCTime -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Item a -&gt; UTCTime
forall a. Item a -&gt; UTCTime
</span><a href="Katip.Core.html#_itemTime"><span class="hs-identifier hs-var hs-var">_itemTime</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215352"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-296"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Item a -&gt; Namespace
forall a. Item a -&gt; Namespace
</span><a href="Katip.Core.html#_itemNamespace"><span class="hs-identifier hs-var hs-var">_itemNamespace</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215354"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Namespace -&gt; Namespace -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Item a -&gt; Namespace
forall a. Item a -&gt; Namespace
</span><a href="Katip.Core.html#_itemNamespace"><span class="hs-identifier hs-var hs-var">_itemNamespace</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215352"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-297"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Item a -&gt; Maybe Loc
forall a. Item a -&gt; Maybe Loc
</span><a href="Katip.Core.html#_itemLoc"><span class="hs-identifier hs-var hs-var">_itemLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215354"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Item a -&gt; Maybe Loc
forall a. Item a -&gt; Maybe Loc
</span><a href="Katip.Core.html#_itemLoc"><span class="hs-identifier hs-var hs-var">_itemLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215352"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-298"></span><span>                        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Loc
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Loc
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-299"></span><span>                        </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679215350"><span class="annot"><span class="annottext">Loc
</span><a href="#local-6989586621679215350"><span class="hs-identifier hs-var">l1</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679215349"><span class="annot"><span class="annottext">Loc
</span><a href="#local-6989586621679215349"><span class="hs-identifier hs-var">l2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Bool] -&gt; Bool
forall (t :: * -&gt; *). Foldable t =&gt; t Bool -&gt; Bool
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">FT.and</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Loc -&gt; String
</span><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-var hs-var">loc_filename</span></a></span><span> </span><span class="annot"><span class="annottext">Loc
</span><a href="#local-6989586621679215350"><span class="hs-identifier hs-var">l1</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; String
</span><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-var hs-var">loc_filename</span></a></span><span> </span><span class="annot"><span class="annottext">Loc
</span><a href="#local-6989586621679215349"><span class="hs-identifier hs-var">l2</span></a></span><span>
</span><span id="line-300"></span><span>                                                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Loc -&gt; String
</span><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-var hs-var">loc_package</span></a></span><span> </span><span class="annot"><span class="annottext">Loc
</span><a href="#local-6989586621679215350"><span class="hs-identifier hs-var">l1</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; String
</span><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-var hs-var">loc_package</span></a></span><span> </span><span class="annot"><span class="annottext">Loc
</span><a href="#local-6989586621679215349"><span class="hs-identifier hs-var">l2</span></a></span><span>
</span><span id="line-301"></span><span>                                                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Loc -&gt; String
</span><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-var hs-var">loc_module</span></a></span><span> </span><span class="annot"><span class="annottext">Loc
</span><a href="#local-6989586621679215350"><span class="hs-identifier hs-var">l1</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; String
</span><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-var hs-var">loc_module</span></a></span><span> </span><span class="annot"><span class="annottext">Loc
</span><a href="#local-6989586621679215349"><span class="hs-identifier hs-var">l2</span></a></span><span>
</span><span id="line-302"></span><span>                                                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Loc -&gt; CharPos
</span><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-var hs-var">loc_start</span></a></span><span> </span><span class="annot"><span class="annottext">Loc
</span><a href="#local-6989586621679215350"><span class="hs-identifier hs-var">l1</span></a></span><span> </span><span class="annot"><span class="annottext">CharPos -&gt; CharPos -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; CharPos
</span><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-var hs-var">loc_start</span></a></span><span> </span><span class="annot"><span class="annottext">Loc
</span><a href="#local-6989586621679215349"><span class="hs-identifier hs-var">l2</span></a></span><span>
</span><span id="line-303"></span><span>                                                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Loc -&gt; CharPos
</span><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-var hs-var">loc_end</span></a></span><span> </span><span class="annot"><span class="annottext">Loc
</span><a href="#local-6989586621679215350"><span class="hs-identifier hs-var">l1</span></a></span><span> </span><span class="annot"><span class="annottext">CharPos -&gt; CharPos -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; CharPos
</span><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-var hs-var">loc_end</span></a></span><span> </span><span class="annot"><span class="annottext">Loc
</span><a href="#local-6989586621679215349"><span class="hs-identifier hs-var">l2</span></a></span><span>
</span><span id="line-304"></span><span>                                                     </span><span class="hs-special">]</span><span>
</span><span id="line-305"></span><span>                        </span><span class="annot"><span class="annottext">(Maybe Loc, Maybe Loc)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-306"></span><span>                    </span><span class="hs-special">]</span></span><span>
</span><span id="line-307"></span><span>
</span><span id="line-308"></span><span id="local-6989586621679215343"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679215338"><span id="local-6989586621679215340"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215343"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#Item"><span class="hs-identifier hs-type">Item</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215343"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-309"></span><span>    </span><span id="local-6989586621679215337"><span class="annot"><span class="annottext">showsPrec :: Int -&gt; Item a -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">showsPrec</span></a></span></span><span> </span><span id="local-6989586621679215335"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679215335"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="annot"><a href="Katip.Core.html#Item"><span class="hs-identifier hs-type">Item</span></a></span><span class="hs-special">{</span><span id="local-6989586621679215324"><span id="local-6989586621679215325"><span id="local-6989586621679215326"><span id="local-6989586621679215327"><span id="local-6989586621679215328"><span id="local-6989586621679215329"><span id="local-6989586621679215330"><span id="local-6989586621679215331"><span id="local-6989586621679215332"><span id="local-6989586621679215333"><span id="local-6989586621679215334"><span class="annot"><span class="annottext">a
String
Maybe Loc
UTCTime
ProcessID
ThreadIdText
LogStr
Severity
Environment
Namespace
_itemLoc :: Maybe Loc
_itemNamespace :: Namespace
_itemTime :: UTCTime
_itemMessage :: LogStr
_itemPayload :: a
_itemProcess :: ProcessID
_itemHost :: String
_itemThread :: ThreadIdText
_itemSeverity :: Severity
_itemEnv :: Environment
_itemApp :: Namespace
_itemLoc :: forall a. Item a -&gt; Maybe Loc
_itemNamespace :: forall a. Item a -&gt; Namespace
_itemTime :: forall a. Item a -&gt; UTCTime
_itemMessage :: forall a. Item a -&gt; LogStr
_itemPayload :: forall a. Item a -&gt; a
_itemProcess :: forall a. Item a -&gt; ProcessID
_itemHost :: forall a. Item a -&gt; String
_itemThread :: forall a. Item a -&gt; ThreadIdText
_itemSeverity :: forall a. Item a -&gt; Severity
_itemEnv :: forall a. Item a -&gt; Environment
_itemApp :: forall a. Item a -&gt; Namespace
</span><a href="#local-6989586621679215324"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; ShowS -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">showParen</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679215335"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">11</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">showString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Item {&quot;</span></span><span>
</span><span id="line-310"></span><span>                                               </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Namespace -&gt; ShowS
forall a. Show a =&gt; String -&gt; a -&gt; ShowS
</span><a href="#local-6989586621679215321"><span class="hs-identifier hs-var">field</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;_itemApp&quot;</span></span><span> </span><span class="annot"><span class="annottext">Namespace
</span><a href="#local-6989586621679215334"><span class="hs-identifier hs-var">_itemApp</span></a></span><span>
</span><span id="line-311"></span><span>                                               </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Environment -&gt; ShowS
forall a. Show a =&gt; String -&gt; a -&gt; ShowS
</span><a href="#local-6989586621679215321"><span class="hs-identifier hs-var">field</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;_itemEnv&quot;</span></span><span> </span><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621679215333"><span class="hs-identifier hs-var">_itemEnv</span></a></span><span>
</span><span id="line-312"></span><span>                                               </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Severity -&gt; ShowS
forall a. Show a =&gt; String -&gt; a -&gt; ShowS
</span><a href="#local-6989586621679215321"><span class="hs-identifier hs-var">field</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;_itemSeverity&quot;</span></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621679215332"><span class="hs-identifier hs-var">_itemSeverity</span></a></span><span>
</span><span id="line-313"></span><span>                                               </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ThreadIdText -&gt; ShowS
forall a. Show a =&gt; String -&gt; a -&gt; ShowS
</span><a href="#local-6989586621679215321"><span class="hs-identifier hs-var">field</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;_itemThread&quot;</span></span><span> </span><span class="annot"><span class="annottext">ThreadIdText
</span><a href="#local-6989586621679215331"><span class="hs-identifier hs-var">_itemThread</span></a></span><span>
</span><span id="line-314"></span><span>                                               </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; ShowS
forall a. Show a =&gt; String -&gt; a -&gt; ShowS
</span><a href="#local-6989586621679215321"><span class="hs-identifier hs-var">field</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;_itemHost&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679215330"><span class="hs-identifier hs-var">_itemHost</span></a></span><span>
</span><span id="line-315"></span><span>                                               </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ProcessID -&gt; ShowS
forall a. Show a =&gt; String -&gt; a -&gt; ShowS
</span><a href="#local-6989586621679215321"><span class="hs-identifier hs-var">field</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;_itemProcess&quot;</span></span><span> </span><span class="annot"><span class="annottext">ProcessID
</span><a href="#local-6989586621679215329"><span class="hs-identifier hs-var">_itemProcess</span></a></span><span>
</span><span id="line-316"></span><span>                                               </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; a -&gt; ShowS
forall a. Show a =&gt; String -&gt; a -&gt; ShowS
</span><a href="#local-6989586621679215321"><span class="hs-identifier hs-var">field</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;_itemPayload&quot;</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679215328"><span class="hs-identifier hs-var">_itemPayload</span></a></span><span>
</span><span id="line-317"></span><span>                                               </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; LogStr -&gt; ShowS
forall a. Show a =&gt; String -&gt; a -&gt; ShowS
</span><a href="#local-6989586621679215321"><span class="hs-identifier hs-var">field</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;_itemMessage&quot;</span></span><span> </span><span class="annot"><span class="annottext">LogStr
</span><a href="#local-6989586621679215327"><span class="hs-identifier hs-var">_itemMessage</span></a></span><span>
</span><span id="line-318"></span><span>                                               </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; UTCTime -&gt; ShowS
forall a. Show a =&gt; String -&gt; a -&gt; ShowS
</span><a href="#local-6989586621679215321"><span class="hs-identifier hs-var">field</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;_itemTime&quot;</span></span><span> </span><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679215326"><span class="hs-identifier hs-var">_itemTime</span></a></span><span>
</span><span id="line-319"></span><span>                                               </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Namespace -&gt; ShowS
forall a. Show a =&gt; String -&gt; a -&gt; ShowS
</span><a href="#local-6989586621679215321"><span class="hs-identifier hs-var">field</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;_itemNamespace&quot;</span></span><span> </span><span class="annot"><span class="annottext">Namespace
</span><a href="#local-6989586621679215325"><span class="hs-identifier hs-var">_itemNamespace</span></a></span><span>
</span><span id="line-320"></span><span>                                               </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">showString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;_itemLoc = &quot;</span></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe LocShow -&gt; ShowS
forall a. Show a =&gt; a -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">shows</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Loc -&gt; LocShow
</span><a href="Katip.Core.html#LocShow"><span class="hs-identifier hs-var">LocShow</span></a></span><span> </span><span class="annot"><span class="annottext">(Loc -&gt; LocShow) -&gt; Maybe Loc -&gt; Maybe LocShow
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Loc
</span><a href="#local-6989586621679215324"><span class="hs-identifier hs-var">_itemLoc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-321"></span><span>                                               </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">showChar</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'}'</span></span><span>
</span><span id="line-322"></span><span>                                               </span><span class="hs-special">)</span><span>
</span><span id="line-323"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-324"></span><span>        </span><span id="local-6989586621679215321"><span class="annot"><span class="annottext">field :: String -&gt; a -&gt; ShowS
</span><a href="#local-6989586621679215321"><span class="hs-identifier hs-var hs-var">field</span></a></span></span><span> </span><span id="local-6989586621679215316"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679215316"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679215315"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679215315"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">showString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679215316"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">showString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; = &quot;</span></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; ShowS
forall a. Show a =&gt; a -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">shows</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679215315"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">showString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;, &quot;</span></span></span><span>
</span><span id="line-325"></span><span>
</span><span id="line-326"></span><span class="hs-keyword">newtype</span><span> </span><span id="LocShow"><span class="annot"><a href="Katip.Core.html#LocShow"><span class="hs-identifier hs-var">LocShow</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="LocShow"><span class="annot"><a href="Katip.Core.html#LocShow"><span class="hs-identifier hs-var">LocShow</span></a></span></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-type">Loc</span></a></span><span>
</span><span id="line-327"></span><span>
</span><span id="line-328"></span><span>
</span><span id="line-329"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679215310"><span id="local-6989586621679215312"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#LocShow"><span class="hs-identifier hs-type">LocShow</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-330"></span><span>    </span><span id="local-6989586621679215309"><span class="annot"><span class="annottext">showsPrec :: Int -&gt; LocShow -&gt; ShowS
</span><a href="#local-6989586621679215309"><span class="hs-identifier hs-var hs-var hs-var hs-var">showsPrec</span></a></span></span><span> </span><span id="local-6989586621679215308"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679215308"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#LocShow"><span class="hs-identifier hs-type">LocShow</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-type">Loc</span></a></span><span class="hs-special">{</span><span id="local-6989586621679215302"><span id="local-6989586621679215303"><span id="local-6989586621679215304"><span id="local-6989586621679215305"><span id="local-6989586621679215306"><span class="annot"><span class="annottext">String
CharPos
loc_end :: CharPos
loc_start :: CharPos
loc_module :: String
loc_package :: String
loc_filename :: String
loc_end :: Loc -&gt; CharPos
loc_start :: Loc -&gt; CharPos
loc_module :: Loc -&gt; String
loc_package :: Loc -&gt; String
loc_filename :: Loc -&gt; String
</span><a href="#local-6989586621679215302"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; ShowS -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">showParen</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679215308"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">11</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">showString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Loc {&quot;</span></span><span>
</span><span id="line-331"></span><span>                                                        </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; ShowS
forall a. Show a =&gt; String -&gt; a -&gt; ShowS
</span><a href="#local-6989586621679215301"><span class="hs-identifier hs-var">field</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;loc_filename&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679215306"><span class="hs-identifier hs-var">loc_filename</span></a></span><span>
</span><span id="line-332"></span><span>                                                        </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; ShowS
forall a. Show a =&gt; String -&gt; a -&gt; ShowS
</span><a href="#local-6989586621679215301"><span class="hs-identifier hs-var">field</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;loc_package&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679215305"><span class="hs-identifier hs-var">loc_package</span></a></span><span>
</span><span id="line-333"></span><span>                                                        </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; ShowS
forall a. Show a =&gt; String -&gt; a -&gt; ShowS
</span><a href="#local-6989586621679215301"><span class="hs-identifier hs-var">field</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;loc_module&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679215304"><span class="hs-identifier hs-var">loc_module</span></a></span><span>
</span><span id="line-334"></span><span>                                                        </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; CharPos -&gt; ShowS
forall a. Show a =&gt; String -&gt; a -&gt; ShowS
</span><a href="#local-6989586621679215301"><span class="hs-identifier hs-var">field</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;loc_start&quot;</span></span><span> </span><span class="annot"><span class="annottext">CharPos
</span><a href="#local-6989586621679215303"><span class="hs-identifier hs-var">loc_start</span></a></span><span>
</span><span id="line-335"></span><span>                                                        </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">showString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;loc_end = &quot;</span></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">CharPos -&gt; ShowS
forall a. Show a =&gt; a -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">shows</span></a></span><span> </span><span class="annot"><span class="annottext">CharPos
</span><a href="#local-6989586621679215302"><span class="hs-identifier hs-var">loc_end</span></a></span><span>
</span><span id="line-336"></span><span>                                                        </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">showChar</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'}'</span></span><span>
</span><span id="line-337"></span><span>                                                        </span><span class="hs-special">)</span><span>
</span><span id="line-338"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-339"></span><span>        </span><span id="local-6989586621679215301"><span class="annot"><span class="annottext">field :: String -&gt; a -&gt; ShowS
</span><a href="#local-6989586621679215301"><span class="hs-identifier hs-var hs-var">field</span></a></span></span><span> </span><span id="local-6989586621679215300"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679215300"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679215299"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679215299"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">showString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679215300"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">showString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; = &quot;</span></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; ShowS
forall a. Show a =&gt; a -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">shows</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679215299"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">showString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;, &quot;</span></span><span>
</span><span id="line-340"></span><span>
</span><span id="line-341"></span><span>
</span><span id="line-342"></span><span id="local-6989586621679215298"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679215291"><span id="local-6989586621679215293"><span id="local-6989586621679215295"><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215298"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#Item"><span class="hs-identifier hs-type">Item</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215298"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-343"></span><span>    </span><span id="local-6989586621679215290"><span class="annot"><span class="annottext">toJSON :: Item a -&gt; Value
</span><a href="#local-6989586621679215290"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span class="annot"><a href="Katip.Core.html#Item"><span class="hs-identifier hs-type">Item</span></a></span><span class="hs-special">{</span><span id="local-6989586621679215279"><span id="local-6989586621679215280"><span id="local-6989586621679215281"><span id="local-6989586621679215282"><span id="local-6989586621679215283"><span id="local-6989586621679215284"><span id="local-6989586621679215285"><span id="local-6989586621679215286"><span id="local-6989586621679215287"><span id="local-6989586621679215288"><span id="local-6989586621679215289"><span class="annot"><span class="annottext">a
String
Maybe Loc
UTCTime
ProcessID
ThreadIdText
LogStr
Severity
Environment
Namespace
_itemLoc :: Maybe Loc
_itemNamespace :: Namespace
_itemTime :: UTCTime
_itemMessage :: LogStr
_itemPayload :: a
_itemProcess :: ProcessID
_itemHost :: String
_itemThread :: ThreadIdText
_itemSeverity :: Severity
_itemEnv :: Environment
_itemApp :: Namespace
_itemLoc :: forall a. Item a -&gt; Maybe Loc
_itemNamespace :: forall a. Item a -&gt; Namespace
_itemTime :: forall a. Item a -&gt; UTCTime
_itemMessage :: forall a. Item a -&gt; LogStr
_itemPayload :: forall a. Item a -&gt; a
_itemProcess :: forall a. Item a -&gt; ProcessID
_itemHost :: forall a. Item a -&gt; String
_itemThread :: forall a. Item a -&gt; ThreadIdText
_itemSeverity :: forall a. Item a -&gt; Severity
_itemEnv :: forall a. Item a -&gt; Environment
_itemApp :: forall a. Item a -&gt; Namespace
</span><a href="#local-6989586621679215279"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">A.object</span></a></span><span>
</span><span id="line-344"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;app&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Namespace -&gt; Pair
forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..=</span></a></span><span> </span><span class="annot"><span class="annottext">Namespace
</span><a href="#local-6989586621679215289"><span class="hs-identifier hs-var">_itemApp</span></a></span><span>
</span><span id="line-345"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;env&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Environment -&gt; Pair
forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..=</span></a></span><span> </span><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621679215288"><span class="hs-identifier hs-var">_itemEnv</span></a></span><span>
</span><span id="line-346"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;sev&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Severity -&gt; Pair
forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..=</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621679215287"><span class="hs-identifier hs-var">_itemSeverity</span></a></span><span>
</span><span id="line-347"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;thread&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Text -&gt; Pair
forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..=</span></a></span><span> </span><span class="annot"><span class="annottext">ThreadIdText -&gt; Text
</span><a href="Katip.Core.html#getThreadIdText"><span class="hs-identifier hs-var hs-var">getThreadIdText</span></a></span><span> </span><span class="annot"><span class="annottext">ThreadIdText
</span><a href="#local-6989586621679215286"><span class="hs-identifier hs-var">_itemThread</span></a></span><span>
</span><span id="line-348"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;host&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; String -&gt; Pair
forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..=</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679215285"><span class="hs-identifier hs-var">_itemHost</span></a></span><span>
</span><span id="line-349"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;pid&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; ProcessIDJs -&gt; Pair
forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..=</span></a></span><span> </span><span class="annot"><span class="annottext">ProcessID -&gt; ProcessIDJs
</span><a href="Katip.Core.html#ProcessIDJs"><span class="hs-identifier hs-var">ProcessIDJs</span></a></span><span> </span><span class="annot"><span class="annottext">ProcessID
</span><a href="#local-6989586621679215284"><span class="hs-identifier hs-var">_itemProcess</span></a></span><span>
</span><span id="line-350"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;data&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; a -&gt; Pair
forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..=</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679215283"><span class="hs-identifier hs-var">_itemPayload</span></a></span><span>
</span><span id="line-351"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;msg&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Text -&gt; Pair
forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..=</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Builder -&gt; Text
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">B.toLazyText</span></a></span><span> </span><span class="annot"><span class="annottext">(Builder -&gt; Text) -&gt; Builder -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">LogStr -&gt; Builder
</span><a href="Katip.Core.html#unLogStr"><span class="hs-identifier hs-var hs-var">unLogStr</span></a></span><span> </span><span class="annot"><span class="annottext">LogStr
</span><a href="#local-6989586621679215282"><span class="hs-identifier hs-var">_itemMessage</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-352"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;at&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; UTCTime -&gt; Pair
forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..=</span></a></span><span> </span><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679215281"><span class="hs-identifier hs-var">_itemTime</span></a></span><span>
</span><span id="line-353"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;ns&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Namespace -&gt; Pair
forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..=</span></a></span><span> </span><span class="annot"><span class="annottext">Namespace
</span><a href="#local-6989586621679215280"><span class="hs-identifier hs-var">_itemNamespace</span></a></span><span>
</span><span id="line-354"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;loc&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Maybe LocJs -&gt; Pair
forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..=</span></a></span><span> </span><span class="annot"><span class="annottext">(Loc -&gt; LocJs) -&gt; Maybe Loc -&gt; Maybe LocJs
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; LocJs
</span><a href="Katip.Core.html#LocJs"><span class="hs-identifier hs-var">LocJs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Loc
</span><a href="#local-6989586621679215279"><span class="hs-identifier hs-var">_itemLoc</span></a></span><span>
</span><span id="line-355"></span><span>      </span><span class="hs-special">]</span></span><span>
</span><span id="line-356"></span><span>
</span><span id="line-357"></span><span class="hs-keyword">newtype</span><span> </span><span id="LocJs"><span class="annot"><a href="Katip.Core.html#LocJs"><span class="hs-identifier hs-var">LocJs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="LocJs"><span class="annot"><a href="Katip.Core.html#LocJs"><span class="hs-identifier hs-var">LocJs</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="getLocJs"><span class="annot"><span class="annottext">LocJs -&gt; Loc
</span><a href="Katip.Core.html#getLocJs"><span class="hs-identifier hs-var hs-var">getLocJs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-type">Loc</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-358"></span><span>
</span><span id="line-359"></span><span>
</span><span id="line-360"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679215267"><span id="local-6989586621679215269"><span id="local-6989586621679215271"><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#LocJs"><span class="hs-identifier hs-type">LocJs</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-361"></span><span>    </span><span id="local-6989586621679215266"><span class="annot"><span class="annottext">toJSON :: LocJs -&gt; Value
</span><a href="#local-6989586621679215266"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#LocJs"><span class="hs-identifier hs-type">LocJs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-type">Loc</span></a></span><span> </span><span id="local-6989586621679215265"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679215265"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span id="local-6989586621679215264"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679215264"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679215263"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679215263"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679215262"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679215262"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679215261"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679215261"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CharPos
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">A.object</span></a></span><span>
</span><span id="line-362"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;loc_fn&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; String -&gt; Pair
forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..=</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679215265"><span class="hs-identifier hs-var">fn</span></a></span><span>
</span><span id="line-363"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;loc_pkg&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; String -&gt; Pair
forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..=</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679215264"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-364"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;loc_mod&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; String -&gt; Pair
forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..=</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679215263"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-365"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;loc_ln&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Int -&gt; Pair
forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..=</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679215262"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-366"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;loc_col&quot;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Int -&gt; Pair
forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..=</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679215261"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-367"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-368"></span><span>
</span><span id="line-369"></span><span>
</span><span id="line-370"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679215258"><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">FromJSON</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#LocJs"><span class="hs-identifier hs-type">LocJs</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-371"></span><span>    </span><span id="local-6989586621679215257"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser LocJs
</span><a href="#local-6989586621679215257"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; (Object -&gt; Parser LocJs) -&gt; Value -&gt; Parser LocJs
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">A.withObject</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;LocJs&quot;</span></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Parser LocJs
</span><a href="#local-6989586621679215255"><span class="hs-identifier hs-var">parseLocJs</span></a></span><span>
</span><span id="line-372"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-373"></span><span>        </span><span id="local-6989586621679215255"><span class="annot"><span class="annottext">parseLocJs :: Object -&gt; Parser LocJs
</span><a href="#local-6989586621679215255"><span class="hs-identifier hs-var hs-var">parseLocJs</span></a></span></span><span> </span><span id="local-6989586621679215254"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679215254"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-374"></span><span>          </span><span id="local-6989586621679215253"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679215253"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679215254"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser String
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..:</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;loc_fn&quot;</span></span><span>
</span><span id="line-375"></span><span>          </span><span id="local-6989586621679215251"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679215251"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679215254"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser String
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..:</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;loc_pkg&quot;</span></span><span>
</span><span id="line-376"></span><span>          </span><span id="local-6989586621679215250"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679215250"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679215254"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser String
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..:</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;loc_mod&quot;</span></span><span>
</span><span id="line-377"></span><span>          </span><span id="local-6989586621679215249"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679215249"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679215254"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Int
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..:</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;loc_ln&quot;</span></span><span>
</span><span id="line-378"></span><span>          </span><span id="local-6989586621679215248"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679215248"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679215254"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Int
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..:</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;loc_col&quot;</span></span><span>
</span><span id="line-379"></span><span>          </span><span class="annot"><span class="annottext">LocJs -&gt; Parser LocJs
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(LocJs -&gt; Parser LocJs) -&gt; LocJs -&gt; Parser LocJs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; LocJs
</span><a href="Katip.Core.html#LocJs"><span class="hs-identifier hs-var">LocJs</span></a></span><span> </span><span class="annot"><span class="annottext">(Loc -&gt; LocJs) -&gt; Loc -&gt; LocJs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String -&gt; CharPos -&gt; CharPos -&gt; Loc
</span><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-var">Loc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679215253"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679215251"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679215250"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679215249"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679215248"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679215249"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679215248"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-380"></span><span>
</span><span id="line-381"></span><span>
</span><span id="line-382"></span><span id="local-6989586621679215247"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679215244"><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">FromJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215247"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">FromJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#Item"><span class="hs-identifier hs-type">Item</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215247"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-383"></span><span>    </span><span id="local-6989586621679215243"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser (Item a)
</span><a href="#local-6989586621679215243"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; (Object -&gt; Parser (Item a)) -&gt; Value -&gt; Parser (Item a)
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">A.withObject</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Item&quot;</span></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Parser (Item a)
forall a. FromJSON a =&gt; Object -&gt; Parser (Item a)
</span><a href="#local-6989586621679215242"><span class="hs-identifier hs-var">parseItem</span></a></span><span>
</span><span id="line-384"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-385"></span><span>        </span><span id="local-6989586621679215242"><span class="annot"><span class="annottext">parseItem :: Object -&gt; Parser (Item a)
</span><a href="#local-6989586621679215242"><span class="hs-identifier hs-var hs-var">parseItem</span></a></span></span><span> </span><span id="local-6989586621679215241"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679215241"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Namespace
-&gt; Environment
-&gt; Severity
-&gt; ThreadIdText
-&gt; String
-&gt; ProcessID
-&gt; a
-&gt; LogStr
-&gt; UTCTime
-&gt; Namespace
-&gt; Maybe Loc
-&gt; Item a
forall a.
Namespace
-&gt; Environment
-&gt; Severity
-&gt; ThreadIdText
-&gt; String
-&gt; ProcessID
-&gt; a
-&gt; LogStr
-&gt; UTCTime
-&gt; Namespace
-&gt; Maybe Loc
-&gt; Item a
</span><a href="Katip.Core.html#Item"><span class="hs-identifier hs-var">Item</span></a></span><span>
</span><span id="line-386"></span><span>          </span><span class="annot"><span class="annottext">(Namespace
 -&gt; Environment
 -&gt; Severity
 -&gt; ThreadIdText
 -&gt; String
 -&gt; ProcessID
 -&gt; a
 -&gt; LogStr
 -&gt; UTCTime
 -&gt; Namespace
 -&gt; Maybe Loc
 -&gt; Item a)
-&gt; Parser Namespace
-&gt; Parser
     (Environment
      -&gt; Severity
      -&gt; ThreadIdText
      -&gt; String
      -&gt; ProcessID
      -&gt; a
      -&gt; LogStr
      -&gt; UTCTime
      -&gt; Namespace
      -&gt; Maybe Loc
      -&gt; Item a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679215241"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Namespace
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..:</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;app&quot;</span></span><span>
</span><span id="line-387"></span><span>          </span><span class="annot"><span class="annottext">Parser
  (Environment
   -&gt; Severity
   -&gt; ThreadIdText
   -&gt; String
   -&gt; ProcessID
   -&gt; a
   -&gt; LogStr
   -&gt; UTCTime
   -&gt; Namespace
   -&gt; Maybe Loc
   -&gt; Item a)
-&gt; Parser Environment
-&gt; Parser
     (Severity
      -&gt; ThreadIdText
      -&gt; String
      -&gt; ProcessID
      -&gt; a
      -&gt; LogStr
      -&gt; UTCTime
      -&gt; Namespace
      -&gt; Maybe Loc
      -&gt; Item a)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679215241"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Environment
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..:</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;env&quot;</span></span><span>
</span><span id="line-388"></span><span>          </span><span class="annot"><span class="annottext">Parser
  (Severity
   -&gt; ThreadIdText
   -&gt; String
   -&gt; ProcessID
   -&gt; a
   -&gt; LogStr
   -&gt; UTCTime
   -&gt; Namespace
   -&gt; Maybe Loc
   -&gt; Item a)
-&gt; Parser Severity
-&gt; Parser
     (ThreadIdText
      -&gt; String
      -&gt; ProcessID
      -&gt; a
      -&gt; LogStr
      -&gt; UTCTime
      -&gt; Namespace
      -&gt; Maybe Loc
      -&gt; Item a)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679215241"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Severity
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..:</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;sev&quot;</span></span><span>
</span><span id="line-389"></span><span>          </span><span class="annot"><span class="annottext">Parser
  (ThreadIdText
   -&gt; String
   -&gt; ProcessID
   -&gt; a
   -&gt; LogStr
   -&gt; UTCTime
   -&gt; Namespace
   -&gt; Maybe Loc
   -&gt; Item a)
-&gt; Parser ThreadIdText
-&gt; Parser
     (String
      -&gt; ProcessID
      -&gt; a
      -&gt; LogStr
      -&gt; UTCTime
      -&gt; Namespace
      -&gt; Maybe Loc
      -&gt; Item a)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679215241"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser ThreadIdText
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..:</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;thread&quot;</span></span><span>
</span><span id="line-390"></span><span>          </span><span class="annot"><span class="annottext">Parser
  (String
   -&gt; ProcessID
   -&gt; a
   -&gt; LogStr
   -&gt; UTCTime
   -&gt; Namespace
   -&gt; Maybe Loc
   -&gt; Item a)
-&gt; Parser String
-&gt; Parser
     (ProcessID
      -&gt; a -&gt; LogStr -&gt; UTCTime -&gt; Namespace -&gt; Maybe Loc -&gt; Item a)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679215241"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser String
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..:</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;host&quot;</span></span><span>
</span><span id="line-391"></span><span>          </span><span class="annot"><span class="annottext">Parser
  (ProcessID
   -&gt; a -&gt; LogStr -&gt; UTCTime -&gt; Namespace -&gt; Maybe Loc -&gt; Item a)
-&gt; Parser ProcessID
-&gt; Parser
     (a -&gt; LogStr -&gt; UTCTime -&gt; Namespace -&gt; Maybe Loc -&gt; Item a)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProcessIDJs -&gt; ProcessID
</span><a href="Katip.Core.html#getProcessIDJs"><span class="hs-identifier hs-var hs-var">getProcessIDJs</span></a></span><span> </span><span class="annot"><span class="annottext">(ProcessIDJs -&gt; ProcessID)
-&gt; Parser ProcessIDJs -&gt; Parser ProcessID
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679215241"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser ProcessIDJs
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..:</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;pid&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-392"></span><span>          </span><span class="annot"><span class="annottext">Parser (a -&gt; LogStr -&gt; UTCTime -&gt; Namespace -&gt; Maybe Loc -&gt; Item a)
-&gt; Parser a
-&gt; Parser (LogStr -&gt; UTCTime -&gt; Namespace -&gt; Maybe Loc -&gt; Item a)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679215241"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser a
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..:</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;data&quot;</span></span><span>
</span><span id="line-393"></span><span>          </span><span class="annot"><span class="annottext">Parser (LogStr -&gt; UTCTime -&gt; Namespace -&gt; Maybe Loc -&gt; Item a)
-&gt; Parser LogStr
-&gt; Parser (UTCTime -&gt; Namespace -&gt; Maybe Loc -&gt; Item a)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679215241"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser LogStr
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..:</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;msg&quot;</span></span><span>
</span><span id="line-394"></span><span>          </span><span class="annot"><span class="annottext">Parser (UTCTime -&gt; Namespace -&gt; Maybe Loc -&gt; Item a)
-&gt; Parser UTCTime -&gt; Parser (Namespace -&gt; Maybe Loc -&gt; Item a)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679215241"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser UTCTime
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..:</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;at&quot;</span></span><span>
</span><span id="line-395"></span><span>          </span><span class="annot"><span class="annottext">Parser (Namespace -&gt; Maybe Loc -&gt; Item a)
-&gt; Parser Namespace -&gt; Parser (Maybe Loc -&gt; Item a)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679215241"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Namespace
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..:</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;ns&quot;</span></span><span>
</span><span id="line-396"></span><span>          </span><span class="annot"><span class="annottext">Parser (Maybe Loc -&gt; Item a)
-&gt; Parser (Maybe Loc) -&gt; Parser (Item a)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(LocJs -&gt; Loc) -&gt; Maybe LocJs -&gt; Maybe Loc
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">LocJs -&gt; Loc
</span><a href="Katip.Core.html#getLocJs"><span class="hs-identifier hs-var hs-var">getLocJs</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe LocJs -&gt; Maybe Loc)
-&gt; Parser (Maybe LocJs) -&gt; Parser (Maybe Loc)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679215241"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe LocJs)
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..:</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;loc&quot;</span></span><span class="hs-special">)</span></span><span>
</span><span id="line-397"></span><span>
</span><span id="line-398"></span><span>
</span><span id="line-399"></span><span class="annot"><a href="Katip.Core.html#processIDToText"><span class="hs-identifier hs-type">processIDToText</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">ProcessID</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span>
</span><span id="line-400"></span><span id="processIDToText"><span class="annot"><span class="annottext">processIDToText :: ProcessID -&gt; Text
</span><a href="Katip.Core.html#processIDToText"><span class="hs-identifier hs-var hs-var">processIDToText</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
forall a b. StringConv a b =&gt; a -&gt; b
</span><a href="../../../../string-conv/html/src"><span class="hs-identifier hs-var">toS</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Text) -&gt; (ProcessID -&gt; String) -&gt; ProcessID -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ProcessID -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span>
</span><span id="line-401"></span><span>
</span><span id="line-402"></span><span>
</span><span id="line-403"></span><span class="annot"><a href="Katip.Core.html#textToProcessID"><span class="hs-identifier hs-type">textToProcessID</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">ProcessID</span></a></span><span>
</span><span id="line-404"></span><span id="textToProcessID"><span class="annot"><span class="annottext">textToProcessID :: Text -&gt; Maybe ProcessID
</span><a href="Katip.Core.html#textToProcessID"><span class="hs-identifier hs-var hs-var">textToProcessID</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe ProcessID
forall a. Read a =&gt; String -&gt; Maybe a
</span><a href="Katip.Core.html#readMay"><span class="hs-identifier hs-var">readMay</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe ProcessID)
-&gt; (Text -&gt; String) -&gt; Text -&gt; Maybe ProcessID
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
forall a b. StringConv a b =&gt; a -&gt; b
</span><a href="../../../../string-conv/html/src"><span class="hs-identifier hs-var">toS</span></a></span><span>
</span><span id="line-405"></span><span>
</span><span id="line-406"></span><span>
</span><span id="line-407"></span><span class="hs-keyword">newtype</span><span> </span><span id="ProcessIDJs"><span class="annot"><a href="Katip.Core.html#ProcessIDJs"><span class="hs-identifier hs-var">ProcessIDJs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ProcessIDJs"><span class="annot"><a href="Katip.Core.html#ProcessIDJs"><span class="hs-identifier hs-var">ProcessIDJs</span></a></span></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-408"></span><span>      </span><span id="getProcessIDJs"><span class="annot"><span class="annottext">ProcessIDJs -&gt; ProcessID
</span><a href="Katip.Core.html#getProcessIDJs"><span class="hs-identifier hs-var hs-var">getProcessIDJs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">ProcessID</span></a></span><span>
</span><span id="line-409"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-410"></span><span>
</span><span id="line-411"></span><span>
</span><span id="line-412"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679215231"><span id="local-6989586621679215233"><span id="local-6989586621679215235"><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#ProcessIDJs"><span class="hs-identifier hs-type">ProcessIDJs</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-413"></span><span>    </span><span id="local-6989586621679215230"><span class="annot"><span class="annottext">toJSON :: ProcessIDJs -&gt; Value
</span><a href="#local-6989586621679215230"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#ProcessIDJs"><span class="hs-identifier hs-type">ProcessIDJs</span></a></span><span> </span><span id="local-6989586621679215229"><span class="annot"><span class="annottext">ProcessID
</span><a href="#local-6989586621679215229"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">A.String</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProcessID -&gt; Text
</span><a href="Katip.Core.html#processIDToText"><span class="hs-identifier hs-var">processIDToText</span></a></span><span> </span><span class="annot"><span class="annottext">ProcessID
</span><a href="#local-6989586621679215229"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-414"></span><span>
</span><span id="line-415"></span><span>
</span><span id="line-416"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679215226"><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">FromJSON</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#ProcessIDJs"><span class="hs-identifier hs-type">ProcessIDJs</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-417"></span><span>    </span><span id="local-6989586621679215225"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser ProcessIDJs
</span><a href="#local-6989586621679215225"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Text -&gt; Parser ProcessIDJs) -&gt; Value -&gt; Parser ProcessIDJs
forall a. String -&gt; (Text -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">A.withText</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ProcessID&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Parser ProcessIDJs
forall (m :: * -&gt; *). MonadFail m =&gt; Text -&gt; m ProcessIDJs
</span><a href="#local-6989586621679215224"><span class="hs-identifier hs-var">parseProcessID</span></a></span><span>
</span><span id="line-418"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-419"></span><span>        </span><span id="local-6989586621679215224"><span class="annot"><span class="annottext">parseProcessID :: Text -&gt; m ProcessIDJs
</span><a href="#local-6989586621679215224"><span class="hs-identifier hs-var hs-var">parseProcessID</span></a></span></span><span> </span><span id="local-6989586621679215223"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679215223"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Maybe ProcessID
</span><a href="Katip.Core.html#textToProcessID"><span class="hs-identifier hs-var">textToProcessID</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679215223"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-420"></span><span>          </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679215222"><span class="annot"><span class="annottext">ProcessID
</span><a href="#local-6989586621679215222"><span class="hs-identifier hs-var">p</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ProcessIDJs -&gt; m ProcessIDJs
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(ProcessIDJs -&gt; m ProcessIDJs) -&gt; ProcessIDJs -&gt; m ProcessIDJs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ProcessID -&gt; ProcessIDJs
</span><a href="Katip.Core.html#ProcessIDJs"><span class="hs-identifier hs-var">ProcessIDJs</span></a></span><span> </span><span class="annot"><span class="annottext">ProcessID
</span><a href="#local-6989586621679215222"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-421"></span><span>          </span><span class="annot"><span class="annottext">Maybe ProcessID
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; m ProcessIDJs
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fail</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m ProcessIDJs) -&gt; String -&gt; m ProcessIDJs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Invalid ProcessIDJs &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
forall a b. StringConv a b =&gt; a -&gt; b
</span><a href="../../../../string-conv/html/src"><span class="hs-identifier hs-var">toS</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679215223"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-422"></span><span>
</span><span id="line-423"></span><span>
</span><span id="line-424"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-425"></span><span class="hs-comment">-- | Field selector by verbosity within JSON payload.</span><span>
</span><span id="line-426"></span><span class="hs-keyword">data</span><span> </span><span id="PayloadSelection"><span class="annot"><a href="Katip.Core.html#PayloadSelection"><span class="hs-identifier hs-var">PayloadSelection</span></a></span></span><span>
</span><span id="line-427"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="AllKeys"><span class="annot"><a href="Katip.Core.html#AllKeys"><span class="hs-identifier hs-var">AllKeys</span></a></span></span><span>
</span><span id="line-428"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="SomeKeys"><span class="annot"><a href="Katip.Core.html#SomeKeys"><span class="hs-identifier hs-var">SomeKeys</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-429"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679215214"><span id="local-6989586621679215216"><span id="local-6989586621679215218"><span class="annot"><span class="annottext">Int -&gt; PayloadSelection -&gt; ShowS
[PayloadSelection] -&gt; ShowS
PayloadSelection -&gt; String
(Int -&gt; PayloadSelection -&gt; ShowS)
-&gt; (PayloadSelection -&gt; String)
-&gt; ([PayloadSelection] -&gt; ShowS)
-&gt; Show PayloadSelection
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [PayloadSelection] -&gt; ShowS
$cshowList :: [PayloadSelection] -&gt; ShowS
show :: PayloadSelection -&gt; String
$cshow :: PayloadSelection -&gt; String
showsPrec :: Int -&gt; PayloadSelection -&gt; ShowS
$cshowsPrec :: Int -&gt; PayloadSelection -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679215210"><span id="local-6989586621679215212"><span class="annot"><span class="annottext">PayloadSelection -&gt; PayloadSelection -&gt; Bool
(PayloadSelection -&gt; PayloadSelection -&gt; Bool)
-&gt; (PayloadSelection -&gt; PayloadSelection -&gt; Bool)
-&gt; Eq PayloadSelection
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: PayloadSelection -&gt; PayloadSelection -&gt; Bool
$c/= :: PayloadSelection -&gt; PayloadSelection -&gt; Bool
== :: PayloadSelection -&gt; PayloadSelection -&gt; Bool
$c== :: PayloadSelection -&gt; PayloadSelection -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-430"></span><span>
</span><span id="line-431"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679215205"><span id="local-6989586621679215207"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Semigroup</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#PayloadSelection"><span class="hs-identifier hs-type">PayloadSelection</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-432"></span><span>  </span><span class="annot"><span class="annottext">PayloadSelection
</span><a href="Katip.Core.html#AllKeys"><span class="hs-identifier hs-var">AllKeys</span></a></span><span> </span><span id="local-6989586621679215204"><span class="annot"><span class="annottext">&lt;&gt; :: PayloadSelection -&gt; PayloadSelection -&gt; PayloadSelection
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;&gt;</span></a></span></span><span> </span><span class="annot"><span class="annottext">PayloadSelection
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PayloadSelection
</span><a href="Katip.Core.html#AllKeys"><span class="hs-identifier hs-var">AllKeys</span></a></span><span>
</span><span id="line-433"></span><span>  </span><span class="annot"><span class="annottext">PayloadSelection
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">PayloadSelection
</span><a href="Katip.Core.html#AllKeys"><span class="hs-identifier hs-var">AllKeys</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PayloadSelection
</span><a href="Katip.Core.html#AllKeys"><span class="hs-identifier hs-var">AllKeys</span></a></span><span>
</span><span id="line-434"></span><span>  </span><span class="annot"><a href="Katip.Core.html#SomeKeys"><span class="hs-identifier hs-type">SomeKeys</span></a></span><span> </span><span id="local-6989586621679215203"><span class="annot"><span class="annottext">[Text]
</span><a href="#local-6989586621679215203"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#SomeKeys"><span class="hs-identifier hs-type">SomeKeys</span></a></span><span> </span><span id="local-6989586621679215202"><span class="annot"><span class="annottext">[Text]
</span><a href="#local-6989586621679215202"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Text] -&gt; PayloadSelection
</span><a href="Katip.Core.html#SomeKeys"><span class="hs-identifier hs-var">SomeKeys</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Text]
</span><a href="#local-6989586621679215203"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">[Text] -&gt; [Text] -&gt; [Text]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Text]
</span><a href="#local-6989586621679215202"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-435"></span><span>
</span><span id="line-436"></span><span>
</span><span id="line-437"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679215197"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#PayloadSelection"><span class="hs-identifier hs-type">PayloadSelection</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-438"></span><span>    </span><span id="local-6989586621679215196"><span class="annot"><span class="annottext">mempty :: PayloadSelection
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">mempty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Text] -&gt; PayloadSelection
</span><a href="Katip.Core.html#SomeKeys"><span class="hs-identifier hs-var">SomeKeys</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-439"></span><span>    </span><span id="local-6989586621679215195"><span class="annot"><span class="annottext">mappend :: PayloadSelection -&gt; PayloadSelection -&gt; PayloadSelection
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">mappend</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PayloadSelection -&gt; PayloadSelection -&gt; PayloadSelection
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">(&lt;&gt;)</span></a></span><span>
</span><span id="line-440"></span><span>
</span><span id="line-441"></span><span>
</span><span id="line-442"></span><span class="hs-comment">-- | Compares two payload selections for equivalence. With SomeKeys, ordering</span><span>
</span><span id="line-443"></span><span class="hs-comment">-- and duplicates are ignored.</span><span>
</span><span id="line-444"></span><span class="annot"><a href="Katip.Core.html#equivalentPayloadSelection"><span class="hs-identifier hs-type">equivalentPayloadSelection</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Katip.Core.html#PayloadSelection"><span class="hs-identifier hs-type">PayloadSelection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#PayloadSelection"><span class="hs-identifier hs-type">PayloadSelection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-445"></span><span id="equivalentPayloadSelection"><span class="annot"><span class="annottext">equivalentPayloadSelection :: PayloadSelection -&gt; PayloadSelection -&gt; Bool
</span><a href="Katip.Core.html#equivalentPayloadSelection"><span class="hs-identifier hs-var hs-var">equivalentPayloadSelection</span></a></span></span><span> </span><span class="annot"><span class="annottext">PayloadSelection
</span><a href="Katip.Core.html#AllKeys"><span class="hs-identifier hs-var">AllKeys</span></a></span><span> </span><span class="annot"><span class="annottext">PayloadSelection
</span><a href="Katip.Core.html#AllKeys"><span class="hs-identifier hs-var">AllKeys</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-446"></span><span class="annot"><a href="Katip.Core.html#equivalentPayloadSelection"><span class="hs-identifier hs-var">equivalentPayloadSelection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#SomeKeys"><span class="hs-identifier hs-type">SomeKeys</span></a></span><span> </span><span id="local-6989586621679215193"><span class="annot"><span class="annottext">[Text]
</span><a href="#local-6989586621679215193"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#SomeKeys"><span class="hs-identifier hs-type">SomeKeys</span></a></span><span> </span><span id="local-6989586621679215192"><span class="annot"><span class="annottext">[Text]
</span><a href="#local-6989586621679215192"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Text] -&gt; Set Text
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="../../../../containers/html/src"><span class="hs-identifier hs-var">Set.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">[Text]
</span><a href="#local-6989586621679215193"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Set Text -&gt; Set Text -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">==</span></a></span><span> </span><span class="annot"><span class="annottext">[Text] -&gt; Set Text
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="../../../../containers/html/src"><span class="hs-identifier hs-var">Set.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">[Text]
</span><a href="#local-6989586621679215192"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-447"></span><span class="annot"><a href="Katip.Core.html#equivalentPayloadSelection"><span class="hs-identifier hs-var">equivalentPayloadSelection</span></a></span><span> </span><span class="annot"><span class="annottext">PayloadSelection
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">PayloadSelection
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">False</span></a></span><span>
</span><span id="line-448"></span><span>
</span><span id="line-449"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-450"></span><span class="hs-comment">-- | Katip requires JSON objects to be logged as context. This</span><span>
</span><span id="line-451"></span><span class="hs-comment">-- typeclass provides a default instance which uses ToJSON and</span><span>
</span><span id="line-452"></span><span class="hs-comment">-- produces an empty object if 'toJSON' results in any type other than</span><span>
</span><span id="line-453"></span><span class="hs-comment">-- object. If you have a type you want to log that produces an Array</span><span>
</span><span id="line-454"></span><span class="hs-comment">-- or Number for example, you'll want to write an explicit instance</span><span>
</span><span id="line-455"></span><span class="hs-comment">-- here. You can trivially add a ToObject instance for something with</span><span>
</span><span id="line-456"></span><span class="hs-comment">-- a ToJSON instance like:</span><span>
</span><span id="line-457"></span><span class="hs-comment">--</span><span>
</span><span id="line-458"></span><span class="hs-comment">-- &gt; instance ToObject Foo</span><span>
</span><span id="line-459"></span><span class="hs-keyword">class</span><span> </span><span id="ToObject"><span class="annot"><a href="Katip.Core.html#ToObject"><span class="hs-identifier hs-var">ToObject</span></a></span></span><span> </span><span id="local-6989586621679216240"><span class="annot"><a href="#local-6989586621679216240"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-460"></span><span>    </span><span id="toObject"><span class="annot"><a href="Katip.Core.html#toObject"><span class="hs-identifier hs-type">toObject</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679216240"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">A.Object</span></a></span><span>
</span><span id="line-461"></span><span>    </span><span class="hs-keyword">default</span><span> </span><span id="toObject"><span class="annot"><a href="Katip.Core.html#toObject"><span class="hs-identifier hs-type">toObject</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679216240"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679216240"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">A.Object</span></a></span><span>
</span><span id="line-462"></span><span>    </span><span id="local-6989586621679215189"><span class="annot"><a href="Katip.Core.html#toObject"><span class="hs-identifier hs-var hs-var">toObject</span></a></span><span> </span><span id="local-6989586621679215188"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679215188"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">a -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">toJSON</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679215188"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-463"></span><span>      </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">A.Object</span></a></span><span> </span><span id="local-6989586621679215186"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679215186"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621679215186"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-464"></span><span>      </span><span class="annot"><span class="annottext">Value
</span><span class="hs-identifier">_</span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Object
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span></span><span>
</span><span id="line-465"></span><span>
</span><span id="line-466"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679215184"><span class="annot"><a href="Katip.Core.html#ToObject"><span class="hs-identifier hs-type">ToObject</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-467"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679215181"><span class="annot"><a href="Katip.Core.html#ToObject"><span class="hs-identifier hs-type">ToObject</span></a></span><span> </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">A.Object</span></a></span></span><span>
</span><span id="line-468"></span><span>
</span><span id="line-469"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-470"></span><span class="hs-comment">-- | Payload objects need instances of this class. LogItem makes it so</span><span>
</span><span id="line-471"></span><span class="hs-comment">-- that you can have very verbose items getting logged with lots of</span><span>
</span><span id="line-472"></span><span class="hs-comment">-- extra fields but under normal circumstances, if your scribe is</span><span>
</span><span id="line-473"></span><span class="hs-comment">-- configured for a lower verbosity level, it will only log a</span><span>
</span><span id="line-474"></span><span class="hs-comment">-- selection of those keys. Furthermore, each 'Scribe' can be</span><span>
</span><span id="line-475"></span><span class="hs-comment">-- configured with a different 'Verbosity' level. You could even use</span><span>
</span><span id="line-476"></span><span class="hs-comment">-- 'registerScribe', 'unregisterScribe', and 'clearScribes' to at</span><span>
</span><span id="line-477"></span><span class="hs-comment">-- runtime swap out your existing scribes for more verbose debugging</span><span>
</span><span id="line-478"></span><span class="hs-comment">-- scribes if you wanted to.</span><span>
</span><span id="line-479"></span><span class="hs-comment">--</span><span>
</span><span id="line-480"></span><span class="hs-comment">-- When defining 'payloadKeys', don't redundantly declare the same</span><span>
</span><span id="line-481"></span><span class="hs-comment">-- keys for higher levels of verbosity. Each level of verbosity</span><span>
</span><span id="line-482"></span><span class="hs-comment">-- automatically and recursively contains all keys from the level</span><span>
</span><span id="line-483"></span><span class="hs-comment">-- before it.</span><span>
</span><span id="line-484"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="Katip.Core.html#ToObject"><span class="hs-identifier hs-type">ToObject</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679216237"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="LogItem"><span class="annot"><a href="Katip.Core.html#LogItem"><span class="hs-identifier hs-var">LogItem</span></a></span></span><span> </span><span id="local-6989586621679216237"><span class="annot"><a href="#local-6989586621679216237"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-485"></span><span>
</span><span id="line-486"></span><span>    </span><span class="hs-comment">-- | List of keys in the JSON object that should be included in message.</span><span>
</span><span id="line-487"></span><span>    </span><span id="payloadKeys"><span class="annot"><a href="Katip.Core.html#payloadKeys"><span class="hs-identifier hs-type">payloadKeys</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Katip.Core.html#Verbosity"><span class="hs-identifier hs-type">Verbosity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679216237"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#PayloadSelection"><span class="hs-identifier hs-type">PayloadSelection</span></a></span><span>
</span><span id="line-488"></span><span>
</span><span id="line-489"></span><span>
</span><span id="line-490"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Katip.Core.html#LogItem"><span class="hs-identifier hs-type">LogItem</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679215176"><span class="annot"><span class="annottext">payloadKeys :: Verbosity -&gt; () -&gt; PayloadSelection
</span><a href="#local-6989586621679215176"><span class="hs-identifier hs-var hs-var hs-var hs-var">payloadKeys</span></a></span></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Text] -&gt; PayloadSelection
</span><a href="Katip.Core.html#SomeKeys"><span class="hs-identifier hs-var">SomeKeys</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-491"></span><span>
</span><span id="line-492"></span><span>
</span><span id="line-493"></span><span class="hs-keyword">data</span><span> </span><span id="AnyLogPayload"><span class="annot"><a href="Katip.Core.html#AnyLogPayload"><span class="hs-identifier hs-var">AnyLogPayload</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679216221"><span class="annot"><a href="#local-6989586621679216221"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679216221"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="AnyLogPayload"><span class="annot"><a href="Katip.Core.html#AnyLogPayload"><span class="hs-identifier hs-var">AnyLogPayload</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679216221"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-494"></span><span>
</span><span id="line-495"></span><span class="hs-keyword">newtype</span><span> </span><span id="SimpleLogPayload"><span class="annot"><a href="Katip.Core.html#SimpleLogPayload"><span class="hs-identifier hs-var">SimpleLogPayload</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SimpleLogPayload"><span class="annot"><a href="Katip.Core.html#SimpleLogPayload"><span class="hs-identifier hs-var">SimpleLogPayload</span></a></span></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-496"></span><span>      </span><span id="unSimpleLogPayload"><span class="annot"><span class="annottext">SimpleLogPayload -&gt; [(Text, AnyLogPayload)]
</span><a href="Katip.Core.html#unSimpleLogPayload"><span class="hs-identifier hs-var hs-var">unSimpleLogPayload</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Katip.Core.html#AnyLogPayload"><span class="hs-identifier hs-type">AnyLogPayload</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-497"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-498"></span><span>
</span><span id="line-499"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-500"></span><span class="hs-comment">-- | A built-in convenience log payload that won't log anything on 'V0',</span><span>
</span><span id="line-501"></span><span class="hs-comment">-- but will log everything in any other level of verbosity. Intended</span><span>
</span><span id="line-502"></span><span class="hs-comment">-- for easy in-line usage without having to define new log types.</span><span>
</span><span id="line-503"></span><span class="hs-comment">--</span><span>
</span><span id="line-504"></span><span class="hs-comment">-- Construct using 'sl' and combine multiple tuples using '&lt;&gt;' from</span><span>
</span><span id="line-505"></span><span class="hs-comment">-- 'Monoid'.</span><span>
</span><span id="line-506"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679215166"><span id="local-6989586621679215168"><span id="local-6989586621679215170"><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#SimpleLogPayload"><span class="hs-identifier hs-type">SimpleLogPayload</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-507"></span><span>    </span><span id="local-6989586621679215165"><span class="annot"><span class="annottext">toJSON :: SimpleLogPayload -&gt; Value
</span><a href="#local-6989586621679215165"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#SimpleLogPayload"><span class="hs-identifier hs-type">SimpleLogPayload</span></a></span><span> </span><span id="local-6989586621679215164"><span class="annot"><span class="annottext">[(Text, AnyLogPayload)]
</span><a href="#local-6989586621679215164"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Pair] -&gt; Value
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">object</span></a></span><span> </span><span class="annot"><span class="annottext">([Pair] -&gt; Value) -&gt; [Pair] -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">((Key, AnyLogPayload) -&gt; Pair) -&gt; [(Key, AnyLogPayload)] -&gt; [Pair]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="annot"><span class="annottext">(Key, AnyLogPayload) -&gt; Pair
forall p. KeyValue p =&gt; (Key, AnyLogPayload) -&gt; p
</span><a href="#local-6989586621679215163"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[(Key, AnyLogPayload)]
</span><a href="#local-6989586621679215162"><span class="hs-identifier hs-var">as'</span></a></span><span>
</span><span id="line-508"></span><span>      </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679215163"><span class="annot"><span class="annottext">go :: (Key, AnyLogPayload) -&gt; p
</span><a href="#local-6989586621679215163"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679215161"><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621679215161"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Katip.Core.html#AnyLogPayload"><span class="hs-identifier hs-type">AnyLogPayload</span></a></span><span> </span><span id="local-6989586621679215160"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679215160"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621679215161"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Key -&gt; a -&gt; p
forall kv v. (KeyValue kv, ToJSON v) =&gt; Key -&gt; v -&gt; kv
</span><a href="../../../../aeson/html/src"><span class="hs-operator hs-var">A..=</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679215160"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-509"></span><span>            </span><span id="local-6989586621679215162"><span class="annot"><span class="annottext">as' :: [(Key, AnyLogPayload)]
</span><a href="#local-6989586621679215162"><span class="hs-identifier hs-var hs-var">as'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Text, AnyLogPayload) -&gt; (Key, AnyLogPayload)
forall c. (Text, c) -&gt; (Key, c)
</span><a href="Katip.Core.html#toKey"><span class="hs-identifier hs-var">toKey</span></a></span><span> </span><span class="annot"><span class="annottext">((Text, AnyLogPayload) -&gt; (Key, AnyLogPayload))
-&gt; [(Text, AnyLogPayload)] -&gt; [(Key, AnyLogPayload)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[(Text, AnyLogPayload)]
</span><a href="#local-6989586621679215164"><span class="hs-keyword hs-var">as</span></a></span><span class="hs-cpp">


#if MIN_VERSION_aeson(2, 0, 0)
</span><span id="local-6989586621679216230"><span class="annot"><a href="Katip.Core.html#toKey"><span class="hs-identifier hs-type">toKey</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679216230"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">K.Key</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679216230"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-514"></span><span id="toKey"><span class="annot"><span class="annottext">toKey :: (Text, c) -&gt; (Key, c)
</span><a href="Katip.Core.html#toKey"><span class="hs-identifier hs-var hs-var">toKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Key) -&gt; (Text, c) -&gt; (Key, c)
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Key
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">K.fromText</span></a></span><span class="hs-cpp">
#else
</span><span class="hs-identifier">toKey</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">a</span><span>
</span><span id="line-517"></span><span class="hs-identifier">toKey</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">id</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-520"></span><span>
</span><span id="line-521"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679215155"><span class="annot"><a href="Katip.Core.html#ToObject"><span class="hs-identifier hs-type">ToObject</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#SimpleLogPayload"><span class="hs-identifier hs-type">SimpleLogPayload</span></a></span></span><span>
</span><span id="line-522"></span><span>
</span><span id="line-523"></span><span>
</span><span id="line-524"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Katip.Core.html#LogItem"><span class="hs-identifier hs-type">LogItem</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#SimpleLogPayload"><span class="hs-identifier hs-type">SimpleLogPayload</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-525"></span><span>    </span><span id="local-6989586621679215152"><span class="annot"><span class="annottext">payloadKeys :: Verbosity -&gt; SimpleLogPayload -&gt; PayloadSelection
</span><a href="#local-6989586621679215152"><span class="hs-identifier hs-var hs-var hs-var hs-var">payloadKeys</span></a></span></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="Katip.Core.html#V0"><span class="hs-identifier hs-var">V0</span></a></span><span> </span><span class="annot"><span class="annottext">SimpleLogPayload
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Text] -&gt; PayloadSelection
</span><a href="Katip.Core.html#SomeKeys"><span class="hs-identifier hs-var">SomeKeys</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-526"></span><span>    </span><span class="annot"><a href="Katip.Core.html#payloadKeys"><span class="hs-identifier hs-var">payloadKeys</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">SimpleLogPayload
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PayloadSelection
</span><a href="Katip.Core.html#AllKeys"><span class="hs-identifier hs-var">AllKeys</span></a></span><span>
</span><span id="line-527"></span><span>
</span><span id="line-528"></span><span>
</span><span id="line-529"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679215147"><span id="local-6989586621679215149"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Semigroup</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#SimpleLogPayload"><span class="hs-identifier hs-type">SimpleLogPayload</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-530"></span><span>  </span><span class="annot"><a href="Katip.Core.html#SimpleLogPayload"><span class="hs-identifier hs-type">SimpleLogPayload</span></a></span><span> </span><span id="local-6989586621679215146"><span class="annot"><span class="annottext">[(Text, AnyLogPayload)]
</span><a href="#local-6989586621679215146"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679215145"><span class="annot"><span class="annottext">&lt;&gt; :: SimpleLogPayload -&gt; SimpleLogPayload -&gt; SimpleLogPayload
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;&gt;</span></a></span></span><span> </span><span class="annot"><a href="Katip.Core.html#SimpleLogPayload"><span class="hs-identifier hs-type">SimpleLogPayload</span></a></span><span> </span><span id="local-6989586621679215144"><span class="annot"><span class="annottext">[(Text, AnyLogPayload)]
</span><a href="#local-6989586621679215144"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Text, AnyLogPayload)] -&gt; SimpleLogPayload
</span><a href="Katip.Core.html#SimpleLogPayload"><span class="hs-identifier hs-var">SimpleLogPayload</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Text, AnyLogPayload)]
</span><a href="#local-6989586621679215146"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">[(Text, AnyLogPayload)]
-&gt; [(Text, AnyLogPayload)] -&gt; [(Text, AnyLogPayload)]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[(Text, AnyLogPayload)]
</span><a href="#local-6989586621679215144"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-531"></span><span>
</span><span id="line-532"></span><span>
</span><span id="line-533"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679215139"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#SimpleLogPayload"><span class="hs-identifier hs-type">SimpleLogPayload</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-534"></span><span>    </span><span id="local-6989586621679215138"><span class="annot"><span class="annottext">mempty :: SimpleLogPayload
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">mempty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Text, AnyLogPayload)] -&gt; SimpleLogPayload
</span><a href="Katip.Core.html#SimpleLogPayload"><span class="hs-identifier hs-var">SimpleLogPayload</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-535"></span><span>    </span><span id="local-6989586621679215137"><span class="annot"><span class="annottext">mappend :: SimpleLogPayload -&gt; SimpleLogPayload -&gt; SimpleLogPayload
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">mappend</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SimpleLogPayload -&gt; SimpleLogPayload -&gt; SimpleLogPayload
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">(&lt;&gt;)</span></a></span><span>
</span><span id="line-536"></span><span>
</span><span id="line-537"></span><span>
</span><span id="line-538"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-539"></span><span class="hs-comment">-- | Construct a simple log from any JSON item.</span><span>
</span><span id="line-540"></span><span id="local-6989586621679215136"><span class="annot"><a href="Katip.Core.html#sl"><span class="hs-identifier hs-type">sl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">ToJSON</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215136"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679215136"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#SimpleLogPayload"><span class="hs-identifier hs-type">SimpleLogPayload</span></a></span></span><span>
</span><span id="line-541"></span><span id="sl"><span class="annot"><span class="annottext">sl :: Text -&gt; a -&gt; SimpleLogPayload
</span><a href="Katip.Core.html#sl"><span class="hs-identifier hs-var hs-var">sl</span></a></span></span><span> </span><span id="local-6989586621679215134"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679215134"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679215133"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679215133"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Text, AnyLogPayload)] -&gt; SimpleLogPayload
</span><a href="Katip.Core.html#SimpleLogPayload"><span class="hs-identifier hs-var">SimpleLogPayload</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679215134"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a -&gt; AnyLogPayload
forall a. ToJSON a =&gt; a -&gt; AnyLogPayload
</span><a href="Katip.Core.html#AnyLogPayload"><span class="hs-identifier hs-var">AnyLogPayload</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679215133"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-542"></span><span>
</span><span id="line-543"></span><span>
</span><span id="line-544"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-545"></span><span class="hs-comment">-- | Constrain payload based on verbosity. Backends should use this to</span><span>
</span><span id="line-546"></span><span class="hs-comment">-- automatically bubble higher verbosity levels to lower ones.</span><span>
</span><span id="line-547"></span><span id="local-6989586621679216197"><span class="annot"><a href="Katip.Core.html#payloadObject"><span class="hs-identifier hs-type">payloadObject</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Katip.Core.html#LogItem"><span class="hs-identifier hs-type">LogItem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679216197"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Verbosity"><span class="hs-identifier hs-type">Verbosity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679216197"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">A.Object</span></a></span></span><span>
</span><span id="line-548"></span><span id="payloadObject"><span class="annot"><span class="annottext">payloadObject :: Verbosity -&gt; a -&gt; Object
</span><a href="Katip.Core.html#payloadObject"><span class="hs-identifier hs-var hs-var">payloadObject</span></a></span></span><span> </span><span id="local-6989586621679215131"><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679215131"><span class="hs-identifier hs-var">verb</span></a></span></span><span> </span><span id="local-6989586621679215130"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679215130"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(Verbosity -&gt; PayloadSelection) -&gt; [Verbosity] -&gt; PayloadSelection
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">FT.foldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Verbosity -&gt; a -&gt; PayloadSelection)
-&gt; a -&gt; Verbosity -&gt; PayloadSelection
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity -&gt; a -&gt; PayloadSelection
forall a. LogItem a =&gt; Verbosity -&gt; a -&gt; PayloadSelection
</span><a href="Katip.Core.html#payloadKeys"><span class="hs-identifier hs-var">payloadKeys</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679215130"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Verbosity
</span><a href="Katip.Core.html#V0"><span class="hs-identifier hs-var">V0</span></a></span><span class="hs-special">)</span><span class="hs-glyph">..</span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679215131"><span class="hs-identifier hs-var">verb</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-549"></span><span>    </span><span class="annot"><span class="annottext">PayloadSelection
</span><a href="Katip.Core.html#AllKeys"><span class="hs-identifier hs-var">AllKeys</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; Object
forall a. ToObject a =&gt; a -&gt; Object
</span><a href="Katip.Core.html#toObject"><span class="hs-identifier hs-var">toObject</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679215130"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-550"></span><span>    </span><span class="annot"><a href="Katip.Core.html#SomeKeys"><span class="hs-identifier hs-type">SomeKeys</span></a></span><span> </span><span id="local-6989586621679215127"><span class="annot"><span class="annottext">[Text]
</span><a href="#local-6989586621679215127"><span class="hs-identifier hs-var">ks</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Text] -&gt; Object -&gt; Object
forall v. [Text] -&gt; KeyMap v -&gt; KeyMap v
</span><a href="Katip.Core.html#filterElems"><span class="hs-identifier hs-var">filterElems</span></a></span><span> </span><span class="annot"><span class="annottext">[Text]
</span><a href="#local-6989586621679215127"><span class="hs-identifier hs-var">ks</span></a></span><span> </span><span class="annot"><span class="annottext">(Object -&gt; Object) -&gt; Object -&gt; Object
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Object
forall a. ToObject a =&gt; a -&gt; Object
</span><a href="Katip.Core.html#toObject"><span class="hs-identifier hs-var">toObject</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679215130"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-cpp">

#if MIN_VERSION_aeson(2, 0, 0)
</span><span id="local-6989586621679216213"><span class="annot"><a href="Katip.Core.html#filterElems"><span class="hs-identifier hs-type">filterElems</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">KM.KeyMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679216213"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">KM.KeyMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679216213"><span class="hs-identifier hs-type">v</span></a></span></span><span>
</span><span id="line-554"></span><span id="filterElems"><span class="annot"><span class="annottext">filterElems :: [Text] -&gt; KeyMap v -&gt; KeyMap v
</span><a href="Katip.Core.html#filterElems"><span class="hs-identifier hs-var hs-var">filterElems</span></a></span></span><span> </span><span id="local-6989586621679215125"><span class="annot"><span class="annottext">[Text]
</span><a href="#local-6989586621679215125"><span class="hs-identifier hs-var">ks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Key -&gt; v -&gt; Bool) -&gt; KeyMap v -&gt; KeyMap v
forall v. (Key -&gt; v -&gt; Bool) -&gt; KeyMap v -&gt; KeyMap v
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">KM.filterWithKey</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621679215123"><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621679215123"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="annot"><span class="annottext">v
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Key -&gt; Text
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">K.toText</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621679215123"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; [Text] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">`FT.elem`</span></a></span><span> </span><span class="annot"><span class="annottext">[Text]
</span><a href="#local-6989586621679215125"><span class="hs-identifier hs-var">ks</span></a></span><span class="hs-special">)</span><span class="hs-cpp">
#else
</span><span class="hs-identifier">filterElems</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">Text</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">HM.HashMap</span><span> </span><span class="hs-identifier">Text</span><span> </span><span class="hs-identifier">v</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">HM.HashMap</span><span> </span><span class="hs-identifier">Text</span><span> </span><span class="hs-identifier">v</span><span>
</span><span id="line-557"></span><span class="hs-identifier">filterElems</span><span> </span><span class="hs-identifier">ks</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">HM.filterWithKey</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-special">`</span><span class="hs-identifier">FT.elem</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">ks</span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-560"></span><span>
</span><span id="line-561"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-562"></span><span class="hs-comment">-- | Convert log item to its JSON representation while trimming its</span><span>
</span><span id="line-563"></span><span class="hs-comment">-- payload based on the desired verbosity. Backends that push JSON</span><span>
</span><span id="line-564"></span><span class="hs-comment">-- messages should use this to obtain their payload.</span><span>
</span><span id="line-565"></span><span id="local-6989586621679215120"><span class="annot"><a href="Katip.Core.html#itemJson"><span class="hs-identifier hs-type">itemJson</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Katip.Core.html#LogItem"><span class="hs-identifier hs-type">LogItem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215120"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Verbosity"><span class="hs-identifier hs-type">Verbosity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Item"><span class="hs-identifier hs-type">Item</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215120"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../aeson/html/src"><span class="hs-identifier hs-type">A.Value</span></a></span></span><span>
</span><span id="line-566"></span><span id="itemJson"><span class="annot"><span class="annottext">itemJson :: Verbosity -&gt; Item a -&gt; Value
</span><a href="Katip.Core.html#itemJson"><span class="hs-identifier hs-var hs-var">itemJson</span></a></span></span><span> </span><span id="local-6989586621679215118"><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679215118"><span class="hs-identifier hs-var">verb</span></a></span></span><span> </span><span id="local-6989586621679215117"><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215117"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Item Object -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><a href="../../../../aeson/html/src"><span class="hs-identifier hs-var">toJSON</span></a></span><span> </span><span class="annot"><span class="annottext">(Item Object -&gt; Value) -&gt; Item Object -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215117"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Item a -&gt; (Item a -&gt; Item Object) -&gt; Item Object
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Identity Object) -&gt; Item a -&gt; Identity (Item Object)
forall a a. Lens (Item a) (Item a) a a
</span><a href="Katip.Core.html#itemPayload"><span class="hs-identifier hs-var">itemPayload</span></a></span><span> </span><span class="annot"><span class="annottext">((a -&gt; Identity Object) -&gt; Item a -&gt; Identity (Item Object))
-&gt; (a -&gt; Object) -&gt; Item a -&gt; Item Object
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><a href="../../../../microlens/html/src"><span class="hs-operator hs-var">%~</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity -&gt; a -&gt; Object
forall a. LogItem a =&gt; Verbosity -&gt; a -&gt; Object
</span><a href="Katip.Core.html#payloadObject"><span class="hs-identifier hs-var">payloadObject</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679215118"><span class="hs-identifier hs-var">verb</span></a></span><span>
</span><span id="line-567"></span><span>
</span><span id="line-568"></span><span>
</span><span id="line-569"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-570"></span><span class="hs-comment">-- | Scribes are handlers of incoming items. Each registered scribe</span><span>
</span><span id="line-571"></span><span class="hs-comment">-- knows how to push a log item somewhere.</span><span>
</span><span id="line-572"></span><span class="hs-comment">--</span><span>
</span><span id="line-573"></span><span class="hs-comment">-- = Guidelines for writing your own 'Scribe'</span><span>
</span><span id="line-574"></span><span class="hs-comment">--</span><span>
</span><span id="line-575"></span><span class="hs-comment">-- Scribes should always take a 'Severity' and 'Verbosity'.</span><span>
</span><span id="line-576"></span><span class="hs-comment">--</span><span>
</span><span id="line-577"></span><span class="hs-comment">-- Severity is used to __exclude log messages__ that are lower than</span><span>
</span><span id="line-578"></span><span class="hs-comment">-- the provided Severity. For instance, if the user passes InfoS,</span><span>
</span><span id="line-579"></span><span class="hs-comment">-- DebugS items should be ignored. Katip provides the 'permitItem'</span><span>
</span><span id="line-580"></span><span class="hs-comment">-- utility for this. The user or the scribe may use 'permitAND' and</span><span>
</span><span id="line-581"></span><span class="hs-comment">-- 'permitOR' to further customize this filtering, even dynamically if</span><span>
</span><span id="line-582"></span><span class="hs-comment">-- they wish to.</span><span>
</span><span id="line-583"></span><span class="hs-comment">--</span><span>
</span><span id="line-584"></span><span class="hs-comment">-- Verbosity is used to select keys from the log item's payload. Each</span><span>
</span><span id="line-585"></span><span class="hs-comment">-- 'LogItem' instance describes what keys should be retained for each</span><span>
</span><span id="line-586"></span><span class="hs-comment">-- Verbosity level. Use the 'payloadObject' utility for extracting the keys</span><span>
</span><span id="line-587"></span><span class="hs-comment">-- that should be written.</span><span>
</span><span id="line-588"></span><span class="hs-comment">--</span><span>
</span><span id="line-589"></span><span class="hs-comment">-- Scribes provide a finalizer IO action ('scribeFinalizer') that is</span><span>
</span><span id="line-590"></span><span class="hs-comment">-- meant to synchronously flush any remaining writes and clean up any</span><span>
</span><span id="line-591"></span><span class="hs-comment">-- resources acquired when the scribe was created. Internally, katip</span><span>
</span><span id="line-592"></span><span class="hs-comment">-- keeps a buffer for each scribe's writes. When 'closeScribe' or</span><span>
</span><span id="line-593"></span><span class="hs-comment">-- 'closeScribes' is called, that buffer stops accepting new log</span><span>
</span><span id="line-594"></span><span class="hs-comment">-- messages and after the last item in its buffer is sent to 'liPush',</span><span>
</span><span id="line-595"></span><span class="hs-comment">-- calls the finalizer. Thus, when the finalizer returns, katip can</span><span>
</span><span id="line-596"></span><span class="hs-comment">-- assume that all resources are cleaned up and all log messages are</span><span>
</span><span id="line-597"></span><span class="hs-comment">-- durably written.</span><span>
</span><span id="line-598"></span><span class="hs-comment">--</span><span>
</span><span id="line-599"></span><span class="hs-comment">-- While katip internally buffers messages per 'ScribeSettings', it</span><span>
</span><span id="line-600"></span><span class="hs-comment">-- sends them one at a time to the scribe. Depending on the scribe</span><span>
</span><span id="line-601"></span><span class="hs-comment">-- itself, it may make sense for that scribe to keep its own internal</span><span>
</span><span id="line-602"></span><span class="hs-comment">-- buffer to batch-send logs if writing items one at a time is not</span><span>
</span><span id="line-603"></span><span class="hs-comment">-- efficient. The scribe implementer must be sure that on</span><span>
</span><span id="line-604"></span><span class="hs-comment">-- finalization, all writes are committed synchronously.</span><span>
</span><span id="line-605"></span><span>
</span><span id="line-606"></span><span class="hs-comment">-- | Signature of a function passed to `Scribe` constructor and</span><span>
</span><span id="line-607"></span><span class="hs-comment">--   mkScribe* functions that decides which messages to be</span><span>
</span><span id="line-608"></span><span class="hs-comment">--   logged. Typically filters based on 'Severity', but can be</span><span>
</span><span id="line-609"></span><span class="hs-comment">--   combined with other, custom logic with 'permitAND' and 'permitOR'</span><span>
</span><span id="line-610"></span><span class="hs-keyword">type</span><span> </span><span id="PermitFunc"><span class="annot"><a href="Katip.Core.html#PermitFunc"><span class="hs-identifier hs-var">PermitFunc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679215114"><span class="annot"><a href="#local-6989586621679215114"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Katip.Core.html#Item"><span class="hs-identifier hs-type">Item</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215114"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-611"></span><span>
</span><span id="line-612"></span><span>
</span><span id="line-613"></span><span class="hs-comment">-- | AND together 2 permit functions</span><span>
</span><span id="line-614"></span><span class="annot"><a href="Katip.Core.html#permitAND"><span class="hs-identifier hs-type">permitAND</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Katip.Core.html#PermitFunc"><span class="hs-identifier hs-type">PermitFunc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#PermitFunc"><span class="hs-identifier hs-type">PermitFunc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#PermitFunc"><span class="hs-identifier hs-type">PermitFunc</span></a></span><span>
</span><span id="line-615"></span><span id="permitAND"><span class="annot"><span class="annottext">permitAND :: PermitFunc -&gt; PermitFunc -&gt; PermitFunc
</span><a href="Katip.Core.html#permitAND"><span class="hs-identifier hs-var hs-var">permitAND</span></a></span></span><span> </span><span id="local-6989586621679215112"><span class="annot"><span class="annottext">PermitFunc
</span><a href="#local-6989586621679215112"><span class="hs-identifier hs-var">f1</span></a></span></span><span> </span><span id="local-6989586621679215111"><span class="annot"><span class="annottext">PermitFunc
</span><a href="#local-6989586621679215111"><span class="hs-identifier hs-var">f2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679215110"><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215110"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool -&gt; Bool) -&gt; IO Bool -&gt; IO Bool -&gt; IO Bool
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">liftA2</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">(&amp;&amp;)</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Item a -&gt; IO Bool
PermitFunc
</span><a href="#local-6989586621679215112"><span class="hs-identifier hs-var">f1</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215110"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Item a -&gt; IO Bool
PermitFunc
</span><a href="#local-6989586621679215111"><span class="hs-identifier hs-var">f2</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215110"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-616"></span><span>
</span><span id="line-617"></span><span class="hs-comment">-- | OR together 2 permit functions</span><span>
</span><span id="line-618"></span><span class="annot"><a href="Katip.Core.html#permitOR"><span class="hs-identifier hs-type">permitOR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Katip.Core.html#PermitFunc"><span class="hs-identifier hs-type">PermitFunc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#PermitFunc"><span class="hs-identifier hs-type">PermitFunc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#PermitFunc"><span class="hs-identifier hs-type">PermitFunc</span></a></span><span>
</span><span id="line-619"></span><span id="permitOR"><span class="annot"><span class="annottext">permitOR :: PermitFunc -&gt; PermitFunc -&gt; PermitFunc
</span><a href="Katip.Core.html#permitOR"><span class="hs-identifier hs-var hs-var">permitOR</span></a></span></span><span> </span><span id="local-6989586621679215106"><span class="annot"><span class="annottext">PermitFunc
</span><a href="#local-6989586621679215106"><span class="hs-identifier hs-var">f1</span></a></span></span><span> </span><span id="local-6989586621679215105"><span class="annot"><span class="annottext">PermitFunc
</span><a href="#local-6989586621679215105"><span class="hs-identifier hs-var">f2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679215104"><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215104"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool -&gt; Bool) -&gt; IO Bool -&gt; IO Bool -&gt; IO Bool
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">liftA2</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">(||)</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Item a -&gt; IO Bool
PermitFunc
</span><a href="#local-6989586621679215106"><span class="hs-identifier hs-var">f1</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215104"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Item a -&gt; IO Bool
PermitFunc
</span><a href="#local-6989586621679215105"><span class="hs-identifier hs-var">f2</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215104"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-620"></span><span>
</span><span id="line-621"></span><span>
</span><span id="line-622"></span><span class="hs-keyword">data</span><span> </span><span id="Scribe"><span class="annot"><a href="Katip.Core.html#Scribe"><span class="hs-identifier hs-var">Scribe</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Scribe"><span class="annot"><a href="Katip.Core.html#Scribe"><span class="hs-identifier hs-var">Scribe</span></a></span></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-623"></span><span>     </span><span id="liPush"><span class="annot"><span class="annottext">Scribe -&gt; forall a. LogItem a =&gt; Item a -&gt; IO ()
</span><a href="Katip.Core.html#liPush"><span class="hs-identifier hs-var hs-var">liPush</span></a></span></span><span>           </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679216189"><span class="annot"><a href="#local-6989586621679216189"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Katip.Core.html#LogItem"><span class="hs-identifier hs-type">LogItem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679216189"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Item"><span class="hs-identifier hs-type">Item</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679216189"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-624"></span><span>   </span><span class="hs-comment">-- ^ How do we write an item to the scribe's output?</span><span>
</span><span id="line-625"></span><span>   </span><span class="hs-special">,</span><span> </span><span id="scribeFinalizer"><span class="annot"><span class="annottext">Scribe -&gt; IO ()
</span><a href="Katip.Core.html#scribeFinalizer"><span class="hs-identifier hs-var hs-var">scribeFinalizer</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-626"></span><span>   </span><span class="hs-comment">-- ^ Provide a __blocking__ finalizer to call when your scribe is</span><span>
</span><span id="line-627"></span><span>   </span><span class="hs-comment">-- removed. All pending writes should be flushed synchronously. If</span><span>
</span><span id="line-628"></span><span>   </span><span class="hs-comment">-- this is not relevant to your scribe, return () is fine.</span><span>
</span><span id="line-629"></span><span>   </span><span class="hs-special">,</span><span> </span><span id="scribePermitItem"><span class="annot"><span class="annottext">Scribe -&gt; PermitFunc
</span><a href="Katip.Core.html#scribePermitItem"><span class="hs-identifier hs-var hs-var">scribePermitItem</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Katip.Core.html#PermitFunc"><span class="hs-identifier hs-type">PermitFunc</span></a></span><span>
</span><span id="line-630"></span><span>   </span><span class="hs-comment">-- ^ Provide a filtering function to allow the item to be logged,</span><span>
</span><span id="line-631"></span><span>   </span><span class="hs-comment">--   or not.  It can check Severity or some string in item's</span><span>
</span><span id="line-632"></span><span>   </span><span class="hs-comment">--   body. The initial value of this is usually created from</span><span>
</span><span id="line-633"></span><span>   </span><span class="hs-comment">--   'permitItem'. Scribes and users can customize this by ANDing</span><span>
</span><span id="line-634"></span><span>   </span><span class="hs-comment">--   or ORing onto the default with 'permitAND' or 'permitOR'</span><span>
</span><span id="line-635"></span><span>   </span><span class="hs-special">}</span><span>
</span><span id="line-636"></span><span>
</span><span id="line-637"></span><span>
</span><span id="line-638"></span><span id="local-6989586621679216182"><span class="annot"><a href="Katip.Core.html#whenM"><span class="hs-identifier hs-type">whenM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monad</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679216182"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679216182"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679216182"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679216182"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-639"></span><span id="whenM"><span class="annot"><span class="annottext">whenM :: m Bool -&gt; m () -&gt; m ()
</span><a href="Katip.Core.html#whenM"><span class="hs-identifier hs-var hs-var">whenM</span></a></span></span><span> </span><span id="local-6989586621679215097"><span class="annot"><span class="annottext">m Bool
</span><a href="#local-6989586621679215097"><span class="hs-identifier hs-var">mbool</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m Bool -&gt; (Bool -&gt; m ()) -&gt; m ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">(&gt;&gt;=)</span></a></span><span> </span><span class="annot"><span class="annottext">m Bool
</span><a href="#local-6989586621679215097"><span class="hs-identifier hs-var">mbool</span></a></span><span> </span><span class="annot"><span class="annottext">((Bool -&gt; m ()) -&gt; m ()) -&gt; (m () -&gt; Bool -&gt; m ()) -&gt; m () -&gt; m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; m () -&gt; m ()) -&gt; m () -&gt; Bool -&gt; m ()
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">flip</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">when</span></a></span><span>
</span><span id="line-640"></span><span>
</span><span id="line-641"></span><span>
</span><span id="line-642"></span><span class="hs-comment">-- | Combine two scribes. Publishes to the left scribe if the left</span><span>
</span><span id="line-643"></span><span class="hs-comment">-- would permit the item and to the right scribe if the right would</span><span>
</span><span id="line-644"></span><span class="hs-comment">-- permit the item. Finalizers are called in sequence from left to</span><span>
</span><span id="line-645"></span><span class="hs-comment">-- right.</span><span>
</span><span id="line-646"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679215092"><span id="local-6989586621679215094"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Semigroup</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#Scribe"><span class="hs-identifier hs-type">Scribe</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-647"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#Scribe"><span class="hs-identifier hs-type">Scribe</span></a></span><span> </span><span id="local-6989586621679215091"><span class="annot"><span class="annottext">forall a. LogItem a =&gt; Item a -&gt; IO ()
</span><a href="#local-6989586621679215091"><span class="hs-identifier hs-var">pushA</span></a></span></span><span> </span><span id="local-6989586621679215090"><span class="annot"><span class="annottext">IO ()
</span><a href="#local-6989586621679215090"><span class="hs-identifier hs-var">finA</span></a></span></span><span> </span><span id="local-6989586621679215089"><span class="annot"><span class="annottext">PermitFunc
</span><a href="#local-6989586621679215089"><span class="hs-identifier hs-var">permitA</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679215088"><span class="annot"><span class="annottext">&lt;&gt; :: Scribe -&gt; Scribe -&gt; Scribe
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;&gt;</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#Scribe"><span class="hs-identifier hs-type">Scribe</span></a></span><span> </span><span id="local-6989586621679215087"><span class="annot"><span class="annottext">forall a. LogItem a =&gt; Item a -&gt; IO ()
</span><a href="#local-6989586621679215087"><span class="hs-identifier hs-var">pushB</span></a></span></span><span> </span><span id="local-6989586621679215086"><span class="annot"><span class="annottext">IO ()
</span><a href="#local-6989586621679215086"><span class="hs-identifier hs-var">finB</span></a></span></span><span> </span><span id="local-6989586621679215085"><span class="annot"><span class="annottext">PermitFunc
</span><a href="#local-6989586621679215085"><span class="hs-identifier hs-var">permitB</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-648"></span><span>    </span><span class="annot"><span class="annottext">(forall a. LogItem a =&gt; Item a -&gt; IO ())
-&gt; IO () -&gt; PermitFunc -&gt; Scribe
</span><a href="Katip.Core.html#Scribe"><span class="hs-identifier hs-var">Scribe</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679215084"><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215084"><span class="hs-identifier hs-var">item</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO Bool -&gt; IO () -&gt; IO ()
forall (m :: * -&gt; *). Monad m =&gt; m Bool -&gt; m () -&gt; m ()
</span><a href="Katip.Core.html#whenM"><span class="hs-identifier hs-var">whenM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Item a -&gt; IO Bool
PermitFunc
</span><a href="#local-6989586621679215089"><span class="hs-identifier hs-var">permitA</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215084"><span class="hs-identifier hs-var">item</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Item a -&gt; IO ()
forall a. LogItem a =&gt; Item a -&gt; IO ()
</span><a href="#local-6989586621679215091"><span class="hs-identifier hs-var">pushA</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215084"><span class="hs-identifier hs-var">item</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-649"></span><span>                  </span><span class="annot"><span class="annottext">IO () -&gt; IO () -&gt; IO ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IO Bool -&gt; IO () -&gt; IO ()
forall (m :: * -&gt; *). Monad m =&gt; m Bool -&gt; m () -&gt; m ()
</span><a href="Katip.Core.html#whenM"><span class="hs-identifier hs-var">whenM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Item a -&gt; IO Bool
PermitFunc
</span><a href="#local-6989586621679215085"><span class="hs-identifier hs-var">permitB</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215084"><span class="hs-identifier hs-var">item</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Item a -&gt; IO ()
forall a. LogItem a =&gt; Item a -&gt; IO ()
</span><a href="#local-6989586621679215087"><span class="hs-identifier hs-var">pushB</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215084"><span class="hs-identifier hs-var">item</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-650"></span><span>           </span><span class="hs-special">)</span><span>
</span><span id="line-651"></span><span>           </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO ()
</span><a href="#local-6989586621679215090"><span class="hs-identifier hs-var">finA</span></a></span><span> </span><span class="annot"><span class="annottext">IO () -&gt; IO () -&gt; IO ()
forall (m :: * -&gt; *) a b. MonadMask m =&gt; m a -&gt; m b -&gt; m a
</span><a href="../../../../safe-exceptions/html/src"><span class="hs-operator hs-var">`finally`</span></a></span><span> </span><span class="annot"><span class="annottext">IO ()
</span><a href="#local-6989586621679215086"><span class="hs-identifier hs-var">finB</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-652"></span><span>           </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PermitFunc -&gt; PermitFunc -&gt; PermitFunc
</span><a href="Katip.Core.html#permitOR"><span class="hs-identifier hs-var">permitOR</span></a></span><span> </span><span class="annot"><span class="annottext">PermitFunc
</span><a href="#local-6989586621679215089"><span class="hs-identifier hs-var">permitA</span></a></span><span> </span><span class="annot"><span class="annottext">PermitFunc
</span><a href="#local-6989586621679215085"><span class="hs-identifier hs-var">permitB</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-653"></span><span>
</span><span id="line-654"></span><span>
</span><span id="line-655"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679215078"><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#Scribe"><span class="hs-identifier hs-type">Scribe</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-656"></span><span>    </span><span id="local-6989586621679215077"><span class="annot"><span class="annottext">mempty :: Scribe
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">mempty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall a. LogItem a =&gt; Item a -&gt; IO ())
-&gt; IO () -&gt; PermitFunc -&gt; Scribe
</span><a href="Katip.Core.html#Scribe"><span class="hs-identifier hs-var">Scribe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO () -&gt; Item a -&gt; IO ()
forall a b. a -&gt; b -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; IO ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; IO ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Severity -&gt; Item a -&gt; IO Bool
forall (m :: * -&gt; *) a. Monad m =&gt; Severity -&gt; Item a -&gt; m Bool
</span><a href="Katip.Core.html#permitItem"><span class="hs-identifier hs-var">permitItem</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="Katip.Core.html#DebugS"><span class="hs-identifier hs-var">DebugS</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-657"></span><span>    </span><span id="local-6989586621679215074"><span class="annot"><span class="annottext">mappend :: Scribe -&gt; Scribe -&gt; Scribe
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">mappend</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Scribe -&gt; Scribe -&gt; Scribe
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">(&lt;&gt;)</span></a></span><span>
</span><span id="line-658"></span><span>
</span><span id="line-659"></span><span>
</span><span id="line-660"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-661"></span><span class="hs-keyword">data</span><span> </span><span id="ScribeHandle"><span class="annot"><a href="Katip.Core.html#ScribeHandle"><span class="hs-identifier hs-var">ScribeHandle</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ScribeHandle"><span class="annot"><a href="Katip.Core.html#ScribeHandle"><span class="hs-identifier hs-var">ScribeHandle</span></a></span></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-662"></span><span>      </span><span id="shScribe"><span class="annot"><span class="annottext">ScribeHandle -&gt; Scribe
</span><a href="Katip.Core.html#shScribe"><span class="hs-identifier hs-var hs-var">shScribe</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Katip.Core.html#Scribe"><span class="hs-identifier hs-type">Scribe</span></a></span><span>
</span><span id="line-663"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="shChan"><span class="annot"><span class="annottext">ScribeHandle -&gt; TBQueue WorkerMessage
</span><a href="Katip.Core.html#shChan"><span class="hs-identifier hs-var hs-var">shChan</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../stm/html/src"><span class="hs-identifier hs-type">BQ.TBQueue</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#WorkerMessage"><span class="hs-identifier hs-type">WorkerMessage</span></a></span><span>
</span><span id="line-664"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-665"></span><span>
</span><span id="line-666"></span><span>
</span><span id="line-667"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-668"></span><span class="hs-keyword">data</span><span> </span><span id="WorkerMessage"><span class="annot"><a href="Katip.Core.html#WorkerMessage"><span class="hs-identifier hs-var">WorkerMessage</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-669"></span><span>  </span><span id="local-6989586621679215070"><span id="NewItem"><span class="annot"><a href="Katip.Core.html#NewItem"><span class="hs-identifier hs-var">NewItem</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Katip.Core.html#LogItem"><span class="hs-identifier hs-type">LogItem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215070"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Item"><span class="hs-identifier hs-type">Item</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215070"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#WorkerMessage"><span class="hs-identifier hs-type">WorkerMessage</span></a></span></span><span>
</span><span id="line-670"></span><span>  </span><span id="PoisonPill"><span class="annot"><a href="Katip.Core.html#PoisonPill"><span class="hs-identifier hs-var">PoisonPill</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Katip.Core.html#WorkerMessage"><span class="hs-identifier hs-type">WorkerMessage</span></a></span><span>
</span><span id="line-671"></span><span>
</span><span id="line-672"></span><span>
</span><span id="line-673"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-674"></span><span class="hs-comment">-- | Should this item be logged given the user's maximum severity?</span><span>
</span><span id="line-675"></span><span class="hs-comment">-- Most new scribes will use this as a base for their 'PermitFunc'</span><span>
</span><span id="line-676"></span><span id="local-6989586621679216169"><span id="local-6989586621679216170"><span class="annot"><a href="Katip.Core.html#permitItem"><span class="hs-identifier hs-type">permitItem</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monad</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679216170"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Severity"><span class="hs-identifier hs-type">Severity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Item"><span class="hs-identifier hs-type">Item</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679216169"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679216170"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span></span></span><span>
</span><span id="line-677"></span><span id="permitItem"><span class="annot"><span class="annottext">permitItem :: Severity -&gt; Item a -&gt; m Bool
</span><a href="Katip.Core.html#permitItem"><span class="hs-identifier hs-var hs-var">permitItem</span></a></span></span><span> </span><span id="local-6989586621679215067"><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621679215067"><span class="hs-identifier hs-var">sev</span></a></span></span><span> </span><span id="local-6989586621679215066"><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215066"><span class="hs-identifier hs-var">item</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; m Bool
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Item a -&gt; Severity
forall a. Item a -&gt; Severity
</span><a href="Katip.Core.html#_itemSeverity"><span class="hs-identifier hs-var hs-var">_itemSeverity</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215066"><span class="hs-identifier hs-var">item</span></a></span><span> </span><span class="annot"><span class="annottext">Severity -&gt; Severity -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-operator hs-var">&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621679215067"><span class="hs-identifier hs-var">sev</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-678"></span><span>
</span><span id="line-679"></span><span>
</span><span id="line-680"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-681"></span><span class="hs-keyword">data</span><span> </span><span id="LogEnv"><span class="annot"><a href="Katip.Core.html#LogEnv"><span class="hs-identifier hs-var">LogEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="LogEnv"><span class="annot"><a href="Katip.Core.html#LogEnv"><span class="hs-identifier hs-var">LogEnv</span></a></span></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-682"></span><span>      </span><span id="_logEnvHost"><span class="annot"><span class="annottext">LogEnv -&gt; String
</span><a href="Katip.Core.html#_logEnvHost"><span class="hs-identifier hs-var hs-var">_logEnvHost</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../hostname/html/src"><span class="hs-identifier hs-type">HostName</span></a></span><span>
</span><span id="line-683"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_logEnvPid"><span class="annot"><span class="annottext">LogEnv -&gt; ProcessID
</span><a href="Katip.Core.html#_logEnvPid"><span class="hs-identifier hs-var hs-var">_logEnvPid</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">ProcessID</span></a></span><span>
</span><span id="line-684"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_logEnvApp"><span class="annot"><span class="annottext">LogEnv -&gt; Namespace
</span><a href="Katip.Core.html#_logEnvApp"><span class="hs-identifier hs-var hs-var">_logEnvApp</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Katip.Core.html#Namespace"><span class="hs-identifier hs-type">Namespace</span></a></span><span>
</span><span id="line-685"></span><span>    </span><span class="hs-comment">-- ^ Name of application. This will typically never change. This</span><span>
</span><span id="line-686"></span><span>    </span><span class="hs-comment">-- field gets prepended to the namespace of your individual log</span><span>
</span><span id="line-687"></span><span>    </span><span class="hs-comment">-- messages. For example, if your app is MyApp and you write a log</span><span>
</span><span id="line-688"></span><span>    </span><span class="hs-comment">-- using &quot;logItem&quot; and the namespace &quot;WebServer&quot;, the final</span><span>
</span><span id="line-689"></span><span>    </span><span class="hs-comment">-- namespace will be &quot;MyApp.WebServer&quot;</span><span>
</span><span id="line-690"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_logEnvEnv"><span class="annot"><span class="annottext">LogEnv -&gt; Environment
</span><a href="Katip.Core.html#_logEnvEnv"><span class="hs-identifier hs-var hs-var">_logEnvEnv</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Katip.Core.html#Environment"><span class="hs-identifier hs-type">Environment</span></a></span><span>
</span><span id="line-691"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_logEnvTimer"><span class="annot"><span class="annottext">LogEnv -&gt; IO UTCTime
</span><a href="Katip.Core.html#_logEnvTimer"><span class="hs-identifier hs-var hs-var">_logEnvTimer</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier hs-type">UTCTime</span></a></span><span>
</span><span id="line-692"></span><span>    </span><span class="hs-comment">-- ^ Action to fetch the timestamp. You can use something like</span><span>
</span><span id="line-693"></span><span>    </span><span class="hs-comment">-- 'AutoUpdate' for high volume logs but note that this may cause</span><span>
</span><span id="line-694"></span><span>    </span><span class="hs-comment">-- some output forms to display logs out of order. Alternatively,</span><span>
</span><span id="line-695"></span><span>    </span><span class="hs-comment">-- you could just use 'getCurrentTime'.</span><span>
</span><span id="line-696"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_logEnvScribes"><span class="annot"><span class="annottext">LogEnv -&gt; Map Text ScribeHandle
</span><a href="Katip.Core.html#_logEnvScribes"><span class="hs-identifier hs-var hs-var">_logEnvScribes</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../containers/html/src"><span class="hs-identifier hs-type">M.Map</span></a></span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#ScribeHandle"><span class="hs-identifier hs-type">ScribeHandle</span></a></span><span>
</span><span id="line-697"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-698"></span><span id="logEnvTimer"><span id="logEnvScribes"><span id="logEnvPid"><span id="logEnvHost"><span id="logEnvEnv"><span id="logEnvApp"><span class="hs-identifier">makeLenses</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">LogEnv</span></span></span></span></span></span></span><span>
</span><span id="line-699"></span><span>
</span><span id="line-700"></span><span>
</span><span id="line-701"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-702"></span><span class="hs-comment">-- | Create a reasonable default InitLogEnv. Uses an 'AutoUpdate' which</span><span>
</span><span id="line-703"></span><span class="hs-comment">-- updates the timer every 1ms. If you need even more timestamp</span><span>
</span><span id="line-704"></span><span class="hs-comment">-- precision at the cost of performance, consider setting</span><span>
</span><span id="line-705"></span><span class="hs-comment">-- '_logEnvTimer' with 'getCurrentTime'.</span><span>
</span><span id="line-706"></span><span class="annot"><a href="Katip.Core.html#initLogEnv"><span class="hs-identifier hs-type">initLogEnv</span></a></span><span>
</span><span id="line-707"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Katip.Core.html#Namespace"><span class="hs-identifier hs-type">Namespace</span></a></span><span>
</span><span id="line-708"></span><span>    </span><span class="hs-comment">-- ^ A base namespace for this application</span><span>
</span><span id="line-709"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Environment"><span class="hs-identifier hs-type">Environment</span></a></span><span>
</span><span id="line-710"></span><span>    </span><span class="hs-comment">-- ^ Current run environment (e.g. @prod@ vs. @devel@)</span><span>
</span><span id="line-711"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#LogEnv"><span class="hs-identifier hs-type">LogEnv</span></a></span><span>
</span><span id="line-712"></span><span id="initLogEnv"><span class="annot"><span class="annottext">initLogEnv :: Namespace -&gt; Environment -&gt; IO LogEnv
</span><a href="Katip.Core.html#initLogEnv"><span class="hs-identifier hs-var hs-var">initLogEnv</span></a></span></span><span> </span><span id="local-6989586621679215051"><span class="annot"><span class="annottext">Namespace
</span><a href="#local-6989586621679215051"><span class="hs-identifier hs-var">an</span></a></span></span><span> </span><span id="local-6989586621679215050"><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621679215050"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; ProcessID
-&gt; Namespace
-&gt; Environment
-&gt; IO UTCTime
-&gt; Map Text ScribeHandle
-&gt; LogEnv
</span><a href="Katip.Core.html#LogEnv"><span class="hs-identifier hs-var">LogEnv</span></a></span><span>
</span><span id="line-713"></span><span>  </span><span class="annot"><span class="annottext">(String
 -&gt; ProcessID
 -&gt; Namespace
 -&gt; Environment
 -&gt; IO UTCTime
 -&gt; Map Text ScribeHandle
 -&gt; LogEnv)
-&gt; IO String
-&gt; IO
     (ProcessID
      -&gt; Namespace
      -&gt; Environment
      -&gt; IO UTCTime
      -&gt; Map Text ScribeHandle
      -&gt; LogEnv)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IO String
</span><a href="../../../../hostname/html/src"><span class="hs-identifier hs-var">getHostName</span></a></span><span>
</span><span id="line-714"></span><span>  </span><span class="annot"><span class="annottext">IO
  (ProcessID
   -&gt; Namespace
   -&gt; Environment
   -&gt; IO UTCTime
   -&gt; Map Text ScribeHandle
   -&gt; LogEnv)
-&gt; IO ProcessID
-&gt; IO
     (Namespace
      -&gt; Environment -&gt; IO UTCTime -&gt; Map Text ScribeHandle -&gt; LogEnv)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IO ProcessID
</span><a href="../../../../unix/html/src"><span class="hs-identifier hs-var">getProcessID</span></a></span><span>
</span><span id="line-715"></span><span>  </span><span class="annot"><span class="annottext">IO
  (Namespace
   -&gt; Environment -&gt; IO UTCTime -&gt; Map Text ScribeHandle -&gt; LogEnv)
-&gt; IO Namespace
-&gt; IO
     (Environment -&gt; IO UTCTime -&gt; Map Text ScribeHandle -&gt; LogEnv)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Namespace -&gt; IO Namespace
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Namespace
</span><a href="#local-6989586621679215051"><span class="hs-identifier hs-var">an</span></a></span><span>
</span><span id="line-716"></span><span>  </span><span class="annot"><span class="annottext">IO (Environment -&gt; IO UTCTime -&gt; Map Text ScribeHandle -&gt; LogEnv)
-&gt; IO Environment
-&gt; IO (IO UTCTime -&gt; Map Text ScribeHandle -&gt; LogEnv)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Environment -&gt; IO Environment
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621679215050"><span class="hs-identifier hs-var">env</span></a></span><span>
</span><span id="line-717"></span><span>  </span><span class="annot"><span class="annottext">IO (IO UTCTime -&gt; Map Text ScribeHandle -&gt; LogEnv)
-&gt; IO (IO UTCTime) -&gt; IO (Map Text ScribeHandle -&gt; LogEnv)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">UpdateSettings UTCTime -&gt; IO (IO UTCTime)
forall a. UpdateSettings a -&gt; IO (IO a)
</span><a href="../../../../auto-update/html/src"><span class="hs-identifier hs-var">mkAutoUpdate</span></a></span><span> </span><span class="annot"><span class="annottext">UpdateSettings ()
</span><a href="../../../../auto-update/html/src"><span class="hs-identifier hs-var">defaultUpdateSettings</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">updateAction :: IO UTCTime
</span><a href="../../../../auto-update/html/src"><span class="hs-identifier hs-var">updateAction</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO UTCTime
</span><a href="../../../../time/html/src"><span class="hs-identifier hs-var">getCurrentTime</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">updateFreq :: Int
</span><a href="../../../../auto-update/html/src"><span class="hs-identifier hs-var">updateFreq</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1000</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-718"></span><span>  </span><span class="annot"><span class="annottext">IO (Map Text ScribeHandle -&gt; LogEnv)
-&gt; IO (Map Text ScribeHandle) -&gt; IO LogEnv
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Map Text ScribeHandle -&gt; IO (Map Text ScribeHandle)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Map Text ScribeHandle
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-719"></span><span>
</span><span id="line-720"></span><span>
</span><span id="line-721"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-722"></span><span class="hs-comment">-- | Add a scribe to the list. All future log calls will go to this</span><span>
</span><span id="line-723"></span><span class="hs-comment">-- scribe in addition to the others. Writes will be buffered per the</span><span>
</span><span id="line-724"></span><span class="hs-comment">-- ScribeSettings to prevent slow scribes from slowing down</span><span>
</span><span id="line-725"></span><span class="hs-comment">-- logging. Writes will be dropped if the buffer fills.</span><span>
</span><span id="line-726"></span><span class="annot"><a href="Katip.Core.html#registerScribe"><span class="hs-identifier hs-type">registerScribe</span></a></span><span>
</span><span id="line-727"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span>
</span><span id="line-728"></span><span>    </span><span class="hs-comment">-- ^ Name the scribe</span><span>
</span><span id="line-729"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Scribe"><span class="hs-identifier hs-type">Scribe</span></a></span><span>
</span><span id="line-730"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#ScribeSettings"><span class="hs-identifier hs-type">ScribeSettings</span></a></span><span>
</span><span id="line-731"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#LogEnv"><span class="hs-identifier hs-type">LogEnv</span></a></span><span>
</span><span id="line-732"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#LogEnv"><span class="hs-identifier hs-type">LogEnv</span></a></span><span>
</span><span id="line-733"></span><span id="registerScribe"><span class="annot"><span class="annottext">registerScribe :: Text -&gt; Scribe -&gt; ScribeSettings -&gt; LogEnv -&gt; IO LogEnv
</span><a href="Katip.Core.html#registerScribe"><span class="hs-identifier hs-var hs-var">registerScribe</span></a></span></span><span> </span><span id="local-6989586621679215041"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679215041"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621679215040"><span class="annot"><span class="annottext">Scribe
</span><a href="#local-6989586621679215040"><span class="hs-identifier hs-var">scribe</span></a></span></span><span> </span><span class="annot"><a href="Katip.Core.html#ScribeSettings"><span class="hs-identifier hs-type">ScribeSettings</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621679215038"><span class="annot"><span class="annottext">Int
_scribeBufferSize :: ScribeSettings -&gt; Int
_scribeBufferSize :: Int
</span><a href="Katip.Core.html#_scribeBufferSize"><span class="hs-glyph hs-var hs-var">..</span></a></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621679215036"><span class="annot"><span class="annottext">LogEnv
</span><a href="#local-6989586621679215036"><span class="hs-identifier hs-var">le</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-734"></span><span>  </span><span id="local-6989586621679215035"><span class="annot"><span class="annottext">TBQueue WorkerMessage
</span><a href="#local-6989586621679215035"><span class="hs-identifier hs-var">queue</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">STM (TBQueue WorkerMessage) -&gt; IO (TBQueue WorkerMessage)
forall a. STM a -&gt; IO a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">atomically</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Natural -&gt; STM (TBQueue WorkerMessage)
forall a. Natural -&gt; STM (TBQueue a)
</span><a href="../../../../stm/html/src"><span class="hs-identifier hs-var">BQ.newTBQueue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Natural
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679215038"><span class="hs-identifier hs-var">_scribeBufferSize</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-735"></span><span>  </span><span id="local-6989586621679215032"><span class="annot"><span class="annottext">Async ()
</span><a href="#local-6989586621679215032"><span class="hs-identifier hs-var">worker</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Scribe -&gt; TBQueue WorkerMessage -&gt; IO (Async ())
</span><a href="Katip.Core.html#spawnScribeWorker"><span class="hs-identifier hs-var">spawnScribeWorker</span></a></span><span> </span><span class="annot"><span class="annottext">Scribe
</span><a href="#local-6989586621679215040"><span class="hs-identifier hs-var">scribe</span></a></span><span> </span><span class="annot"><span class="annottext">TBQueue WorkerMessage
</span><a href="#local-6989586621679215035"><span class="hs-identifier hs-var">queue</span></a></span><span>
</span><span id="line-736"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679215030"><span class="annot"><span class="annottext">fin :: IO ()
</span><a href="#local-6989586621679215030"><span class="hs-identifier hs-var hs-var">fin</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-737"></span><span>        </span><span class="annot"><span class="annottext">STM () -&gt; IO ()
forall a. STM a -&gt; IO a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">atomically</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TBQueue WorkerMessage -&gt; WorkerMessage -&gt; STM ()
forall a. TBQueue a -&gt; a -&gt; STM ()
</span><a href="../../../../stm/html/src"><span class="hs-identifier hs-var">BQ.writeTBQueue</span></a></span><span> </span><span class="annot"><span class="annottext">TBQueue WorkerMessage
</span><a href="#local-6989586621679215035"><span class="hs-identifier hs-var">queue</span></a></span><span> </span><span class="annot"><span class="annottext">WorkerMessage
</span><a href="Katip.Core.html#PoisonPill"><span class="hs-identifier hs-var">PoisonPill</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-738"></span><span>        </span><span class="hs-comment">-- wait for our worker to finish final write</span><span>
</span><span id="line-739"></span><span>        </span><span class="annot"><span class="annottext">IO (Either SomeException ()) -&gt; IO ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">void</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Async () -&gt; IO (Either SomeException ())
forall a. Async a -&gt; IO (Either SomeException a)
</span><a href="../../../../async/html/src"><span class="hs-identifier hs-var">Async.waitCatch</span></a></span><span> </span><span class="annot"><span class="annottext">Async ()
</span><a href="#local-6989586621679215032"><span class="hs-identifier hs-var">worker</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-740"></span><span>        </span><span class="hs-comment">-- wait for scribe to finish final write</span><span>
</span><span id="line-741"></span><span>        </span><span class="annot"><span class="annottext">IO () -&gt; IO ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">void</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Scribe -&gt; IO ()
</span><a href="Katip.Core.html#scribeFinalizer"><span class="hs-identifier hs-var hs-var">scribeFinalizer</span></a></span><span> </span><span class="annot"><span class="annottext">Scribe
</span><a href="#local-6989586621679215040"><span class="hs-identifier hs-var">scribe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-742"></span><span>
</span><span id="line-743"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679215027"><span class="annot"><span class="annottext">sh :: ScribeHandle
</span><a href="#local-6989586621679215027"><span class="hs-identifier hs-var hs-var">sh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Scribe -&gt; TBQueue WorkerMessage -&gt; ScribeHandle
</span><a href="Katip.Core.html#ScribeHandle"><span class="hs-identifier hs-var">ScribeHandle</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Scribe
</span><a href="#local-6989586621679215040"><span class="hs-identifier hs-var">scribe</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">scribeFinalizer :: IO ()
</span><a href="Katip.Core.html#scribeFinalizer"><span class="hs-identifier hs-var">scribeFinalizer</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO ()
</span><a href="#local-6989586621679215030"><span class="hs-identifier hs-var">fin</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TBQueue WorkerMessage
</span><a href="#local-6989586621679215035"><span class="hs-identifier hs-var">queue</span></a></span><span>
</span><span id="line-744"></span><span>  </span><span class="annot"><span class="annottext">LogEnv -&gt; IO LogEnv
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LogEnv
</span><a href="#local-6989586621679215036"><span class="hs-identifier hs-var">le</span></a></span><span> </span><span class="annot"><span class="annottext">LogEnv -&gt; (LogEnv -&gt; LogEnv) -&gt; LogEnv
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Map Text ScribeHandle -&gt; Identity (Map Text ScribeHandle))
-&gt; LogEnv -&gt; Identity LogEnv
Lens' LogEnv (Map Text ScribeHandle)
</span><a href="Katip.Core.html#logEnvScribes"><span class="hs-identifier hs-var">logEnvScribes</span></a></span><span> </span><span class="annot"><span class="annottext">((Map Text ScribeHandle -&gt; Identity (Map Text ScribeHandle))
 -&gt; LogEnv -&gt; Identity LogEnv)
-&gt; (Map Text ScribeHandle -&gt; Map Text ScribeHandle)
-&gt; LogEnv
-&gt; LogEnv
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><a href="../../../../microlens/html/src"><span class="hs-operator hs-var">%~</span></a></span><span> </span><span class="annot"><span class="annottext">Text
-&gt; ScribeHandle -&gt; Map Text ScribeHandle -&gt; Map Text ScribeHandle
forall k a. Ord k =&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><a href="../../../../containers/html/src"><span class="hs-identifier hs-var">M.insert</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679215041"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">ScribeHandle
</span><a href="#local-6989586621679215027"><span class="hs-identifier hs-var">sh</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-745"></span><span>
</span><span id="line-746"></span><span>
</span><span id="line-747"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-748"></span><span class="annot"><a href="Katip.Core.html#spawnScribeWorker"><span class="hs-identifier hs-type">spawnScribeWorker</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Katip.Core.html#Scribe"><span class="hs-identifier hs-type">Scribe</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../stm/html/src"><span class="hs-identifier hs-type">BQ.TBQueue</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#WorkerMessage"><span class="hs-identifier hs-type">WorkerMessage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../async/html/src"><span class="hs-identifier hs-type">Async.Async</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-749"></span><span id="spawnScribeWorker"><span class="annot"><span class="annottext">spawnScribeWorker :: Scribe -&gt; TBQueue WorkerMessage -&gt; IO (Async ())
</span><a href="Katip.Core.html#spawnScribeWorker"><span class="hs-identifier hs-var hs-var">spawnScribeWorker</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#Scribe"><span class="hs-identifier hs-type">Scribe</span></a></span><span> </span><span id="local-6989586621679215025"><span class="annot"><span class="annottext">forall a. LogItem a =&gt; Item a -&gt; IO ()
</span><a href="#local-6989586621679215025"><span class="hs-identifier hs-var">write</span></a></span></span><span> </span><span class="annot"><span class="annottext">IO ()
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">PermitFunc
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679215024"><span class="annot"><span class="annottext">TBQueue WorkerMessage
</span><a href="#local-6989586621679215024"><span class="hs-identifier hs-var">queue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO () -&gt; IO (Async ())
forall a. IO a -&gt; IO (Async a)
</span><a href="../../../../async/html/src"><span class="hs-identifier hs-var">Async.async</span></a></span><span> </span><span class="annot"><span class="annottext">IO ()
</span><a href="#local-6989586621679215022"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-750"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-751"></span><span>    </span><span id="local-6989586621679215022"><span class="annot"><span class="annottext">go :: IO ()
</span><a href="#local-6989586621679215022"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-752"></span><span>      </span><span id="local-6989586621679215021"><span class="annot"><span class="annottext">WorkerMessage
</span><a href="#local-6989586621679215021"><span class="hs-identifier hs-var">newCmd</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">STM WorkerMessage -&gt; IO WorkerMessage
forall a. STM a -&gt; IO a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">atomically</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TBQueue WorkerMessage -&gt; STM WorkerMessage
forall a. TBQueue a -&gt; STM a
</span><a href="../../../../stm/html/src"><span class="hs-identifier hs-var">BQ.readTBQueue</span></a></span><span> </span><span class="annot"><span class="annottext">TBQueue WorkerMessage
</span><a href="#local-6989586621679215024"><span class="hs-identifier hs-var">queue</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-753"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">WorkerMessage
</span><a href="#local-6989586621679215021"><span class="hs-identifier hs-var">newCmd</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-754"></span><span>        </span><span class="annot"><a href="Katip.Core.html#NewItem"><span class="hs-identifier hs-type">NewItem</span></a></span><span> </span><span id="local-6989586621679215019"><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215019"><span class="hs-identifier hs-var">a</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-755"></span><span>          </span><span class="hs-comment">-- Swallow any direct exceptions from the</span><span>
</span><span id="line-756"></span><span>          </span><span class="hs-comment">-- scribe. safe-exceptions won't catch async exceptions.</span><span>
</span><span id="line-757"></span><span>          </span><span class="annot"><span class="annottext">IO (Either SomeException ()) -&gt; IO ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">void</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO () -&gt; IO (Either SomeException ())
forall (m :: * -&gt; *) a.
MonadCatch m =&gt;
m a -&gt; m (Either SomeException a)
</span><a href="../../../../safe-exceptions/html/src"><span class="hs-identifier hs-var">tryAny</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Item a -&gt; IO ()
forall a. LogItem a =&gt; Item a -&gt; IO ()
</span><a href="#local-6989586621679215025"><span class="hs-identifier hs-var">write</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679215019"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-758"></span><span>          </span><span class="annot"><span class="annottext">IO ()
</span><a href="#local-6989586621679215022"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-759"></span><span>        </span><span class="annot"><span class="annottext">WorkerMessage
</span><a href="Katip.Core.html#PoisonPill"><span class="hs-identifier hs-var">PoisonPill</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; IO ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-760"></span><span>
</span><span id="line-761"></span><span>
</span><span id="line-762"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-763"></span><span class="hs-keyword">data</span><span> </span><span id="ScribeSettings"><span class="annot"><a href="Katip.Core.html#ScribeSettings"><span class="hs-identifier hs-var">ScribeSettings</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ScribeSettings"><span class="annot"><a href="Katip.Core.html#ScribeSettings"><span class="hs-identifier hs-var">ScribeSettings</span></a></span></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-764"></span><span>      </span><span id="_scribeBufferSize"><span class="annot"><span class="annottext">ScribeSettings -&gt; Int
</span><a href="Katip.Core.html#_scribeBufferSize"><span class="hs-identifier hs-var hs-var">_scribeBufferSize</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Int</span></a></span><span>
</span><span id="line-765"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-766"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679215012"><span id="local-6989586621679215014"><span id="local-6989586621679215016"><span class="annot"><span class="annottext">Int -&gt; ScribeSettings -&gt; ShowS
[ScribeSettings] -&gt; ShowS
ScribeSettings -&gt; String
(Int -&gt; ScribeSettings -&gt; ShowS)
-&gt; (ScribeSettings -&gt; String)
-&gt; ([ScribeSettings] -&gt; ShowS)
-&gt; Show ScribeSettings
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [ScribeSettings] -&gt; ShowS
$cshowList :: [ScribeSettings] -&gt; ShowS
show :: ScribeSettings -&gt; String
$cshow :: ScribeSettings -&gt; String
showsPrec :: Int -&gt; ScribeSettings -&gt; ShowS
$cshowsPrec :: Int -&gt; ScribeSettings -&gt; ShowS
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679215008"><span id="local-6989586621679215010"><span class="annot"><span class="annottext">ScribeSettings -&gt; ScribeSettings -&gt; Bool
(ScribeSettings -&gt; ScribeSettings -&gt; Bool)
-&gt; (ScribeSettings -&gt; ScribeSettings -&gt; Bool) -&gt; Eq ScribeSettings
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: ScribeSettings -&gt; ScribeSettings -&gt; Bool
$c/= :: ScribeSettings -&gt; ScribeSettings -&gt; Bool
== :: ScribeSettings -&gt; ScribeSettings -&gt; Bool
$c== :: ScribeSettings -&gt; ScribeSettings -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-767"></span><span>
</span><span id="line-768"></span><span id="scribeBufferSize"><span class="hs-identifier">makeLenses</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">ScribeSettings</span></span><span>
</span><span id="line-769"></span><span>
</span><span id="line-770"></span><span>
</span><span id="line-771"></span><span class="hs-comment">-- | Reasonable defaults for a scribe. Buffer</span><span>
</span><span id="line-772"></span><span class="hs-comment">-- size of 4096.</span><span>
</span><span id="line-773"></span><span class="annot"><a href="Katip.Core.html#defaultScribeSettings"><span class="hs-identifier hs-type">defaultScribeSettings</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Katip.Core.html#ScribeSettings"><span class="hs-identifier hs-type">ScribeSettings</span></a></span><span>
</span><span id="line-774"></span><span id="defaultScribeSettings"><span class="annot"><span class="annottext">defaultScribeSettings :: ScribeSettings
</span><a href="Katip.Core.html#defaultScribeSettings"><span class="hs-identifier hs-var hs-var">defaultScribeSettings</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; ScribeSettings
</span><a href="Katip.Core.html#ScribeSettings"><span class="hs-identifier hs-var">ScribeSettings</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4096</span></span><span>
</span><span id="line-775"></span><span>
</span><span id="line-776"></span><span>
</span><span id="line-777"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-778"></span><span class="hs-comment">-- | Remove a scribe from the environment. This does __not__ finalize</span><span>
</span><span id="line-779"></span><span class="hs-comment">-- the scribe. This mainly only makes sense to use with something like</span><span>
</span><span id="line-780"></span><span class="hs-comment">-- MonadReader's @local@ function to temporarily disavow a single</span><span>
</span><span id="line-781"></span><span class="hs-comment">-- logger for a block of code.</span><span>
</span><span id="line-782"></span><span class="annot"><a href="Katip.Core.html#unregisterScribe"><span class="hs-identifier hs-type">unregisterScribe</span></a></span><span>
</span><span id="line-783"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span>
</span><span id="line-784"></span><span>    </span><span class="hs-comment">-- ^ Name of the scribe</span><span>
</span><span id="line-785"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#LogEnv"><span class="hs-identifier hs-type">LogEnv</span></a></span><span>
</span><span id="line-786"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#LogEnv"><span class="hs-identifier hs-type">LogEnv</span></a></span><span>
</span><span id="line-787"></span><span id="unregisterScribe"><span class="annot"><span class="annottext">unregisterScribe :: Text -&gt; LogEnv -&gt; LogEnv
</span><a href="Katip.Core.html#unregisterScribe"><span class="hs-identifier hs-var hs-var">unregisterScribe</span></a></span></span><span> </span><span id="local-6989586621679215004"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679215004"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">(Map Text ScribeHandle -&gt; Identity (Map Text ScribeHandle))
-&gt; LogEnv -&gt; Identity LogEnv
Lens' LogEnv (Map Text ScribeHandle)
</span><a href="Katip.Core.html#logEnvScribes"><span class="hs-identifier hs-var">logEnvScribes</span></a></span><span> </span><span class="annot"><span class="annottext">((Map Text ScribeHandle -&gt; Identity (Map Text ScribeHandle))
 -&gt; LogEnv -&gt; Identity LogEnv)
-&gt; (Map Text ScribeHandle -&gt; Map Text ScribeHandle)
-&gt; LogEnv
-&gt; LogEnv
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><a href="../../../../microlens/html/src"><span class="hs-operator hs-var">%~</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Map Text ScribeHandle -&gt; Map Text ScribeHandle
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Map k a
</span><a href="../../../../containers/html/src"><span class="hs-identifier hs-var">M.delete</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679215004"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-788"></span><span>
</span><span id="line-789"></span><span>
</span><span id="line-790"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-791"></span><span class="hs-comment">-- | Unregister __all__ scribes. Note that this is __not__ for closing or</span><span>
</span><span id="line-792"></span><span class="hs-comment">-- finalizing scribes, use 'closeScribes' for that. This mainly only</span><span>
</span><span id="line-793"></span><span class="hs-comment">-- makes sense to use with something like MonadReader's @local@</span><span>
</span><span id="line-794"></span><span class="hs-comment">-- function to temporarily disavow any loggers for a block of code.</span><span>
</span><span id="line-795"></span><span class="annot"><a href="Katip.Core.html#clearScribes"><span class="hs-identifier hs-type">clearScribes</span></a></span><span>
</span><span id="line-796"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Katip.Core.html#LogEnv"><span class="hs-identifier hs-type">LogEnv</span></a></span><span>
</span><span id="line-797"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#LogEnv"><span class="hs-identifier hs-type">LogEnv</span></a></span><span>
</span><span id="line-798"></span><span id="clearScribes"><span class="annot"><span class="annottext">clearScribes :: LogEnv -&gt; LogEnv
</span><a href="Katip.Core.html#clearScribes"><span class="hs-identifier hs-var hs-var">clearScribes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Map Text ScribeHandle -&gt; Identity (Map Text ScribeHandle))
-&gt; LogEnv -&gt; Identity LogEnv
Lens' LogEnv (Map Text ScribeHandle)
</span><a href="Katip.Core.html#logEnvScribes"><span class="hs-identifier hs-var">logEnvScribes</span></a></span><span> </span><span class="annot"><span class="annottext">((Map Text ScribeHandle -&gt; Identity (Map Text ScribeHandle))
 -&gt; LogEnv -&gt; Identity LogEnv)
-&gt; Map Text ScribeHandle -&gt; LogEnv -&gt; LogEnv
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><a href="../../../../microlens/html/src"><span class="hs-operator hs-var">.~</span></a></span><span> </span><span class="annot"><span class="annottext">Map Text ScribeHandle
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span>
</span><span id="line-799"></span><span>
</span><span id="line-800"></span><span>
</span><span id="line-801"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-802"></span><span class="hs-comment">-- | Finalize a scribe. The scribe is removed from the environment,</span><span>
</span><span id="line-803"></span><span class="hs-comment">-- its finalizer is called so that it can never be written to again</span><span>
</span><span id="line-804"></span><span class="hs-comment">-- and all pending writes are flushed. Note that this will throw any</span><span>
</span><span id="line-805"></span><span class="hs-comment">-- exceptions yoru finalizer will throw, and that LogEnv is immutable,</span><span>
</span><span id="line-806"></span><span class="hs-comment">-- so it will not be removed in that case.</span><span>
</span><span id="line-807"></span><span class="annot"><a href="Katip.Core.html#closeScribe"><span class="hs-identifier hs-type">closeScribe</span></a></span><span>
</span><span id="line-808"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../text/html/src"><span class="hs-identifier hs-type">Text</span></a></span><span>
</span><span id="line-809"></span><span>    </span><span class="hs-comment">-- ^ Name of the scribe</span><span>
</span><span id="line-810"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#LogEnv"><span class="hs-identifier hs-type">LogEnv</span></a></span><span>
</span><span id="line-811"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#LogEnv"><span class="hs-identifier hs-type">LogEnv</span></a></span><span>
</span><span id="line-812"></span><span id="closeScribe"><span class="annot"><span class="annottext">closeScribe :: Text -&gt; LogEnv -&gt; IO LogEnv
</span><a href="Katip.Core.html#closeScribe"><span class="hs-identifier hs-var hs-var">closeScribe</span></a></span></span><span> </span><span id="local-6989586621679214999"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679214999"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621679214998"><span class="annot"><span class="annottext">LogEnv
</span><a href="#local-6989586621679214998"><span class="hs-identifier hs-var">le</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-813"></span><span>  </span><span class="annot"><span class="annottext">IO () -&gt; (ScribeHandle -&gt; IO ()) -&gt; Maybe ScribeHandle -&gt; IO ()
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; IO ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Scribe -&gt; IO ()
</span><a href="Katip.Core.html#scribeFinalizer"><span class="hs-identifier hs-var hs-var">scribeFinalizer</span></a></span><span> </span><span class="annot"><span class="annottext">(Scribe -&gt; IO ())
-&gt; (ScribeHandle -&gt; Scribe) -&gt; ScribeHandle -&gt; IO ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">ScribeHandle -&gt; Scribe
</span><a href="Katip.Core.html#shScribe"><span class="hs-identifier hs-var hs-var">shScribe</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Map Text ScribeHandle -&gt; Maybe ScribeHandle
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="../../../../containers/html/src"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679214999"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LogEnv -&gt; Map Text ScribeHandle
</span><a href="Katip.Core.html#_logEnvScribes"><span class="hs-identifier hs-var hs-var">_logEnvScribes</span></a></span><span> </span><span class="annot"><span class="annottext">LogEnv
</span><a href="#local-6989586621679214998"><span class="hs-identifier hs-var">le</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-814"></span><span>  </span><span class="annot"><span class="annottext">LogEnv -&gt; IO LogEnv
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LogEnv
</span><a href="#local-6989586621679214998"><span class="hs-identifier hs-var">le</span></a></span><span> </span><span class="annot"><span class="annottext">LogEnv -&gt; (LogEnv -&gt; LogEnv) -&gt; LogEnv
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Map Text ScribeHandle -&gt; Identity (Map Text ScribeHandle))
-&gt; LogEnv -&gt; Identity LogEnv
Lens' LogEnv (Map Text ScribeHandle)
</span><a href="Katip.Core.html#logEnvScribes"><span class="hs-identifier hs-var">logEnvScribes</span></a></span><span> </span><span class="annot"><span class="annottext">((Map Text ScribeHandle -&gt; Identity (Map Text ScribeHandle))
 -&gt; LogEnv -&gt; Identity LogEnv)
-&gt; (Map Text ScribeHandle -&gt; Map Text ScribeHandle)
-&gt; LogEnv
-&gt; LogEnv
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><a href="../../../../microlens/html/src"><span class="hs-operator hs-var">%~</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Map Text ScribeHandle -&gt; Map Text ScribeHandle
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Map k a
</span><a href="../../../../containers/html/src"><span class="hs-identifier hs-var">M.delete</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679214999"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-815"></span><span>
</span><span id="line-816"></span><span>
</span><span id="line-817"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-818"></span><span class="hs-comment">-- | Call this at the end of your program. This is a blocking call</span><span>
</span><span id="line-819"></span><span class="hs-comment">-- that stop writing to a scribe's queue, waits for the queue to</span><span>
</span><span id="line-820"></span><span class="hs-comment">-- empty, finalizes each scribe in the log environment and then</span><span>
</span><span id="line-821"></span><span class="hs-comment">-- removes it. Finalizers are all run even if one of them throws, but</span><span>
</span><span id="line-822"></span><span class="hs-comment">-- the exception will be re-thrown at the end.</span><span>
</span><span id="line-823"></span><span class="annot"><a href="Katip.Core.html#closeScribes"><span class="hs-identifier hs-type">closeScribes</span></a></span><span>
</span><span id="line-824"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Katip.Core.html#LogEnv"><span class="hs-identifier hs-type">LogEnv</span></a></span><span>
</span><span id="line-825"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#LogEnv"><span class="hs-identifier hs-type">LogEnv</span></a></span><span>
</span><span id="line-826"></span><span id="closeScribes"><span class="annot"><span class="annottext">closeScribes :: LogEnv -&gt; IO LogEnv
</span><a href="Katip.Core.html#closeScribes"><span class="hs-identifier hs-var hs-var">closeScribes</span></a></span></span><span> </span><span id="local-6989586621679214994"><span class="annot"><span class="annottext">LogEnv
</span><a href="#local-6989586621679214994"><span class="hs-identifier hs-var">le</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-827"></span><span>  </span><span class="hs-comment">-- We want to run every finalizer here so we'll not save</span><span>
</span><span id="line-828"></span><span>  </span><span class="hs-comment">-- intermediate logenvs and just clear scribes at the end.</span><span>
</span><span id="line-829"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679214993"><span class="annot"><span class="annottext">actions :: [IO ()]
</span><a href="#local-6989586621679214993"><span class="hs-identifier hs-var hs-var">actions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IO LogEnv -&gt; IO ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">void</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; LogEnv -&gt; IO LogEnv
</span><a href="Katip.Core.html#closeScribe"><span class="hs-identifier hs-var">closeScribe</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679214992"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">LogEnv
</span><a href="#local-6989586621679214994"><span class="hs-identifier hs-var">le</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679214992"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679214992"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Map Text ScribeHandle -&gt; [Text]
forall k a. Map k a -&gt; [k]
</span><a href="../../../../containers/html/src"><span class="hs-identifier hs-var">M.keys</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LogEnv -&gt; Map Text ScribeHandle
</span><a href="Katip.Core.html#_logEnvScribes"><span class="hs-identifier hs-var hs-var">_logEnvScribes</span></a></span><span> </span><span class="annot"><span class="annottext">LogEnv
</span><a href="#local-6989586621679214994"><span class="hs-identifier hs-var">le</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-830"></span><span>  </span><span class="annot"><span class="annottext">(IO () -&gt; IO () -&gt; IO ()) -&gt; IO () -&gt; [IO ()] -&gt; IO ()
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">FT.foldr</span></a></span><span> </span><span class="annot"><span class="annottext">IO () -&gt; IO () -&gt; IO ()
forall (m :: * -&gt; *) a b. MonadMask m =&gt; m a -&gt; m b -&gt; m a
</span><a href="../../../../safe-exceptions/html/src"><span class="hs-identifier hs-var">finally</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; IO ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[IO ()]
</span><a href="#local-6989586621679214993"><span class="hs-identifier hs-var">actions</span></a></span><span>
</span><span id="line-831"></span><span>  </span><span class="annot"><span class="annottext">LogEnv -&gt; IO LogEnv
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LogEnv
</span><a href="#local-6989586621679214994"><span class="hs-identifier hs-var">le</span></a></span><span> </span><span class="annot"><span class="annottext">LogEnv -&gt; (LogEnv -&gt; LogEnv) -&gt; LogEnv
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Map Text ScribeHandle -&gt; Identity (Map Text ScribeHandle))
-&gt; LogEnv -&gt; Identity LogEnv
Lens' LogEnv (Map Text ScribeHandle)
</span><a href="Katip.Core.html#logEnvScribes"><span class="hs-identifier hs-var">logEnvScribes</span></a></span><span> </span><span class="annot"><span class="annottext">((Map Text ScribeHandle -&gt; Identity (Map Text ScribeHandle))
 -&gt; LogEnv -&gt; Identity LogEnv)
-&gt; Map Text ScribeHandle -&gt; LogEnv -&gt; LogEnv
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><a href="../../../../microlens/html/src"><span class="hs-operator hs-var">.~</span></a></span><span> </span><span class="annot"><span class="annottext">Map Text ScribeHandle
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-832"></span><span>
</span><span id="line-833"></span><span>
</span><span id="line-834"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-835"></span><span class="hs-comment">-- | Monads where katip logging actions can be performed. Katip is the</span><span>
</span><span id="line-836"></span><span class="hs-comment">-- most basic logging monad. You will typically use this directly if</span><span>
</span><span id="line-837"></span><span class="hs-comment">-- you either don't want to use namespaces/contexts heavily or if you</span><span>
</span><span id="line-838"></span><span class="hs-comment">-- want to pass in specific contexts and/or namespaces at each log site.</span><span>
</span><span id="line-839"></span><span class="hs-comment">--</span><span>
</span><span id="line-840"></span><span class="hs-comment">-- For something more powerful, look at the docs for 'KatipContext',</span><span>
</span><span id="line-841"></span><span class="hs-comment">-- which keeps a namespace and merged context. You can write simple</span><span>
</span><span id="line-842"></span><span class="hs-comment">-- functions that add additional namespacing and merges additional</span><span>
</span><span id="line-843"></span><span class="hs-comment">-- context on the fly.</span><span>
</span><span id="line-844"></span><span class="hs-comment">--</span><span>
</span><span id="line-845"></span><span class="hs-comment">-- 'localLogEnv' was added to allow for lexically-scoped modifications</span><span>
</span><span id="line-846"></span><span class="hs-comment">-- of the log env that are reverted when the supplied monad</span><span>
</span><span id="line-847"></span><span class="hs-comment">-- completes. 'katipNoLogging', for example, uses this to temporarily</span><span>
</span><span id="line-848"></span><span class="hs-comment">-- pause log outputs.</span><span>
</span><span id="line-849"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679216110"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="Katip"><span class="annot"><a href="Katip.Core.html#Katip"><span class="hs-identifier hs-var">Katip</span></a></span></span><span> </span><span id="local-6989586621679216110"><span class="annot"><a href="#local-6989586621679216110"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-850"></span><span>    </span><span id="getLogEnv"><span class="annot"><a href="Katip.Core.html#getLogEnv"><span class="hs-identifier hs-type">getLogEnv</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679216110"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#LogEnv"><span class="hs-identifier hs-type">LogEnv</span></a></span><span>
</span><span id="line-851"></span><span>    </span><span id="local-6989586621679216112"><span id="localLogEnv"><span class="annot"><a href="Katip.Core.html#localLogEnv"><span class="hs-identifier hs-type">localLogEnv</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#LogEnv"><span class="hs-identifier hs-type">LogEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#LogEnv"><span class="hs-identifier hs-type">LogEnv</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679216110"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679216112"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679216110"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679216112"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-852"></span><span>
</span><span id="line-853"></span><span>
</span><span id="line-854"></span><span id="local-6989586621679214986"><span id="local-6989586621679214987"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Katip.Core.html#Katip"><span class="hs-identifier hs-type">Katip</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214987"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Katip"><span class="hs-identifier hs-type">Katip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier hs-type">ReaderT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214986"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214987"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-855"></span><span>    </span><span id="local-6989586621679214981"><span class="annot"><span class="annottext">getLogEnv :: ReaderT s m LogEnv
</span><a href="#local-6989586621679214981"><span class="hs-identifier hs-var hs-var hs-var hs-var">getLogEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m LogEnv -&gt; ReaderT s m LogEnv
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">m LogEnv
forall (m :: * -&gt; *). Katip m =&gt; m LogEnv
</span><a href="Katip.Core.html#getLogEnv"><span class="hs-identifier hs-var">getLogEnv</span></a></span><span>
</span><span id="line-856"></span><span>    </span><span id="local-6989586621679214979"><span class="annot"><span class="annottext">localLogEnv :: (LogEnv -&gt; LogEnv) -&gt; ReaderT s m a -&gt; ReaderT s m a
</span><a href="#local-6989586621679214979"><span class="hs-identifier hs-var hs-var hs-var hs-var">localLogEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(m a -&gt; m a) -&gt; ReaderT s m a -&gt; ReaderT s m a
forall (m :: * -&gt; *) a (n :: * -&gt; *) b r.
(m a -&gt; n b) -&gt; ReaderT r m a -&gt; ReaderT r n b
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">mapReaderT</span></a></span><span> </span><span class="annot"><span class="annottext">((m a -&gt; m a) -&gt; ReaderT s m a -&gt; ReaderT s m a)
-&gt; ((LogEnv -&gt; LogEnv) -&gt; m a -&gt; m a)
-&gt; (LogEnv -&gt; LogEnv)
-&gt; ReaderT s m a
-&gt; ReaderT s m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(LogEnv -&gt; LogEnv) -&gt; m a -&gt; m a
forall (m :: * -&gt; *) a. Katip m =&gt; (LogEnv -&gt; LogEnv) -&gt; m a -&gt; m a
</span><a href="Katip.Core.html#localLogEnv"><span class="hs-identifier hs-var">localLogEnv</span></a></span></span></span><span class="hs-cpp">


#if !MIN_VERSION_either(4, 5, 0)
</span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Katip</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier">Katip</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">EitherT</span><span> </span><span class="hs-identifier">s</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-861"></span><span>    </span><span class="hs-identifier">getLogEnv</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">lift</span><span> </span><span class="hs-identifier">getLogEnv</span><span>
</span><span id="line-862"></span><span>    </span><span class="hs-identifier">localLogEnv</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">mapEitherT</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">localLogEnv</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-865"></span><span>
</span><span id="line-866"></span><span id="local-6989586621679214976"><span id="local-6989586621679214977"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Katip.Core.html#Katip"><span class="hs-identifier hs-type">Katip</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214977"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Katip"><span class="hs-identifier hs-type">Katip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier hs-type">ExceptT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214976"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214977"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-867"></span><span>    </span><span id="local-6989586621679214972"><span class="annot"><span class="annottext">getLogEnv :: ExceptT s m LogEnv
</span><a href="#local-6989586621679214972"><span class="hs-identifier hs-var hs-var hs-var hs-var">getLogEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m LogEnv -&gt; ExceptT s m LogEnv
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">m LogEnv
forall (m :: * -&gt; *). Katip m =&gt; m LogEnv
</span><a href="Katip.Core.html#getLogEnv"><span class="hs-identifier hs-var">getLogEnv</span></a></span><span>
</span><span id="line-868"></span><span>    </span><span id="local-6989586621679214971"><span class="annot"><span class="annottext">localLogEnv :: (LogEnv -&gt; LogEnv) -&gt; ExceptT s m a -&gt; ExceptT s m a
</span><a href="#local-6989586621679214971"><span class="hs-identifier hs-var hs-var hs-var hs-var">localLogEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(m (Either s a) -&gt; m (Either s a))
-&gt; ExceptT s m a -&gt; ExceptT s m a
forall (m :: * -&gt; *) e a (n :: * -&gt; *) e' b.
(m (Either e a) -&gt; n (Either e' b))
-&gt; ExceptT e m a -&gt; ExceptT e' n b
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">mapExceptT</span></a></span><span> </span><span class="annot"><span class="annottext">((m (Either s a) -&gt; m (Either s a))
 -&gt; ExceptT s m a -&gt; ExceptT s m a)
-&gt; ((LogEnv -&gt; LogEnv) -&gt; m (Either s a) -&gt; m (Either s a))
-&gt; (LogEnv -&gt; LogEnv)
-&gt; ExceptT s m a
-&gt; ExceptT s m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(LogEnv -&gt; LogEnv) -&gt; m (Either s a) -&gt; m (Either s a)
forall (m :: * -&gt; *) a. Katip m =&gt; (LogEnv -&gt; LogEnv) -&gt; m a -&gt; m a
</span><a href="Katip.Core.html#localLogEnv"><span class="hs-identifier hs-var">localLogEnv</span></a></span></span></span><span>
</span><span id="line-869"></span><span>
</span><span id="line-870"></span><span>
</span><span id="line-871"></span><span id="local-6989586621679214969"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Katip.Core.html#Katip"><span class="hs-identifier hs-type">Katip</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214969"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Katip"><span class="hs-identifier hs-type">Katip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier hs-type">MaybeT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214969"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-872"></span><span>    </span><span id="local-6989586621679214965"><span class="annot"><span class="annottext">getLogEnv :: MaybeT m LogEnv
</span><a href="#local-6989586621679214965"><span class="hs-identifier hs-var hs-var hs-var hs-var">getLogEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m LogEnv -&gt; MaybeT m LogEnv
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">m LogEnv
forall (m :: * -&gt; *). Katip m =&gt; m LogEnv
</span><a href="Katip.Core.html#getLogEnv"><span class="hs-identifier hs-var">getLogEnv</span></a></span><span>
</span><span id="line-873"></span><span>    </span><span id="local-6989586621679214964"><span class="annot"><span class="annottext">localLogEnv :: (LogEnv -&gt; LogEnv) -&gt; MaybeT m a -&gt; MaybeT m a
</span><a href="#local-6989586621679214964"><span class="hs-identifier hs-var hs-var hs-var hs-var">localLogEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(m (Maybe a) -&gt; m (Maybe a)) -&gt; MaybeT m a -&gt; MaybeT m a
forall (m :: * -&gt; *) a (n :: * -&gt; *) b.
(m (Maybe a) -&gt; n (Maybe b)) -&gt; MaybeT m a -&gt; MaybeT n b
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">mapMaybeT</span></a></span><span> </span><span class="annot"><span class="annottext">((m (Maybe a) -&gt; m (Maybe a)) -&gt; MaybeT m a -&gt; MaybeT m a)
-&gt; ((LogEnv -&gt; LogEnv) -&gt; m (Maybe a) -&gt; m (Maybe a))
-&gt; (LogEnv -&gt; LogEnv)
-&gt; MaybeT m a
-&gt; MaybeT m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(LogEnv -&gt; LogEnv) -&gt; m (Maybe a) -&gt; m (Maybe a)
forall (m :: * -&gt; *) a. Katip m =&gt; (LogEnv -&gt; LogEnv) -&gt; m a -&gt; m a
</span><a href="Katip.Core.html#localLogEnv"><span class="hs-identifier hs-var">localLogEnv</span></a></span></span><span>
</span><span id="line-874"></span><span>
</span><span id="line-875"></span><span>
</span><span id="line-876"></span><span id="local-6989586621679214961"><span id="local-6989586621679214962"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Katip.Core.html#Katip"><span class="hs-identifier hs-type">Katip</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214962"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Katip"><span class="hs-identifier hs-type">Katip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier hs-type">StateT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214961"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214962"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-877"></span><span>    </span><span id="local-6989586621679214957"><span class="annot"><span class="annottext">getLogEnv :: StateT s m LogEnv
</span><a href="#local-6989586621679214957"><span class="hs-identifier hs-var hs-var hs-var hs-var">getLogEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m LogEnv -&gt; StateT s m LogEnv
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">m LogEnv
forall (m :: * -&gt; *). Katip m =&gt; m LogEnv
</span><a href="Katip.Core.html#getLogEnv"><span class="hs-identifier hs-var">getLogEnv</span></a></span><span>
</span><span id="line-878"></span><span>    </span><span id="local-6989586621679214956"><span class="annot"><span class="annottext">localLogEnv :: (LogEnv -&gt; LogEnv) -&gt; StateT s m a -&gt; StateT s m a
</span><a href="#local-6989586621679214956"><span class="hs-identifier hs-var hs-var hs-var hs-var">localLogEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(m (a, s) -&gt; m (a, s)) -&gt; StateT s m a -&gt; StateT s m a
forall (m :: * -&gt; *) a s (n :: * -&gt; *) b.
(m (a, s) -&gt; n (b, s)) -&gt; StateT s m a -&gt; StateT s n b
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">mapStateT</span></a></span><span> </span><span class="annot"><span class="annottext">((m (a, s) -&gt; m (a, s)) -&gt; StateT s m a -&gt; StateT s m a)
-&gt; ((LogEnv -&gt; LogEnv) -&gt; m (a, s) -&gt; m (a, s))
-&gt; (LogEnv -&gt; LogEnv)
-&gt; StateT s m a
-&gt; StateT s m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(LogEnv -&gt; LogEnv) -&gt; m (a, s) -&gt; m (a, s)
forall (m :: * -&gt; *) a. Katip m =&gt; (LogEnv -&gt; LogEnv) -&gt; m a -&gt; m a
</span><a href="Katip.Core.html#localLogEnv"><span class="hs-identifier hs-var">localLogEnv</span></a></span></span></span><span>
</span><span id="line-879"></span><span>
</span><span id="line-880"></span><span>
</span><span id="line-881"></span><span id="local-6989586621679214952"><span id="local-6989586621679214953"><span id="local-6989586621679214954"><span id="local-6989586621679214955"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#Katip"><span class="hs-identifier hs-type">Katip</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214955"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214954"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Katip"><span class="hs-identifier hs-type">Katip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier hs-type">RWST</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214953"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214954"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214952"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214955"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-882"></span><span>    </span><span id="local-6989586621679214948"><span class="annot"><span class="annottext">getLogEnv :: RWST r w s m LogEnv
</span><a href="#local-6989586621679214948"><span class="hs-identifier hs-var hs-var hs-var hs-var">getLogEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m LogEnv -&gt; RWST r w s m LogEnv
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">m LogEnv
forall (m :: * -&gt; *). Katip m =&gt; m LogEnv
</span><a href="Katip.Core.html#getLogEnv"><span class="hs-identifier hs-var">getLogEnv</span></a></span><span>
</span><span id="line-883"></span><span>    </span><span id="local-6989586621679214947"><span class="annot"><span class="annottext">localLogEnv :: (LogEnv -&gt; LogEnv) -&gt; RWST r w s m a -&gt; RWST r w s m a
</span><a href="#local-6989586621679214947"><span class="hs-identifier hs-var hs-var hs-var hs-var">localLogEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(m (a, s, w) -&gt; m (a, s, w)) -&gt; RWST r w s m a -&gt; RWST r w s m a
forall (m :: * -&gt; *) a s w (n :: * -&gt; *) b w' r.
(m (a, s, w) -&gt; n (b, s, w')) -&gt; RWST r w s m a -&gt; RWST r w' s n b
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">mapRWST</span></a></span><span> </span><span class="annot"><span class="annottext">((m (a, s, w) -&gt; m (a, s, w)) -&gt; RWST r w s m a -&gt; RWST r w s m a)
-&gt; ((LogEnv -&gt; LogEnv) -&gt; m (a, s, w) -&gt; m (a, s, w))
-&gt; (LogEnv -&gt; LogEnv)
-&gt; RWST r w s m a
-&gt; RWST r w s m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(LogEnv -&gt; LogEnv) -&gt; m (a, s, w) -&gt; m (a, s, w)
forall (m :: * -&gt; *) a. Katip m =&gt; (LogEnv -&gt; LogEnv) -&gt; m a -&gt; m a
</span><a href="Katip.Core.html#localLogEnv"><span class="hs-identifier hs-var">localLogEnv</span></a></span></span></span></span></span><span>
</span><span id="line-884"></span><span>
</span><span id="line-885"></span><span>
</span><span id="line-886"></span><span id="local-6989586621679214943"><span id="local-6989586621679214944"><span id="local-6989586621679214945"><span id="local-6989586621679214946"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#Katip"><span class="hs-identifier hs-type">Katip</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214946"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214945"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Katip"><span class="hs-identifier hs-type">Katip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier hs-type">Strict.RWST</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214944"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214945"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214943"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214946"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-887"></span><span>    </span><span id="local-6989586621679214939"><span class="annot"><span class="annottext">getLogEnv :: RWST r w s m LogEnv
</span><a href="#local-6989586621679214939"><span class="hs-identifier hs-var hs-var hs-var hs-var">getLogEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m LogEnv -&gt; RWST r w s m LogEnv
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">m LogEnv
forall (m :: * -&gt; *). Katip m =&gt; m LogEnv
</span><a href="Katip.Core.html#getLogEnv"><span class="hs-identifier hs-var">getLogEnv</span></a></span><span>
</span><span id="line-888"></span><span>    </span><span id="local-6989586621679214938"><span class="annot"><span class="annottext">localLogEnv :: (LogEnv -&gt; LogEnv) -&gt; RWST r w s m a -&gt; RWST r w s m a
</span><a href="#local-6989586621679214938"><span class="hs-identifier hs-var hs-var hs-var hs-var">localLogEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(m (a, s, w) -&gt; m (a, s, w)) -&gt; RWST r w s m a -&gt; RWST r w s m a
forall (m :: * -&gt; *) a s w (n :: * -&gt; *) b w' r.
(m (a, s, w) -&gt; n (b, s, w')) -&gt; RWST r w s m a -&gt; RWST r w' s n b
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">Strict.mapRWST</span></a></span><span> </span><span class="annot"><span class="annottext">((m (a, s, w) -&gt; m (a, s, w)) -&gt; RWST r w s m a -&gt; RWST r w s m a)
-&gt; ((LogEnv -&gt; LogEnv) -&gt; m (a, s, w) -&gt; m (a, s, w))
-&gt; (LogEnv -&gt; LogEnv)
-&gt; RWST r w s m a
-&gt; RWST r w s m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(LogEnv -&gt; LogEnv) -&gt; m (a, s, w) -&gt; m (a, s, w)
forall (m :: * -&gt; *) a. Katip m =&gt; (LogEnv -&gt; LogEnv) -&gt; m a -&gt; m a
</span><a href="Katip.Core.html#localLogEnv"><span class="hs-identifier hs-var">localLogEnv</span></a></span></span></span></span></span><span>
</span><span id="line-889"></span><span>
</span><span id="line-890"></span><span>
</span><span id="line-891"></span><span id="local-6989586621679214936"><span id="local-6989586621679214937"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Katip.Core.html#Katip"><span class="hs-identifier hs-type">Katip</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214937"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Katip"><span class="hs-identifier hs-type">Katip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier hs-type">Strict.StateT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214936"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214937"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-892"></span><span>    </span><span id="local-6989586621679214932"><span class="annot"><span class="annottext">getLogEnv :: StateT s m LogEnv
</span><a href="#local-6989586621679214932"><span class="hs-identifier hs-var hs-var hs-var hs-var">getLogEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m LogEnv -&gt; StateT s m LogEnv
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">m LogEnv
forall (m :: * -&gt; *). Katip m =&gt; m LogEnv
</span><a href="Katip.Core.html#getLogEnv"><span class="hs-identifier hs-var">getLogEnv</span></a></span><span>
</span><span id="line-893"></span><span>    </span><span id="local-6989586621679214931"><span class="annot"><span class="annottext">localLogEnv :: (LogEnv -&gt; LogEnv) -&gt; StateT s m a -&gt; StateT s m a
</span><a href="#local-6989586621679214931"><span class="hs-identifier hs-var hs-var hs-var hs-var">localLogEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(m (a, s) -&gt; m (a, s)) -&gt; StateT s m a -&gt; StateT s m a
forall (m :: * -&gt; *) a s (n :: * -&gt; *) b.
(m (a, s) -&gt; n (b, s)) -&gt; StateT s m a -&gt; StateT s n b
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">Strict.mapStateT</span></a></span><span> </span><span class="annot"><span class="annottext">((m (a, s) -&gt; m (a, s)) -&gt; StateT s m a -&gt; StateT s m a)
-&gt; ((LogEnv -&gt; LogEnv) -&gt; m (a, s) -&gt; m (a, s))
-&gt; (LogEnv -&gt; LogEnv)
-&gt; StateT s m a
-&gt; StateT s m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(LogEnv -&gt; LogEnv) -&gt; m (a, s) -&gt; m (a, s)
forall (m :: * -&gt; *) a. Katip m =&gt; (LogEnv -&gt; LogEnv) -&gt; m a -&gt; m a
</span><a href="Katip.Core.html#localLogEnv"><span class="hs-identifier hs-var">localLogEnv</span></a></span></span></span><span>
</span><span id="line-894"></span><span>
</span><span id="line-895"></span><span>
</span><span id="line-896"></span><span id="local-6989586621679214929"><span id="local-6989586621679214930"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#Katip"><span class="hs-identifier hs-type">Katip</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214930"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214929"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Katip"><span class="hs-identifier hs-type">Katip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier hs-type">WriterT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214929"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214930"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-897"></span><span>    </span><span id="local-6989586621679214925"><span class="annot"><span class="annottext">getLogEnv :: WriterT s m LogEnv
</span><a href="#local-6989586621679214925"><span class="hs-identifier hs-var hs-var hs-var hs-var">getLogEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m LogEnv -&gt; WriterT s m LogEnv
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">m LogEnv
forall (m :: * -&gt; *). Katip m =&gt; m LogEnv
</span><a href="Katip.Core.html#getLogEnv"><span class="hs-identifier hs-var">getLogEnv</span></a></span><span>
</span><span id="line-898"></span><span>    </span><span id="local-6989586621679214924"><span class="annot"><span class="annottext">localLogEnv :: (LogEnv -&gt; LogEnv) -&gt; WriterT s m a -&gt; WriterT s m a
</span><a href="#local-6989586621679214924"><span class="hs-identifier hs-var hs-var hs-var hs-var">localLogEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(m (a, s) -&gt; m (a, s)) -&gt; WriterT s m a -&gt; WriterT s m a
forall (m :: * -&gt; *) a w (n :: * -&gt; *) b w'.
(m (a, w) -&gt; n (b, w')) -&gt; WriterT w m a -&gt; WriterT w' n b
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">mapWriterT</span></a></span><span> </span><span class="annot"><span class="annottext">((m (a, s) -&gt; m (a, s)) -&gt; WriterT s m a -&gt; WriterT s m a)
-&gt; ((LogEnv -&gt; LogEnv) -&gt; m (a, s) -&gt; m (a, s))
-&gt; (LogEnv -&gt; LogEnv)
-&gt; WriterT s m a
-&gt; WriterT s m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(LogEnv -&gt; LogEnv) -&gt; m (a, s) -&gt; m (a, s)
forall (m :: * -&gt; *) a. Katip m =&gt; (LogEnv -&gt; LogEnv) -&gt; m a -&gt; m a
</span><a href="Katip.Core.html#localLogEnv"><span class="hs-identifier hs-var">localLogEnv</span></a></span></span></span><span>
</span><span id="line-899"></span><span>
</span><span id="line-900"></span><span>
</span><span id="line-901"></span><span id="local-6989586621679214922"><span id="local-6989586621679214923"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#Katip"><span class="hs-identifier hs-type">Katip</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214923"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214922"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Katip"><span class="hs-identifier hs-type">Katip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier hs-type">Strict.WriterT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214922"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214923"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-902"></span><span>    </span><span id="local-6989586621679214918"><span class="annot"><span class="annottext">getLogEnv :: WriterT s m LogEnv
</span><a href="#local-6989586621679214918"><span class="hs-identifier hs-var hs-var hs-var hs-var">getLogEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m LogEnv -&gt; WriterT s m LogEnv
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">m LogEnv
forall (m :: * -&gt; *). Katip m =&gt; m LogEnv
</span><a href="Katip.Core.html#getLogEnv"><span class="hs-identifier hs-var">getLogEnv</span></a></span><span>
</span><span id="line-903"></span><span>    </span><span id="local-6989586621679214917"><span class="annot"><span class="annottext">localLogEnv :: (LogEnv -&gt; LogEnv) -&gt; WriterT s m a -&gt; WriterT s m a
</span><a href="#local-6989586621679214917"><span class="hs-identifier hs-var hs-var hs-var hs-var">localLogEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(m (a, s) -&gt; m (a, s)) -&gt; WriterT s m a -&gt; WriterT s m a
forall (m :: * -&gt; *) a w (n :: * -&gt; *) b w'.
(m (a, w) -&gt; n (b, w')) -&gt; WriterT w m a -&gt; WriterT w' n b
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">Strict.mapWriterT</span></a></span><span> </span><span class="annot"><span class="annottext">((m (a, s) -&gt; m (a, s)) -&gt; WriterT s m a -&gt; WriterT s m a)
-&gt; ((LogEnv -&gt; LogEnv) -&gt; m (a, s) -&gt; m (a, s))
-&gt; (LogEnv -&gt; LogEnv)
-&gt; WriterT s m a
-&gt; WriterT s m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(LogEnv -&gt; LogEnv) -&gt; m (a, s) -&gt; m (a, s)
forall (m :: * -&gt; *) a. Katip m =&gt; (LogEnv -&gt; LogEnv) -&gt; m a -&gt; m a
</span><a href="Katip.Core.html#localLogEnv"><span class="hs-identifier hs-var">localLogEnv</span></a></span></span></span><span>
</span><span id="line-904"></span><span>
</span><span id="line-905"></span><span>
</span><span id="line-906"></span><span id="local-6989586621679214916"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#Katip"><span class="hs-identifier hs-type">Katip</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214916"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Katip"><span class="hs-identifier hs-type">Katip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../resourcet/html/src"><span class="hs-identifier hs-type">ResourceT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214916"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-907"></span><span>    </span><span id="local-6989586621679214912"><span class="annot"><span class="annottext">getLogEnv :: ResourceT m LogEnv
</span><a href="#local-6989586621679214912"><span class="hs-identifier hs-var hs-var hs-var hs-var">getLogEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m LogEnv -&gt; ResourceT m LogEnv
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">m LogEnv
forall (m :: * -&gt; *). Katip m =&gt; m LogEnv
</span><a href="Katip.Core.html#getLogEnv"><span class="hs-identifier hs-var">getLogEnv</span></a></span><span>
</span><span id="line-908"></span><span>    </span><span id="local-6989586621679214911"><span class="annot"><span class="annottext">localLogEnv :: (LogEnv -&gt; LogEnv) -&gt; ResourceT m a -&gt; ResourceT m a
</span><a href="#local-6989586621679214911"><span class="hs-identifier hs-var hs-var hs-var hs-var">localLogEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(m a -&gt; m a) -&gt; ResourceT m a -&gt; ResourceT m a
forall (m :: * -&gt; *) a (n :: * -&gt; *) b.
(m a -&gt; n b) -&gt; ResourceT m a -&gt; ResourceT n b
</span><a href="../../../../resourcet/html/src"><span class="hs-identifier hs-var">transResourceT</span></a></span><span> </span><span class="annot"><span class="annottext">((m a -&gt; m a) -&gt; ResourceT m a -&gt; ResourceT m a)
-&gt; ((LogEnv -&gt; LogEnv) -&gt; m a -&gt; m a)
-&gt; (LogEnv -&gt; LogEnv)
-&gt; ResourceT m a
-&gt; ResourceT m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(LogEnv -&gt; LogEnv) -&gt; m a -&gt; m a
forall (m :: * -&gt; *) a. Katip m =&gt; (LogEnv -&gt; LogEnv) -&gt; m a -&gt; m a
</span><a href="Katip.Core.html#localLogEnv"><span class="hs-identifier hs-var">localLogEnv</span></a></span></span><span>
</span><span id="line-909"></span><span>
</span><span id="line-910"></span><span>
</span><span id="line-911"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-912"></span><span class="hs-comment">-- | A concrete monad you can use to run logging actions. Use this if</span><span>
</span><span id="line-913"></span><span class="hs-comment">-- you prefer an explicit monad transformer stack and adding layers as</span><span>
</span><span id="line-914"></span><span class="hs-comment">-- opposed to implementing 'Katip' for your monad.</span><span>
</span><span id="line-915"></span><span id="local-6989586621679214910"><span class="hs-keyword">newtype</span><span> </span><span id="KatipT"><span class="annot"><a href="Katip.Core.html#KatipT"><span class="hs-identifier hs-var">KatipT</span></a></span></span><span> </span><span id="local-6989586621679215934"><span class="annot"><a href="#local-6989586621679215934"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679215933"><span class="annot"><a href="#local-6989586621679215933"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="KatipT"><span class="annot"><a href="Katip.Core.html#KatipT"><span class="hs-identifier hs-var">KatipT</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unKatipT"><span class="annot"><span class="annottext">KatipT m a -&gt; ReaderT LogEnv m a
</span><a href="Katip.Core.html#unKatipT"><span class="hs-identifier hs-var hs-var">unKatipT</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../transformers/html/src"><span class="hs-identifier hs-type">ReaderT</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#LogEnv"><span class="hs-identifier hs-type">LogEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215934"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215933"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-916"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span> </span><span id="local-6989586621679214904"><span id="local-6989586621679214906"><span class="annot"><span class="annottext">a -&gt; KatipT m b -&gt; KatipT m a
(a -&gt; b) -&gt; KatipT m a -&gt; KatipT m b
(forall a b. (a -&gt; b) -&gt; KatipT m a -&gt; KatipT m b)
-&gt; (forall a b. a -&gt; KatipT m b -&gt; KatipT m a)
-&gt; Functor (KatipT m)
forall a b. a -&gt; KatipT m b -&gt; KatipT m a
forall a b. (a -&gt; b) -&gt; KatipT m a -&gt; KatipT m b
forall (m :: * -&gt; *) a b.
Functor m =&gt;
a -&gt; KatipT m b -&gt; KatipT m a
forall (m :: * -&gt; *) a b.
Functor m =&gt;
(a -&gt; b) -&gt; KatipT m a -&gt; KatipT m b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
&lt;$ :: a -&gt; KatipT m b -&gt; KatipT m a
$c&lt;$ :: forall (m :: * -&gt; *) a b.
Functor m =&gt;
a -&gt; KatipT m b -&gt; KatipT m a
fmap :: (a -&gt; b) -&gt; KatipT m a -&gt; KatipT m b
$cfmap :: forall (m :: * -&gt; *) a b.
Functor m =&gt;
(a -&gt; b) -&gt; KatipT m a -&gt; KatipT m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679214893"><span id="local-6989586621679214895"><span id="local-6989586621679214897"><span id="local-6989586621679214899"><span id="local-6989586621679214901"><span class="annot"><span class="annottext">Functor (KatipT m)
a -&gt; KatipT m a
Functor (KatipT m)
-&gt; (forall a. a -&gt; KatipT m a)
-&gt; (forall a b. KatipT m (a -&gt; b) -&gt; KatipT m a -&gt; KatipT m b)
-&gt; (forall a b c.
    (a -&gt; b -&gt; c) -&gt; KatipT m a -&gt; KatipT m b -&gt; KatipT m c)
-&gt; (forall a b. KatipT m a -&gt; KatipT m b -&gt; KatipT m b)
-&gt; (forall a b. KatipT m a -&gt; KatipT m b -&gt; KatipT m a)
-&gt; Applicative (KatipT m)
KatipT m a -&gt; KatipT m b -&gt; KatipT m b
KatipT m a -&gt; KatipT m b -&gt; KatipT m a
KatipT m (a -&gt; b) -&gt; KatipT m a -&gt; KatipT m b
(a -&gt; b -&gt; c) -&gt; KatipT m a -&gt; KatipT m b -&gt; KatipT m c
forall a. a -&gt; KatipT m a
forall a b. KatipT m a -&gt; KatipT m b -&gt; KatipT m a
forall a b. KatipT m a -&gt; KatipT m b -&gt; KatipT m b
forall a b. KatipT m (a -&gt; b) -&gt; KatipT m a -&gt; KatipT m b
forall a b c.
(a -&gt; b -&gt; c) -&gt; KatipT m a -&gt; KatipT m b -&gt; KatipT m c
forall (f :: * -&gt; *).
Functor f
-&gt; (forall a. a -&gt; f a)
-&gt; (forall a b. f (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b c. (a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c)
-&gt; (forall a b. f a -&gt; f b -&gt; f b)
-&gt; (forall a b. f a -&gt; f b -&gt; f a)
-&gt; Applicative f
forall (m :: * -&gt; *). Applicative m =&gt; Functor (KatipT m)
forall (m :: * -&gt; *) a. Applicative m =&gt; a -&gt; KatipT m a
forall (m :: * -&gt; *) a b.
Applicative m =&gt;
KatipT m a -&gt; KatipT m b -&gt; KatipT m a
forall (m :: * -&gt; *) a b.
Applicative m =&gt;
KatipT m a -&gt; KatipT m b -&gt; KatipT m b
forall (m :: * -&gt; *) a b.
Applicative m =&gt;
KatipT m (a -&gt; b) -&gt; KatipT m a -&gt; KatipT m b
forall (m :: * -&gt; *) a b c.
Applicative m =&gt;
(a -&gt; b -&gt; c) -&gt; KatipT m a -&gt; KatipT m b -&gt; KatipT m c
&lt;* :: KatipT m a -&gt; KatipT m b -&gt; KatipT m a
$c&lt;* :: forall (m :: * -&gt; *) a b.
Applicative m =&gt;
KatipT m a -&gt; KatipT m b -&gt; KatipT m a
*&gt; :: KatipT m a -&gt; KatipT m b -&gt; KatipT m b
$c*&gt; :: forall (m :: * -&gt; *) a b.
Applicative m =&gt;
KatipT m a -&gt; KatipT m b -&gt; KatipT m b
liftA2 :: (a -&gt; b -&gt; c) -&gt; KatipT m a -&gt; KatipT m b -&gt; KatipT m c
$cliftA2 :: forall (m :: * -&gt; *) a b c.
Applicative m =&gt;
(a -&gt; b -&gt; c) -&gt; KatipT m a -&gt; KatipT m b -&gt; KatipT m c
&lt;*&gt; :: KatipT m (a -&gt; b) -&gt; KatipT m a -&gt; KatipT m b
$c&lt;*&gt; :: forall (m :: * -&gt; *) a b.
Applicative m =&gt;
KatipT m (a -&gt; b) -&gt; KatipT m a -&gt; KatipT m b
pure :: a -&gt; KatipT m a
$cpure :: forall (m :: * -&gt; *) a. Applicative m =&gt; a -&gt; KatipT m a
$cp1Applicative :: forall (m :: * -&gt; *). Applicative m =&gt; Functor (KatipT m)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Applicative</span></a></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679214885"><span id="local-6989586621679214887"><span id="local-6989586621679214889"><span class="annot"><span class="annottext">Applicative (KatipT m)
a -&gt; KatipT m a
Applicative (KatipT m)
-&gt; (forall a b. KatipT m a -&gt; (a -&gt; KatipT m b) -&gt; KatipT m b)
-&gt; (forall a b. KatipT m a -&gt; KatipT m b -&gt; KatipT m b)
-&gt; (forall a. a -&gt; KatipT m a)
-&gt; Monad (KatipT m)
KatipT m a -&gt; (a -&gt; KatipT m b) -&gt; KatipT m b
KatipT m a -&gt; KatipT m b -&gt; KatipT m b
forall a. a -&gt; KatipT m a
forall a b. KatipT m a -&gt; KatipT m b -&gt; KatipT m b
forall a b. KatipT m a -&gt; (a -&gt; KatipT m b) -&gt; KatipT m b
forall (m :: * -&gt; *). Monad m =&gt; Applicative (KatipT m)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; KatipT m a
forall (m :: * -&gt; *) a b.
Monad m =&gt;
KatipT m a -&gt; KatipT m b -&gt; KatipT m b
forall (m :: * -&gt; *) a b.
Monad m =&gt;
KatipT m a -&gt; (a -&gt; KatipT m b) -&gt; KatipT m b
forall (m :: * -&gt; *).
Applicative m
-&gt; (forall a b. m a -&gt; (a -&gt; m b) -&gt; m b)
-&gt; (forall a b. m a -&gt; m b -&gt; m b)
-&gt; (forall a. a -&gt; m a)
-&gt; Monad m
return :: a -&gt; KatipT m a
$creturn :: forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; KatipT m a
&gt;&gt; :: KatipT m a -&gt; KatipT m b -&gt; KatipT m b
$c&gt;&gt; :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
KatipT m a -&gt; KatipT m b -&gt; KatipT m b
&gt;&gt;= :: KatipT m a -&gt; (a -&gt; KatipT m b) -&gt; KatipT m b
$c&gt;&gt;= :: forall (m :: * -&gt; *) a b.
Monad m =&gt;
KatipT m a -&gt; (a -&gt; KatipT m b) -&gt; KatipT m b
$cp1Monad :: forall (m :: * -&gt; *). Monad m =&gt; Applicative (KatipT m)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monad</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679214881"><span class="annot"><span class="annottext">Monad (KatipT m)
Monad (KatipT m)
-&gt; (forall a. IO a -&gt; KatipT m a) -&gt; MonadIO (KatipT m)
IO a -&gt; KatipT m a
forall a. IO a -&gt; KatipT m a
forall (m :: * -&gt; *).
Monad m -&gt; (forall a. IO a -&gt; m a) -&gt; MonadIO m
forall (m :: * -&gt; *). MonadIO m =&gt; Monad (KatipT m)
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; KatipT m a
liftIO :: IO a -&gt; KatipT m a
$cliftIO :: forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; KatipT m a
$cp1MonadIO :: forall (m :: * -&gt; *). MonadIO m =&gt; Monad (KatipT m)
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var">MonadIO</span></a></span></span><span>
</span><span id="line-917"></span><span>           </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679214873"><span id="local-6989586621679214875"><span id="local-6989586621679214877"><span class="annot"><span class="annottext">MonadCatch (KatipT m)
MonadCatch (KatipT m)
-&gt; (forall b.
    ((forall a. KatipT m a -&gt; KatipT m a) -&gt; KatipT m b) -&gt; KatipT m b)
-&gt; (forall b.
    ((forall a. KatipT m a -&gt; KatipT m a) -&gt; KatipT m b) -&gt; KatipT m b)
-&gt; (forall a b c.
    KatipT m a
    -&gt; (a -&gt; ExitCase b -&gt; KatipT m c)
    -&gt; (a -&gt; KatipT m b)
    -&gt; KatipT m (b, c))
-&gt; MonadMask (KatipT m)
KatipT m a
-&gt; (a -&gt; ExitCase b -&gt; KatipT m c)
-&gt; (a -&gt; KatipT m b)
-&gt; KatipT m (b, c)
((forall a. KatipT m a -&gt; KatipT m a) -&gt; KatipT m b) -&gt; KatipT m b
((forall a. KatipT m a -&gt; KatipT m a) -&gt; KatipT m b) -&gt; KatipT m b
forall b.
((forall a. KatipT m a -&gt; KatipT m a) -&gt; KatipT m b) -&gt; KatipT m b
forall a b c.
KatipT m a
-&gt; (a -&gt; ExitCase b -&gt; KatipT m c)
-&gt; (a -&gt; KatipT m b)
-&gt; KatipT m (b, c)
forall (m :: * -&gt; *).
MonadCatch m
-&gt; (forall b. ((forall a. m a -&gt; m a) -&gt; m b) -&gt; m b)
-&gt; (forall b. ((forall a. m a -&gt; m a) -&gt; m b) -&gt; m b)
-&gt; (forall a b c.
    m a -&gt; (a -&gt; ExitCase b -&gt; m c) -&gt; (a -&gt; m b) -&gt; m (b, c))
-&gt; MonadMask m
forall (m :: * -&gt; *). MonadMask m =&gt; MonadCatch (KatipT m)
forall (m :: * -&gt; *) b.
MonadMask m =&gt;
((forall a. KatipT m a -&gt; KatipT m a) -&gt; KatipT m b) -&gt; KatipT m b
forall (m :: * -&gt; *) a b c.
MonadMask m =&gt;
KatipT m a
-&gt; (a -&gt; ExitCase b -&gt; KatipT m c)
-&gt; (a -&gt; KatipT m b)
-&gt; KatipT m (b, c)
generalBracket :: KatipT m a
-&gt; (a -&gt; ExitCase b -&gt; KatipT m c)
-&gt; (a -&gt; KatipT m b)
-&gt; KatipT m (b, c)
$cgeneralBracket :: forall (m :: * -&gt; *) a b c.
MonadMask m =&gt;
KatipT m a
-&gt; (a -&gt; ExitCase b -&gt; KatipT m c)
-&gt; (a -&gt; KatipT m b)
-&gt; KatipT m (b, c)
uninterruptibleMask :: ((forall a. KatipT m a -&gt; KatipT m a) -&gt; KatipT m b) -&gt; KatipT m b
$cuninterruptibleMask :: forall (m :: * -&gt; *) b.
MonadMask m =&gt;
((forall a. KatipT m a -&gt; KatipT m a) -&gt; KatipT m b) -&gt; KatipT m b
mask :: ((forall a. KatipT m a -&gt; KatipT m a) -&gt; KatipT m b) -&gt; KatipT m b
$cmask :: forall (m :: * -&gt; *) b.
MonadMask m =&gt;
((forall a. KatipT m a -&gt; KatipT m a) -&gt; KatipT m b) -&gt; KatipT m b
$cp1MonadMask :: forall (m :: * -&gt; *). MonadMask m =&gt; MonadCatch (KatipT m)
</span><a href="../../../../exceptions/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">MonadMask</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679214869"><span class="annot"><span class="annottext">MonadThrow (KatipT m)
MonadThrow (KatipT m)
-&gt; (forall e a.
    Exception e =&gt;
    KatipT m a -&gt; (e -&gt; KatipT m a) -&gt; KatipT m a)
-&gt; MonadCatch (KatipT m)
KatipT m a -&gt; (e -&gt; KatipT m a) -&gt; KatipT m a
forall e a.
Exception e =&gt;
KatipT m a -&gt; (e -&gt; KatipT m a) -&gt; KatipT m a
forall (m :: * -&gt; *).
MonadThrow m
-&gt; (forall e a. Exception e =&gt; m a -&gt; (e -&gt; m a) -&gt; m a)
-&gt; MonadCatch m
forall (m :: * -&gt; *). MonadCatch m =&gt; MonadThrow (KatipT m)
forall (m :: * -&gt; *) e a.
(MonadCatch m, Exception e) =&gt;
KatipT m a -&gt; (e -&gt; KatipT m a) -&gt; KatipT m a
catch :: KatipT m a -&gt; (e -&gt; KatipT m a) -&gt; KatipT m a
$ccatch :: forall (m :: * -&gt; *) e a.
(MonadCatch m, Exception e) =&gt;
KatipT m a -&gt; (e -&gt; KatipT m a) -&gt; KatipT m a
$cp1MonadCatch :: forall (m :: * -&gt; *). MonadCatch m =&gt; MonadThrow (KatipT m)
</span><a href="../../../../exceptions/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var">MonadCatch</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679214865"><span class="annot"><span class="annottext">Monad (KatipT m)
e -&gt; KatipT m a
Monad (KatipT m)
-&gt; (forall e a. Exception e =&gt; e -&gt; KatipT m a)
-&gt; MonadThrow (KatipT m)
forall e a. Exception e =&gt; e -&gt; KatipT m a
forall (m :: * -&gt; *).
Monad m -&gt; (forall e a. Exception e =&gt; e -&gt; m a) -&gt; MonadThrow m
forall (m :: * -&gt; *). MonadThrow m =&gt; Monad (KatipT m)
forall (m :: * -&gt; *) e a.
(MonadThrow m, Exception e) =&gt;
e -&gt; KatipT m a
throwM :: e -&gt; KatipT m a
$cthrowM :: forall (m :: * -&gt; *) e a.
(MonadThrow m, Exception e) =&gt;
e -&gt; KatipT m a
$cp1MonadThrow :: forall (m :: * -&gt; *). MonadThrow m =&gt; Monad (KatipT m)
</span><a href="../../../../exceptions/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var">MonadThrow</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679214861"><span class="annot"><span class="annottext">MonadIO (KatipT m)
MonadIO (KatipT m)
-&gt; (forall a. ResourceT IO a -&gt; KatipT m a)
-&gt; MonadResource (KatipT m)
ResourceT IO a -&gt; KatipT m a
forall a. ResourceT IO a -&gt; KatipT m a
forall (m :: * -&gt; *).
MonadIO m -&gt; (forall a. ResourceT IO a -&gt; m a) -&gt; MonadResource m
forall (m :: * -&gt; *). MonadResource m =&gt; MonadIO (KatipT m)
forall (m :: * -&gt; *) a.
MonadResource m =&gt;
ResourceT IO a -&gt; KatipT m a
liftResourceT :: ResourceT IO a -&gt; KatipT m a
$cliftResourceT :: forall (m :: * -&gt; *) a.
MonadResource m =&gt;
ResourceT IO a -&gt; KatipT m a
$cp1MonadResource :: forall (m :: * -&gt; *). MonadResource m =&gt; MonadIO (KatipT m)
</span><a href="../../../../resourcet/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var">MonadResource</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679214858"><span class="annot"><span class="annottext">m a -&gt; KatipT m a
(forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; KatipT m a)
-&gt; MonadTrans KatipT
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; KatipT m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *).
(forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; t m a) -&gt; MonadTrans t
lift :: m a -&gt; KatipT m a
$clift :: forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; KatipT m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">MonadTrans</span></a></span></span><span>
</span><span id="line-918"></span><span>           </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679214851"><span class="annot"><a href="../../../../transformers-base/html/src"><span class="hs-identifier hs-type">MonadBase</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214910"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-special">)</span></span><span>
</span><span id="line-919"></span><span>
</span><span id="line-920"></span><span>
</span><span id="line-921"></span><span id="local-6989586621679214849"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">MonadIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214849"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Katip"><span class="hs-identifier hs-type">Katip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#KatipT"><span class="hs-identifier hs-type">KatipT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214849"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-922"></span><span>    </span><span id="local-6989586621679214845"><span class="annot"><span class="annottext">getLogEnv :: KatipT m LogEnv
</span><a href="#local-6989586621679214845"><span class="hs-identifier hs-var hs-var hs-var hs-var">getLogEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ReaderT LogEnv m LogEnv -&gt; KatipT m LogEnv
forall (m :: * -&gt; *) a. ReaderT LogEnv m a -&gt; KatipT m a
</span><a href="Katip.Core.html#KatipT"><span class="hs-identifier hs-var">KatipT</span></a></span><span> </span><span class="annot"><span class="annottext">ReaderT LogEnv m LogEnv
forall (m :: * -&gt; *) r. Monad m =&gt; ReaderT r m r
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">ask</span></a></span><span>
</span><span id="line-923"></span><span>    </span><span id="local-6989586621679214843"><span class="annot"><span class="annottext">localLogEnv :: (LogEnv -&gt; LogEnv) -&gt; KatipT m a -&gt; KatipT m a
</span><a href="#local-6989586621679214843"><span class="hs-identifier hs-var hs-var hs-var hs-var">localLogEnv</span></a></span></span><span> </span><span id="local-6989586621679214842"><span class="annot"><span class="annottext">LogEnv -&gt; LogEnv
</span><a href="#local-6989586621679214842"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#KatipT"><span class="hs-identifier hs-type">KatipT</span></a></span><span> </span><span id="local-6989586621679214841"><span class="annot"><span class="annottext">ReaderT LogEnv m a
</span><a href="#local-6989586621679214841"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ReaderT LogEnv m a -&gt; KatipT m a
forall (m :: * -&gt; *) a. ReaderT LogEnv m a -&gt; KatipT m a
</span><a href="Katip.Core.html#KatipT"><span class="hs-identifier hs-var">KatipT</span></a></span><span> </span><span class="annot"><span class="annottext">(ReaderT LogEnv m a -&gt; KatipT m a)
-&gt; ReaderT LogEnv m a -&gt; KatipT m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(LogEnv -&gt; LogEnv) -&gt; ReaderT LogEnv m a -&gt; ReaderT LogEnv m a
forall r (m :: * -&gt; *) a.
(r -&gt; r) -&gt; ReaderT r m a -&gt; ReaderT r m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">local</span></a></span><span> </span><span class="annot"><span class="annottext">LogEnv -&gt; LogEnv
</span><a href="#local-6989586621679214842"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ReaderT LogEnv m a
</span><a href="#local-6989586621679214841"><span class="hs-identifier hs-var">m</span></a></span></span><span>
</span><span id="line-924"></span><span>
</span><span id="line-925"></span><span>
</span><span id="line-926"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../monad-control/html/src"><span class="hs-identifier hs-type">MonadTransControl</span></a></span><span> </span><span class="annot"><a href="Katip.Core.html#KatipT"><span class="hs-identifier hs-type">KatipT</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-927"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span id="StT"><span class="annot"><a href="../../../../monad-control/html/src"><span class="hs-identifier hs-var">StT</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#KatipT"><span class="hs-identifier hs-type">KatipT</span></a></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679214835"><span class="annot"><a href="#local-6989586621679214835"><span class="hs-identifier hs-type hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679214835"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-928"></span><span>    </span><span id="local-6989586621679214834"><span class="annot"><span class="annottext">liftWith :: (Run KatipT -&gt; m a) -&gt; KatipT m a
</span><a href="../../../../monad-control/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">liftWith</span></a></span></span><span> </span><span id="local-6989586621679214832"><span class="annot"><span class="annottext">Run KatipT -&gt; m a
</span><a href="#local-6989586621679214832"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ReaderT LogEnv m a -&gt; KatipT m a
forall (m :: * -&gt; *) a. ReaderT LogEnv m a -&gt; KatipT m a
</span><a href="Katip.Core.html#KatipT"><span class="hs-identifier hs-var">KatipT</span></a></span><span> </span><span class="annot"><span class="annottext">(ReaderT LogEnv m a -&gt; KatipT m a)
-&gt; ReaderT LogEnv m a -&gt; KatipT m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(LogEnv -&gt; m a) -&gt; ReaderT LogEnv m a
forall r (m :: * -&gt; *) a. (r -&gt; m a) -&gt; ReaderT r m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">ReaderT</span></a></span><span> </span><span class="annot"><span class="annottext">((LogEnv -&gt; m a) -&gt; ReaderT LogEnv m a)
-&gt; (LogEnv -&gt; m a) -&gt; ReaderT LogEnv m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679214830"><span class="annot"><span class="annottext">LogEnv
</span><a href="#local-6989586621679214830"><span class="hs-identifier hs-var">le</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Run KatipT -&gt; m a
</span><a href="#local-6989586621679214832"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Run KatipT -&gt; m a) -&gt; Run KatipT -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679214829"><span class="annot"><span class="annottext">KatipT n b
</span><a href="#local-6989586621679214829"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LogEnv -&gt; KatipT n b -&gt; n b
forall (m :: * -&gt; *) a. LogEnv -&gt; KatipT m a -&gt; m a
</span><a href="Katip.Core.html#runKatipT"><span class="hs-identifier hs-var">runKatipT</span></a></span><span> </span><span class="annot"><span class="annottext">LogEnv
</span><a href="#local-6989586621679214830"><span class="hs-identifier hs-var">le</span></a></span><span> </span><span class="annot"><span class="annottext">KatipT n b
</span><a href="#local-6989586621679214829"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-929"></span><span>    </span><span id="local-6989586621679214827"><span class="annot"><span class="annottext">restoreT :: m (StT KatipT a) -&gt; KatipT m a
</span><a href="../../../../monad-control/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">restoreT</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ReaderT LogEnv m a -&gt; KatipT m a
forall (m :: * -&gt; *) a. ReaderT LogEnv m a -&gt; KatipT m a
</span><a href="Katip.Core.html#KatipT"><span class="hs-identifier hs-var">KatipT</span></a></span><span> </span><span class="annot"><span class="annottext">(ReaderT LogEnv m a -&gt; KatipT m a)
-&gt; (m a -&gt; ReaderT LogEnv m a) -&gt; m a -&gt; KatipT m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(LogEnv -&gt; m a) -&gt; ReaderT LogEnv m a
forall r (m :: * -&gt; *) a. (r -&gt; m a) -&gt; ReaderT r m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">ReaderT</span></a></span><span> </span><span class="annot"><span class="annottext">((LogEnv -&gt; m a) -&gt; ReaderT LogEnv m a)
-&gt; (m a -&gt; LogEnv -&gt; m a) -&gt; m a -&gt; ReaderT LogEnv m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">m a -&gt; LogEnv -&gt; m a
forall a b. a -&gt; b -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">const</span></a></span><span>
</span><span id="line-930"></span><span>    </span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="../../../../monad-control/html/src"><span class="hs-pragma hs-type">liftWith</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-931"></span><span>    </span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="../../../../monad-control/html/src"><span class="hs-pragma hs-type">restoreT</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-932"></span><span>
</span><span id="line-933"></span><span>
</span><span id="line-934"></span><span id="local-6989586621679214824"><span id="local-6989586621679214825"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../monad-control/html/src"><span class="hs-identifier hs-type">MonadBaseControl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214825"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214824"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../monad-control/html/src"><span class="hs-identifier hs-type">MonadBaseControl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214825"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#KatipT"><span class="hs-identifier hs-type">KatipT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214824"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-935"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="StM"><span class="annot"><a href="../../../../monad-control/html/src"><span class="hs-identifier hs-var">StM</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#KatipT"><span class="hs-identifier hs-type">KatipT</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679214824"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679214819"><span class="annot"><a href="#local-6989586621679214819"><span class="hs-identifier hs-type hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../../../monad-control/html/src"><span class="hs-identifier hs-type">ComposeSt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#KatipT"><span class="hs-identifier hs-type">KatipT</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679214824"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214819"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-936"></span><span>  </span><span id="local-6989586621679214818"><span class="annot"><span class="annottext">liftBaseWith :: (RunInBase (KatipT m) b -&gt; b a) -&gt; KatipT m a
</span><a href="../../../../monad-control/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">liftBaseWith</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(RunInBase (KatipT m) b -&gt; b a) -&gt; KatipT m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (b :: * -&gt; *) (m :: * -&gt; *) a.
(MonadTransControl t, MonadBaseControl b m) =&gt;
(RunInBaseDefault t m b -&gt; b a) -&gt; t m a
</span><a href="../../../../monad-control/html/src"><span class="hs-identifier hs-var">defaultLiftBaseWith</span></a></span><span>
</span><span id="line-937"></span><span>  </span><span id="local-6989586621679214815"><span class="annot"><span class="annottext">restoreM :: StM (KatipT m) a -&gt; KatipT m a
</span><a href="../../../../monad-control/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">restoreM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StM (KatipT m) a -&gt; KatipT m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (b :: * -&gt; *) (m :: * -&gt; *) a.
(MonadTransControl t, MonadBaseControl b m) =&gt;
ComposeSt t m a -&gt; t m a
</span><a href="../../../../monad-control/html/src"><span class="hs-identifier hs-var">defaultRestoreM</span></a></span></span></span><span>
</span><span id="line-938"></span><span>
</span><span id="line-939"></span><span id="local-6989586621679214812"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../unliftio-core/html/src"><span class="hs-identifier hs-type">MonadUnliftIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214812"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../unliftio-core/html/src"><span class="hs-identifier hs-type">MonadUnliftIO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#KatipT"><span class="hs-identifier hs-type">KatipT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214812"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span class="hs-cpp">
#if MIN_VERSION_unliftio_core(0, 2, 0)
</span><span>  </span><span id="local-6989586621679214808"><span class="annot"><span class="annottext">withRunInIO :: ((forall a. KatipT m a -&gt; IO a) -&gt; IO b) -&gt; KatipT m b
</span><a href="../../../../unliftio-core/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">withRunInIO</span></a></span></span><span> </span><span id="local-6989586621679214806"><span class="annot"><span class="annottext">(forall a. KatipT m a -&gt; IO a) -&gt; IO b
</span><a href="#local-6989586621679214806"><span class="hs-identifier hs-var">inner</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ReaderT LogEnv m b -&gt; KatipT m b
forall (m :: * -&gt; *) a. ReaderT LogEnv m a -&gt; KatipT m a
</span><a href="Katip.Core.html#KatipT"><span class="hs-identifier hs-var">KatipT</span></a></span><span> </span><span class="annot"><span class="annottext">(ReaderT LogEnv m b -&gt; KatipT m b)
-&gt; ReaderT LogEnv m b -&gt; KatipT m b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(LogEnv -&gt; m b) -&gt; ReaderT LogEnv m b
forall r (m :: * -&gt; *) a. (r -&gt; m a) -&gt; ReaderT r m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">ReaderT</span></a></span><span> </span><span class="annot"><span class="annottext">((LogEnv -&gt; m b) -&gt; ReaderT LogEnv m b)
-&gt; (LogEnv -&gt; m b) -&gt; ReaderT LogEnv m b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679214805"><span class="annot"><span class="annottext">LogEnv
</span><a href="#local-6989586621679214805"><span class="hs-identifier hs-var">le</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">((forall a. m a -&gt; IO a) -&gt; IO b) -&gt; m b
forall (m :: * -&gt; *) b.
MonadUnliftIO m =&gt;
((forall a. m a -&gt; IO a) -&gt; IO b) -&gt; m b
</span><a href="../../../../unliftio-core/html/src"><span class="hs-identifier hs-var">withRunInIO</span></a></span><span> </span><span class="annot"><span class="annottext">(((forall a. m a -&gt; IO a) -&gt; IO b) -&gt; m b)
-&gt; ((forall a. m a -&gt; IO a) -&gt; IO b) -&gt; m b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679214804"><span class="annot"><span class="annottext">forall a. m a -&gt; IO a
</span><a href="#local-6989586621679214804"><span class="hs-identifier hs-var">run</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-942"></span><span>    </span><span class="annot"><span class="annottext">(forall a. KatipT m a -&gt; IO a) -&gt; IO b
</span><a href="#local-6989586621679214806"><span class="hs-identifier hs-var">inner</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">m a -&gt; IO a
forall a. m a -&gt; IO a
</span><a href="#local-6989586621679214804"><span class="hs-identifier hs-var">run</span></a></span><span> </span><span class="annot"><span class="annottext">(m a -&gt; IO a) -&gt; (KatipT m a -&gt; m a) -&gt; KatipT m a -&gt; IO a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">LogEnv -&gt; KatipT m a -&gt; m a
forall (m :: * -&gt; *) a. LogEnv -&gt; KatipT m a -&gt; m a
</span><a href="Katip.Core.html#runKatipT"><span class="hs-identifier hs-var">runKatipT</span></a></span><span> </span><span class="annot"><span class="annottext">LogEnv
</span><a href="#local-6989586621679214805"><span class="hs-identifier hs-var">le</span></a></span><span class="hs-special">)</span></span><span class="hs-cpp">
#else
</span><span>  </span><span class="hs-identifier">askUnliftIO</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">KatipT</span><span> </span><span class="hs-operator">$</span><span>
</span><span id="line-945"></span><span>    </span><span class="hs-identifier">withUnliftIO</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">u</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-946"></span><span>      </span><span class="hs-identifier">pure</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">UnliftIO</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">unliftIO</span><span> </span><span class="hs-identifier">u</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">unKatipT</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span class="hs-cpp">
#if MIN_VERSION_base(4, 9, 0)
</span><span id="local-6989586621679214803"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">MF.MonadFail</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214803"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">MF.MonadFail</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#KatipT"><span class="hs-identifier hs-type">KatipT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214803"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-951"></span><span>    </span><span id="local-6989586621679214799"><span class="annot"><span class="annottext">fail :: String -&gt; KatipT m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">fail</span></a></span></span><span> </span><span id="local-6989586621679214798"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679214798"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m a -&gt; KatipT m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; m a
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">MF.fail</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679214798"><span class="hs-identifier hs-var">msg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-952"></span><span>    </span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-pragma hs-type">fail</span></a></span><span> </span><span class="hs-pragma">#-}</span></span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-955"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-956"></span><span class="hs-comment">-- | Execute 'KatipT' on a log env.</span><span>
</span><span id="line-957"></span><span id="local-6989586621679215910"><span id="local-6989586621679215911"><span class="annot"><a href="Katip.Core.html#runKatipT"><span class="hs-identifier hs-type">runKatipT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Katip.Core.html#LogEnv"><span class="hs-identifier hs-type">LogEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#KatipT"><span class="hs-identifier hs-type">KatipT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215911"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215910"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679215911"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215910"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-958"></span><span id="runKatipT"><span class="annot"><span class="annottext">runKatipT :: LogEnv -&gt; KatipT m a -&gt; m a
</span><a href="Katip.Core.html#runKatipT"><span class="hs-identifier hs-var hs-var">runKatipT</span></a></span></span><span> </span><span id="local-6989586621679214797"><span class="annot"><span class="annottext">LogEnv
</span><a href="#local-6989586621679214797"><span class="hs-identifier hs-var">le</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#KatipT"><span class="hs-identifier hs-type">KatipT</span></a></span><span> </span><span id="local-6989586621679214796"><span class="annot"><span class="annottext">ReaderT LogEnv m a
</span><a href="#local-6989586621679214796"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ReaderT LogEnv m a -&gt; LogEnv -&gt; m a
forall r (m :: * -&gt; *) a. ReaderT r m a -&gt; r -&gt; m a
</span><a href="../../../../transformers/html/src"><span class="hs-identifier hs-var hs-var">runReaderT</span></a></span><span> </span><span class="annot"><span class="annottext">ReaderT LogEnv m a
</span><a href="#local-6989586621679214796"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">LogEnv
</span><a href="#local-6989586621679214797"><span class="hs-identifier hs-var">le</span></a></span><span>
</span><span id="line-959"></span><span>
</span><span id="line-960"></span><span>
</span><span id="line-961"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-962"></span><span class="hs-comment">-- | Disable all scribes for the given monadic action, then restore</span><span>
</span><span id="line-963"></span><span class="hs-comment">-- them afterwards. Works in any Katip monad.</span><span>
</span><span id="line-964"></span><span id="local-6989586621679214793"><span id="local-6989586621679214794"><span class="annot"><a href="Katip.Core.html#katipNoLogging"><span class="hs-identifier hs-type">katipNoLogging</span></a></span><span>
</span><span id="line-965"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Katip.Core.html#Katip"><span class="hs-identifier hs-type">Katip</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214794"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-966"></span><span>       </span><span class="hs-special">)</span><span>
</span><span id="line-967"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679214794"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214793"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-968"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679214794"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214793"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-969"></span><span id="katipNoLogging"><span class="annot"><span class="annottext">katipNoLogging :: m a -&gt; m a
</span><a href="Katip.Core.html#katipNoLogging"><span class="hs-identifier hs-var hs-var">katipNoLogging</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LogEnv -&gt; LogEnv) -&gt; m a -&gt; m a
forall (m :: * -&gt; *) a. Katip m =&gt; (LogEnv -&gt; LogEnv) -&gt; m a -&gt; m a
</span><a href="Katip.Core.html#localLogEnv"><span class="hs-identifier hs-var">localLogEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679214791"><span class="annot"><span class="annottext">LogEnv
</span><a href="#local-6989586621679214791"><span class="hs-identifier hs-var">le</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">((Map Text ScribeHandle -&gt; Identity (Map Text ScribeHandle))
 -&gt; LogEnv -&gt; Identity LogEnv)
-&gt; Map Text ScribeHandle -&gt; LogEnv -&gt; LogEnv
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><a href="../../../../microlens/html/src"><span class="hs-identifier hs-var">set</span></a></span><span> </span><span class="annot"><span class="annottext">(Map Text ScribeHandle -&gt; Identity (Map Text ScribeHandle))
-&gt; LogEnv -&gt; Identity LogEnv
Lens' LogEnv (Map Text ScribeHandle)
</span><a href="Katip.Core.html#logEnvScribes"><span class="hs-identifier hs-var">logEnvScribes</span></a></span><span> </span><span class="annot"><span class="annottext">Map Text ScribeHandle
forall a. Monoid a =&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">mempty</span></a></span><span> </span><span class="annot"><span class="annottext">LogEnv
</span><a href="#local-6989586621679214791"><span class="hs-identifier hs-var">le</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-970"></span><span>
</span><span id="line-971"></span><span>
</span><span id="line-972"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-973"></span><span class="hs-comment">-- | Log with everything, including a source code location. This is</span><span>
</span><span id="line-974"></span><span class="hs-comment">-- very low level and you typically can use 'logT' in its place.</span><span>
</span><span id="line-975"></span><span id="local-6989586621679215848"><span id="local-6989586621679215849"><span class="annot"><a href="Katip.Core.html#logItem"><span class="hs-identifier hs-type">logItem</span></a></span><span>
</span><span id="line-976"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">A.Applicative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215849"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Katip.Core.html#LogItem"><span class="hs-identifier hs-type">LogItem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215848"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Katip.Core.html#Katip"><span class="hs-identifier hs-type">Katip</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215849"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-977"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679215848"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-978"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Namespace"><span class="hs-identifier hs-type">Namespace</span></a></span><span>
</span><span id="line-979"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-type">Loc</span></a></span><span>
</span><span id="line-980"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Severity"><span class="hs-identifier hs-type">Severity</span></a></span><span>
</span><span id="line-981"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#LogStr"><span class="hs-identifier hs-type">LogStr</span></a></span><span>
</span><span id="line-982"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679215849"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-983"></span><span id="logItem"><span class="annot"><span class="annottext">logItem :: a -&gt; Namespace -&gt; Maybe Loc -&gt; Severity -&gt; LogStr -&gt; m ()
</span><a href="Katip.Core.html#logItem"><span class="hs-identifier hs-var hs-var">logItem</span></a></span></span><span> </span><span id="local-6989586621679214788"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679214788"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679214787"><span class="annot"><span class="annottext">Namespace
</span><a href="#local-6989586621679214787"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span id="local-6989586621679214786"><span class="annot"><span class="annottext">Maybe Loc
</span><a href="#local-6989586621679214786"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621679214785"><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621679214785"><span class="hs-identifier hs-var">sev</span></a></span></span><span> </span><span id="local-6989586621679214784"><span class="annot"><span class="annottext">LogStr
</span><a href="#local-6989586621679214784"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-984"></span><span>    </span><span class="annot"><a href="Katip.Core.html#LogEnv"><span class="hs-identifier hs-type">LogEnv</span></a></span><span class="hs-special">{</span><span id="local-6989586621679214778"><span id="local-6989586621679214779"><span id="local-6989586621679214780"><span id="local-6989586621679214781"><span id="local-6989586621679214782"><span id="local-6989586621679214783"><span class="annot"><span class="annottext">String
IO UTCTime
Map Text ScribeHandle
ProcessID
Environment
Namespace
_logEnvScribes :: Map Text ScribeHandle
_logEnvTimer :: IO UTCTime
_logEnvEnv :: Environment
_logEnvApp :: Namespace
_logEnvPid :: ProcessID
_logEnvHost :: String
_logEnvScribes :: LogEnv -&gt; Map Text ScribeHandle
_logEnvTimer :: LogEnv -&gt; IO UTCTime
_logEnvEnv :: LogEnv -&gt; Environment
_logEnvApp :: LogEnv -&gt; Namespace
_logEnvPid :: LogEnv -&gt; ProcessID
_logEnvHost :: LogEnv -&gt; String
</span><a href="#local-6989586621679214778"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m LogEnv
forall (m :: * -&gt; *). Katip m =&gt; m LogEnv
</span><a href="Katip.Core.html#getLogEnv"><span class="hs-identifier hs-var">getLogEnv</span></a></span><span>
</span><span id="line-985"></span><span>    </span><span class="annot"><span class="annottext">Item a -&gt; m ()
forall (m :: * -&gt; *) a.
(Applicative m, LogItem a, Katip m) =&gt;
Item a -&gt; m ()
</span><a href="Katip.Core.html#logKatipItem"><span class="hs-identifier hs-var">logKatipItem</span></a></span><span> </span><span class="annot"><span class="annottext">(Item a -&gt; m ()) -&gt; m (Item a) -&gt; m ()
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">IO (Item a) -&gt; m (Item a)
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">liftIO</span></a></span><span>
</span><span id="line-986"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Namespace
-&gt; Environment
-&gt; Severity
-&gt; ThreadIdText
-&gt; String
-&gt; ProcessID
-&gt; a
-&gt; LogStr
-&gt; UTCTime
-&gt; Namespace
-&gt; Maybe Loc
-&gt; Item a
forall a.
Namespace
-&gt; Environment
-&gt; Severity
-&gt; ThreadIdText
-&gt; String
-&gt; ProcessID
-&gt; a
-&gt; LogStr
-&gt; UTCTime
-&gt; Namespace
-&gt; Maybe Loc
-&gt; Item a
</span><a href="Katip.Core.html#Item"><span class="hs-identifier hs-var">Item</span></a></span><span> </span><span class="annot"><span class="annottext">(Namespace
 -&gt; Environment
 -&gt; Severity
 -&gt; ThreadIdText
 -&gt; String
 -&gt; ProcessID
 -&gt; a
 -&gt; LogStr
 -&gt; UTCTime
 -&gt; Namespace
 -&gt; Maybe Loc
 -&gt; Item a)
-&gt; IO Namespace
-&gt; IO
     (Environment
      -&gt; Severity
      -&gt; ThreadIdText
      -&gt; String
      -&gt; ProcessID
      -&gt; a
      -&gt; LogStr
      -&gt; UTCTime
      -&gt; Namespace
      -&gt; Maybe Loc
      -&gt; Item a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Namespace -&gt; IO Namespace
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Namespace
</span><a href="#local-6989586621679214781"><span class="hs-identifier hs-var">_logEnvApp</span></a></span><span>
</span><span id="line-987"></span><span>            </span><span class="annot"><span class="annottext">IO
  (Environment
   -&gt; Severity
   -&gt; ThreadIdText
   -&gt; String
   -&gt; ProcessID
   -&gt; a
   -&gt; LogStr
   -&gt; UTCTime
   -&gt; Namespace
   -&gt; Maybe Loc
   -&gt; Item a)
-&gt; IO Environment
-&gt; IO
     (Severity
      -&gt; ThreadIdText
      -&gt; String
      -&gt; ProcessID
      -&gt; a
      -&gt; LogStr
      -&gt; UTCTime
      -&gt; Namespace
      -&gt; Maybe Loc
      -&gt; Item a)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Environment -&gt; IO Environment
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621679214780"><span class="hs-identifier hs-var">_logEnvEnv</span></a></span><span>
</span><span id="line-988"></span><span>            </span><span class="annot"><span class="annottext">IO
  (Severity
   -&gt; ThreadIdText
   -&gt; String
   -&gt; ProcessID
   -&gt; a
   -&gt; LogStr
   -&gt; UTCTime
   -&gt; Namespace
   -&gt; Maybe Loc
   -&gt; Item a)
-&gt; IO Severity
-&gt; IO
     (ThreadIdText
      -&gt; String
      -&gt; ProcessID
      -&gt; a
      -&gt; LogStr
      -&gt; UTCTime
      -&gt; Namespace
      -&gt; Maybe Loc
      -&gt; Item a)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Severity -&gt; IO Severity
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621679214785"><span class="hs-identifier hs-var">sev</span></a></span><span>
</span><span id="line-989"></span><span>            </span><span class="annot"><span class="annottext">IO
  (ThreadIdText
   -&gt; String
   -&gt; ProcessID
   -&gt; a
   -&gt; LogStr
   -&gt; UTCTime
   -&gt; Namespace
   -&gt; Maybe Loc
   -&gt; Item a)
-&gt; IO ThreadIdText
-&gt; IO
     (String
      -&gt; ProcessID
      -&gt; a
      -&gt; LogStr
      -&gt; UTCTime
      -&gt; Namespace
      -&gt; Maybe Loc
      -&gt; Item a)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ThreadId -&gt; ThreadIdText
</span><a href="Katip.Core.html#mkThreadIdText"><span class="hs-identifier hs-var">mkThreadIdText</span></a></span><span> </span><span class="annot"><span class="annottext">(ThreadId -&gt; ThreadIdText) -&gt; IO ThreadId -&gt; IO ThreadIdText
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IO ThreadId
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">myThreadId</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-990"></span><span>            </span><span class="annot"><span class="annottext">IO
  (String
   -&gt; ProcessID
   -&gt; a
   -&gt; LogStr
   -&gt; UTCTime
   -&gt; Namespace
   -&gt; Maybe Loc
   -&gt; Item a)
-&gt; IO String
-&gt; IO
     (ProcessID
      -&gt; a -&gt; LogStr -&gt; UTCTime -&gt; Namespace -&gt; Maybe Loc -&gt; Item a)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; IO String
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679214783"><span class="hs-identifier hs-var">_logEnvHost</span></a></span><span>
</span><span id="line-991"></span><span>            </span><span class="annot"><span class="annottext">IO
  (ProcessID
   -&gt; a -&gt; LogStr -&gt; UTCTime -&gt; Namespace -&gt; Maybe Loc -&gt; Item a)
-&gt; IO ProcessID
-&gt; IO (a -&gt; LogStr -&gt; UTCTime -&gt; Namespace -&gt; Maybe Loc -&gt; Item a)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ProcessID -&gt; IO ProcessID
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">ProcessID
</span><a href="#local-6989586621679214782"><span class="hs-identifier hs-var">_logEnvPid</span></a></span><span>
</span><span id="line-992"></span><span>            </span><span class="annot"><span class="annottext">IO (a -&gt; LogStr -&gt; UTCTime -&gt; Namespace -&gt; Maybe Loc -&gt; Item a)
-&gt; IO a
-&gt; IO (LogStr -&gt; UTCTime -&gt; Namespace -&gt; Maybe Loc -&gt; Item a)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; IO a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679214788"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-993"></span><span>            </span><span class="annot"><span class="annottext">IO (LogStr -&gt; UTCTime -&gt; Namespace -&gt; Maybe Loc -&gt; Item a)
-&gt; IO LogStr -&gt; IO (UTCTime -&gt; Namespace -&gt; Maybe Loc -&gt; Item a)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">LogStr -&gt; IO LogStr
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">LogStr
</span><a href="#local-6989586621679214784"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-994"></span><span>            </span><span class="annot"><span class="annottext">IO (UTCTime -&gt; Namespace -&gt; Maybe Loc -&gt; Item a)
-&gt; IO UTCTime -&gt; IO (Namespace -&gt; Maybe Loc -&gt; Item a)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IO UTCTime
</span><a href="#local-6989586621679214779"><span class="hs-identifier hs-var">_logEnvTimer</span></a></span><span>
</span><span id="line-995"></span><span>            </span><span class="annot"><span class="annottext">IO (Namespace -&gt; Maybe Loc -&gt; Item a)
-&gt; IO Namespace -&gt; IO (Maybe Loc -&gt; Item a)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Namespace -&gt; IO Namespace
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Namespace
</span><a href="#local-6989586621679214781"><span class="hs-identifier hs-var">_logEnvApp</span></a></span><span> </span><span class="annot"><span class="annottext">Namespace -&gt; Namespace -&gt; Namespace
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Namespace
</span><a href="#local-6989586621679214787"><span class="hs-identifier hs-var">ns</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-996"></span><span>            </span><span class="annot"><span class="annottext">IO (Maybe Loc -&gt; Item a) -&gt; IO (Maybe Loc) -&gt; IO (Item a)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Loc -&gt; IO (Maybe Loc)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Loc
</span><a href="#local-6989586621679214786"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-997"></span><span>
</span><span id="line-998"></span><span class="hs-comment">-- | Log already constructed 'Item'. This is the lowest level function that other log*</span><span>
</span><span id="line-999"></span><span class="hs-comment">--   functions use.</span><span>
</span><span id="line-1000"></span><span class="hs-comment">--   It can be useful when implementing centralised logging services.</span><span>
</span><span id="line-1001"></span><span id="local-6989586621679215867"><span id="local-6989586621679215868"><span class="annot"><a href="Katip.Core.html#logKatipItem"><span class="hs-identifier hs-type">logKatipItem</span></a></span><span>
</span><span id="line-1002"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">A.Applicative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215868"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Katip.Core.html#LogItem"><span class="hs-identifier hs-type">LogItem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215867"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Katip.Core.html#Katip"><span class="hs-identifier hs-type">Katip</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215868"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1003"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Item"><span class="hs-identifier hs-type">Item</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215867"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-1004"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679215868"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-1005"></span><span id="logKatipItem"><span class="annot"><span class="annottext">logKatipItem :: Item a -&gt; m ()
</span><a href="Katip.Core.html#logKatipItem"><span class="hs-identifier hs-var hs-var">logKatipItem</span></a></span></span><span> </span><span id="local-6989586621679214773"><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679214773"><span class="hs-identifier hs-var">item</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1006"></span><span>    </span><span class="annot"><a href="Katip.Core.html#LogEnv"><span class="hs-identifier hs-type">LogEnv</span></a></span><span class="hs-special">{</span><span id="local-6989586621679214767"><span id="local-6989586621679214768"><span id="local-6989586621679214769"><span id="local-6989586621679214770"><span id="local-6989586621679214771"><span id="local-6989586621679214772"><span class="annot"><span class="annottext">String
IO UTCTime
Map Text ScribeHandle
ProcessID
Environment
Namespace
_logEnvScribes :: Map Text ScribeHandle
_logEnvTimer :: IO UTCTime
_logEnvEnv :: Environment
_logEnvApp :: Namespace
_logEnvPid :: ProcessID
_logEnvHost :: String
_logEnvScribes :: LogEnv -&gt; Map Text ScribeHandle
_logEnvTimer :: LogEnv -&gt; IO UTCTime
_logEnvEnv :: LogEnv -&gt; Environment
_logEnvApp :: LogEnv -&gt; Namespace
_logEnvPid :: LogEnv -&gt; ProcessID
_logEnvHost :: LogEnv -&gt; String
</span><a href="#local-6989586621679214767"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m LogEnv
forall (m :: * -&gt; *). Katip m =&gt; m LogEnv
</span><a href="Katip.Core.html#getLogEnv"><span class="hs-identifier hs-var">getLogEnv</span></a></span><span>
</span><span id="line-1007"></span><span>    </span><span class="annot"><span class="annottext">IO () -&gt; m ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; m ()) -&gt; IO () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1008"></span><span>      </span><span class="annot"><span class="annottext">[ScribeHandle] -&gt; (ScribeHandle -&gt; IO ()) -&gt; IO ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
t a -&gt; (a -&gt; m b) -&gt; m ()
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">FT.forM_</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Text ScribeHandle -&gt; [ScribeHandle]
forall k a. Map k a -&gt; [a]
</span><a href="../../../../containers/html/src"><span class="hs-identifier hs-var">M.elems</span></a></span><span> </span><span class="annot"><span class="annottext">Map Text ScribeHandle
</span><a href="#local-6989586621679214767"><span class="hs-identifier hs-var">_logEnvScribes</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((ScribeHandle -&gt; IO ()) -&gt; IO ())
-&gt; (ScribeHandle -&gt; IO ()) -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><a href="Katip.Core.html#ScribeHandle"><span class="hs-identifier hs-type">ScribeHandle</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621679214763"><span id="local-6989586621679214764"><span class="annot"><span class="annottext">TBQueue WorkerMessage
Scribe
shChan :: TBQueue WorkerMessage
shScribe :: Scribe
shChan :: ScribeHandle -&gt; TBQueue WorkerMessage
shScribe :: ScribeHandle -&gt; Scribe
</span><a href="#local-6989586621679214763"><span class="hs-glyph hs-var hs-var hs-var hs-var">..</span></a></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1009"></span><span>        </span><span class="annot"><span class="annottext">IO Bool -&gt; IO () -&gt; IO ()
forall (m :: * -&gt; *). Monad m =&gt; m Bool -&gt; m () -&gt; m ()
</span><a href="Katip.Core.html#whenM"><span class="hs-identifier hs-var">whenM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Scribe -&gt; Item a -&gt; IO Bool
Scribe -&gt; PermitFunc
</span><a href="Katip.Core.html#scribePermitItem"><span class="hs-identifier hs-var hs-var">scribePermitItem</span></a></span><span> </span><span class="annot"><span class="annottext">Scribe
</span><a href="#local-6989586621679214764"><span class="hs-identifier hs-var">shScribe</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679214773"><span class="hs-identifier hs-var">item</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1010"></span><span>          </span><span class="annot"><span class="annottext">IO Bool -&gt; IO ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">void</span></a></span><span> </span><span class="annot"><span class="annottext">(IO Bool -&gt; IO ()) -&gt; IO Bool -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">STM Bool -&gt; IO Bool
forall a. STM a -&gt; IO a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">atomically</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TBQueue WorkerMessage -&gt; WorkerMessage -&gt; STM Bool
forall a. TBQueue a -&gt; a -&gt; STM Bool
</span><a href="Katip.Core.html#tryWriteTBQueue"><span class="hs-identifier hs-var">tryWriteTBQueue</span></a></span><span> </span><span class="annot"><span class="annottext">TBQueue WorkerMessage
</span><a href="#local-6989586621679214763"><span class="hs-identifier hs-var">shChan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Item a -&gt; WorkerMessage
forall a. LogItem a =&gt; Item a -&gt; WorkerMessage
</span><a href="Katip.Core.html#NewItem"><span class="hs-identifier hs-var">NewItem</span></a></span><span> </span><span class="annot"><span class="annottext">Item a
</span><a href="#local-6989586621679214773"><span class="hs-identifier hs-var">item</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1011"></span><span>
</span><span id="line-1012"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-1013"></span><span id="local-6989586621679215855"><span class="annot"><a href="Katip.Core.html#tryWriteTBQueue"><span class="hs-identifier hs-type">tryWriteTBQueue</span></a></span><span>
</span><span id="line-1014"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../stm/html/src"><span class="hs-identifier hs-type">TBQueue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215855"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-1015"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679215855"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-1016"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">STM</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-1017"></span><span>    </span><span class="hs-comment">-- ^ Did we write?</span></span><span>
</span><span id="line-1018"></span><span id="tryWriteTBQueue"><span class="annot"><span class="annottext">tryWriteTBQueue :: TBQueue a -&gt; a -&gt; STM Bool
</span><a href="Katip.Core.html#tryWriteTBQueue"><span class="hs-identifier hs-var hs-var">tryWriteTBQueue</span></a></span></span><span> </span><span id="local-6989586621679214761"><span class="annot"><span class="annottext">TBQueue a
</span><a href="#local-6989586621679214761"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span id="local-6989586621679214760"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679214760"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1019"></span><span>  </span><span id="local-6989586621679214759"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679214759"><span class="hs-identifier hs-var">full</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TBQueue a -&gt; STM Bool
forall a. TBQueue a -&gt; STM Bool
</span><a href="../../../../stm/html/src"><span class="hs-identifier hs-var">isFullTBQueue</span></a></span><span> </span><span class="annot"><span class="annottext">TBQueue a
</span><a href="#local-6989586621679214761"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-1020"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; STM () -&gt; STM ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">unless</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679214759"><span class="hs-identifier hs-var">full</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TBQueue a -&gt; a -&gt; STM ()
forall a. TBQueue a -&gt; a -&gt; STM ()
</span><a href="../../../../stm/html/src"><span class="hs-identifier hs-var">writeTBQueue</span></a></span><span> </span><span class="annot"><span class="annottext">TBQueue a
</span><a href="#local-6989586621679214761"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679214760"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1021"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; STM Bool
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">not</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679214759"><span class="hs-identifier hs-var">full</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1022"></span><span>
</span><span id="line-1023"></span><span>
</span><span id="line-1024"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-1025"></span><span class="hs-comment">-- | Log with full context, but without any code location.</span><span>
</span><span id="line-1026"></span><span id="local-6989586621679215838"><span id="local-6989586621679215839"><span class="annot"><a href="Katip.Core.html#logF"><span class="hs-identifier hs-type">logF</span></a></span><span>
</span><span id="line-1027"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Applicative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215839"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Katip.Core.html#LogItem"><span class="hs-identifier hs-type">LogItem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215838"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Katip.Core.html#Katip"><span class="hs-identifier hs-type">Katip</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679215839"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1028"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679215838"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-1029"></span><span>  </span><span class="hs-comment">-- ^ Contextual payload for the log</span><span>
</span><span id="line-1030"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Namespace"><span class="hs-identifier hs-type">Namespace</span></a></span><span>
</span><span id="line-1031"></span><span>  </span><span class="hs-comment">-- ^ Specific namespace of the message.</span><span>
</span><span id="line-1032"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Severity"><span class="hs-identifier hs-type">Severity</span></a></span><span>
</span><span id="line-1033"></span><span>  </span><span class="hs-comment">-- ^ Severity of the message</span><span>
</span><span id="line-1034"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#LogStr"><span class="hs-identifier hs-type">LogStr</span></a></span><span>
</span><span id="line-1035"></span><span>  </span><span class="hs-comment">-- ^ The log message</span><span>
</span><span id="line-1036"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679215839"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-1037"></span><span id="logF"><span class="annot"><span class="annottext">logF :: a -&gt; Namespace -&gt; Severity -&gt; LogStr -&gt; m ()
</span><a href="Katip.Core.html#logF"><span class="hs-identifier hs-var hs-var">logF</span></a></span></span><span> </span><span id="local-6989586621679214755"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679214755"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679214754"><span class="annot"><span class="annottext">Namespace
</span><a href="#local-6989586621679214754"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span id="local-6989586621679214753"><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621679214753"><span class="hs-identifier hs-var">sev</span></a></span></span><span> </span><span id="local-6989586621679214752"><span class="annot"><span class="annottext">LogStr
</span><a href="#local-6989586621679214752"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Namespace -&gt; Maybe Loc -&gt; Severity -&gt; LogStr -&gt; m ()
forall (m :: * -&gt; *) a.
(Applicative m, LogItem a, Katip m) =&gt;
a -&gt; Namespace -&gt; Maybe Loc -&gt; Severity -&gt; LogStr -&gt; m ()
</span><a href="Katip.Core.html#logItem"><span class="hs-identifier hs-var">logItem</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679214755"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Namespace
</span><a href="#local-6989586621679214754"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Loc
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621679214753"><span class="hs-identifier hs-var">sev</span></a></span><span> </span><span class="annot"><span class="annottext">LogStr
</span><a href="#local-6989586621679214752"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-1038"></span><span>
</span><span id="line-1039"></span><span>
</span><span id="line-1040"></span><span>
</span><span id="line-1041"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-1042"></span><span class="hs-comment">-- | Perform an action while logging any exceptions that may occur.</span><span>
</span><span id="line-1043"></span><span class="hs-comment">-- Inspired by 'onException`.</span><span>
</span><span id="line-1044"></span><span class="hs-comment">--</span><span>
</span><span id="line-1045"></span><span class="hs-comment">-- &gt;&gt;&gt;&gt; logException () mempty ErrorS (error &quot;foo&quot;)</span><span>
</span><span id="line-1046"></span><span id="local-6989586621679214749"><span id="local-6989586621679214750"><span id="local-6989586621679214751"><span class="annot"><a href="Katip.Core.html#logException"><span class="hs-identifier hs-type">logException</span></a></span><span>
</span><span id="line-1047"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Katip.Core.html#Katip"><span class="hs-identifier hs-type">Katip</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214751"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Katip.Core.html#LogItem"><span class="hs-identifier hs-type">LogItem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214750"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../exceptions/html/src"><span class="hs-identifier hs-type">MonadCatch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214751"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Applicative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214751"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1048"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679214750"><span class="hs-identifier hs-type">a</span></a></span><span>                        </span><span class="hs-comment">-- ^ Log context</span><span>
</span><span id="line-1049"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Namespace"><span class="hs-identifier hs-type">Namespace</span></a></span><span>                </span><span class="hs-comment">-- ^ Namespace</span><span>
</span><span id="line-1050"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Severity"><span class="hs-identifier hs-type">Severity</span></a></span><span>                 </span><span class="hs-comment">-- ^ Severity</span><span>
</span><span id="line-1051"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679214751"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214749"><span class="hs-identifier hs-type">b</span></a></span><span>                      </span><span class="hs-comment">-- ^ Main action being run</span><span>
</span><span id="line-1052"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679214751"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214749"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-1053"></span><span id="logException"><span class="annot"><span class="annottext">logException :: a -&gt; Namespace -&gt; Severity -&gt; m b -&gt; m b
</span><a href="Katip.Core.html#logException"><span class="hs-identifier hs-var hs-var">logException</span></a></span></span><span> </span><span id="local-6989586621679214747"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679214747"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679214746"><span class="annot"><span class="annottext">Namespace
</span><a href="#local-6989586621679214746"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span id="local-6989586621679214745"><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621679214745"><span class="hs-identifier hs-var">sev</span></a></span></span><span> </span><span id="local-6989586621679214744"><span class="annot"><span class="annottext">m b
</span><a href="#local-6989586621679214744"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m b
</span><a href="#local-6989586621679214744"><span class="hs-identifier hs-var">action</span></a></span><span> </span><span class="annot"><span class="annottext">m b -&gt; (SomeException -&gt; m b) -&gt; m b
forall (m :: * -&gt; *) a.
MonadCatch m =&gt;
m a -&gt; (SomeException -&gt; m a) -&gt; m a
</span><a href="../../../../safe-exceptions/html/src"><span class="hs-operator hs-var">`catchAny`</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679214742"><span class="annot"><span class="annottext">SomeException
</span><a href="#local-6989586621679214742"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SomeException -&gt; m ()
</span><a href="#local-6989586621679214741"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">SomeException
</span><a href="#local-6989586621679214742"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">m () -&gt; m b -&gt; m b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SomeException -&gt; m b
forall (m :: * -&gt; *) e a. (MonadThrow m, Exception e) =&gt; e -&gt; m a
</span><a href="../../../../safe-exceptions/html/src"><span class="hs-identifier hs-var">throwM</span></a></span><span> </span><span class="annot"><span class="annottext">SomeException
</span><a href="#local-6989586621679214742"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1054"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1055"></span><span>    </span><span id="local-6989586621679214741"><span class="annot"><span class="annottext">f :: SomeException -&gt; m ()
</span><a href="#local-6989586621679214741"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679214739"><span class="annot"><span class="annottext">SomeException
</span><a href="#local-6989586621679214739"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Namespace -&gt; Severity -&gt; LogStr -&gt; m ()
forall (m :: * -&gt; *) a.
(Applicative m, LogItem a, Katip m) =&gt;
a -&gt; Namespace -&gt; Severity -&gt; LogStr -&gt; m ()
</span><a href="Katip.Core.html#logF"><span class="hs-identifier hs-var">logF</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679214747"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Namespace
</span><a href="#local-6989586621679214746"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621679214745"><span class="hs-identifier hs-var">sev</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SomeException -&gt; LogStr
forall a. Show a =&gt; a -&gt; LogStr
</span><a href="#local-6989586621679214738"><span class="hs-identifier hs-var">msg</span></a></span><span> </span><span class="annot"><span class="annottext">SomeException
</span><a href="#local-6989586621679214739"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1056"></span><span>    </span><span id="local-6989586621679214738"><span class="annot"><span class="annottext">msg :: a -&gt; LogStr
</span><a href="#local-6989586621679214738"><span class="hs-identifier hs-var hs-var">msg</span></a></span></span><span> </span><span id="local-6989586621679214737"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679214737"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; LogStr
forall a. StringConv a Text =&gt; a -&gt; LogStr
</span><a href="Katip.Core.html#ls"><span class="hs-identifier hs-var">ls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="../../../../text/html/src"><span class="hs-identifier hs-var">T.pack</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;An exception has occurred: &quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LogStr -&gt; LogStr -&gt; LogStr
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; LogStr
forall a. Show a =&gt; a -&gt; LogStr
</span><a href="Katip.Core.html#showLS"><span class="hs-identifier hs-var">showLS</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679214737"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1057"></span><span>
</span><span id="line-1058"></span><span>
</span><span id="line-1059"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-1060"></span><span class="hs-comment">-- | Log a message without any payload/context or code location.</span><span>
</span><span id="line-1061"></span><span id="local-6989586621679214736"><span class="annot"><a href="Katip.Core.html#logMsg"><span class="hs-identifier hs-type">logMsg</span></a></span><span>
</span><span id="line-1062"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Applicative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214736"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Katip.Core.html#Katip"><span class="hs-identifier hs-type">Katip</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214736"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1063"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Namespace"><span class="hs-identifier hs-type">Namespace</span></a></span><span>
</span><span id="line-1064"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Severity"><span class="hs-identifier hs-type">Severity</span></a></span><span>
</span><span id="line-1065"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#LogStr"><span class="hs-identifier hs-type">LogStr</span></a></span><span>
</span><span id="line-1066"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679214736"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-1067"></span><span id="logMsg"><span class="annot"><span class="annottext">logMsg :: Namespace -&gt; Severity -&gt; LogStr -&gt; m ()
</span><a href="Katip.Core.html#logMsg"><span class="hs-identifier hs-var hs-var">logMsg</span></a></span></span><span> </span><span id="local-6989586621679214734"><span class="annot"><span class="annottext">Namespace
</span><a href="#local-6989586621679214734"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span id="local-6989586621679214733"><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621679214733"><span class="hs-identifier hs-var">sev</span></a></span></span><span> </span><span id="local-6989586621679214732"><span class="annot"><span class="annottext">LogStr
</span><a href="#local-6989586621679214732"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; Namespace -&gt; Severity -&gt; LogStr -&gt; m ()
forall (m :: * -&gt; *) a.
(Applicative m, LogItem a, Katip m) =&gt;
a -&gt; Namespace -&gt; Severity -&gt; LogStr -&gt; m ()
</span><a href="Katip.Core.html#logF"><span class="hs-identifier hs-var">logF</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Namespace
</span><a href="#local-6989586621679214734"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="annot"><span class="annottext">Severity
</span><a href="#local-6989586621679214733"><span class="hs-identifier hs-var">sev</span></a></span><span> </span><span class="annot"><span class="annottext">LogStr
</span><a href="#local-6989586621679214732"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-1068"></span><span>
</span><span id="line-1069"></span><span>
</span><span id="line-1070"></span><span class="hs-comment">-- | Lift a location into an Exp.</span><span>
</span><span id="line-1071"></span><span class="annot"><a href="Katip.Core.html#liftLoc"><span class="hs-identifier hs-type">liftLoc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-type">Loc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-type">Q</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-type">Exp</span></a></span><span>
</span><span id="line-1072"></span><span id="liftLoc"><span class="annot"><span class="annottext">liftLoc :: Loc -&gt; Q Exp
</span><a href="Katip.Core.html#liftLoc"><span class="hs-identifier hs-var hs-var">liftLoc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-type">Loc</span></a></span><span> </span><span id="local-6989586621679214730"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679214730"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679214729"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679214729"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679214728"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679214728"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679214727"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679214727"><span class="hs-identifier hs-var">d1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679214726"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679214726"><span class="hs-identifier hs-var">d2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679214725"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679214725"><span class="hs-identifier hs-var">e1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679214724"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679214724"><span class="hs-identifier hs-var">e2</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[|</span><span class="hs-identifier">Loc</span><span>
</span><span id="line-1073"></span><span>    </span><span class="hs-special">$(</span><span class="hs-identifier">TH.lift</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">)</span><span>
</span><span id="line-1074"></span><span>    </span><span class="hs-special">$(</span><span class="hs-identifier">TH.lift</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">)</span><span>
</span><span id="line-1075"></span><span>    </span><span class="hs-special">$(</span><span class="hs-identifier">TH.lift</span><span> </span><span class="hs-identifier">c</span><span class="hs-special">)</span><span>
</span><span id="line-1076"></span><span>    </span><span class="hs-special">(</span><span class="hs-special">$(</span><span class="hs-identifier">TH.lift</span><span> </span><span class="hs-identifier">d1</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">$(</span><span class="hs-identifier">TH.lift</span><span> </span><span class="hs-identifier">d2</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1077"></span><span>    </span><span class="hs-special">(</span><span class="hs-special">$(</span><span class="hs-identifier">TH.lift</span><span> </span><span class="hs-identifier">e1</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">$(</span><span class="hs-identifier">TH.lift</span><span> </span><span class="hs-identifier">e2</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1078"></span><span>    </span><span class="hs-special">|]</span><span>
</span><span id="line-1079"></span><span>
</span><span id="line-1080"></span><span>
</span><span id="line-1081"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-1082"></span><span class="hs-comment">-- | For use when you want to include location in your logs. This will</span><span>
</span><span id="line-1083"></span><span class="hs-comment">-- fill the 'Maybe Loc' gap in 'logF' of this module, and relies on implicit</span><span>
</span><span id="line-1084"></span><span class="hs-comment">-- callstacks when available (GHC &gt; 7.8).</span><span class="hs-cpp">
#if MIN_VERSION_base(4, 8, 0)
</span><span class="annot"><a href="Katip.Core.html#getLoc"><span class="hs-identifier hs-type">getLoc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-type">Loc</span></a></span><span>
</span><span id="line-1087"></span><span id="getLoc"><span class="annot"><span class="annottext">getLoc :: Maybe Loc
</span><a href="Katip.Core.html#getLoc"><span class="hs-identifier hs-var hs-var">getLoc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CallStack -&gt; [(String, SrcLoc)]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">getCallStack</span></a></span><span> </span><span class="annot"><span class="annottext">CallStack
HasCallStack =&gt; CallStack
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">callStack</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1088"></span><span>  </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Loc
forall a. Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-1089"></span><span>  </span><span id="local-6989586621679214720"><span class="annot"><span class="annottext">[(String, SrcLoc)]
</span><a href="#local-6989586621679214720"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Loc -&gt; Maybe Loc
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">(Loc -&gt; Maybe Loc)
-&gt; ([(String, SrcLoc)] -&gt; Loc) -&gt; [(String, SrcLoc)] -&gt; Maybe Loc
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(String, SrcLoc) -&gt; Loc
</span><a href="#local-6989586621679214719"><span class="hs-identifier hs-var">toLoc</span></a></span><span> </span><span class="annot"><span class="annottext">((String, SrcLoc) -&gt; Loc)
-&gt; ([(String, SrcLoc)] -&gt; (String, SrcLoc))
-&gt; [(String, SrcLoc)]
-&gt; Loc
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[(String, SrcLoc)] -&gt; (String, SrcLoc)
forall a. [a] -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">([(String, SrcLoc)] -&gt; Maybe Loc)
-&gt; [(String, SrcLoc)] -&gt; Maybe Loc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">((String, SrcLoc) -&gt; Bool)
-&gt; [(String, SrcLoc)] -&gt; [(String, SrcLoc)]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">filter</span></a></span><span> </span><span class="annot"><span class="annottext">(String, SrcLoc) -&gt; Bool
</span><a href="#local-6989586621679214717"><span class="hs-identifier hs-var">filterKatip</span></a></span><span> </span><span class="annot"><span class="annottext">[(String, SrcLoc)]
</span><a href="#local-6989586621679214720"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1090"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1091"></span><span>    </span><span class="annot"><a href="#local-6989586621679214717"><span class="hs-identifier hs-type">filterKatip</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">SrcLoc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-1092"></span><span>    </span><span id="local-6989586621679214717"><span class="annot"><span class="annottext">filterKatip :: (String, SrcLoc) -&gt; Bool
</span><a href="#local-6989586621679214717"><span class="hs-identifier hs-var hs-var">filterKatip</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679214716"><span class="annot"><span class="annottext">SrcLoc
</span><a href="#local-6989586621679214716"><span class="hs-identifier hs-var">srcloc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">not</span></a></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1093"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;katip-&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; [a] -&gt; [a] -&gt; Bool
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">`isPrefixOf`</span></a></span><span> </span><span class="annot"><span class="annottext">SrcLoc -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var">srcLocPackage</span></a></span><span> </span><span class="annot"><span class="annottext">SrcLoc
</span><a href="#local-6989586621679214716"><span class="hs-identifier hs-var">srcloc</span></a></span><span>
</span><span id="line-1094"></span><span>
</span><span id="line-1095"></span><span>    </span><span class="annot"><a href="#local-6989586621679214719"><span class="hs-identifier hs-type">toLoc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">SrcLoc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-type">Loc</span></a></span><span>
</span><span id="line-1096"></span><span>    </span><span id="local-6989586621679214719"><span class="annot"><span class="annottext">toLoc :: (String, SrcLoc) -&gt; Loc
</span><a href="#local-6989586621679214719"><span class="hs-identifier hs-var hs-var">toLoc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679214713"><span class="annot"><span class="annottext">SrcLoc
</span><a href="#local-6989586621679214713"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Loc :: String -&gt; String -&gt; String -&gt; CharPos -&gt; CharPos -&gt; Loc
</span><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-type">Loc</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-1097"></span><span>        </span><span class="annot"><span class="annottext">loc_filename :: String
</span><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-var">loc_filename</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcLoc -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var">srcLocFile</span></a></span><span> </span><span class="annot"><span class="annottext">SrcLoc
</span><a href="#local-6989586621679214713"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1098"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">loc_package :: String
</span><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-var">loc_package</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcLoc -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var">srcLocPackage</span></a></span><span> </span><span class="annot"><span class="annottext">SrcLoc
</span><a href="#local-6989586621679214713"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1099"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">loc_module :: String
</span><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-var">loc_module</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcLoc -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var">srcLocModule</span></a></span><span> </span><span class="annot"><span class="annottext">SrcLoc
</span><a href="#local-6989586621679214713"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-1100"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">loc_start :: CharPos
</span><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-var">loc_start</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcLoc -&gt; Int
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var">srcLocStartLine</span></a></span><span> </span><span class="annot"><span class="annottext">SrcLoc
</span><a href="#local-6989586621679214713"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SrcLoc -&gt; Int
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var">srcLocStartCol</span></a></span><span> </span><span class="annot"><span class="annottext">SrcLoc
</span><a href="#local-6989586621679214713"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1101"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">loc_end :: CharPos
</span><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-var">loc_end</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcLoc -&gt; Int
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var">srcLocEndLine</span></a></span><span>   </span><span class="annot"><span class="annottext">SrcLoc
</span><a href="#local-6989586621679214713"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SrcLoc -&gt; Int
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var hs-var">srcLocEndCol</span></a></span><span>   </span><span class="annot"><span class="annottext">SrcLoc
</span><a href="#local-6989586621679214713"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1102"></span><span>      </span><span class="hs-special">}</span><span class="hs-cpp">
#else
</span><span class="hs-identifier">getLoc</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Maybe</span><span> </span><span class="hs-identifier">Loc</span><span>
</span><span id="line-1105"></span><span class="hs-identifier">getLoc</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-1108"></span><span>
</span><span id="line-1109"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-1110"></span><span class="hs-comment">-- Like `getLoc`, but uses template-haskell and works with older versions of</span><span>
</span><span id="line-1111"></span><span class="hs-comment">-- the compiler (GHC 7.8 or older).</span><span>
</span><span id="line-1112"></span><span class="annot"><a href="Katip.Core.html#getLocTH"><span class="hs-identifier hs-type">getLocTH</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-type">ExpQ</span></a></span><span>
</span><span id="line-1113"></span><span id="getLocTH"><span class="annot"><span class="annottext">getLocTH :: Q Exp
</span><a href="Katip.Core.html#getLocTH"><span class="hs-identifier hs-var hs-var">getLocTH</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[|</span><span> </span><span class="hs-special">$(</span><span class="hs-identifier">location</span><span> </span><span class="hs-operator">&gt;&gt;=</span><span> </span><span class="hs-identifier">liftLoc</span><span class="hs-special">)</span><span> </span><span class="hs-special">|]</span><span>
</span><span id="line-1114"></span><span>
</span><span id="line-1115"></span><span>
</span><span id="line-1116"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-1117"></span><span class="hs-comment">-- | 'Loc'-tagged logging when using template-haskell.</span><span>
</span><span id="line-1118"></span><span class="hs-comment">--</span><span>
</span><span id="line-1119"></span><span class="hs-comment">-- @$(logT) obj mempty InfoS &quot;Hello world&quot;@</span><span>
</span><span id="line-1120"></span><span class="annot"><a href="Katip.Core.html#logT"><span class="hs-identifier hs-type">logT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-type">ExpQ</span></a></span><span>
</span><span id="line-1121"></span><span id="logT"><span class="annot"><span class="annottext">logT :: Q Exp
</span><a href="Katip.Core.html#logT"><span class="hs-identifier hs-var hs-var">logT</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[|</span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">ns</span><span> </span><span class="hs-identifier">sev</span><span> </span><span class="hs-identifier">msg</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">logItem</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">ns</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Just</span><span> </span><span class="hs-special">$(</span><span class="hs-identifier">getLocTH</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">sev</span><span> </span><span class="hs-identifier">msg</span><span> </span><span class="hs-special">|]</span><span>
</span><span id="line-1122"></span><span>
</span><span id="line-1123"></span><span>
</span><span id="line-1124"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-1125"></span><span class="hs-comment">-- | 'Loc'-tagged logging using 'GHC.Stack' when available.</span><span>
</span><span id="line-1126"></span><span class="hs-comment">--</span><span>
</span><span id="line-1127"></span><span class="hs-comment">-- This function does not require template-haskell as it</span><span>
</span><span id="line-1128"></span><span class="hs-comment">-- automatically uses &lt;https://hackage.haskell.org/package/base-4.8.2.0/docs/GHC-Stack.html#v:getCallStack implicit-callstacks&gt;</span><span>
</span><span id="line-1129"></span><span class="hs-comment">-- when the code is compiled using GHC &gt; 7.8. Using an older version of the</span><span>
</span><span id="line-1130"></span><span class="hs-comment">-- compiler will result in the emission of a log line without any location information,</span><span>
</span><span id="line-1131"></span><span class="hs-comment">-- so be aware of it. Users using GHC &lt;= 7.8 may want to use the template-haskell function</span><span>
</span><span id="line-1132"></span><span class="hs-comment">-- `logT` for maximum compatibility.</span><span>
</span><span id="line-1133"></span><span class="hs-comment">--</span><span>
</span><span id="line-1134"></span><span class="hs-comment">-- @logLoc obj mempty InfoS &quot;Hello world&quot;@</span><span class="hs-cpp">
#if MIN_VERSION_base(4, 8, 0)
</span><span id="local-6989586621679214703"><span id="local-6989586621679214704"><span class="annot"><a href="Katip.Core.html#logLoc"><span class="hs-identifier hs-type">logLoc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Applicative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214704"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Katip.Core.html#LogItem"><span class="hs-identifier hs-type">LogItem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214703"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Katip.Core.html#Katip"><span class="hs-identifier hs-type">Katip</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679214704"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span class="hs-special">)</span><span class="hs-cpp">
#else
</span><span class="hs-identifier">logLoc</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Applicative</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">LogItem</span><span> </span><span class="hs-identifier">a</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">Katip</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679214703"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-1141"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Namespace"><span class="hs-identifier hs-type">Namespace</span></a></span><span>
</span><span id="line-1142"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#Severity"><span class="hs-identifier hs-type">Severity</span></a></span><span>
</span><span id="line-1143"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Katip.Core.html#LogStr"><span class="hs-identifier hs-type">LogStr</span></a></span><span>
</span><span id="line-1144"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679214704"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-1145"></span><span id="logLoc"><span class="annot"><span class="annottext">logLoc :: a -&gt; Namespace -&gt; Severity -&gt; LogStr -&gt; m ()
</span><a href="Katip.Core.html#logLoc"><span class="hs-identifier hs-var hs-var">logLoc</span></a></span></span><span> </span><span id="local-6989586621679214701"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679214701"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679214700"><span class="annot"><span class="annottext">Namespace
</span><a href="#local-6989586621679214700"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Namespace -&gt; Maybe Loc -&gt; Severity -&gt; LogStr -&gt; m ()
forall (m :: * -&gt; *) a.
(Applicative m, LogItem a, Katip m) =&gt;
a -&gt; Namespace -&gt; Maybe Loc -&gt; Severity -&gt; LogStr -&gt; m ()
</span><a href="Katip.Core.html#logItem"><span class="hs-identifier hs-var">logItem</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679214701"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Namespace
</span><a href="#local-6989586621679214700"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Loc
HasCallStack =&gt; Maybe Loc
</span><a href="Katip.Core.html#getLoc"><span class="hs-identifier hs-var">getLoc</span></a></span><span>
</span><span id="line-1146"></span><span>
</span><span id="line-1147"></span><span>
</span><span id="line-1148"></span><span class="hs-comment">-- taken from the file-location package</span><span>
</span><span id="line-1149"></span><span class="hs-comment">-- turn the TH Loc loaction information into a human readable string</span><span>
</span><span id="line-1150"></span><span class="hs-comment">-- leaving out the loc_end parameter</span><span>
</span><span id="line-1151"></span><span class="annot"><a href="Katip.Core.html#locationToString"><span class="hs-identifier hs-type">locationToString</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-type">Loc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-1152"></span><span id="locationToString"><span class="annot"><span class="annottext">locationToString :: Loc -&gt; String
</span><a href="Katip.Core.html#locationToString"><span class="hs-identifier hs-var hs-var">locationToString</span></a></span></span><span> </span><span id="local-6989586621679214698"><span class="annot"><span class="annottext">Loc
</span><a href="#local-6989586621679214698"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Loc -&gt; String
</span><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-var hs-var">loc_package</span></a></span><span> </span><span class="annot"><span class="annottext">Loc
</span><a href="#local-6989586621679214698"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">':'</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; ShowS
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Loc -&gt; String
</span><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-var hs-var">loc_module</span></a></span><span> </span><span class="annot"><span class="annottext">Loc
</span><a href="#local-6989586621679214698"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span>
</span><span id="line-1153"></span><span>  </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; ShowS
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Loc -&gt; String
</span><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-var hs-var">loc_filename</span></a></span><span> </span><span class="annot"><span class="annottext">Loc
</span><a href="#local-6989586621679214698"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">':'</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; ShowS
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Loc -&gt; String
</span><a href="#local-6989586621679214697"><span class="hs-identifier hs-var">line</span></a></span><span> </span><span class="annot"><span class="annottext">Loc
</span><a href="#local-6989586621679214698"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">++</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">':'</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; ShowS
forall a. a -&gt; [a] -&gt; [a]
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Loc -&gt; String
</span><a href="#local-6989586621679214696"><span class="hs-identifier hs-var">char</span></a></span><span> </span><span class="annot"><span class="annottext">Loc
</span><a href="#local-6989586621679214698"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1154"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1155"></span><span>    </span><span id="local-6989586621679214697"><span class="annot"><span class="annottext">line :: Loc -&gt; String
</span><a href="#local-6989586621679214697"><span class="hs-identifier hs-var hs-var">line</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; String) -&gt; (Loc -&gt; Int) -&gt; Loc -&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">CharPos -&gt; Int
forall a b. (a, b) -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fst</span></a></span><span> </span><span class="annot"><span class="annottext">(CharPos -&gt; Int) -&gt; (Loc -&gt; CharPos) -&gt; Loc -&gt; Int
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; CharPos
</span><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-var hs-var">loc_start</span></a></span><span>
</span><span id="line-1156"></span><span>    </span><span id="local-6989586621679214696"><span class="annot"><span class="annottext">char :: Loc -&gt; String
</span><a href="#local-6989586621679214696"><span class="hs-identifier hs-var hs-var">char</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; String) -&gt; (Loc -&gt; Int) -&gt; Loc -&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">CharPos -&gt; Int
forall a b. (a, b) -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">(CharPos -&gt; Int) -&gt; (Loc -&gt; CharPos) -&gt; Loc -&gt; Int
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Loc -&gt; CharPos
</span><a href="../../../../ghc/html/libraries/template-haskell-2.16.0.0/src"><span class="hs-identifier hs-var hs-var">loc_start</span></a></span><span>
</span><span id="line-1157"></span></pre></body></html>