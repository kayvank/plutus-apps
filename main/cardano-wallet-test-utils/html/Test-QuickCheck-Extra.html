<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Test.QuickCheck.Extra</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">cardano-wallet-test-utils-2022.7.1: Shared utilities for writing unit and property tests.</span><ul class="links" id="page-menu"><li><a href="src/Test.QuickCheck.Extra.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>&#169; 2018-2020 IOHK</td></tr><tr><th>License</th><td>Apache-2.0</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Test.QuickCheck.Extra</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Generation</a></li><li><a href="#g:2">Shrinking</a></li><li><a href="#g:3">Evaluating shrinkers</a></li><li><a href="#g:4">Partitioning lists</a></li><li><a href="#g:5">Selecting entries from maps</a></li><li><a href="#g:6">Generating and shrinking natural numbers</a></li><li><a href="#g:7">Generating and shrinking non-empty lists</a></li><li><a href="#g:8">Counterexamples</a></li><li><a href="#g:9">Pretty-printing</a></li><li><a href="#g:10">Combinators</a></li><li><a href="#g:11">Utilities</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Extra helper functions for QuickCheck</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:genFunction">genFunction</a> :: (a -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> b -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> b) -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> b -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> (a -&gt; b)</li><li class="src short"><a href="#v:genMapWith">genMapWith</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k =&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> k -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> v -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> (<a href="../../containers/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> k v)</li><li class="src short"><a href="#v:genSized2">genSized2</a> :: <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> a -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> b -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> (a, b)</li><li class="src short"><a href="#v:genSized2With">genSized2With</a> :: (a -&gt; b -&gt; c) -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> a -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> b -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> c</li><li class="src short"><a href="#v:reasonablySized">reasonablySized</a> :: <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> a -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> a</li><li class="src short"><a href="#v:liftShrinker">liftShrinker</a> :: (a -&gt; [a]) -&gt; (<a href="../../generics-sop/html/Generics-SOP.html#t:I" title="Generics.SOP">I</a> <a href="../../generics-sop/html/Generics-SOP.html#t:-45-.-45--62-" title="Generics.SOP">-.-&gt;</a> []) a</li><li class="src short"><a href="#v:shrinkInterleaved">shrinkInterleaved</a> :: (a, a -&gt; [a]) -&gt; (b, b -&gt; [b]) -&gt; [(a, b)]</li><li class="src short"><a href="#v:shrinkMapWith">shrinkMapWith</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k =&gt; (k -&gt; [k]) -&gt; (v -&gt; [v]) -&gt; <a href="../../containers/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> k v -&gt; [<a href="../../containers/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> k v]</li><li class="src short"><a href="#v:groundRobinShrink">groundRobinShrink</a> :: (<a href="../../generics-sop/html/Generics-SOP-Universe.html#t:Generic" title="Generics.SOP.Universe">Generic</a> a, <a href="../../generics-sop/html/Generics-SOP-Universe.html#t:Code" title="Generics.SOP.Universe">Code</a> a ~ '[xs]) =&gt; <a href="../../generics-sop/html/Generics-SOP.html#t:NP" title="Generics.SOP">NP</a> (<a href="../../generics-sop/html/Generics-SOP.html#t:I" title="Generics.SOP">I</a> <a href="../../generics-sop/html/Generics-SOP.html#t:-45-.-45--62-" title="Generics.SOP">-.-&gt;</a> []) xs -&gt; a -&gt; [a]</li><li class="src short"><a href="#v:groundRobinShrink-39-">groundRobinShrink'</a> :: (<a href="../../generics-sop/html/Generics-SOP-Universe.html#t:Generic" title="Generics.SOP.Universe">Generic</a> a, <a href="../../generics-sop/html/Generics-SOP-Universe.html#t:Code" title="Generics.SOP.Universe">Code</a> a ~ '[xs], <a href="../../generics-sop/html/Generics-SOP.html#t:All" title="Generics.SOP">All</a> <a href="../../QuickCheck/html/Test-QuickCheck-Arbitrary.html#t:Arbitrary" title="Test.QuickCheck.Arbitrary">Arbitrary</a> xs) =&gt; a -&gt; [a]</li><li class="src short"><a href="#v:genericRoundRobinShrink">genericRoundRobinShrink</a> :: (<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> a, <a href="../../generics-sop/html/Generics-SOP-GGP.html#t:GFrom" title="Generics.SOP.GGP">GFrom</a> a, <a href="../../generics-sop/html/Generics-SOP-GGP.html#t:GTo" title="Generics.SOP.GGP">GTo</a> a, <a href="../../generics-sop/html/Generics-SOP-GGP.html#t:GCode" title="Generics.SOP.GGP">GCode</a> a ~ '[xs]) =&gt; <a href="../../generics-sop/html/Generics-SOP.html#t:NP" title="Generics.SOP">NP</a> (<a href="../../generics-sop/html/Generics-SOP.html#t:I" title="Generics.SOP">I</a> <a href="../../generics-sop/html/Generics-SOP.html#t:-45-.-45--62-" title="Generics.SOP">-.-&gt;</a> []) xs -&gt; a -&gt; [a]</li><li class="src short"><a href="#v:genericRoundRobinShrink-39-">genericRoundRobinShrink'</a> :: (<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> a, <a href="../../generics-sop/html/Generics-SOP-GGP.html#t:GFrom" title="Generics.SOP.GGP">GFrom</a> a, <a href="../../generics-sop/html/Generics-SOP-GGP.html#t:GTo" title="Generics.SOP.GGP">GTo</a> a, <a href="../../generics-sop/html/Generics-SOP-GGP.html#t:GCode" title="Generics.SOP.GGP">GCode</a> a ~ '[xs], <a href="../../generics-sop/html/Generics-SOP.html#t:All" title="Generics.SOP">All</a> <a href="../../QuickCheck/html/Test-QuickCheck-Arbitrary.html#t:Arbitrary" title="Test.QuickCheck.Arbitrary">Arbitrary</a> xs) =&gt; a -&gt; [a]</li><li class="src short"><a href="#v:-60--64--62-">(&lt;@&gt;)</a> :: (a -&gt; b) -&gt; a -&gt; b</li><li class="src short"><a href="#v:-60-:-62-">(&lt;:&gt;)</a> :: (x -&gt; [x]) -&gt; <a href="../../generics-sop/html/Generics-SOP.html#t:NP" title="Generics.SOP">NP</a> (<a href="../../generics-sop/html/Generics-SOP.html#t:I" title="Generics.SOP">I</a> <a href="../../generics-sop/html/Generics-SOP.html#t:-45-.-45--62-" title="Generics.SOP">-.-&gt;</a> []) xs -&gt; <a href="../../generics-sop/html/Generics-SOP.html#t:NP" title="Generics.SOP">NP</a> (<a href="../../generics-sop/html/Generics-SOP.html#t:I" title="Generics.SOP">I</a> <a href="../../generics-sop/html/Generics-SOP.html#t:-45-.-45--62-" title="Generics.SOP">-.-&gt;</a> []) (x ': xs)</li><li class="src short"><a href="#v:genShrinkSequence">genShrinkSequence</a> :: <span class="keyword">forall</span> a. (a -&gt; [a]) -&gt; a -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> [a]</li><li class="src short"><a href="#v:shrinkSpace">shrinkSpace</a> :: <span class="keyword">forall</span> a. <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a =&gt; (a -&gt; [a]) -&gt; a -&gt; <a href="../../containers/html/Data-Set.html#t:Set" title="Data.Set">Set</a> a</li><li class="src short"><a href="#v:shrinkWhile">shrinkWhile</a> :: (a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; (a -&gt; [a]) -&gt; a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a</li><li class="src short"><a href="#v:shrinkWhileSteps">shrinkWhileSteps</a> :: <span class="keyword">forall</span> a. (a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; (a -&gt; [a]) -&gt; a -&gt; [a]</li><li class="src short"><a href="#v:partitionList">partitionList</a> :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; [a] -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> [[a]]</li><li class="src short"><a href="#v:selectMapEntry">selectMapEntry</a> :: <span class="keyword">forall</span> k v. <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k =&gt; <a href="../../containers/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> k v -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> ((k, v), <a href="../../containers/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> k v))</li><li class="src short"><a href="#v:selectMapEntries">selectMapEntries</a> :: <span class="keyword">forall</span> k v. <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k =&gt; <a href="../../containers/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> k v -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> ([(k, v)], <a href="../../containers/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> k v)</li><li class="src short"><a href="#v:chooseNatural">chooseNatural</a> :: (<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Natural.html#t:Natural" title="GHC.Natural">Natural</a>, <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Natural.html#t:Natural" title="GHC.Natural">Natural</a>) -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Natural.html#t:Natural" title="GHC.Natural">Natural</a></li><li class="src short"><a href="#v:shrinkNatural">shrinkNatural</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Natural.html#t:Natural" title="GHC.Natural">Natural</a> -&gt; [<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Natural.html#t:Natural" title="GHC.Natural">Natural</a>]</li><li class="src short"><a href="#v:genNonEmpty">genNonEmpty</a> :: <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> a -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> a)</li><li class="src short"><a href="#v:shrinkNonEmpty">shrinkNonEmpty</a> :: (a -&gt; [a]) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> a -&gt; [<a href="../../ghc/html/libraries/base-4.14.3.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> a]</li><li class="src short"><a href="#v:report">report</a> :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> a, <a href="../../QuickCheck/html/Test-QuickCheck.html#t:Testable" title="Test.QuickCheck">Testable</a> prop) =&gt; a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; prop -&gt; <a href="../../QuickCheck/html/Test-QuickCheck.html#t:Property" title="Test.QuickCheck">Property</a></li><li class="src short"><a href="#v:verify">verify</a> :: <a href="../../QuickCheck/html/Test-QuickCheck.html#t:Testable" title="Test.QuickCheck">Testable</a> t =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; t -&gt; <a href="../../QuickCheck/html/Test-QuickCheck.html#t:Property" title="Test.QuickCheck">Property</a></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:Pretty">Pretty</a> a = <a href="#v:Pretty">Pretty</a> {<ul class="subs"><li><a href="#v:unPretty">unPretty</a> :: a</li></ul>}</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:NotNull">NotNull</a> a = <a href="#v:NotNull">NotNull</a> {<ul class="subs"><li><a href="#v:unNotNull">unNotNull</a> :: a</li></ul>}</li><li class="src short"><a href="#v:interleaveRoundRobin">interleaveRoundRobin</a> :: [[a]] -&gt; [a]</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Generation</h1></a><div class="top"><p class="src"><a id="v:genFunction" class="def">genFunction</a> :: (a -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> b -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> b) -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> b -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> (a -&gt; b) <a href="src/Test.QuickCheck.Extra.html#genFunction" class="link">Source</a> <a href="#v:genFunction" class="selflink">#</a></p><div class="doc"><p>Generates a function.</p><p>This is based on the implementation of <code><a href="../../QuickCheck/html/Test-QuickCheck-Arbitrary.html#t:Arbitrary" title="Test.QuickCheck.Arbitrary">Arbitrary</a></code> for 'a -&gt; b'.</p></div></div><div class="top"><p class="src"><a id="v:genMapWith" class="def">genMapWith</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k =&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> k -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> v -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> (<a href="../../containers/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> k v) <a href="src/Test.QuickCheck.Extra.html#genMapWith" class="link">Source</a> <a href="#v:genMapWith" class="selflink">#</a></p><div class="doc"><p>Generates a <code><a href="../../containers/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a></code> with the given key and value generation functions.</p></div></div><div class="top"><p class="src"><a id="v:genSized2" class="def">genSized2</a> :: <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> a -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> b -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> (a, b) <a href="src/Test.QuickCheck.Extra.html#genSized2" class="link">Source</a> <a href="#v:genSized2" class="selflink">#</a></p><div class="doc"><p>Generates a 2-tuple whose range depends linearly on the size parameter.</p></div></div><div class="top"><p class="src"><a id="v:genSized2With" class="def">genSized2With</a> :: (a -&gt; b -&gt; c) -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> a -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> b -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> c <a href="src/Test.QuickCheck.Extra.html#genSized2With" class="link">Source</a> <a href="#v:genSized2With" class="selflink">#</a></p><div class="doc"><p>Similar to <code><a href="Test-QuickCheck-Extra.html#v:genSized2" title="Test.QuickCheck.Extra">genSized2</a></code>, but with a custom constructor.</p></div></div><div class="top"><p class="src"><a id="v:reasonablySized" class="def">reasonablySized</a> :: <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> a -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> a <a href="src/Test.QuickCheck.Extra.html#reasonablySized" class="link">Source</a> <a href="#v:reasonablySized" class="selflink">#</a></p><div class="doc"><p>Resize a generator to grow with the size parameter, but remains reasonably
 sized. That is handy when testing on data-structures that can be arbitrarily
 large and, when large entities don't really bring any value to the test
 itself.</p><p>It uses a square root function which makes the size parameter grows
 quadratically slower than normal. That is,</p><table><tbody><tr><td>Normal Size
-----------
0
1
10
100
1000</td><td>Reasonable Size
----------------
0
1
3
10
31</td></tr></tbody></table></div></div><a href="#g:2" id="g:2"><h1>Shrinking</h1></a><div class="top"><p class="src"><a id="v:liftShrinker" class="def">liftShrinker</a> :: (a -&gt; [a]) -&gt; (<a href="../../generics-sop/html/Generics-SOP.html#t:I" title="Generics.SOP">I</a> <a href="../../generics-sop/html/Generics-SOP.html#t:-45-.-45--62-" title="Generics.SOP">-.-&gt;</a> []) a <a href="src/Test.QuickCheck.Extra.html#liftShrinker" class="link">Source</a> <a href="#v:liftShrinker" class="selflink">#</a></p><div class="doc"><p>Lift a shrinking function into a type more convenient for use with
 Generics.SOP.</p><p><strong>Examples:</strong></p><pre>shrinkBool :: Bool -&gt; [Bool]
shrinkChar :: Char -&gt; [Char]

data BoolChar = BoolChar Bool Char

instance Generic BoolChar

shrinkBoolChar :: BoolChar -&gt; [BoolChar]
shrinkBoolChar =
    groundRobinShrink (  liftShrinker shrinkBool
                      :* liftShrinker shrinkChar
                      :* Nil
                      )
</pre></div></div><div class="top"><p class="src"><a id="v:shrinkInterleaved" class="def">shrinkInterleaved</a> :: (a, a -&gt; [a]) -&gt; (b, b -&gt; [b]) -&gt; [(a, b)] <a href="src/Test.QuickCheck.Extra.html#shrinkInterleaved" class="link">Source</a> <a href="#v:shrinkInterleaved" class="selflink">#</a></p><div class="doc"><p>Shrink the given pair in interleaved fashion.</p><p>Successive shrinks of the left and right hand sides are interleaved in the
 resulting sequence, to avoid biasing either side.</p></div></div><div class="top"><p class="src"><a id="v:shrinkMapWith" class="def">shrinkMapWith</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k =&gt; (k -&gt; [k]) -&gt; (v -&gt; [v]) -&gt; <a href="../../containers/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> k v -&gt; [<a href="../../containers/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> k v] <a href="src/Test.QuickCheck.Extra.html#shrinkMapWith" class="link">Source</a> <a href="#v:shrinkMapWith" class="selflink">#</a></p><div class="doc"><p>Shrinks a <code><a href="../../containers/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a></code> with the given key and value shrinking functions.</p></div></div><div class="top"><p class="src"><a id="v:groundRobinShrink" class="def">groundRobinShrink</a> <a href="src/Test.QuickCheck.Extra.html#groundRobinShrink" class="link">Source</a> <a href="#v:groundRobinShrink" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="../../generics-sop/html/Generics-SOP-Universe.html#t:Generic" title="Generics.SOP.Universe">Generic</a> a, <a href="../../generics-sop/html/Generics-SOP-Universe.html#t:Code" title="Generics.SOP.Universe">Code</a> a ~ '[xs])</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="../../generics-sop/html/Generics-SOP.html#t:NP" title="Generics.SOP">NP</a> (<a href="../../generics-sop/html/Generics-SOP.html#t:I" title="Generics.SOP">I</a> <a href="../../generics-sop/html/Generics-SOP.html#t:-45-.-45--62-" title="Generics.SOP">-.-&gt;</a> []) xs</td><td class="doc"><p>and a list of shrinking functions, one for each argument of the product</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>and a value of that type</p></td></tr><tr><td class="src">-&gt; [a]</td><td class="doc"><p>provide a list of shrunk values.</p></td></tr></table></div><div class="doc"><p>Given a list of shrinkers for each element of a product type (NOTE: this
 function is not defined for sum types), and a value of that product type,
 shrink the value using a round-robin algorithm.</p><p><strong>Examples:</strong></p><pre>shrinkBoolChar :: BoolChar -&gt; [BoolChar]
shrinkBoolChar =
    groundRobinShrink (  liftShrinker shrinkBool
                      :* liftShrinker shrinkChar
                      :* Nil
                      )
</pre></div></div><div class="top"><p class="src"><a id="v:groundRobinShrink-39-" class="def">groundRobinShrink'</a> <a href="src/Test.QuickCheck.Extra.html#groundRobinShrink%27" class="link">Source</a> <a href="#v:groundRobinShrink-39-" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="../../generics-sop/html/Generics-SOP-Universe.html#t:Generic" title="Generics.SOP.Universe">Generic</a> a, <a href="../../generics-sop/html/Generics-SOP-Universe.html#t:Code" title="Generics.SOP.Universe">Code</a> a ~ '[xs], <a href="../../generics-sop/html/Generics-SOP.html#t:All" title="Generics.SOP">All</a> <a href="../../QuickCheck/html/Test-QuickCheck-Arbitrary.html#t:Arbitrary" title="Test.QuickCheck.Arbitrary">Arbitrary</a> xs)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>Given such a type</p></td></tr><tr><td class="src">-&gt; [a]</td><td class="doc"><p>return a shrunk list of that product type, using the round-robin
 algorithm.</p></td></tr></table></div><div class="doc"><p>Same as groundRobinShrink, but use the available shrinkers via Arbitrary
 instance.</p><p><strong>Examples:</strong></p><pre>shrinkBoolChar :: BoolChar -&gt; [BoolChar]
shrinkBoolChar = groundRobinShrink'
</pre></div></div><div class="top"><p class="src"><a id="v:genericRoundRobinShrink" class="def">genericRoundRobinShrink</a> :: (<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> a, <a href="../../generics-sop/html/Generics-SOP-GGP.html#t:GFrom" title="Generics.SOP.GGP">GFrom</a> a, <a href="../../generics-sop/html/Generics-SOP-GGP.html#t:GTo" title="Generics.SOP.GGP">GTo</a> a, <a href="../../generics-sop/html/Generics-SOP-GGP.html#t:GCode" title="Generics.SOP.GGP">GCode</a> a ~ '[xs]) =&gt; <a href="../../generics-sop/html/Generics-SOP.html#t:NP" title="Generics.SOP">NP</a> (<a href="../../generics-sop/html/Generics-SOP.html#t:I" title="Generics.SOP">I</a> <a href="../../generics-sop/html/Generics-SOP.html#t:-45-.-45--62-" title="Generics.SOP">-.-&gt;</a> []) xs -&gt; a -&gt; [a] <a href="src/Test.QuickCheck.Extra.html#genericRoundRobinShrink" class="link">Source</a> <a href="#v:genericRoundRobinShrink" class="selflink">#</a></p><div class="doc"><p>This function exists to provide a GHC.Generics version of
 <code>groundRobinShrink</code>, so that users of this code don't have to derive an
 instance of Generics.SOP.Generic; an instance of GHC.Generics.Generic will
 do.</p></div></div><div class="top"><p class="src"><a id="v:genericRoundRobinShrink-39-" class="def">genericRoundRobinShrink'</a> :: (<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> a, <a href="../../generics-sop/html/Generics-SOP-GGP.html#t:GFrom" title="Generics.SOP.GGP">GFrom</a> a, <a href="../../generics-sop/html/Generics-SOP-GGP.html#t:GTo" title="Generics.SOP.GGP">GTo</a> a, <a href="../../generics-sop/html/Generics-SOP-GGP.html#t:GCode" title="Generics.SOP.GGP">GCode</a> a ~ '[xs], <a href="../../generics-sop/html/Generics-SOP.html#t:All" title="Generics.SOP">All</a> <a href="../../QuickCheck/html/Test-QuickCheck-Arbitrary.html#t:Arbitrary" title="Test.QuickCheck.Arbitrary">Arbitrary</a> xs) =&gt; a -&gt; [a] <a href="src/Test.QuickCheck.Extra.html#genericRoundRobinShrink%27" class="link">Source</a> <a href="#v:genericRoundRobinShrink-39-" class="selflink">#</a></p><div class="doc"><p>Same as <code>genericRoundRobinShrink</code> but uses available Arbitrary instance for
 shrinking.</p></div></div><div class="top"><p class="src"><a id="v:-60--64--62-" class="def">(&lt;@&gt;)</a> :: (a -&gt; b) -&gt; a -&gt; b <span class="fixity">infixl 6</span><span class="rightedge"></span> <a href="src/Test.QuickCheck.Extra.html#%3C%40%3E" class="link">Source</a> <a href="#v:-60--64--62-" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:-60-:-62-" class="def">(&lt;:&gt;)</a> :: (x -&gt; [x]) -&gt; <a href="../../generics-sop/html/Generics-SOP.html#t:NP" title="Generics.SOP">NP</a> (<a href="../../generics-sop/html/Generics-SOP.html#t:I" title="Generics.SOP">I</a> <a href="../../generics-sop/html/Generics-SOP.html#t:-45-.-45--62-" title="Generics.SOP">-.-&gt;</a> []) xs -&gt; <a href="../../generics-sop/html/Generics-SOP.html#t:NP" title="Generics.SOP">NP</a> (<a href="../../generics-sop/html/Generics-SOP.html#t:I" title="Generics.SOP">I</a> <a href="../../generics-sop/html/Generics-SOP.html#t:-45-.-45--62-" title="Generics.SOP">-.-&gt;</a> []) (x ': xs) <span class="fixity">infixr 7</span><span class="rightedge"></span> <a href="src/Test.QuickCheck.Extra.html#%3C%3A%3E" class="link">Source</a> <a href="#v:-60-:-62-" class="selflink">#</a></p></div><a href="#g:3" id="g:3"><h1>Evaluating shrinkers</h1></a><div class="top"><p class="src"><a id="v:genShrinkSequence" class="def">genShrinkSequence</a> :: <span class="keyword">forall</span> a. (a -&gt; [a]) -&gt; a -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> [a] <a href="src/Test.QuickCheck.Extra.html#genShrinkSequence" class="link">Source</a> <a href="#v:genShrinkSequence" class="selflink">#</a></p><div class="doc"><p>Generates a random sequence of progressively shrunken values from a given
   starting value and shrinking function.</p><p>Each successive element in the sequence is selected at random from the
 result of applying the shrinking function to the preceding element.</p><p>The given starting value is not included in the sequence, by default.</p><p>Examples:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>generate (genShrinkSequence shrink (100 :: Int))
</code></strong>[94,83,82,72,70,66,33,32,16,0]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>generate (genShrinkSequence shrink &quot;Cardano&quot;)
</code></strong>[&quot;Caraano&quot;,&quot;aaraano&quot;,&quot;aaraaao&quot;,&quot;aaro&quot;,&quot;aarb&quot;,&quot;aaab&quot;,&quot;aab&quot;,&quot;aa&quot;,&quot;&quot;]
</pre><p>The resulting sequence will be empty if (and only if) applying the shrinking
 function to the starting value yields the empty list:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>generate (genShrinkSequence (const []) &quot;Cardano&quot;)
</code></strong>[]
</pre><p>If the resulting sequence is non-empty, then applying the shrinking function
 to the terminal element will yield the empty list:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>shrink . last &lt;$&gt; generate (genShrinkSequence shrink (100 :: Int))
</code></strong>[]
</pre></div></div><div class="top"><p class="src"><a id="v:shrinkSpace" class="def">shrinkSpace</a> :: <span class="keyword">forall</span> a. <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a =&gt; (a -&gt; [a]) -&gt; a -&gt; <a href="../../containers/html/Data-Set.html#t:Set" title="Data.Set">Set</a> a <a href="src/Test.QuickCheck.Extra.html#shrinkSpace" class="link">Source</a> <a href="#v:shrinkSpace" class="selflink">#</a></p><div class="doc"><p>Computes the shrink space of a given shrinking function for a given
   starting value.</p><p>This function returns the set of all values that are transitively reachable
 through repeated applications of the given shrinking function to the given
 starting value.</p><p>By default, the given starting value is not included in the result.</p><p>Examples:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>shrinkSpace shrink &quot;abc&quot;
</code></strong>[&quot;&quot;,&quot;a&quot;,&quot;aa&quot;,&quot;aaa&quot;,&quot;aab&quot;,&quot;aac&quot;,&quot;ab&quot;,&quot;aba&quot;,&quot;abb&quot;,&quot;ac&quot;,&quot;b&quot;,&quot;ba&quot;,&quot;bb&quot;,&quot;bc&quot;,&quot;c&quot;]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>shrinkSpace shrink (8 :: Int)
</code></strong>[0,1,2,3,4,5,6,7]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>shrinkSpace shrink (2 :: Int, 2 :: Int)
</code></strong>[(0,0),(0,1),(0,2),(1,0),(1,1),(1,2),(2,0),(2,1)]
</pre><p>Caution:</p><p>Depending on the particular choice of shrinking function and starting value,
 the shrink space can grow very quickly. Therefore, this function should be
 used with caution to avoid non-termination within test cases. If in doubt,
 use the <code>within</code> modifier provided by QuickCheck to ensure that your test
 case terminates within a fixed time limit.</p><p>This function can be used to test that a given shrinking function always
 generates values that satisfy a given condition. For example:</p><pre>prop_shrinkApple_valid :: Apple -&gt; Property
prop_shrinkApple_valid apple =
    within twoSeconds $
    all isValidApple (shrinkSpace shrinkApple apple)
  where
    twoSeconds = 2_000_000
</pre></div></div><div class="top"><p class="src"><a id="v:shrinkWhile" class="def">shrinkWhile</a> :: (a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; (a -&gt; [a]) -&gt; a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a <a href="src/Test.QuickCheck.Extra.html#shrinkWhile" class="link">Source</a> <a href="#v:shrinkWhile" class="selflink">#</a></p><div class="doc"><p>Repeatedly applies a shrinking function to a value while a condition holds.</p><p>This function can be used to predict the final value that QuickCheck will
 produce when searching for a minimal counterexample.</p><p>Example:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>isCounterexample a = (a &gt; 0) &amp;&amp; (a `mod` 8 == 0)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>shrinkWhile isCounterexample shrinkIntegral 1024
</code></strong>Just 8
</pre><p>Provided that the given starting value satisfies the condition, and provided
 that at least one shrunken value satisfies the condition, this function will
 terminate with the smallest shrunken value that cannot be shrunk further
 with the given shrinking function.</p><p>This function returns <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> if the given starting value does not satisfy
 the condition, or if none of the shrunken values satisfy the condition.</p><p>The final result is evaluated eagerly. If you suspect that a given shrinking
 sequence does not terminate, then you may wish to consider evaluating a
 finite prefix of <code><a href="Test-QuickCheck-Extra.html#v:shrinkWhileSteps" title="Test.QuickCheck.Extra">shrinkWhileSteps</a></code> instead.</p></div></div><div class="top"><p class="src"><a id="v:shrinkWhileSteps" class="def">shrinkWhileSteps</a> :: <span class="keyword">forall</span> a. (a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; (a -&gt; [a]) -&gt; a -&gt; [a] <a href="src/Test.QuickCheck.Extra.html#shrinkWhileSteps" class="link">Source</a> <a href="#v:shrinkWhileSteps" class="selflink">#</a></p><div class="doc"><p>Repeatedly applies a shrinking function to a value while a condition holds,
   returning all the intermediate shrinking steps.</p><p>This function can be used to predict the sequence of intermediate values
 that QuickCheck will produce when searching for a minimal counterexample.</p><p>Example:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>isCounterexample = (&gt;= 100)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>shrinkWhileSteps isCounterexample shrinkIntegral 1024
</code></strong>[512,256,128,112,105,102,101,100]
</pre><p>Provided that the given starting value satisfies the condition, and provided
 that at least one shrunken value satisfies the condition, this function will
 produce a non-empty list of all intermediate shrinking steps, ordered from
 largest to smallest.</p><p>The list is evaluated lazily from largest to smallest. If you suspect that a
 given shrinking sequence does not terminate, then you may wish to consider
 evaluating a finite prefix of the list.</p><p>This function returns the empty list if the given starting value does not
 satisfy the condition, or if none of the shrunken values satisfy the
 condition.</p></div></div><a href="#g:4" id="g:4"><h1>Partitioning lists</h1></a><div class="top"><p class="src"><a id="v:partitionList" class="def">partitionList</a> <a href="src/Test.QuickCheck.Extra.html#partitionList" class="link">Source</a> <a href="#v:partitionList" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a>)</td><td class="doc"><p>The minimum and maximum length parameters.</p></td></tr><tr><td class="src">-&gt; [a]</td><td class="doc"><p>The list to be partitioned.</p></td></tr><tr><td class="src">-&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> [[a]]</td><td class="doc"><p>The partitioned list.</p></td></tr></table></div><div class="doc"><p>Partitions a list into a list of sublists.</p><p>Each sublist in the result has a randomly-chosen length that is bounded by
 the given minimum and maximum length parameters, with the exception of the
 last sublist, which may be shorter than the minimum length.</p><p>Examples:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>generate (partitionList (0, 1) [1 .. 4])
</code></strong>[[], [1], [2], [], [3], [4]]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>generate (partitionList (1, 4) [1 .. 10])
</code></strong>[[1, 2], [3, 4, 5, 6], [7], [8, 9, 10]]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>generate (partitionList (4, 8) &quot;Books are the liberated spirits of men.&quot;)
</code></strong>[&quot;Books ar&quot;, &quot;e the l&quot;, &quot;iberat&quot;, &quot;ed spir&quot;, &quot;its of&quot;, &quot; men.&quot;]
</pre><p>Assuming the following definitions of checked minimum and maximum lengths:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>x' = max 0 x
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>y' = max 1 (max y x')
</code></strong></pre><p>This function satisfies the following properties:</p><pre>forAll (partitionList (x, y) as) $ (== as) . mconcat</pre><pre>forAll (partitionList (x, y) as) $ all ((&gt;= x') . length) . dropEnd 1</pre><pre>forAll (partitionList (x, y) as) $ all ((&lt;= y') . length)</pre></div></div><a href="#g:5" id="g:5"><h1>Selecting entries from maps</h1></a><div class="top"><p class="src"><a id="v:selectMapEntry" class="def">selectMapEntry</a> :: <span class="keyword">forall</span> k v. <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k =&gt; <a href="../../containers/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> k v -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> ((k, v), <a href="../../containers/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> k v)) <a href="src/Test.QuickCheck.Extra.html#selectMapEntry" class="link">Source</a> <a href="#v:selectMapEntry" class="selflink">#</a></p><div class="doc"><p>Selects an entry at random from the given map.</p><p>Returns the selected entry and the remaining map with the entry removed.</p><p>Returns <code><a href="../../ghc/html/libraries/base-4.14.3.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> if (and only if) the given map is empty.</p></div></div><div class="top"><p class="src"><a id="v:selectMapEntries" class="def">selectMapEntries</a> :: <span class="keyword">forall</span> k v. <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k =&gt; <a href="../../containers/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> k v -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> ([(k, v)], <a href="../../containers/html/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> k v) <a href="src/Test.QuickCheck.Extra.html#selectMapEntries" class="link">Source</a> <a href="#v:selectMapEntries" class="selflink">#</a></p><div class="doc"><p>Selects up to a given number of entries at random from the given map.</p><p>Returns the selected entries and the remaining map with the entries removed.</p></div></div><a href="#g:6" id="g:6"><h1>Generating and shrinking natural numbers</h1></a><div class="top"><p class="src"><a id="v:chooseNatural" class="def">chooseNatural</a> :: (<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Natural.html#t:Natural" title="GHC.Natural">Natural</a>, <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Natural.html#t:Natural" title="GHC.Natural">Natural</a>) -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Natural.html#t:Natural" title="GHC.Natural">Natural</a> <a href="src/Test.QuickCheck.Extra.html#chooseNatural" class="link">Source</a> <a href="#v:chooseNatural" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:shrinkNatural" class="def">shrinkNatural</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Natural.html#t:Natural" title="GHC.Natural">Natural</a> -&gt; [<a href="../../ghc/html/libraries/base-4.14.3.0/GHC-Natural.html#t:Natural" title="GHC.Natural">Natural</a>] <a href="src/Test.QuickCheck.Extra.html#shrinkNatural" class="link">Source</a> <a href="#v:shrinkNatural" class="selflink">#</a></p></div><a href="#g:7" id="g:7"><h1>Generating and shrinking non-empty lists</h1></a><div class="top"><p class="src"><a id="v:genNonEmpty" class="def">genNonEmpty</a> :: <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> a -&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> (<a href="../../ghc/html/libraries/base-4.14.3.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> a) <a href="src/Test.QuickCheck.Extra.html#genNonEmpty" class="link">Source</a> <a href="#v:genNonEmpty" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:shrinkNonEmpty" class="def">shrinkNonEmpty</a> :: (a -&gt; [a]) -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> a -&gt; [<a href="../../ghc/html/libraries/base-4.14.3.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> a] <a href="src/Test.QuickCheck.Extra.html#shrinkNonEmpty" class="link">Source</a> <a href="#v:shrinkNonEmpty" class="selflink">#</a></p></div><a href="#g:8" id="g:8"><h1>Counterexamples</h1></a><div class="top"><p class="src"><a id="v:report" class="def">report</a> :: (<a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> a, <a href="../../QuickCheck/html/Test-QuickCheck.html#t:Testable" title="Test.QuickCheck">Testable</a> prop) =&gt; a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; prop -&gt; <a href="../../QuickCheck/html/Test-QuickCheck.html#t:Property" title="Test.QuickCheck">Property</a> <a href="src/Test.QuickCheck.Extra.html#report" class="link">Source</a> <a href="#v:report" class="selflink">#</a></p><div class="doc"><p>Adds a named variable to the counterexample output of a property.</p><p>On failure, uses pretty-printing to show the contents of the variable.</p></div></div><div class="top"><p class="src"><a id="v:verify" class="def">verify</a> :: <a href="../../QuickCheck/html/Test-QuickCheck.html#t:Testable" title="Test.QuickCheck">Testable</a> t =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; t -&gt; <a href="../../QuickCheck/html/Test-QuickCheck.html#t:Property" title="Test.QuickCheck">Property</a> <a href="src/Test.QuickCheck.Extra.html#verify" class="link">Source</a> <a href="#v:verify" class="selflink">#</a></p><div class="doc"><p>Adds a named condition to a property.</p><p>On failure, reports the name of the condition that failed.</p></div></div><a href="#g:9" id="g:9"><h1>Pretty-printing</h1></a><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:Pretty" class="def">Pretty</a> a <a href="src/Test.QuickCheck.Extra.html#Pretty" class="link">Source</a> <a href="#t:Pretty" class="selflink">#</a></p><div class="doc"><p>A combinator that causes the output of <code><a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#v:show" title="Text.Show">show</a></code> to be pretty-printed.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Pretty" class="def">Pretty</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:unPretty" class="def">unPretty</a> :: a</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Pretty">Instances</h4><details id="i:Pretty" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Pretty:Eq:1"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Test-QuickCheck-Extra.html#t:Pretty" title="Test.QuickCheck.Extra">Pretty</a> a)</span> <a href="src/Test.QuickCheck.Extra.html#line-559" class="link">Source</a> <a href="#t:Pretty" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Pretty:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Test-QuickCheck-Extra.html">Test.QuickCheck.Extra</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Test-QuickCheck-Extra.html#t:Pretty" title="Test.QuickCheck.Extra">Pretty</a> a -&gt; <a href="Test-QuickCheck-Extra.html#t:Pretty" title="Test.QuickCheck.Extra">Pretty</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="../../ghc/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Test-QuickCheck-Extra.html#t:Pretty" title="Test.QuickCheck.Extra">Pretty</a> a -&gt; <a href="Test-QuickCheck-Extra.html#t:Pretty" title="Test.QuickCheck.Extra">Pretty</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="../../ghc/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Pretty:Show:2"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> a =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Test-QuickCheck-Extra.html#t:Pretty" title="Test.QuickCheck.Extra">Pretty</a> a)</span> <a href="src/Test.QuickCheck.Extra.html#line-561" class="link">Source</a> <a href="#t:Pretty" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Pretty:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Test-QuickCheck-Extra.html">Test.QuickCheck.Extra</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Test-QuickCheck-Extra.html#t:Pretty" title="Test.QuickCheck.Extra">Pretty</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Test-QuickCheck-Extra.html#t:Pretty" title="Test.QuickCheck.Extra">Pretty</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Test-QuickCheck-Extra.html#t:Pretty" title="Test.QuickCheck.Extra">Pretty</a> a] -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Pretty:Arbitrary:3"></span> <a href="../../QuickCheck/html/Test-QuickCheck-Arbitrary.html#t:Arbitrary" title="Test.QuickCheck.Arbitrary">Arbitrary</a> a =&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Arbitrary.html#t:Arbitrary" title="Test.QuickCheck.Arbitrary">Arbitrary</a> (<a href="Test-QuickCheck-Extra.html#t:Pretty" title="Test.QuickCheck.Extra">Pretty</a> a)</span> <a href="src/Test.QuickCheck.Extra.html#line-564" class="link">Source</a> <a href="#t:Pretty" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Pretty:Arbitrary:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Test-QuickCheck-Extra.html">Test.QuickCheck.Extra</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:arbitrary">arbitrary</a> :: <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> (<a href="Test-QuickCheck-Extra.html#t:Pretty" title="Test.QuickCheck.Extra">Pretty</a> a) <a href="../../QuickCheck/html/src" class="link">Source</a> <a href="#v:arbitrary" class="selflink">#</a></p><p class="src"><a href="#v:shrink">shrink</a> :: <a href="Test-QuickCheck-Extra.html#t:Pretty" title="Test.QuickCheck.Extra">Pretty</a> a -&gt; [<a href="Test-QuickCheck-Extra.html#t:Pretty" title="Test.QuickCheck.Extra">Pretty</a> a] <a href="../../QuickCheck/html/src" class="link">Source</a> <a href="#v:shrink" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:10" id="g:10"><h1>Combinators</h1></a><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:NotNull" class="def">NotNull</a> a <a href="src/Test.QuickCheck.Extra.html#NotNull" class="link">Source</a> <a href="#t:NotNull" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NotNull" class="def">NotNull</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:unNotNull" class="def">unNotNull</a> :: a</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:NotNull">Instances</h4><details id="i:NotNull" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NotNull:Eq:1"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Test-QuickCheck-Extra.html#t:NotNull" title="Test.QuickCheck.Extra">NotNull</a> a)</span> <a href="src/Test.QuickCheck.Extra.html#line-573" class="link">Source</a> <a href="#t:NotNull" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NotNull:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Test-QuickCheck-Extra.html">Test.QuickCheck.Extra</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Test-QuickCheck-Extra.html#t:NotNull" title="Test.QuickCheck.Extra">NotNull</a> a -&gt; <a href="Test-QuickCheck-Extra.html#t:NotNull" title="Test.QuickCheck.Extra">NotNull</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="../../ghc/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Test-QuickCheck-Extra.html#t:NotNull" title="Test.QuickCheck.Extra">NotNull</a> a -&gt; <a href="Test-QuickCheck-Extra.html#t:NotNull" title="Test.QuickCheck.Extra">NotNull</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="../../ghc/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NotNull:Show:2"></span> <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> a =&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Test-QuickCheck-Extra.html#t:NotNull" title="Test.QuickCheck.Extra">NotNull</a> a)</span> <a href="src/Test.QuickCheck.Extra.html#line-573" class="link">Source</a> <a href="#t:NotNull" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NotNull:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Test-QuickCheck-Extra.html">Test.QuickCheck.Extra</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Test-QuickCheck-Extra.html#t:NotNull" title="Test.QuickCheck.Extra">NotNull</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Test-QuickCheck-Extra.html#t:NotNull" title="Test.QuickCheck.Extra">NotNull</a> a -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Test-QuickCheck-Extra.html#t:NotNull" title="Test.QuickCheck.Extra">NotNull</a> a] -&gt; <a href="../../ghc/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="../../ghc/html/libraries/base-4.14.3.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:NotNull:Arbitrary:3"></span> (<a href="../../QuickCheck/html/Test-QuickCheck-Arbitrary.html#t:Arbitrary" title="Test.QuickCheck.Arbitrary">Arbitrary</a> a, <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a, <a href="../../ghc/html/libraries/base-4.14.3.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> a) =&gt; <a href="../../QuickCheck/html/Test-QuickCheck-Arbitrary.html#t:Arbitrary" title="Test.QuickCheck.Arbitrary">Arbitrary</a> (<a href="Test-QuickCheck-Extra.html#t:NotNull" title="Test.QuickCheck.Extra">NotNull</a> a)</span> <a href="src/Test.QuickCheck.Extra.html#line-575" class="link">Source</a> <a href="#t:NotNull" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:NotNull:Arbitrary:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Test-QuickCheck-Extra.html">Test.QuickCheck.Extra</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:arbitrary">arbitrary</a> :: <a href="../../QuickCheck/html/Test-QuickCheck-Gen.html#t:Gen" title="Test.QuickCheck.Gen">Gen</a> (<a href="Test-QuickCheck-Extra.html#t:NotNull" title="Test.QuickCheck.Extra">NotNull</a> a) <a href="../../QuickCheck/html/src" class="link">Source</a> <a href="#v:arbitrary" class="selflink">#</a></p><p class="src"><a href="#v:shrink">shrink</a> :: <a href="Test-QuickCheck-Extra.html#t:NotNull" title="Test.QuickCheck.Extra">NotNull</a> a -&gt; [<a href="Test-QuickCheck-Extra.html#t:NotNull" title="Test.QuickCheck.Extra">NotNull</a> a] <a href="../../QuickCheck/html/src" class="link">Source</a> <a href="#v:shrink" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:11" id="g:11"><h1>Utilities</h1></a><div class="top"><p class="src"><a id="v:interleaveRoundRobin" class="def">interleaveRoundRobin</a> :: [[a]] -&gt; [a] <a href="src/Test.QuickCheck.Extra.html#interleaveRoundRobin" class="link">Source</a> <a href="#v:interleaveRoundRobin" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>