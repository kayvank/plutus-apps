<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE OverloadedLabels #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-5"></span><span>
</span><span id="line-6"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Test.Integration.Scenario.API.Network</span><span>
</span><span id="line-7"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Test.Integration.Scenario.API.Network.html#spec"><span class="hs-identifier">spec</span></a></span><span>
</span><span id="line-8"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Prelude</span></a></span><span>
</span><span id="line-11"></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier">Cardano.Wallet.Api.Types</span></a></span><span>
</span><span id="line-13"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier">ApiByronWallet</span></a></span><span>
</span><span id="line-14"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier">ApiEpochInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-15"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier">ApiNetworkClock</span></a></span><span>
</span><span id="line-16"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier">ApiNetworkInformation</span></a></span><span>
</span><span id="line-17"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier">NtpSyncingStatus</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-18"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier">WalletStyle</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier">epochStartTime</span></a></span><span>
</span><span id="line-20"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier">nextEpoch</span></a></span><span>
</span><span id="line-21"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier">Cardano.Wallet.Primitive.SyncProgress</span></a></span><span>
</span><span id="line-23"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier">SyncProgress</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier">Cardano.Wallet.Primitive.Types.ProtocolMagic</span></a></span><span>
</span><span id="line-25"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier">getProtocolMagic</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier">mainnetMagic</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Monad</span></a></span><span>
</span><span id="line-27"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">when</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">Control.Monad.IO.Class</span></a></span><span>
</span><span id="line-29"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier">liftIO</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../resourcet/html/src"><span class="hs-identifier">Control.Monad.Trans.Resource</span></a></span><span>
</span><span id="line-31"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../resourcet/html/src"><span class="hs-identifier">runResourceT</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../generic-lens/html/src"><span class="hs-identifier">Data.Generics.Internal.VL.Lens</span></a></span><span>
</span><span id="line-33"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../generic-lens/html/src"><span class="hs-identifier">view</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../generic-lens/html/src"><span class="hs-operator">(^.)</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier">Data.Time.Clock</span></a></span><span>
</span><span id="line-35"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../time/html/src"><span class="hs-identifier">getCurrentTime</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../hspec/html/src"><span class="hs-identifier">Test.Hspec</span></a></span><span>
</span><span id="line-37"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../hspec-core/html/src"><span class="hs-identifier">SpecWith</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../hspec-core/html/src"><span class="hs-identifier">describe</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../hspec-core/html/src"><span class="hs-identifier">pendingWith</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../hspec-expectations/html/src"><span class="hs-identifier">shouldBe</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../hspec-expectations/html/src"><span class="hs-identifier">shouldNotBe</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-wallet-test-utils/html/src"><span class="hs-identifier">Test.Hspec.Extra</span></a></span><span>
</span><span id="line-39"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../cardano-wallet-test-utils/html/src"><span class="hs-identifier">it</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Test.Integration.Framework.DSL.html"><span class="hs-identifier">Test.Integration.Framework.DSL</span></a></span><span>
</span><span id="line-41"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Test.Integration.Framework.Context.html#Context"><span class="hs-identifier">Context</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Integration.Framework.Request.html#Headers"><span class="hs-identifier">Headers</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Integration.Framework.Request.html#Payload"><span class="hs-identifier">Payload</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../../cardano-wallet-test-utils/html/src"><span class="hs-identifier">counterexample</span></a></span><span>
</span><span id="line-45"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Integration.Framework.DSL.html#emptyRandomWallet"><span class="hs-identifier">emptyRandomWallet</span></a></span><span>
</span><span id="line-46"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Integration.Framework.DSL.html#eventually"><span class="hs-identifier">eventually</span></a></span><span>
</span><span id="line-47"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Integration.Framework.DSL.html#expectField"><span class="hs-identifier">expectField</span></a></span><span>
</span><span id="line-48"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Integration.Framework.DSL.html#expectResponseCode"><span class="hs-identifier">expectResponseCode</span></a></span><span>
</span><span id="line-49"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Integration.Framework.DSL.html#getFromResponse"><span class="hs-identifier">getFromResponse</span></a></span><span>
</span><span id="line-50"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Integration.Framework.Request.html#request"><span class="hs-identifier">request</span></a></span><span>
</span><span id="line-51"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Integration.Framework.DSL.html#unsafeResponse"><span class="hs-identifier">unsafeResponse</span></a></span><span>
</span><span id="line-52"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Integration.Framework.DSL.html#verify"><span class="hs-identifier">verify</span></a></span><span>
</span><span id="line-53"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.Integration.Framework.DSL.html#.%3E"><span class="hs-operator">(.&gt;)</span></a></span><span>
</span><span id="line-54"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../../cardano-wallet-test-utils/html/src"><span class="hs-identifier">Test.Utils.Paths</span></a></span><span>
</span><span id="line-56"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../../../cardano-wallet-test-utils/html/src"><span class="hs-identifier">inNixBuild</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier">Cardano.Wallet.Api.Link</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Link</span></span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../../../http-types/html/src"><span class="hs-identifier">Network.HTTP.Types.Status</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">HTTP</span></span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span class="annot"><a href="Test.Integration.Scenario.API.Network.html#spec"><span class="hs-identifier hs-type">spec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../../hspec-core/html/src"><span class="hs-identifier hs-type">SpecWith</span></a></span><span> </span><span class="annot"><a href="Test.Integration.Framework.Context.html#Context"><span class="hs-identifier hs-type">Context</span></a></span><span>
</span><span id="line-62"></span><span id="spec"><span class="annot"><span class="annottext">spec :: SpecWith Context
</span><a href="Test.Integration.Scenario.API.Network.html#spec"><span class="hs-identifier hs-var hs-var">spec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SpecWith Context -&gt; SpecWith Context
forall a. HasCallStack =&gt; String -&gt; SpecWith a -&gt; SpecWith a
</span><a href="../../../../hspec-core/html/src"><span class="hs-identifier hs-var">describe</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;COMMON_NETWORK&quot;</span></span><span> </span><span class="annot"><span class="annottext">(SpecWith Context -&gt; SpecWith Context)
-&gt; SpecWith Context -&gt; SpecWith Context
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-63"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; ActionWith Context -&gt; SpecWith Context
forall ctx.
HasCallStack =&gt;
String -&gt; ActionWith ctx -&gt; SpecWith ctx
</span><a href="../../../../cardano-wallet-test-utils/html/src"><span class="hs-identifier hs-var">it</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;NETWORK - Can query network information&quot;</span></span><span> </span><span class="annot"><span class="annottext">(ActionWith Context -&gt; SpecWith Context)
-&gt; ActionWith Context -&gt; SpecWith Context
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682942651"><span class="annot"><span class="annottext">Context
</span><a href="#local-6989586621682942651"><span class="hs-identifier hs-var">ctx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-64"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; IO () -&gt; IO ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; String -&gt; IO a -&gt; m a
</span><a href="Test.Integration.Framework.DSL.html#eventually"><span class="hs-identifier hs-var">eventually</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;wallet's syncProgress = Ready&quot;</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-65"></span><span>            </span><span id="local-6989586621682942650"><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621682942650"><span class="hs-identifier hs-var">now</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO UTCTime -&gt; IO UTCTime
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">liftIO</span></a></span><span> </span><span class="annot"><span class="annottext">IO UTCTime
</span><a href="../../../../time/html/src"><span class="hs-identifier hs-var">getCurrentTime</span></a></span><span>
</span><span id="line-66"></span><span>            </span><span id="local-6989586621682942649"><span class="annot"><span class="annottext">(Status, Either RequestException ApiNetworkInformation)
</span><a href="#local-6989586621682942649"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Context
-&gt; (Method, Text)
-&gt; Headers
-&gt; Payload
-&gt; IO (Status, Either RequestException ApiNetworkInformation)
forall a (m :: * -&gt; *) s.
(FromJSON a, MonadIO m, MonadUnliftIO m,
 HasType (URI, Manager) s) =&gt;
s
-&gt; (Method, Text)
-&gt; Headers
-&gt; Payload
-&gt; m (Status, Either RequestException a)
</span><a href="Test.Integration.Framework.Request.html#request"><span class="hs-identifier hs-var">request</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier hs-type">ApiNetworkInformation</span></a></span><span> </span><span class="annot"><span class="annottext">Context
</span><a href="#local-6989586621682942651"><span class="hs-identifier hs-var">ctx</span></a></span><span>
</span><span id="line-67"></span><span>                </span><span class="annot"><span class="annottext">(Method, Text)
</span><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier hs-var">Link.getNetworkInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Headers
</span><a href="Test.Integration.Framework.Request.html#Default"><span class="hs-identifier hs-var">Default</span></a></span><span> </span><span class="annot"><span class="annottext">Payload
</span><a href="Test.Integration.Framework.Request.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span>
</span><span id="line-68"></span><span>            </span><span class="annot"><span class="annottext">Status
-&gt; (Status, Either RequestException ApiNetworkInformation) -&gt; IO ()
forall (m :: * -&gt; *) a.
(HasCallStack, MonadUnliftIO m, Show a) =&gt;
Status -&gt; (Status, a) -&gt; m ()
</span><a href="Test.Integration.Framework.DSL.html#expectResponseCode"><span class="hs-identifier hs-var">expectResponseCode</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><span class="annottext">Status
</span><a href="../../../../http-types/html/src"><span class="hs-identifier hs-var">HTTP.status200</span></a></span><span> </span><span class="annot"><span class="annottext">(Status, Either RequestException ApiNetworkInformation)
</span><a href="#local-6989586621682942649"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-69"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682942644"><span class="annot"><span class="annottext">i :: ApiNetworkInformation
</span><a href="#local-6989586621682942644"><span class="hs-identifier hs-var hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Lens' ApiNetworkInformation ApiNetworkInformation
-&gt; (Status, Either RequestException ApiNetworkInformation)
-&gt; ApiNetworkInformation
forall s a.
HasCallStack =&gt;
Lens' s a -&gt; (Status, Either RequestException s) -&gt; a
</span><a href="Test.Integration.Framework.DSL.html#getFromResponse"><span class="hs-identifier hs-var">getFromResponse</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; a
Lens' ApiNetworkInformation ApiNetworkInformation
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">id</span></a></span><span> </span><span class="annot"><span class="annottext">(Status, Either RequestException ApiNetworkInformation)
</span><a href="#local-6989586621682942649"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-70"></span><span>            </span><span class="annot"><span class="annottext">(Status, Either RequestException ApiNetworkInformation)
-&gt; [(Status, Either RequestException ApiNetworkInformation)
    -&gt; IO ()]
-&gt; IO ()
forall a (m :: * -&gt; *).
(Show a, MonadUnliftIO m) =&gt;
a -&gt; [a -&gt; m ()] -&gt; m ()
</span><a href="Test.Integration.Framework.DSL.html#verify"><span class="hs-identifier hs-var">verify</span></a></span><span> </span><span class="annot"><span class="annottext">(Status, Either RequestException ApiNetworkInformation)
</span><a href="#local-6989586621682942649"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-71"></span><span>                </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Traversal' ApiNetworkInformation SyncProgress
-&gt; (SyncProgress -&gt; IO ())
-&gt; (Status, Either RequestException ApiNetworkInformation)
-&gt; IO ()
forall (m :: * -&gt; *) a s.
(HasCallStack, MonadIO m, Show a) =&gt;
Traversal' s a
-&gt; (a -&gt; IO ()) -&gt; (Status, Either RequestException s) -&gt; m ()
</span><a href="Test.Integration.Framework.DSL.html#expectField"><span class="hs-identifier hs-var">expectField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IsLabel
  &quot;syncProgress&quot;
  ((ApiT SyncProgress -&gt; f (ApiT SyncProgress))
   -&gt; ApiNetworkInformation -&gt; f ApiNetworkInformation)
(ApiT SyncProgress -&gt; f (ApiT SyncProgress))
-&gt; ApiNetworkInformation -&gt; f ApiNetworkInformation
</span><a href="#local-6989586621682942642"><span class="hs-var">#syncProgress</span></a></span><span> </span><span class="annot"><span class="annottext">((ApiT SyncProgress -&gt; f (ApiT SyncProgress))
 -&gt; ApiNetworkInformation -&gt; f ApiNetworkInformation)
-&gt; ((SyncProgress -&gt; f SyncProgress)
    -&gt; ApiT SyncProgress -&gt; f (ApiT SyncProgress))
-&gt; (SyncProgress -&gt; f SyncProgress)
-&gt; ApiNetworkInformation
-&gt; f ApiNetworkInformation
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;getApiT&quot;
  ((SyncProgress -&gt; f SyncProgress)
   -&gt; ApiT SyncProgress -&gt; f (ApiT SyncProgress))
(SyncProgress -&gt; f SyncProgress)
-&gt; ApiT SyncProgress -&gt; f (ApiT SyncProgress)
</span><a href="#local-6989586621682942640"><span class="hs-var">#getApiT</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SyncProgress -&gt; SyncProgress -&gt; IO ()
forall a. (HasCallStack, Show a, Eq a) =&gt; a -&gt; a -&gt; IO ()
</span><a href="../../../../hspec-expectations/html/src"><span class="hs-operator hs-var">`shouldBe`</span></a></span><span> </span><span class="annot"><span class="annottext">SyncProgress
</span><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier hs-var">Ready</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Traversal' ApiNetworkInformation ApiEra
-&gt; (ApiEra -&gt; IO ())
-&gt; (Status, Either RequestException ApiNetworkInformation)
-&gt; IO ()
forall (m :: * -&gt; *) a s.
(HasCallStack, MonadIO m, Show a) =&gt;
Traversal' s a
-&gt; (a -&gt; IO ()) -&gt; (Status, Either RequestException s) -&gt; m ()
</span><a href="Test.Integration.Framework.DSL.html#expectField"><span class="hs-identifier hs-var">expectField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IsLabel
  &quot;nodeEra&quot;
  ((ApiEra -&gt; f ApiEra)
   -&gt; ApiNetworkInformation -&gt; f ApiNetworkInformation)
(ApiEra -&gt; f ApiEra)
-&gt; ApiNetworkInformation -&gt; f ApiNetworkInformation
</span><a href="#local-6989586621682942638"><span class="hs-var">#nodeEra</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ApiEra -&gt; ApiEra -&gt; IO ()
forall a. (HasCallStack, Show a, Eq a) =&gt; a -&gt; a -&gt; IO ()
</span><a href="../../../../hspec-expectations/html/src"><span class="hs-operator hs-var">`shouldBe`</span></a></span><span> </span><span class="annot"><span class="annottext">Context -&gt; ApiEra
</span><a href="Test.Integration.Framework.Context.html#_mainEra"><span class="hs-identifier hs-var hs-var">_mainEra</span></a></span><span> </span><span class="annot"><span class="annottext">Context
</span><a href="#local-6989586621682942651"><span class="hs-identifier hs-var">ctx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Traversal' ApiNetworkInformation SlotNo
-&gt; (SlotNo -&gt; IO ())
-&gt; (Status, Either RequestException ApiNetworkInformation)
-&gt; IO ()
forall (m :: * -&gt; *) a s.
(HasCallStack, MonadIO m, Show a) =&gt;
Traversal' s a
-&gt; (a -&gt; IO ()) -&gt; (Status, Either RequestException s) -&gt; m ()
</span><a href="Test.Integration.Framework.DSL.html#expectField"><span class="hs-identifier hs-var">expectField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IsLabel
  &quot;nodeTip&quot;
  ((ApiBlockReference -&gt; f ApiBlockReference)
   -&gt; ApiNetworkInformation -&gt; f ApiNetworkInformation)
(ApiBlockReference -&gt; f ApiBlockReference)
-&gt; ApiNetworkInformation -&gt; f ApiNetworkInformation
</span><a href="#local-6989586621682942636"><span class="hs-var">#nodeTip</span></a></span><span> </span><span class="annot"><span class="annottext">((ApiBlockReference -&gt; f ApiBlockReference)
 -&gt; ApiNetworkInformation -&gt; f ApiNetworkInformation)
-&gt; ((SlotNo -&gt; f SlotNo)
    -&gt; ApiBlockReference -&gt; f ApiBlockReference)
-&gt; (SlotNo -&gt; f SlotNo)
-&gt; ApiNetworkInformation
-&gt; f ApiNetworkInformation
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;absoluteSlotNumber&quot;
  ((ApiT SlotNo -&gt; f (ApiT SlotNo))
   -&gt; ApiBlockReference -&gt; f ApiBlockReference)
(ApiT SlotNo -&gt; f (ApiT SlotNo))
-&gt; ApiBlockReference -&gt; f ApiBlockReference
</span><a href="#local-6989586621682942635"><span class="hs-var">#absoluteSlotNumber</span></a></span><span> </span><span class="annot"><span class="annottext">((ApiT SlotNo -&gt; f (ApiT SlotNo))
 -&gt; ApiBlockReference -&gt; f ApiBlockReference)
-&gt; ((SlotNo -&gt; f SlotNo) -&gt; ApiT SlotNo -&gt; f (ApiT SlotNo))
-&gt; (SlotNo -&gt; f SlotNo)
-&gt; ApiBlockReference
-&gt; f ApiBlockReference
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;getApiT&quot; ((SlotNo -&gt; f SlotNo) -&gt; ApiT SlotNo -&gt; f (ApiT SlotNo))
(SlotNo -&gt; f SlotNo) -&gt; ApiT SlotNo -&gt; f (ApiT SlotNo)
</span><a href="#local-6989586621682942634"><span class="hs-var">#getApiT</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SlotNo -&gt; SlotNo -&gt; IO ()
forall a. (HasCallStack, Show a, Eq a) =&gt; a -&gt; a -&gt; IO ()
</span><a href="../../../../hspec-expectations/html/src"><span class="hs-operator hs-var">`shouldNotBe`</span></a></span><span> </span><span class="annot"><span class="annottext">SlotNo
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682942633"><span class="annot"><span class="annottext">(Status, Either RequestException ApiNetworkInformation)
</span><a href="#local-6989586621682942633"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ApiEpochInfo -&gt; UTCTime
</span><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier hs-var hs-var">epochStartTime</span></a></span><span> </span><span class="annot"><span class="annottext">(ApiEpochInfo -&gt; UTCTime) -&gt; Maybe ApiEpochInfo -&gt; Maybe UTCTime
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ApiNetworkInformation -&gt; Maybe ApiEpochInfo
</span><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier hs-var hs-var">nextEpoch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Status, Either RequestException ApiNetworkInformation)
-&gt; ApiNetworkInformation
forall a. (Status, Either RequestException a) -&gt; a
</span><a href="Test.Integration.Framework.DSL.html#unsafeResponse"><span class="hs-identifier hs-var">unsafeResponse</span></a></span><span> </span><span class="annot"><span class="annottext">(Status, Either RequestException ApiNetworkInformation)
</span><a href="#local-6989586621682942633"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe UTCTime -&gt; Maybe UTCTime -&gt; IO ()
forall a. (Ord a, Show a) =&gt; a -&gt; a -&gt; IO ()
</span><a href="Test.Integration.Framework.DSL.html#.%3E"><span class="hs-operator hs-var">.&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; Maybe UTCTime
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621682942650"><span class="hs-identifier hs-var">now</span></a></span><span>
</span><span id="line-75"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Traversal' ApiNetworkInformation Integer
-&gt; (Integer -&gt; IO ())
-&gt; (Status, Either RequestException ApiNetworkInformation)
-&gt; IO ()
forall (m :: * -&gt; *) a s.
(HasCallStack, MonadIO m, Show a) =&gt;
Traversal' s a
-&gt; (a -&gt; IO ()) -&gt; (Status, Either RequestException s) -&gt; m ()
</span><a href="Test.Integration.Framework.DSL.html#expectField"><span class="hs-identifier hs-var">expectField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IsLabel
  &quot;networkInfo&quot;
  ((ApiNetworkInfo -&gt; f ApiNetworkInfo)
   -&gt; ApiNetworkInformation -&gt; f ApiNetworkInformation)
(ApiNetworkInfo -&gt; f ApiNetworkInfo)
-&gt; ApiNetworkInformation -&gt; f ApiNetworkInformation
</span><a href="#local-6989586621682942631"><span class="hs-var">#networkInfo</span></a></span><span> </span><span class="annot"><span class="annottext">((ApiNetworkInfo -&gt; f ApiNetworkInfo)
 -&gt; ApiNetworkInformation -&gt; f ApiNetworkInformation)
-&gt; ((Integer -&gt; f Integer) -&gt; ApiNetworkInfo -&gt; f ApiNetworkInfo)
-&gt; (Integer -&gt; f Integer)
-&gt; ApiNetworkInformation
-&gt; f ApiNetworkInformation
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;protocolMagic&quot;
  ((Integer -&gt; f Integer) -&gt; ApiNetworkInfo -&gt; f ApiNetworkInfo)
(Integer -&gt; f Integer) -&gt; ApiNetworkInfo -&gt; f ApiNetworkInfo
</span><a href="#local-6989586621682942630"><span class="hs-var">#protocolMagic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-76"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; IO ()
forall a. (HasCallStack, Show a, Eq a) =&gt; a -&gt; a -&gt; IO ()
</span><a href="../../../../hspec-expectations/html/src"><span class="hs-operator hs-var">`shouldBe`</span></a></span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProtocolMagic -&gt; Int32
</span><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier hs-var hs-var">getProtocolMagic</span></a></span><span> </span><span class="annot"><span class="annottext">ProtocolMagic
</span><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier hs-var">mainnetMagic</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-77"></span><span>                </span><span class="hs-special">]</span><span>
</span><span id="line-78"></span><span>            </span><span class="annot"><span class="annottext">String -&gt; IO () -&gt; IO ()
forall (m :: * -&gt; *) a.
(MonadIO m, MonadUnliftIO m, HasCallStack) =&gt;
String -&gt; m a -&gt; m a
</span><a href="../../../../cardano-wallet-test-utils/html/src"><span class="hs-identifier hs-var">counterexample</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Status, Either RequestException ApiNetworkInformation) -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">(Status, Either RequestException ApiNetworkInformation)
</span><a href="#local-6989586621682942649"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-79"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ApiEpochInfo -&gt; UTCTime
</span><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier hs-var hs-var">epochStartTime</span></a></span><span> </span><span class="annot"><span class="annottext">(ApiEpochInfo -&gt; UTCTime) -&gt; Maybe ApiEpochInfo -&gt; Maybe UTCTime
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ApiNetworkInformation -&gt; Maybe ApiEpochInfo
</span><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier hs-var hs-var">nextEpoch</span></a></span><span> </span><span class="annot"><span class="annottext">ApiNetworkInformation
</span><a href="#local-6989586621682942644"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe UTCTime -&gt; Maybe UTCTime -&gt; IO ()
forall a. (Ord a, Show a) =&gt; a -&gt; a -&gt; IO ()
</span><a href="Test.Integration.Framework.DSL.html#.%3E"><span class="hs-operator hs-var">.&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; Maybe UTCTime
forall a. a -&gt; Maybe a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621682942650"><span class="hs-identifier hs-var">now</span></a></span><span>
</span><span id="line-80"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621682942628"><span class="annot"><span class="annottext">EpochNo
</span><a href="#local-6989586621682942628"><span class="hs-identifier hs-var">currentEpochNum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-81"></span><span>                        </span><span class="annot"><span class="annottext">((EpochNo -&gt; Const EpochNo EpochNo)
 -&gt; ApiSlotReference -&gt; Const EpochNo ApiSlotReference)
-&gt; ApiSlotReference -&gt; EpochNo
forall a s. ((a -&gt; Const a a) -&gt; s -&gt; Const a s) -&gt; s -&gt; a
</span><a href="../../../../generic-lens/html/src"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IsLabel
  &quot;slotId&quot;
  ((ApiSlotId -&gt; Const EpochNo ApiSlotId)
   -&gt; ApiSlotReference -&gt; Const EpochNo ApiSlotReference)
(ApiSlotId -&gt; Const EpochNo ApiSlotId)
-&gt; ApiSlotReference -&gt; Const EpochNo ApiSlotReference
</span><a href="#local-6989586621682942627"><span class="hs-var">#slotId</span></a></span><span> </span><span class="annot"><span class="annottext">((ApiSlotId -&gt; Const EpochNo ApiSlotId)
 -&gt; ApiSlotReference -&gt; Const EpochNo ApiSlotReference)
-&gt; ((EpochNo -&gt; Const EpochNo EpochNo)
    -&gt; ApiSlotId -&gt; Const EpochNo ApiSlotId)
-&gt; (EpochNo -&gt; Const EpochNo EpochNo)
-&gt; ApiSlotReference
-&gt; Const EpochNo ApiSlotReference
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;epochNumber&quot;
  ((ApiT EpochNo -&gt; Const EpochNo (ApiT EpochNo))
   -&gt; ApiSlotId -&gt; Const EpochNo ApiSlotId)
(ApiT EpochNo -&gt; Const EpochNo (ApiT EpochNo))
-&gt; ApiSlotId -&gt; Const EpochNo ApiSlotId
</span><a href="#local-6989586621682942626"><span class="hs-var">#epochNumber</span></a></span><span> </span><span class="annot"><span class="annottext">((ApiT EpochNo -&gt; Const EpochNo (ApiT EpochNo))
 -&gt; ApiSlotId -&gt; Const EpochNo ApiSlotId)
-&gt; ((EpochNo -&gt; Const EpochNo EpochNo)
    -&gt; ApiT EpochNo -&gt; Const EpochNo (ApiT EpochNo))
-&gt; (EpochNo -&gt; Const EpochNo EpochNo)
-&gt; ApiSlotId
-&gt; Const EpochNo ApiSlotId
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;getApiT&quot;
  ((EpochNo -&gt; Const EpochNo EpochNo)
   -&gt; ApiT EpochNo -&gt; Const EpochNo (ApiT EpochNo))
(EpochNo -&gt; Const EpochNo EpochNo)
-&gt; ApiT EpochNo -&gt; Const EpochNo (ApiT EpochNo)
</span><a href="#local-6989586621682942625"><span class="hs-var">#getApiT</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ApiSlotReference -&gt; EpochNo)
-&gt; Maybe ApiSlotReference -&gt; Maybe EpochNo
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ApiNetworkInformation
</span><a href="#local-6989586621682942644"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">ApiNetworkInformation
-&gt; ((Maybe ApiSlotReference
     -&gt; Const (Maybe ApiSlotReference) (Maybe ApiSlotReference))
    -&gt; ApiNetworkInformation
    -&gt; Const (Maybe ApiSlotReference) ApiNetworkInformation)
-&gt; Maybe ApiSlotReference
forall s a. s -&gt; ((a -&gt; Const a a) -&gt; s -&gt; Const a s) -&gt; a
</span><a href="../../../../generic-lens/html/src"><span class="hs-operator hs-var">^.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;networkTip&quot;
  ((Maybe ApiSlotReference
    -&gt; Const (Maybe ApiSlotReference) (Maybe ApiSlotReference))
   -&gt; ApiNetworkInformation
   -&gt; Const (Maybe ApiSlotReference) ApiNetworkInformation)
(Maybe ApiSlotReference
 -&gt; Const (Maybe ApiSlotReference) (Maybe ApiSlotReference))
-&gt; ApiNetworkInformation
-&gt; Const (Maybe ApiSlotReference) ApiNetworkInformation
</span><a href="#local-6989586621682942624"><span class="hs-var">#networkTip</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621682942623"><span class="annot"><span class="annottext">EpochNo
</span><a href="#local-6989586621682942623"><span class="hs-identifier hs-var">nextEpochNum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-83"></span><span>                        </span><span class="annot"><span class="annottext">((EpochNo -&gt; Const EpochNo EpochNo)
 -&gt; ApiEpochInfo -&gt; Const EpochNo ApiEpochInfo)
-&gt; ApiEpochInfo -&gt; EpochNo
forall a s. ((a -&gt; Const a a) -&gt; s -&gt; Const a s) -&gt; s -&gt; a
</span><a href="../../../../generic-lens/html/src"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IsLabel
  &quot;epochNumber&quot;
  ((ApiT EpochNo -&gt; Const EpochNo (ApiT EpochNo))
   -&gt; ApiEpochInfo -&gt; Const EpochNo ApiEpochInfo)
(ApiT EpochNo -&gt; Const EpochNo (ApiT EpochNo))
-&gt; ApiEpochInfo -&gt; Const EpochNo ApiEpochInfo
</span><a href="#local-6989586621682942622"><span class="hs-var">#epochNumber</span></a></span><span> </span><span class="annot"><span class="annottext">((ApiT EpochNo -&gt; Const EpochNo (ApiT EpochNo))
 -&gt; ApiEpochInfo -&gt; Const EpochNo ApiEpochInfo)
-&gt; ((EpochNo -&gt; Const EpochNo EpochNo)
    -&gt; ApiT EpochNo -&gt; Const EpochNo (ApiT EpochNo))
-&gt; (EpochNo -&gt; Const EpochNo EpochNo)
-&gt; ApiEpochInfo
-&gt; Const EpochNo ApiEpochInfo
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;getApiT&quot;
  ((EpochNo -&gt; Const EpochNo EpochNo)
   -&gt; ApiT EpochNo -&gt; Const EpochNo (ApiT EpochNo))
(EpochNo -&gt; Const EpochNo EpochNo)
-&gt; ApiT EpochNo -&gt; Const EpochNo (ApiT EpochNo)
</span><a href="#local-6989586621682942621"><span class="hs-var">#getApiT</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ApiEpochInfo -&gt; EpochNo) -&gt; Maybe ApiEpochInfo -&gt; Maybe EpochNo
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Lens' ApiNetworkInformation (Maybe ApiEpochInfo)
-&gt; (Status, Either RequestException ApiNetworkInformation)
-&gt; Maybe ApiEpochInfo
forall s a.
HasCallStack =&gt;
Lens' s a -&gt; (Status, Either RequestException s) -&gt; a
</span><a href="Test.Integration.Framework.DSL.html#getFromResponse"><span class="hs-identifier hs-var">getFromResponse</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;nextEpoch&quot;
  ((Maybe ApiEpochInfo -&gt; f (Maybe ApiEpochInfo))
   -&gt; ApiNetworkInformation -&gt; f ApiNetworkInformation)
Lens' ApiNetworkInformation (Maybe ApiEpochInfo)
</span><a href="#local-6989586621682942620"><span class="hs-var">#nextEpoch</span></a></span><span> </span><span class="annot"><span class="annottext">(Status, Either RequestException ApiNetworkInformation)
</span><a href="#local-6989586621682942649"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-84"></span><span>                </span><span class="annot"><span class="annottext">EpochNo
</span><a href="#local-6989586621682942623"><span class="hs-identifier hs-var">nextEpochNum</span></a></span><span> </span><span class="annot"><span class="annottext">EpochNo -&gt; EpochNo -&gt; IO ()
forall a. (HasCallStack, Show a, Eq a) =&gt; a -&gt; a -&gt; IO ()
</span><a href="../../../../hspec-expectations/html/src"><span class="hs-operator hs-var">`shouldBe`</span></a></span><span> </span><span class="annot"><span class="annottext">EpochNo
</span><a href="#local-6989586621682942628"><span class="hs-identifier hs-var">currentEpochNum</span></a></span><span> </span><span class="annot"><span class="annottext">EpochNo -&gt; EpochNo -&gt; EpochNo
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">EpochNo
</span><span class="hs-number">1</span></span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; ActionWith Context -&gt; SpecWith Context
forall ctx.
HasCallStack =&gt;
String -&gt; ActionWith ctx -&gt; SpecWith ctx
</span><a href="../../../../cardano-wallet-test-utils/html/src"><span class="hs-identifier hs-var">it</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;NETWORK_BYRON - Byron wallet has the same tip as network/information&quot;</span></span><span> </span><span class="annot"><span class="annottext">(ActionWith Context -&gt; SpecWith Context)
-&gt; ActionWith Context -&gt; SpecWith Context
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-87"></span><span>        </span><span class="hs-glyph">\</span><span id="local-6989586621682942618"><span class="annot"><span class="annottext">Context
</span><a href="#local-6989586621682942618"><span class="hs-identifier hs-var">ctx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. MonadUnliftIO IO =&gt; ResourceT IO a -&gt; IO a
forall (m :: * -&gt; *) a. MonadUnliftIO m =&gt; ResourceT m a -&gt; m a
</span><a href="../../../../resourcet/html/src"><span class="hs-identifier hs-var">runResourceT</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><span class="annottext">(ResourceT IO () -&gt; IO ()) -&gt; ResourceT IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-88"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682942617"><span class="annot"><span class="annottext">getNetworkInfo :: IO (Status, Either RequestException ApiNetworkInformation)
</span><a href="#local-6989586621682942617"><span class="hs-identifier hs-var hs-var">getNetworkInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Context
-&gt; (Method, Text)
-&gt; Headers
-&gt; Payload
-&gt; IO (Status, Either RequestException ApiNetworkInformation)
forall a (m :: * -&gt; *) s.
(FromJSON a, MonadIO m, MonadUnliftIO m,
 HasType (URI, Manager) s) =&gt;
s
-&gt; (Method, Text)
-&gt; Headers
-&gt; Payload
-&gt; m (Status, Either RequestException a)
</span><a href="Test.Integration.Framework.Request.html#request"><span class="hs-identifier hs-var">request</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier hs-type">ApiNetworkInformation</span></a></span><span> </span><span class="annot"><span class="annottext">Context
</span><a href="#local-6989586621682942618"><span class="hs-identifier hs-var">ctx</span></a></span><span>
</span><span id="line-89"></span><span>                    </span><span class="annot"><span class="annottext">(Method, Text)
</span><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier hs-var">Link.getNetworkInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Headers
</span><a href="Test.Integration.Framework.Request.html#Default"><span class="hs-identifier hs-var">Default</span></a></span><span> </span><span class="annot"><span class="annottext">Payload
</span><a href="Test.Integration.Framework.Request.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span>
</span><span id="line-90"></span><span>            </span><span id="local-6989586621682942616"><span class="annot"><span class="annottext">ApiByronWallet
</span><a href="#local-6989586621682942616"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Context -&gt; ResourceT IO ApiByronWallet
forall (m :: * -&gt; *).
(MonadIO m, MonadUnliftIO m) =&gt;
Context -&gt; ResourceT m ApiByronWallet
</span><a href="Test.Integration.Framework.DSL.html#emptyRandomWallet"><span class="hs-identifier hs-var">emptyRandomWallet</span></a></span><span> </span><span class="annot"><span class="annottext">Context
</span><a href="#local-6989586621682942618"><span class="hs-identifier hs-var">ctx</span></a></span><span>
</span><span id="line-91"></span><span>            </span><span class="annot"><span class="annottext">String -&gt; IO () -&gt; ResourceT IO ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; String -&gt; IO a -&gt; m a
</span><a href="Test.Integration.Framework.DSL.html#eventually"><span class="hs-identifier hs-var">eventually</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Wallet has the same tip as network/information&quot;</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; ResourceT IO ()) -&gt; IO () -&gt; ResourceT IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-92"></span><span>                </span><span id="local-6989586621682942615"><span class="annot"><span class="annottext">(Status, Either RequestException ApiNetworkInformation)
</span><a href="#local-6989586621682942615"><span class="hs-identifier hs-var">sync</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Status, Either RequestException ApiNetworkInformation)
</span><a href="#local-6989586621682942617"><span class="hs-identifier hs-var">getNetworkInfo</span></a></span><span>
</span><span id="line-93"></span><span>                </span><span class="annot"><span class="annottext">Traversal' ApiNetworkInformation SyncProgress
-&gt; (SyncProgress -&gt; IO ())
-&gt; (Status, Either RequestException ApiNetworkInformation)
-&gt; IO ()
forall (m :: * -&gt; *) a s.
(HasCallStack, MonadIO m, Show a) =&gt;
Traversal' s a
-&gt; (a -&gt; IO ()) -&gt; (Status, Either RequestException s) -&gt; m ()
</span><a href="Test.Integration.Framework.DSL.html#expectField"><span class="hs-identifier hs-var">expectField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IsLabel
  &quot;syncProgress&quot;
  ((ApiT SyncProgress -&gt; f (ApiT SyncProgress))
   -&gt; ApiNetworkInformation -&gt; f ApiNetworkInformation)
(ApiT SyncProgress -&gt; f (ApiT SyncProgress))
-&gt; ApiNetworkInformation -&gt; f ApiNetworkInformation
</span><a href="#local-6989586621682942614"><span class="hs-var">#syncProgress</span></a></span><span> </span><span class="annot"><span class="annottext">((ApiT SyncProgress -&gt; f (ApiT SyncProgress))
 -&gt; ApiNetworkInformation -&gt; f ApiNetworkInformation)
-&gt; ((SyncProgress -&gt; f SyncProgress)
    -&gt; ApiT SyncProgress -&gt; f (ApiT SyncProgress))
-&gt; (SyncProgress -&gt; f SyncProgress)
-&gt; ApiNetworkInformation
-&gt; f ApiNetworkInformation
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;getApiT&quot;
  ((SyncProgress -&gt; f SyncProgress)
   -&gt; ApiT SyncProgress -&gt; f (ApiT SyncProgress))
(SyncProgress -&gt; f SyncProgress)
-&gt; ApiT SyncProgress -&gt; f (ApiT SyncProgress)
</span><a href="#local-6989586621682942613"><span class="hs-var">#getApiT</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SyncProgress -&gt; SyncProgress -&gt; IO ()
forall a. (HasCallStack, Show a, Eq a) =&gt; a -&gt; a -&gt; IO ()
</span><a href="../../../../hspec-expectations/html/src"><span class="hs-operator hs-var">`shouldBe`</span></a></span><span> </span><span class="annot"><span class="annottext">SyncProgress
</span><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier hs-var">Ready</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Status, Either RequestException ApiNetworkInformation)
</span><a href="#local-6989586621682942615"><span class="hs-identifier hs-var">sync</span></a></span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682942612"><span class="annot"><span class="annottext">epochNum :: EpochNo
</span><a href="#local-6989586621682942612"><span class="hs-identifier hs-var hs-var">epochNum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-96"></span><span>                        </span><span class="annot"><span class="annottext">Lens' ApiNetworkInformation EpochNo
-&gt; (Status, Either RequestException ApiNetworkInformation)
-&gt; EpochNo
forall s a.
HasCallStack =&gt;
Lens' s a -&gt; (Status, Either RequestException s) -&gt; a
</span><a href="Test.Integration.Framework.DSL.html#getFromResponse"><span class="hs-identifier hs-var">getFromResponse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IsLabel
  &quot;nodeTip&quot;
  ((ApiBlockReference -&gt; f ApiBlockReference)
   -&gt; ApiNetworkInformation -&gt; f ApiNetworkInformation)
(ApiBlockReference -&gt; f ApiBlockReference)
-&gt; ApiNetworkInformation -&gt; f ApiNetworkInformation
</span><a href="#local-6989586621682942611"><span class="hs-var">#nodeTip</span></a></span><span> </span><span class="annot"><span class="annottext">((ApiBlockReference -&gt; f ApiBlockReference)
 -&gt; ApiNetworkInformation -&gt; f ApiNetworkInformation)
-&gt; ((EpochNo -&gt; f EpochNo)
    -&gt; ApiBlockReference -&gt; f ApiBlockReference)
-&gt; (EpochNo -&gt; f EpochNo)
-&gt; ApiNetworkInformation
-&gt; f ApiNetworkInformation
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;slotId&quot;
  ((ApiSlotId -&gt; f ApiSlotId)
   -&gt; ApiBlockReference -&gt; f ApiBlockReference)
(ApiSlotId -&gt; f ApiSlotId)
-&gt; ApiBlockReference -&gt; f ApiBlockReference
</span><a href="#local-6989586621682942610"><span class="hs-var">#slotId</span></a></span><span> </span><span class="annot"><span class="annottext">((ApiSlotId -&gt; f ApiSlotId)
 -&gt; ApiBlockReference -&gt; f ApiBlockReference)
-&gt; ((EpochNo -&gt; f EpochNo) -&gt; ApiSlotId -&gt; f ApiSlotId)
-&gt; (EpochNo -&gt; f EpochNo)
-&gt; ApiBlockReference
-&gt; f ApiBlockReference
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;epochNumber&quot;
  ((ApiT EpochNo -&gt; f (ApiT EpochNo)) -&gt; ApiSlotId -&gt; f ApiSlotId)
(ApiT EpochNo -&gt; f (ApiT EpochNo)) -&gt; ApiSlotId -&gt; f ApiSlotId
</span><a href="#local-6989586621682942609"><span class="hs-var">#epochNumber</span></a></span><span> </span><span class="annot"><span class="annottext">((ApiT EpochNo -&gt; f (ApiT EpochNo)) -&gt; ApiSlotId -&gt; f ApiSlotId)
-&gt; ((EpochNo -&gt; f EpochNo) -&gt; ApiT EpochNo -&gt; f (ApiT EpochNo))
-&gt; (EpochNo -&gt; f EpochNo)
-&gt; ApiSlotId
-&gt; f ApiSlotId
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;getApiT&quot;
  ((EpochNo -&gt; f EpochNo) -&gt; ApiT EpochNo -&gt; f (ApiT EpochNo))
(EpochNo -&gt; f EpochNo) -&gt; ApiT EpochNo -&gt; f (ApiT EpochNo)
</span><a href="#local-6989586621682942608"><span class="hs-var">#getApiT</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Status, Either RequestException ApiNetworkInformation)
</span><a href="#local-6989586621682942615"><span class="hs-identifier hs-var">sync</span></a></span><span>
</span><span id="line-97"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682942607"><span class="annot"><span class="annottext">slotNum :: SlotInEpoch
</span><a href="#local-6989586621682942607"><span class="hs-identifier hs-var hs-var">slotNum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-98"></span><span>                        </span><span class="annot"><span class="annottext">Lens' ApiNetworkInformation SlotInEpoch
-&gt; (Status, Either RequestException ApiNetworkInformation)
-&gt; SlotInEpoch
forall s a.
HasCallStack =&gt;
Lens' s a -&gt; (Status, Either RequestException s) -&gt; a
</span><a href="Test.Integration.Framework.DSL.html#getFromResponse"><span class="hs-identifier hs-var">getFromResponse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IsLabel
  &quot;nodeTip&quot;
  ((ApiBlockReference -&gt; f ApiBlockReference)
   -&gt; ApiNetworkInformation -&gt; f ApiNetworkInformation)
(ApiBlockReference -&gt; f ApiBlockReference)
-&gt; ApiNetworkInformation -&gt; f ApiNetworkInformation
</span><a href="#local-6989586621682942606"><span class="hs-var">#nodeTip</span></a></span><span> </span><span class="annot"><span class="annottext">((ApiBlockReference -&gt; f ApiBlockReference)
 -&gt; ApiNetworkInformation -&gt; f ApiNetworkInformation)
-&gt; ((SlotInEpoch -&gt; f SlotInEpoch)
    -&gt; ApiBlockReference -&gt; f ApiBlockReference)
-&gt; (SlotInEpoch -&gt; f SlotInEpoch)
-&gt; ApiNetworkInformation
-&gt; f ApiNetworkInformation
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;slotId&quot;
  ((ApiSlotId -&gt; f ApiSlotId)
   -&gt; ApiBlockReference -&gt; f ApiBlockReference)
(ApiSlotId -&gt; f ApiSlotId)
-&gt; ApiBlockReference -&gt; f ApiBlockReference
</span><a href="#local-6989586621682942605"><span class="hs-var">#slotId</span></a></span><span> </span><span class="annot"><span class="annottext">((ApiSlotId -&gt; f ApiSlotId)
 -&gt; ApiBlockReference -&gt; f ApiBlockReference)
-&gt; ((SlotInEpoch -&gt; f SlotInEpoch) -&gt; ApiSlotId -&gt; f ApiSlotId)
-&gt; (SlotInEpoch -&gt; f SlotInEpoch)
-&gt; ApiBlockReference
-&gt; f ApiBlockReference
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;slotNumber&quot;
  ((ApiT SlotInEpoch -&gt; f (ApiT SlotInEpoch))
   -&gt; ApiSlotId -&gt; f ApiSlotId)
(ApiT SlotInEpoch -&gt; f (ApiT SlotInEpoch))
-&gt; ApiSlotId -&gt; f ApiSlotId
</span><a href="#local-6989586621682942604"><span class="hs-var">#slotNumber</span></a></span><span> </span><span class="annot"><span class="annottext">((ApiT SlotInEpoch -&gt; f (ApiT SlotInEpoch))
 -&gt; ApiSlotId -&gt; f ApiSlotId)
-&gt; ((SlotInEpoch -&gt; f SlotInEpoch)
    -&gt; ApiT SlotInEpoch -&gt; f (ApiT SlotInEpoch))
-&gt; (SlotInEpoch -&gt; f SlotInEpoch)
-&gt; ApiSlotId
-&gt; f ApiSlotId
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;getApiT&quot;
  ((SlotInEpoch -&gt; f SlotInEpoch)
   -&gt; ApiT SlotInEpoch -&gt; f (ApiT SlotInEpoch))
(SlotInEpoch -&gt; f SlotInEpoch)
-&gt; ApiT SlotInEpoch -&gt; f (ApiT SlotInEpoch)
</span><a href="#local-6989586621682942603"><span class="hs-var">#getApiT</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Status, Either RequestException ApiNetworkInformation)
</span><a href="#local-6989586621682942615"><span class="hs-identifier hs-var">sync</span></a></span><span>
</span><span id="line-99"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682942602"><span class="annot"><span class="annottext">blockHeight :: Quantity &quot;block&quot; Natural
</span><a href="#local-6989586621682942602"><span class="hs-identifier hs-var hs-var">blockHeight</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-100"></span><span>                        </span><span class="annot"><span class="annottext">Lens' ApiNetworkInformation (Quantity &quot;block&quot; Natural)
-&gt; (Status, Either RequestException ApiNetworkInformation)
-&gt; Quantity &quot;block&quot; Natural
forall s a.
HasCallStack =&gt;
Lens' s a -&gt; (Status, Either RequestException s) -&gt; a
</span><a href="Test.Integration.Framework.DSL.html#getFromResponse"><span class="hs-identifier hs-var">getFromResponse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IsLabel
  &quot;nodeTip&quot;
  ((ApiBlockReference -&gt; f ApiBlockReference)
   -&gt; ApiNetworkInformation -&gt; f ApiNetworkInformation)
(ApiBlockReference -&gt; f ApiBlockReference)
-&gt; ApiNetworkInformation -&gt; f ApiNetworkInformation
</span><a href="#local-6989586621682942601"><span class="hs-var">#nodeTip</span></a></span><span> </span><span class="annot"><span class="annottext">((ApiBlockReference -&gt; f ApiBlockReference)
 -&gt; ApiNetworkInformation -&gt; f ApiNetworkInformation)
-&gt; ((Quantity &quot;block&quot; Natural -&gt; f (Quantity &quot;block&quot; Natural))
    -&gt; ApiBlockReference -&gt; f ApiBlockReference)
-&gt; (Quantity &quot;block&quot; Natural -&gt; f (Quantity &quot;block&quot; Natural))
-&gt; ApiNetworkInformation
-&gt; f ApiNetworkInformation
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;block&quot;
  ((ApiBlockInfo -&gt; f ApiBlockInfo)
   -&gt; ApiBlockReference -&gt; f ApiBlockReference)
(ApiBlockInfo -&gt; f ApiBlockInfo)
-&gt; ApiBlockReference -&gt; f ApiBlockReference
</span><a href="#local-6989586621682942600"><span class="hs-var">#block</span></a></span><span> </span><span class="annot"><span class="annottext">((ApiBlockInfo -&gt; f ApiBlockInfo)
 -&gt; ApiBlockReference -&gt; f ApiBlockReference)
-&gt; ((Quantity &quot;block&quot; Natural -&gt; f (Quantity &quot;block&quot; Natural))
    -&gt; ApiBlockInfo -&gt; f ApiBlockInfo)
-&gt; (Quantity &quot;block&quot; Natural -&gt; f (Quantity &quot;block&quot; Natural))
-&gt; ApiBlockReference
-&gt; f ApiBlockReference
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;height&quot;
  ((Quantity &quot;block&quot; Natural -&gt; f (Quantity &quot;block&quot; Natural))
   -&gt; ApiBlockInfo -&gt; f ApiBlockInfo)
(Quantity &quot;block&quot; Natural -&gt; f (Quantity &quot;block&quot; Natural))
-&gt; ApiBlockInfo -&gt; f ApiBlockInfo
</span><a href="#local-6989586621682942599"><span class="hs-var">#height</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Status, Either RequestException ApiNetworkInformation)
</span><a href="#local-6989586621682942615"><span class="hs-identifier hs-var">sync</span></a></span><span>
</span><span id="line-101"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682942598"><span class="annot"><span class="annottext">absSlot :: ApiT SlotNo
</span><a href="#local-6989586621682942598"><span class="hs-identifier hs-var hs-var">absSlot</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-102"></span><span>                        </span><span class="annot"><span class="annottext">Lens' ApiNetworkInformation (ApiT SlotNo)
-&gt; (Status, Either RequestException ApiNetworkInformation)
-&gt; ApiT SlotNo
forall s a.
HasCallStack =&gt;
Lens' s a -&gt; (Status, Either RequestException s) -&gt; a
</span><a href="Test.Integration.Framework.DSL.html#getFromResponse"><span class="hs-identifier hs-var">getFromResponse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IsLabel
  &quot;nodeTip&quot;
  ((ApiBlockReference -&gt; f ApiBlockReference)
   -&gt; ApiNetworkInformation -&gt; f ApiNetworkInformation)
(ApiBlockReference -&gt; f ApiBlockReference)
-&gt; ApiNetworkInformation -&gt; f ApiNetworkInformation
</span><a href="#local-6989586621682942597"><span class="hs-var">#nodeTip</span></a></span><span> </span><span class="annot"><span class="annottext">((ApiBlockReference -&gt; f ApiBlockReference)
 -&gt; ApiNetworkInformation -&gt; f ApiNetworkInformation)
-&gt; ((ApiT SlotNo -&gt; f (ApiT SlotNo))
    -&gt; ApiBlockReference -&gt; f ApiBlockReference)
-&gt; (ApiT SlotNo -&gt; f (ApiT SlotNo))
-&gt; ApiNetworkInformation
-&gt; f ApiNetworkInformation
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;absoluteSlotNumber&quot;
  ((ApiT SlotNo -&gt; f (ApiT SlotNo))
   -&gt; ApiBlockReference -&gt; f ApiBlockReference)
(ApiT SlotNo -&gt; f (ApiT SlotNo))
-&gt; ApiBlockReference -&gt; f ApiBlockReference
</span><a href="#local-6989586621682942596"><span class="hs-var">#absoluteSlotNumber</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Status, Either RequestException ApiNetworkInformation)
</span><a href="#local-6989586621682942615"><span class="hs-identifier hs-var">sync</span></a></span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span>                </span><span id="local-6989586621682942595"><span class="annot"><span class="annottext">(Status, Either RequestException ApiByronWallet)
</span><a href="#local-6989586621682942595"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Context
-&gt; (Method, Text)
-&gt; Headers
-&gt; Payload
-&gt; IO (Status, Either RequestException ApiByronWallet)
forall a (m :: * -&gt; *) s.
(FromJSON a, MonadIO m, MonadUnliftIO m,
 HasType (URI, Manager) s) =&gt;
s
-&gt; (Method, Text)
-&gt; Headers
-&gt; Payload
-&gt; m (Status, Either RequestException a)
</span><a href="Test.Integration.Framework.Request.html#request"><span class="hs-identifier hs-var">request</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier hs-type">ApiByronWallet</span></a></span><span> </span><span class="annot"><span class="annottext">Context
</span><a href="#local-6989586621682942618"><span class="hs-identifier hs-var">ctx</span></a></span><span>
</span><span id="line-105"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ApiByronWallet -&gt; (Method, Text)
forall (style :: WalletStyle) w.
(Discriminate style, HasType (ApiT WalletId) w) =&gt;
w -&gt; (Method, Text)
</span><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier hs-var">Link.getWallet</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">'</span><span class="annot"><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier hs-type">Byron</span></a></span><span> </span><span class="annot"><span class="annottext">ApiByronWallet
</span><a href="#local-6989586621682942616"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Headers
</span><a href="Test.Integration.Framework.Request.html#Default"><span class="hs-identifier hs-var">Default</span></a></span><span> </span><span class="annot"><span class="annottext">Payload
</span><a href="Test.Integration.Framework.Request.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span>
</span><span id="line-106"></span><span>                </span><span class="annot"><span class="annottext">(Status, Either RequestException ApiByronWallet)
-&gt; [(Status, Either RequestException ApiByronWallet) -&gt; IO ()]
-&gt; IO ()
forall a (m :: * -&gt; *).
(Show a, MonadUnliftIO m) =&gt;
a -&gt; [a -&gt; m ()] -&gt; m ()
</span><a href="Test.Integration.Framework.DSL.html#verify"><span class="hs-identifier hs-var">verify</span></a></span><span> </span><span class="annot"><span class="annottext">(Status, Either RequestException ApiByronWallet)
</span><a href="#local-6989586621682942595"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-107"></span><span>                    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Traversal' ApiByronWallet SyncProgress
-&gt; (SyncProgress -&gt; IO ())
-&gt; (Status, Either RequestException ApiByronWallet)
-&gt; IO ()
forall (m :: * -&gt; *) a s.
(HasCallStack, MonadIO m, Show a) =&gt;
Traversal' s a
-&gt; (a -&gt; IO ()) -&gt; (Status, Either RequestException s) -&gt; m ()
</span><a href="Test.Integration.Framework.DSL.html#expectField"><span class="hs-identifier hs-var">expectField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IsLabel
  &quot;state&quot;
  ((ApiT SyncProgress -&gt; f (ApiT SyncProgress))
   -&gt; ApiByronWallet -&gt; f ApiByronWallet)
(ApiT SyncProgress -&gt; f (ApiT SyncProgress))
-&gt; ApiByronWallet -&gt; f ApiByronWallet
</span><a href="#local-6989586621682942592"><span class="hs-var">#state</span></a></span><span> </span><span class="annot"><span class="annottext">((ApiT SyncProgress -&gt; f (ApiT SyncProgress))
 -&gt; ApiByronWallet -&gt; f ApiByronWallet)
-&gt; ((SyncProgress -&gt; f SyncProgress)
    -&gt; ApiT SyncProgress -&gt; f (ApiT SyncProgress))
-&gt; (SyncProgress -&gt; f SyncProgress)
-&gt; ApiByronWallet
-&gt; f ApiByronWallet
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;getApiT&quot;
  ((SyncProgress -&gt; f SyncProgress)
   -&gt; ApiT SyncProgress -&gt; f (ApiT SyncProgress))
(SyncProgress -&gt; f SyncProgress)
-&gt; ApiT SyncProgress -&gt; f (ApiT SyncProgress)
</span><a href="#local-6989586621682942591"><span class="hs-var">#getApiT</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SyncProgress -&gt; SyncProgress -&gt; IO ()
forall a. (HasCallStack, Show a, Eq a) =&gt; a -&gt; a -&gt; IO ()
</span><a href="../../../../hspec-expectations/html/src"><span class="hs-operator hs-var">`shouldBe`</span></a></span><span> </span><span class="annot"><span class="annottext">SyncProgress
</span><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier hs-var">Ready</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-108"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Traversal' ApiByronWallet EpochNo
-&gt; (EpochNo -&gt; IO ())
-&gt; (Status, Either RequestException ApiByronWallet)
-&gt; IO ()
forall (m :: * -&gt; *) a s.
(HasCallStack, MonadIO m, Show a) =&gt;
Traversal' s a
-&gt; (a -&gt; IO ()) -&gt; (Status, Either RequestException s) -&gt; m ()
</span><a href="Test.Integration.Framework.DSL.html#expectField"><span class="hs-identifier hs-var">expectField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IsLabel
  &quot;tip&quot;
  ((ApiBlockReference -&gt; f ApiBlockReference)
   -&gt; ApiByronWallet -&gt; f ApiByronWallet)
(ApiBlockReference -&gt; f ApiBlockReference)
-&gt; ApiByronWallet -&gt; f ApiByronWallet
</span><a href="#local-6989586621682942590"><span class="hs-var">#tip</span></a></span><span> </span><span class="annot"><span class="annottext">((ApiBlockReference -&gt; f ApiBlockReference)
 -&gt; ApiByronWallet -&gt; f ApiByronWallet)
-&gt; ((EpochNo -&gt; f EpochNo)
    -&gt; ApiBlockReference -&gt; f ApiBlockReference)
-&gt; (EpochNo -&gt; f EpochNo)
-&gt; ApiByronWallet
-&gt; f ApiByronWallet
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;slotId&quot;
  ((ApiSlotId -&gt; f ApiSlotId)
   -&gt; ApiBlockReference -&gt; f ApiBlockReference)
(ApiSlotId -&gt; f ApiSlotId)
-&gt; ApiBlockReference -&gt; f ApiBlockReference
</span><a href="#local-6989586621682942589"><span class="hs-var">#slotId</span></a></span><span> </span><span class="annot"><span class="annottext">((ApiSlotId -&gt; f ApiSlotId)
 -&gt; ApiBlockReference -&gt; f ApiBlockReference)
-&gt; ((EpochNo -&gt; f EpochNo) -&gt; ApiSlotId -&gt; f ApiSlotId)
-&gt; (EpochNo -&gt; f EpochNo)
-&gt; ApiBlockReference
-&gt; f ApiBlockReference
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;epochNumber&quot;
  ((ApiT EpochNo -&gt; f (ApiT EpochNo)) -&gt; ApiSlotId -&gt; f ApiSlotId)
(ApiT EpochNo -&gt; f (ApiT EpochNo)) -&gt; ApiSlotId -&gt; f ApiSlotId
</span><a href="#local-6989586621682942588"><span class="hs-var">#epochNumber</span></a></span><span> </span><span class="annot"><span class="annottext">((ApiT EpochNo -&gt; f (ApiT EpochNo)) -&gt; ApiSlotId -&gt; f ApiSlotId)
-&gt; ((EpochNo -&gt; f EpochNo) -&gt; ApiT EpochNo -&gt; f (ApiT EpochNo))
-&gt; (EpochNo -&gt; f EpochNo)
-&gt; ApiSlotId
-&gt; f ApiSlotId
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;getApiT&quot;
  ((EpochNo -&gt; f EpochNo) -&gt; ApiT EpochNo -&gt; f (ApiT EpochNo))
(EpochNo -&gt; f EpochNo) -&gt; ApiT EpochNo -&gt; f (ApiT EpochNo)
</span><a href="#local-6989586621682942587"><span class="hs-var">#getApiT</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpochNo -&gt; EpochNo -&gt; IO ()
forall a. (HasCallStack, Show a, Eq a) =&gt; a -&gt; a -&gt; IO ()
</span><a href="../../../../hspec-expectations/html/src"><span class="hs-operator hs-var">`shouldBe`</span></a></span><span> </span><span class="annot"><span class="annottext">EpochNo
</span><a href="#local-6989586621682942612"><span class="hs-identifier hs-var">epochNum</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-109"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Traversal' ApiByronWallet SlotInEpoch
-&gt; (SlotInEpoch -&gt; IO ())
-&gt; (Status, Either RequestException ApiByronWallet)
-&gt; IO ()
forall (m :: * -&gt; *) a s.
(HasCallStack, MonadIO m, Show a) =&gt;
Traversal' s a
-&gt; (a -&gt; IO ()) -&gt; (Status, Either RequestException s) -&gt; m ()
</span><a href="Test.Integration.Framework.DSL.html#expectField"><span class="hs-identifier hs-var">expectField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IsLabel
  &quot;tip&quot;
  ((ApiBlockReference -&gt; f ApiBlockReference)
   -&gt; ApiByronWallet -&gt; f ApiByronWallet)
(ApiBlockReference -&gt; f ApiBlockReference)
-&gt; ApiByronWallet -&gt; f ApiByronWallet
</span><a href="#local-6989586621682942586"><span class="hs-var">#tip</span></a></span><span> </span><span class="annot"><span class="annottext">((ApiBlockReference -&gt; f ApiBlockReference)
 -&gt; ApiByronWallet -&gt; f ApiByronWallet)
-&gt; ((SlotInEpoch -&gt; f SlotInEpoch)
    -&gt; ApiBlockReference -&gt; f ApiBlockReference)
-&gt; (SlotInEpoch -&gt; f SlotInEpoch)
-&gt; ApiByronWallet
-&gt; f ApiByronWallet
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;slotId&quot;
  ((ApiSlotId -&gt; f ApiSlotId)
   -&gt; ApiBlockReference -&gt; f ApiBlockReference)
(ApiSlotId -&gt; f ApiSlotId)
-&gt; ApiBlockReference -&gt; f ApiBlockReference
</span><a href="#local-6989586621682942585"><span class="hs-var">#slotId</span></a></span><span> </span><span class="annot"><span class="annottext">((ApiSlotId -&gt; f ApiSlotId)
 -&gt; ApiBlockReference -&gt; f ApiBlockReference)
-&gt; ((SlotInEpoch -&gt; f SlotInEpoch) -&gt; ApiSlotId -&gt; f ApiSlotId)
-&gt; (SlotInEpoch -&gt; f SlotInEpoch)
-&gt; ApiBlockReference
-&gt; f ApiBlockReference
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;slotNumber&quot;
  ((ApiT SlotInEpoch -&gt; f (ApiT SlotInEpoch))
   -&gt; ApiSlotId -&gt; f ApiSlotId)
(ApiT SlotInEpoch -&gt; f (ApiT SlotInEpoch))
-&gt; ApiSlotId -&gt; f ApiSlotId
</span><a href="#local-6989586621682942584"><span class="hs-var">#slotNumber</span></a></span><span>  </span><span class="annot"><span class="annottext">((ApiT SlotInEpoch -&gt; f (ApiT SlotInEpoch))
 -&gt; ApiSlotId -&gt; f ApiSlotId)
-&gt; ((SlotInEpoch -&gt; f SlotInEpoch)
    -&gt; ApiT SlotInEpoch -&gt; f (ApiT SlotInEpoch))
-&gt; (SlotInEpoch -&gt; f SlotInEpoch)
-&gt; ApiSlotId
-&gt; f ApiSlotId
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;getApiT&quot;
  ((SlotInEpoch -&gt; f SlotInEpoch)
   -&gt; ApiT SlotInEpoch -&gt; f (ApiT SlotInEpoch))
(SlotInEpoch -&gt; f SlotInEpoch)
-&gt; ApiT SlotInEpoch -&gt; f (ApiT SlotInEpoch)
</span><a href="#local-6989586621682942583"><span class="hs-var">#getApiT</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SlotInEpoch -&gt; SlotInEpoch -&gt; IO ()
forall a. (HasCallStack, Show a, Eq a) =&gt; a -&gt; a -&gt; IO ()
</span><a href="../../../../hspec-expectations/html/src"><span class="hs-operator hs-var">`shouldBe`</span></a></span><span> </span><span class="annot"><span class="annottext">SlotInEpoch
</span><a href="#local-6989586621682942607"><span class="hs-identifier hs-var">slotNum</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Traversal' ApiByronWallet (Quantity &quot;block&quot; Natural)
-&gt; (Quantity &quot;block&quot; Natural -&gt; IO ())
-&gt; (Status, Either RequestException ApiByronWallet)
-&gt; IO ()
forall (m :: * -&gt; *) a s.
(HasCallStack, MonadIO m, Show a) =&gt;
Traversal' s a
-&gt; (a -&gt; IO ()) -&gt; (Status, Either RequestException s) -&gt; m ()
</span><a href="Test.Integration.Framework.DSL.html#expectField"><span class="hs-identifier hs-var">expectField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IsLabel
  &quot;tip&quot;
  ((ApiBlockReference -&gt; f ApiBlockReference)
   -&gt; ApiByronWallet -&gt; f ApiByronWallet)
(ApiBlockReference -&gt; f ApiBlockReference)
-&gt; ApiByronWallet -&gt; f ApiByronWallet
</span><a href="#local-6989586621682942582"><span class="hs-var">#tip</span></a></span><span> </span><span class="annot"><span class="annottext">((ApiBlockReference -&gt; f ApiBlockReference)
 -&gt; ApiByronWallet -&gt; f ApiByronWallet)
-&gt; ((Quantity &quot;block&quot; Natural -&gt; f (Quantity &quot;block&quot; Natural))
    -&gt; ApiBlockReference -&gt; f ApiBlockReference)
-&gt; (Quantity &quot;block&quot; Natural -&gt; f (Quantity &quot;block&quot; Natural))
-&gt; ApiByronWallet
-&gt; f ApiByronWallet
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;block&quot;
  ((ApiBlockInfo -&gt; f ApiBlockInfo)
   -&gt; ApiBlockReference -&gt; f ApiBlockReference)
(ApiBlockInfo -&gt; f ApiBlockInfo)
-&gt; ApiBlockReference -&gt; f ApiBlockReference
</span><a href="#local-6989586621682942581"><span class="hs-var">#block</span></a></span><span> </span><span class="annot"><span class="annottext">((ApiBlockInfo -&gt; f ApiBlockInfo)
 -&gt; ApiBlockReference -&gt; f ApiBlockReference)
-&gt; ((Quantity &quot;block&quot; Natural -&gt; f (Quantity &quot;block&quot; Natural))
    -&gt; ApiBlockInfo -&gt; f ApiBlockInfo)
-&gt; (Quantity &quot;block&quot; Natural -&gt; f (Quantity &quot;block&quot; Natural))
-&gt; ApiBlockReference
-&gt; f ApiBlockReference
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;height&quot;
  ((Quantity &quot;block&quot; Natural -&gt; f (Quantity &quot;block&quot; Natural))
   -&gt; ApiBlockInfo -&gt; f ApiBlockInfo)
(Quantity &quot;block&quot; Natural -&gt; f (Quantity &quot;block&quot; Natural))
-&gt; ApiBlockInfo -&gt; f ApiBlockInfo
</span><a href="#local-6989586621682942580"><span class="hs-var">#height</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Quantity &quot;block&quot; Natural -&gt; Quantity &quot;block&quot; Natural -&gt; IO ()
forall a. (HasCallStack, Show a, Eq a) =&gt; a -&gt; a -&gt; IO ()
</span><a href="../../../../hspec-expectations/html/src"><span class="hs-operator hs-var">`shouldBe`</span></a></span><span> </span><span class="annot"><span class="annottext">Quantity &quot;block&quot; Natural
</span><a href="#local-6989586621682942602"><span class="hs-identifier hs-var">blockHeight</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-111"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Traversal' ApiByronWallet (ApiT SlotNo)
-&gt; (ApiT SlotNo -&gt; IO ())
-&gt; (Status, Either RequestException ApiByronWallet)
-&gt; IO ()
forall (m :: * -&gt; *) a s.
(HasCallStack, MonadIO m, Show a) =&gt;
Traversal' s a
-&gt; (a -&gt; IO ()) -&gt; (Status, Either RequestException s) -&gt; m ()
</span><a href="Test.Integration.Framework.DSL.html#expectField"><span class="hs-identifier hs-var">expectField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IsLabel
  &quot;tip&quot;
  ((ApiBlockReference -&gt; f ApiBlockReference)
   -&gt; ApiByronWallet -&gt; f ApiByronWallet)
(ApiBlockReference -&gt; f ApiBlockReference)
-&gt; ApiByronWallet -&gt; f ApiByronWallet
</span><a href="#local-6989586621682942579"><span class="hs-var">#tip</span></a></span><span> </span><span class="annot"><span class="annottext">((ApiBlockReference -&gt; f ApiBlockReference)
 -&gt; ApiByronWallet -&gt; f ApiByronWallet)
-&gt; ((ApiT SlotNo -&gt; f (ApiT SlotNo))
    -&gt; ApiBlockReference -&gt; f ApiBlockReference)
-&gt; (ApiT SlotNo -&gt; f (ApiT SlotNo))
-&gt; ApiByronWallet
-&gt; f ApiByronWallet
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;absoluteSlotNumber&quot;
  ((ApiT SlotNo -&gt; f (ApiT SlotNo))
   -&gt; ApiBlockReference -&gt; f ApiBlockReference)
(ApiT SlotNo -&gt; f (ApiT SlotNo))
-&gt; ApiBlockReference -&gt; f ApiBlockReference
</span><a href="#local-6989586621682942578"><span class="hs-var">#absoluteSlotNumber</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ApiT SlotNo -&gt; ApiT SlotNo -&gt; IO ()
forall a. (HasCallStack, Show a, Eq a) =&gt; a -&gt; a -&gt; IO ()
</span><a href="../../../../hspec-expectations/html/src"><span class="hs-operator hs-var">`shouldBe`</span></a></span><span> </span><span class="annot"><span class="annottext">ApiT SlotNo
</span><a href="#local-6989586621682942598"><span class="hs-identifier hs-var">absSlot</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-112"></span><span>                    </span><span class="hs-special">]</span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; ActionWith Context -&gt; SpecWith Context
forall ctx.
HasCallStack =&gt;
String -&gt; ActionWith ctx -&gt; SpecWith ctx
</span><a href="../../../../cardano-wallet-test-utils/html/src"><span class="hs-identifier hs-var">it</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;NETWORK_CLOCK - Can query network clock&quot;</span></span><span> </span><span class="annot"><span class="annottext">(ActionWith Context -&gt; SpecWith Context)
-&gt; ActionWith Context -&gt; SpecWith Context
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682942577"><span class="annot"><span class="annottext">Context
</span><a href="#local-6989586621682942577"><span class="hs-identifier hs-var">ctx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-115"></span><span>        </span><span id="local-6989586621682942576"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682942576"><span class="hs-identifier hs-var">sandboxed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO Bool
</span><a href="../../../../cardano-wallet-test-utils/html/src"><span class="hs-identifier hs-var">inNixBuild</span></a></span><span>
</span><span id="line-116"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; IO () -&gt; IO ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682942576"><span class="hs-identifier hs-var">sandboxed</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-117"></span><span>            </span><span class="annot"><span class="annottext">HasCallStack =&gt; String -&gt; IO ()
String -&gt; IO ()
</span><a href="../../../../hspec-core/html/src"><span class="hs-identifier hs-var">pendingWith</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Internet NTP servers unavailable in build sandbox&quot;</span></span><span>
</span><span id="line-118"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; IO () -&gt; IO ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; String -&gt; IO a -&gt; m a
</span><a href="Test.Integration.Framework.DSL.html#eventually"><span class="hs-identifier hs-var">eventually</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ntp status = (un)available&quot;</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-119"></span><span>            </span><span id="local-6989586621682942575"><span class="annot"><span class="annottext">(Status, Either RequestException ApiNetworkClock)
</span><a href="#local-6989586621682942575"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Context
-&gt; (Method, Text)
-&gt; Headers
-&gt; Payload
-&gt; IO (Status, Either RequestException ApiNetworkClock)
forall a (m :: * -&gt; *) s.
(FromJSON a, MonadIO m, MonadUnliftIO m,
 HasType (URI, Manager) s) =&gt;
s
-&gt; (Method, Text)
-&gt; Headers
-&gt; Payload
-&gt; m (Status, Either RequestException a)
</span><a href="Test.Integration.Framework.Request.html#request"><span class="hs-identifier hs-var">request</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier hs-type">ApiNetworkClock</span></a></span><span> </span><span class="annot"><span class="annottext">Context
</span><a href="#local-6989586621682942577"><span class="hs-identifier hs-var">ctx</span></a></span><span>
</span><span id="line-120"></span><span>                </span><span class="annot"><span class="annottext">(Method, Text)
</span><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier hs-var">Link.getNetworkClock</span></a></span><span> </span><span class="annot"><span class="annottext">Headers
</span><a href="Test.Integration.Framework.Request.html#Default"><span class="hs-identifier hs-var">Default</span></a></span><span> </span><span class="annot"><span class="annottext">Payload
</span><a href="Test.Integration.Framework.Request.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span>
</span><span id="line-121"></span><span>            </span><span class="annot"><span class="annottext">Status
-&gt; (Status, Either RequestException ApiNetworkClock) -&gt; IO ()
forall (m :: * -&gt; *) a.
(HasCallStack, MonadUnliftIO m, Show a) =&gt;
Status -&gt; (Status, a) -&gt; m ()
</span><a href="Test.Integration.Framework.DSL.html#expectResponseCode"><span class="hs-identifier hs-var">expectResponseCode</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><span class="annottext">Status
</span><a href="../../../../http-types/html/src"><span class="hs-identifier hs-var">HTTP.status200</span></a></span><span> </span><span class="annot"><span class="annottext">(Status, Either RequestException ApiNetworkClock)
</span><a href="#local-6989586621682942575"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-122"></span><span>            </span><span class="annot"><span class="annottext">Traversal' ApiNetworkClock NtpSyncingStatus
-&gt; (NtpSyncingStatus -&gt; IO ())
-&gt; (Status, Either RequestException ApiNetworkClock)
-&gt; IO ()
forall (m :: * -&gt; *) a s.
(HasCallStack, MonadIO m, Show a) =&gt;
Traversal' s a
-&gt; (a -&gt; IO ()) -&gt; (Status, Either RequestException s) -&gt; m ()
</span><a href="Test.Integration.Framework.DSL.html#expectField"><span class="hs-identifier hs-var">expectField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IsLabel
  &quot;ntpStatus&quot;
  ((ApiNtpStatus -&gt; f ApiNtpStatus)
   -&gt; ApiNetworkClock -&gt; f ApiNetworkClock)
(ApiNtpStatus -&gt; f ApiNtpStatus)
-&gt; ApiNetworkClock -&gt; f ApiNetworkClock
</span><a href="#local-6989586621682942573"><span class="hs-var">#ntpStatus</span></a></span><span> </span><span class="annot"><span class="annottext">((ApiNtpStatus -&gt; f ApiNtpStatus)
 -&gt; ApiNetworkClock -&gt; f ApiNetworkClock)
-&gt; ((NtpSyncingStatus -&gt; f NtpSyncingStatus)
    -&gt; ApiNtpStatus -&gt; f ApiNtpStatus)
-&gt; (NtpSyncingStatus -&gt; f NtpSyncingStatus)
-&gt; ApiNetworkClock
-&gt; f ApiNetworkClock
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;status&quot;
  ((NtpSyncingStatus -&gt; f NtpSyncingStatus)
   -&gt; ApiNtpStatus -&gt; f ApiNtpStatus)
(NtpSyncingStatus -&gt; f NtpSyncingStatus)
-&gt; ApiNtpStatus -&gt; f ApiNtpStatus
</span><a href="#local-6989586621682942572"><span class="hs-var">#status</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-123"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NtpSyncingStatus -&gt; NtpSyncingStatus -&gt; IO ()
forall a. (HasCallStack, Show a, Eq a) =&gt; a -&gt; a -&gt; IO ()
</span><a href="../../../../hspec-expectations/html/src"><span class="hs-operator hs-var">`shouldBe`</span></a></span><span> </span><span class="annot"><span class="annottext">NtpSyncingStatus
</span><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier hs-var">NtpSyncingStatusAvailable</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Status, Either RequestException ApiNetworkClock)
</span><a href="#local-6989586621682942575"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; ActionWith Context -&gt; SpecWith Context
forall ctx.
HasCallStack =&gt;
String -&gt; ActionWith ctx -&gt; SpecWith ctx
</span><a href="../../../../cardano-wallet-test-utils/html/src"><span class="hs-identifier hs-var">it</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;NETWORK_CLOCK - Can query network clock and force NTP check&quot;</span></span><span> </span><span class="annot"><span class="annottext">(ActionWith Context -&gt; SpecWith Context)
-&gt; ActionWith Context -&gt; SpecWith Context
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682942570"><span class="annot"><span class="annottext">Context
</span><a href="#local-6989586621682942570"><span class="hs-identifier hs-var">ctx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-126"></span><span>        </span><span id="local-6989586621682942569"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682942569"><span class="hs-identifier hs-var">sandboxed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO Bool
</span><a href="../../../../cardano-wallet-test-utils/html/src"><span class="hs-identifier hs-var">inNixBuild</span></a></span><span>
</span><span id="line-127"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; IO () -&gt; IO ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-identifier hs-var">when</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682942569"><span class="hs-identifier hs-var">sandboxed</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-128"></span><span>            </span><span class="annot"><span class="annottext">HasCallStack =&gt; String -&gt; IO ()
String -&gt; IO ()
</span><a href="../../../../hspec-core/html/src"><span class="hs-identifier hs-var">pendingWith</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Internet NTP servers unavailable in build sandbox&quot;</span></span><span>
</span><span id="line-129"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; IO () -&gt; IO ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; String -&gt; IO a -&gt; m a
</span><a href="Test.Integration.Framework.DSL.html#eventually"><span class="hs-identifier hs-var">eventually</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ntp status = (un)available&quot;</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-130"></span><span>            </span><span id="local-6989586621682942568"><span class="annot"><span class="annottext">(Status, Either RequestException ApiNetworkClock)
</span><a href="#local-6989586621682942568"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Context
-&gt; (Method, Text)
-&gt; Headers
-&gt; Payload
-&gt; IO (Status, Either RequestException ApiNetworkClock)
forall a (m :: * -&gt; *) s.
(FromJSON a, MonadIO m, MonadUnliftIO m,
 HasType (URI, Manager) s) =&gt;
s
-&gt; (Method, Text)
-&gt; Headers
-&gt; Payload
-&gt; m (Status, Either RequestException a)
</span><a href="Test.Integration.Framework.Request.html#request"><span class="hs-identifier hs-var">request</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier hs-type">ApiNetworkClock</span></a></span><span> </span><span class="annot"><span class="annottext">Context
</span><a href="#local-6989586621682942570"><span class="hs-identifier hs-var">ctx</span></a></span><span>
</span><span id="line-131"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; (Method, Text)
</span><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier hs-var">Link.getNetworkClock'</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-var">True</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Headers
</span><a href="Test.Integration.Framework.Request.html#Default"><span class="hs-identifier hs-var">Default</span></a></span><span> </span><span class="annot"><span class="annottext">Payload
</span><a href="Test.Integration.Framework.Request.html#Empty"><span class="hs-identifier hs-var">Empty</span></a></span><span>
</span><span id="line-132"></span><span>            </span><span class="annot"><span class="annottext">Status
-&gt; (Status, Either RequestException ApiNetworkClock) -&gt; IO ()
forall (m :: * -&gt; *) a.
(HasCallStack, MonadUnliftIO m, Show a) =&gt;
Status -&gt; (Status, a) -&gt; m ()
</span><a href="Test.Integration.Framework.DSL.html#expectResponseCode"><span class="hs-identifier hs-var">expectResponseCode</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="../../../../ghc/html/libraries/ghc-prim-0.6.1/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><span class="annottext">Status
</span><a href="../../../../http-types/html/src"><span class="hs-identifier hs-var">HTTP.status200</span></a></span><span> </span><span class="annot"><span class="annottext">(Status, Either RequestException ApiNetworkClock)
</span><a href="#local-6989586621682942568"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-133"></span><span>            </span><span class="annot"><span class="annottext">Traversal' ApiNetworkClock NtpSyncingStatus
-&gt; (NtpSyncingStatus -&gt; IO ())
-&gt; (Status, Either RequestException ApiNetworkClock)
-&gt; IO ()
forall (m :: * -&gt; *) a s.
(HasCallStack, MonadIO m, Show a) =&gt;
Traversal' s a
-&gt; (a -&gt; IO ()) -&gt; (Status, Either RequestException s) -&gt; m ()
</span><a href="Test.Integration.Framework.DSL.html#expectField"><span class="hs-identifier hs-var">expectField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IsLabel
  &quot;ntpStatus&quot;
  ((ApiNtpStatus -&gt; f ApiNtpStatus)
   -&gt; ApiNetworkClock -&gt; f ApiNetworkClock)
(ApiNtpStatus -&gt; f ApiNtpStatus)
-&gt; ApiNetworkClock -&gt; f ApiNetworkClock
</span><a href="#local-6989586621682942566"><span class="hs-var">#ntpStatus</span></a></span><span> </span><span class="annot"><span class="annottext">((ApiNtpStatus -&gt; f ApiNtpStatus)
 -&gt; ApiNetworkClock -&gt; f ApiNetworkClock)
-&gt; ((NtpSyncingStatus -&gt; f NtpSyncingStatus)
    -&gt; ApiNtpStatus -&gt; f ApiNtpStatus)
-&gt; (NtpSyncingStatus -&gt; f NtpSyncingStatus)
-&gt; ApiNetworkClock
-&gt; f ApiNetworkClock
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../../ghc/html/libraries/base-4.14.3.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IsLabel
  &quot;status&quot;
  ((NtpSyncingStatus -&gt; f NtpSyncingStatus)
   -&gt; ApiNtpStatus -&gt; f ApiNtpStatus)
(NtpSyncingStatus -&gt; f NtpSyncingStatus)
-&gt; ApiNtpStatus -&gt; f ApiNtpStatus
</span><a href="#local-6989586621682942565"><span class="hs-var">#status</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-134"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NtpSyncingStatus -&gt; NtpSyncingStatus -&gt; IO ()
forall a. (HasCallStack, Show a, Eq a) =&gt; a -&gt; a -&gt; IO ()
</span><a href="../../../../hspec-expectations/html/src"><span class="hs-operator hs-var">`shouldBe`</span></a></span><span> </span><span class="annot"><span class="annottext">NtpSyncingStatus
</span><a href="../../../../cardano-wallet-core/html/src"><span class="hs-identifier hs-var">NtpSyncingStatusAvailable</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Status, Either RequestException ApiNetworkClock)
</span><a href="#local-6989586621682942568"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-135"></span></pre></body></html>